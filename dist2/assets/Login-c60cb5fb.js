import{_ as g,u as w,r as l,e as x,k,g as e,q as d,v as u,h as p,s as _,m as h,p as y,l as B}from"./index-dbaeffc6.js";import{u as I}from"./User-2fbf8bcf.js";import{a as L}from"./axios-47b9d439.js";const U=async(s,c)=>await L({method:"post",url:"/api/hello/login",data:{username:s,password:c},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(({data:n})=>n);const m=s=>(y("data-v-5f4f3b0f"),s=s(),B(),s),b={style:{width:"100%"}},S={class:"container"},C={class:"content"},R={class:"drop"},T={class:"contentBox"},V=m(()=>e("h1",null,"登陆",-1)),q={class:"inputBox"},A={class:"inputBox"},D=m(()=>e("span",null,"注册",-1)),E=[D],M={__name:"Login",setup(s){const c=w(),n=I();let a=l(""),i=l("");const f=async()=>{const o=await U(a.value,i.value).then(t=>t);return o?(n.changeUser(o.username),n.changeToken(o.token),n.changeAdmin(o.username=="admin"),window.sessionStorage.setItem("username",o.username),c.push({path:"/dashboard/home"}),h.success("登陆成功!",2),!0):(h.error("登陆失败",2),!1)},v=()=>{c.push("/reg")};return(o,t)=>(x(),k("div",b,[e("div",S,[e("div",C,[e("div",R,[e("div",T,[V,e("form",null,[e("div",q,[d(e("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=r=>_(a)?a.value=r:a=r)},null,512),[[u,p(a)]])]),e("div",A,[d(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=r=>_(i)?i.value=r:i=r)},null,512),[[u,p(i)]])]),e("div",{class:"inputBox"},[e("input",{type:"reset",value:"Login",onClick:f})])])])]),e("div",{class:"btns",onClick:v},E)])])]))}},z=g(M,[["__scopeId","data-v-5f4f3b0f"]]);export{z as default};
