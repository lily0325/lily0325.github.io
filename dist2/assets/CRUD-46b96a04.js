import{a as k}from"./axios-47b9d439.js";import{c as l,A as D,d as J,r as i,n as Q,b as c,e as p,k as m,w as u,h as f,P as W,i as _,j as g,f as V,g as w,t as I,F as X}from"./index-dbaeffc6.js";var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M894 462c30.9 0 43.8-39.7 18.7-58L530.8 126.2a31.81 31.81 0 00-37.6 0L111.3 404c-25.1 18.2-12.2 58 18.8 58H192v374h-72c-4.4 0-8 3.6-8 8v52c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-52c0-4.4-3.6-8-8-8h-72V462h62zM512 196.7l271.1 197.2H240.9L512 196.7zM264 462h117v374H264V462zm189 0h117v374H453V462zm307 374H642V462h118v374z"}}]},name:"bank",theme:"outlined"};const K=Z;function N(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),s.forEach(function(r){ee(t,r,a[r])})}return t}function ee(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var z=function(e,a){var s=N({},e,a.attrs);return l(D,N({},s,{icon:K}),null)};z.displayName="BankOutlined";z.inheritAttrs=!1;const te=z;var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};const ne=ae;function U(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),s.forEach(function(r){le(t,r,a[r])})}return t}function le(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B=function(e,a){var s=U({},e,a.attrs);return l(D,U({},s,{icon:ne}),null)};B.displayName="SmileOutlined";B.inheritAttrs=!1;const oe=B,re=async()=>await k.get("/api/hello/find").then(({data:t})=>t),se=async(t,e)=>await k.get("/api/hello/add",{params:{username:t,password:e}}),ue=async t=>await k.get("/api/hello/del",{params:{id:t}}).then(({data:e})=>e),ie=async(t,e)=>await k.get("/api/hello/change",{params:{id:t,password:e}}).then(({data:a})=>a),ce={key:0},de={key:1},pe={key:2},ve={key:2},me=w("a",null,"删除",-1),fe=["onClick"],ye=J({__name:"CRUD",setup(t){const e=[{username:"username",dataIndex:"username",key:"username"},{title:"password",dataIndex:"password",key:"password"},{title:"Action",key:"action"}];let a=i(!0),s=Q([]);const r=i(!1),v=i(!1),C=i(""),x=i(""),S=i(""),y=i(""),P=i(0),H=()=>r.value=!0,M=d=>{v.value=!0,P.value=d.id,S.value=d.username,y.value=d.password},h=async()=>{s=await re().then(o=>o),a.value=!a.value};h();const E=async d=>{await ue(d),h()},F=async()=>{await se(C.value,x.value),r.value=!r.value,h()},L=async()=>{await ie(P.value,y.value),v.value=!v.value,h()};return(d,o)=>{const R=c("a-button"),A=c("a-tooltip"),T=c("a-popconfirm"),Y=c("a-divider"),q=c("a-table"),O=c("a-input"),j=c("a-space"),$=c("a-modal");return p(),m(X,null,[l(R,{type:"primary",onClick:o[0]||(o[0]=n=>H())},{default:u(()=>[l(f(W)),_("添加数据")]),_:1}),l(q,{columns:e,"data-source":f(a).value?null:f(s)},{headerCell:u(({column:n})=>[n.key==="username"?(p(),m("span",ce,[l(f(oe)),_(" 用户名 ")])):g("",!0),n.key==="password"?(p(),m("span",de,[l(f(te)),_(" 用户密码 ")])):g("",!0),n.key==="action"?(p(),m("span",pe," 操作 ")):g("",!0)]),bodyCell:u(({column:n,record:b})=>[n.key==="username"?(p(),V(A,{key:0},{title:u(()=>[_("用户名")]),default:u(()=>[w("a",null,I(b.username),1)]),_:2},1024)):g("",!0),n.key==="password"?(p(),V(A,{key:1},{title:u(()=>[_("用户密码")]),default:u(()=>[w("a",null,I(b.password),1)]),_:2},1024)):n.key==="action"?(p(),m("span",ve,[l(T,{title:"确定要删除吗?","ok-text":"Yes","cancel-text":"No",onConfirm:G=>E(b.id)},{default:u(()=>[me]),_:2},1032,["onConfirm"]),l(Y,{type:"vertical"}),w("a",{onClick:G=>M(b)},"编辑",8,fe)])):g("",!0)]),_:1},8,["data-source"]),l($,{open:r.value,"onUpdate:open":o[3]||(o[3]=n=>r.value=n),title:"添加用户数据",onOk:F,style:{"text-align":"center"}},{default:u(()=>[l(j,{direction:"vertical",style:{"padding-top":"20px"}},{default:u(()=>[l(O,{value:C.value,"onUpdate:value":o[1]||(o[1]=n=>C.value=n),placeholder:"用户名",size:"large",style:{width:"400px"}},null,8,["value"]),l(O,{value:x.value,"onUpdate:value":o[2]||(o[2]=n=>x.value=n),placeholder:"用户密码",size:"large"},null,8,["value"])]),_:1})]),_:1},8,["open"]),l($,{open:v.value,"onUpdate:open":o[6]||(o[6]=n=>v.value=n),title:"编辑用户数据",onOk:L,style:{"text-align":"center"}},{default:u(()=>[l(j,{direction:"vertical",style:{"padding-top":"20px"}},{default:u(()=>[l(O,{value:S.value,"onUpdate:value":o[4]||(o[4]=n=>S.value=n),placeholder:"用户名",size:"large",style:{width:"400px"}},null,8,["value"]),l(O,{value:y.value,"onUpdate:value":o[5]||(o[5]=n=>y.value=n),placeholder:"用户密码",size:"large"},null,8,["value"])]),_:1})]),_:1},8,["open"])],64)}}});export{ye as default};
