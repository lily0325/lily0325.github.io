import{aK as J9,aL as ev,aM as tv,aN as rv,aO as ov,aP as nv,aQ as iv,aR as av,aS as sv,aT as uv,aU as pv,aV as cv,aW as lv,aX as dv,aY as yv,y as hv,aZ as fv,a_ as mv,a$ as _v,b0 as gv,b1 as vv,aF as vp,b2 as H,b3 as Et,c as s6,b4 as Ev,b5 as xv}from"./antd-DS5P5d4E.js";import{A as k1,E as ns,w as h2,x as va,h as ju,n as uy,k as Mm,d as Zh,y as wd,s as f2,z as Pv,B as Ah,C as fp,D as D3,F as bv,G as Kd,H as O3,I as Sh,J as Fv,K as Av,L as Sv,a as ci,q as _0,i as Oi,u as R1,v as C1,r as hp,j as Rd,p as Tv}from"./vec2-C_XATX6V.js";import{d as wv,o as Rv,j as Cv,a2 as Mv,a3 as Iv}from"./vue-CUuKurUo.js";import{_ as Nv}from"./index-BwT0Twmy.js";function Vf(){var e=new k1(16);return k1!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Dv(e,t,r,n,s,u,i,y,m,g,x,b,A,w,M,V){var k=new k1(16);return k[0]=e,k[1]=t,k[2]=r,k[3]=n,k[4]=s,k[5]=u,k[6]=i,k[7]=y,k[8]=m,k[9]=g,k[10]=x,k[11]=b,k[12]=A,k[13]=w,k[14]=M,k[15]=V,k}function u6(e,t){var r=t[0],n=t[1],s=t[2],u=t[3],i=t[4],y=t[5],m=t[6],g=t[7],x=t[8],b=t[9],A=t[10],w=t[11],M=t[12],V=t[13],k=t[14],Q=t[15],q=r*y-n*i,K=r*m-s*i,te=r*g-u*i,se=n*m-s*y,ke=n*g-u*y,Ee=s*g-u*m,je=x*V-b*M,mt=x*k-A*M,He=x*Q-w*M,Fe=b*k-A*V,Le=b*Q-w*V,ze=A*Q-w*k,st=q*ze-K*Le+te*Fe+se*He-ke*mt+Ee*je;return st?(st=1/st,e[0]=(y*ze-m*Le+g*Fe)*st,e[1]=(s*Le-n*ze-u*Fe)*st,e[2]=(V*Ee-k*ke+Q*se)*st,e[3]=(A*ke-b*Ee-w*se)*st,e[4]=(m*He-i*ze-g*mt)*st,e[5]=(r*ze-s*He+u*mt)*st,e[6]=(k*te-M*Ee-Q*K)*st,e[7]=(x*Ee-A*te+w*K)*st,e[8]=(i*Le-y*He+g*je)*st,e[9]=(n*He-r*Le-u*je)*st,e[10]=(M*ke-V*te+Q*q)*st,e[11]=(b*te-x*ke-w*q)*st,e[12]=(y*mt-i*Fe-m*je)*st,e[13]=(r*Fe-n*mt+s*je)*st,e[14]=(V*K-M*se-k*q)*st,e[15]=(x*se-b*K+A*q)*st,e):null}function M1(e,t,r){var n=t[0],s=t[1],u=t[2],i=t[3],y=t[4],m=t[5],g=t[6],x=t[7],b=t[8],A=t[9],w=t[10],M=t[11],V=t[12],k=t[13],Q=t[14],q=t[15],K=r[0],te=r[1],se=r[2],ke=r[3];return e[0]=K*n+te*y+se*b+ke*V,e[1]=K*s+te*m+se*A+ke*k,e[2]=K*u+te*g+se*w+ke*Q,e[3]=K*i+te*x+se*M+ke*q,K=r[4],te=r[5],se=r[6],ke=r[7],e[4]=K*n+te*y+se*b+ke*V,e[5]=K*s+te*m+se*A+ke*k,e[6]=K*u+te*g+se*w+ke*Q,e[7]=K*i+te*x+se*M+ke*q,K=r[8],te=r[9],se=r[10],ke=r[11],e[8]=K*n+te*y+se*b+ke*V,e[9]=K*s+te*m+se*A+ke*k,e[10]=K*u+te*g+se*w+ke*Q,e[11]=K*i+te*x+se*M+ke*q,K=r[12],te=r[13],se=r[14],ke=r[15],e[12]=K*n+te*y+se*b+ke*V,e[13]=K*s+te*m+se*A+ke*k,e[14]=K*u+te*g+se*w+ke*Q,e[15]=K*i+te*x+se*M+ke*q,e}function nf(e,t,r){var n=r[0],s=r[1],u=r[2],i,y,m,g,x,b,A,w,M,V,k,Q;return t===e?(e[12]=t[0]*n+t[4]*s+t[8]*u+t[12],e[13]=t[1]*n+t[5]*s+t[9]*u+t[13],e[14]=t[2]*n+t[6]*s+t[10]*u+t[14],e[15]=t[3]*n+t[7]*s+t[11]*u+t[15]):(i=t[0],y=t[1],m=t[2],g=t[3],x=t[4],b=t[5],A=t[6],w=t[7],M=t[8],V=t[9],k=t[10],Q=t[11],e[0]=i,e[1]=y,e[2]=m,e[3]=g,e[4]=x,e[5]=b,e[6]=A,e[7]=w,e[8]=M,e[9]=V,e[10]=k,e[11]=Q,e[12]=i*n+x*s+M*u+t[12],e[13]=y*n+b*s+V*u+t[13],e[14]=m*n+A*s+k*u+t[14],e[15]=g*n+w*s+Q*u+t[15]),e}function af(e,t,r){var n=r[0],s=r[1],u=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*u,e[9]=t[9]*u,e[10]=t[10]*u,e[11]=t[11]*u,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function p6(e,t,r){var n=Math.sin(r),s=Math.cos(r),u=t[4],i=t[5],y=t[6],m=t[7],g=t[8],x=t[9],b=t[10],A=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=u*s+g*n,e[5]=i*s+x*n,e[6]=y*s+b*n,e[7]=m*s+A*n,e[8]=g*s-u*n,e[9]=x*s-i*n,e[10]=b*s-y*n,e[11]=A*s-m*n,e}function zg(e,t,r){var n=Math.sin(r),s=Math.cos(r),u=t[0],i=t[1],y=t[2],m=t[3],g=t[8],x=t[9],b=t[10],A=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=u*s-g*n,e[1]=i*s-x*n,e[2]=y*s-b*n,e[3]=m*s-A*n,e[8]=u*n+g*s,e[9]=i*n+x*s,e[10]=y*n+b*s,e[11]=m*n+A*s,e}function Vg(e,t,r){var n=Math.sin(r),s=Math.cos(r),u=t[0],i=t[1],y=t[2],m=t[3],g=t[4],x=t[5],b=t[6],A=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=u*s+g*n,e[1]=i*s+x*n,e[2]=y*s+b*n,e[3]=m*s+A*n,e[4]=g*s-u*n,e[5]=x*s-i*n,e[6]=b*s-y*n,e[7]=A*s-m*n,e}function Ov(e,t,r,n,s){var u=1/Math.tan(t/2),i;return e[0]=u/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(i=1/(n-s),e[10]=(s+n)*i,e[14]=2*s*n*i):(e[10]=-1,e[14]=-2*n),e}var Lv=Ov;function L3(e,t){var r=e[0],n=e[1],s=e[2],u=e[3],i=e[4],y=e[5],m=e[6],g=e[7],x=e[8],b=e[9],A=e[10],w=e[11],M=e[12],V=e[13],k=e[14],Q=e[15],q=t[0],K=t[1],te=t[2],se=t[3],ke=t[4],Ee=t[5],je=t[6],mt=t[7],He=t[8],Fe=t[9],Le=t[10],ze=t[11],st=t[12],Vt=t[13],nr=t[14],Fr=t[15];return Math.abs(r-q)<=ns*Math.max(1,Math.abs(r),Math.abs(q))&&Math.abs(n-K)<=ns*Math.max(1,Math.abs(n),Math.abs(K))&&Math.abs(s-te)<=ns*Math.max(1,Math.abs(s),Math.abs(te))&&Math.abs(u-se)<=ns*Math.max(1,Math.abs(u),Math.abs(se))&&Math.abs(i-ke)<=ns*Math.max(1,Math.abs(i),Math.abs(ke))&&Math.abs(y-Ee)<=ns*Math.max(1,Math.abs(y),Math.abs(Ee))&&Math.abs(m-je)<=ns*Math.max(1,Math.abs(m),Math.abs(je))&&Math.abs(g-mt)<=ns*Math.max(1,Math.abs(g),Math.abs(mt))&&Math.abs(x-He)<=ns*Math.max(1,Math.abs(x),Math.abs(He))&&Math.abs(b-Fe)<=ns*Math.max(1,Math.abs(b),Math.abs(Fe))&&Math.abs(A-Le)<=ns*Math.max(1,Math.abs(A),Math.abs(Le))&&Math.abs(w-ze)<=ns*Math.max(1,Math.abs(w),Math.abs(ze))&&Math.abs(M-st)<=ns*Math.max(1,Math.abs(M),Math.abs(st))&&Math.abs(V-Vt)<=ns*Math.max(1,Math.abs(V),Math.abs(Vt))&&Math.abs(k-nr)<=ns*Math.max(1,Math.abs(k),Math.abs(nr))&&Math.abs(Q-Fr)<=ns*Math.max(1,Math.abs(Q),Math.abs(Fr))}function Hg(){var e=new k1(4);return k1!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Bv(e,t,r,n){var s=new k1(4);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function Uv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function c6(e,t,r){var n=t[0],s=t[1],u=t[2],i=t[3];return e[0]=r[0]*n+r[4]*s+r[8]*u+r[12]*i,e[1]=r[1]*n+r[5]*s+r[9]*u+r[13]*i,e[2]=r[2]*n+r[6]*s+r[10]*u+r[14]*i,e[3]=r[3]*n+r[7]*s+r[11]*u+r[15]*i,e}(function(){var e=Hg();return function(t,r,n,s,u,i){var y,m;for(r||(r=4),n||(n=0),s?m=Math.min(s*r+n,t.length):m=t.length,y=n;y<m;y+=r)e[0]=t[y],e[1]=t[y+1],e[2]=t[y+2],e[3]=t[y+3],u(e,e,i),t[y]=e[0],t[y+1]=e[1],t[y+2]=e[2],t[y+3]=e[3];return t}})();var Gg={},jg={},B3=e=>jg[e],hu=(e,t)=>{jg[e]=t},kv=e=>Gg[e],Q1=(e,t)=>{Gg[e]=t},U3={},Im={},Nm=34,Cd=10,Dm=13;function Wg(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function zv(e,t){var r=Wg(e);return function(n,s){return t(r(n),s,e)}}function k3(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var s in n)s in t||r.push(t[s]=s)}),r}function Us(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Vv(e){return e<0?"-"+Us(-e,6):e>9999?"+"+Us(e,6):Us(e,4)}function Hv(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Vv(e.getUTCFullYear())+"-"+Us(e.getUTCMonth()+1,2)+"-"+Us(e.getUTCDate(),2)+(s?"T"+Us(t,2)+":"+Us(r,2)+":"+Us(n,2)+"."+Us(s,3)+"Z":n?"T"+Us(t,2)+":"+Us(r,2)+":"+Us(n,2)+"Z":r||t?"T"+Us(t,2)+":"+Us(r,2)+"Z":"")}function Gv(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(b,A){var w,M,V=s(b,function(k,Q){if(w)return w(k,Q-1);M=k,w=A?zv(k,A):Wg(k)});return V.columns=M||[],V}function s(b,A){var w=[],M=b.length,V=0,k=0,Q,q=M<=0,K=!1;b.charCodeAt(M-1)===Cd&&--M,b.charCodeAt(M-1)===Dm&&--M;function te(){if(q)return Im;if(K)return K=!1,U3;var ke,Ee=V,je;if(b.charCodeAt(Ee)===Nm){for(;V++<M&&b.charCodeAt(V)!==Nm||b.charCodeAt(++V)===Nm;);return(ke=V)>=M?q=!0:(je=b.charCodeAt(V++))===Cd?K=!0:je===Dm&&(K=!0,b.charCodeAt(V)===Cd&&++V),b.slice(Ee+1,ke-1).replace(/""/g,'"')}for(;V<M;){if((je=b.charCodeAt(ke=V++))===Cd)K=!0;else if(je===Dm)K=!0,b.charCodeAt(V)===Cd&&++V;else if(je!==r)continue;return b.slice(Ee,ke)}return q=!0,b.slice(Ee,M)}for(;(Q=te())!==Im;){for(var se=[];Q!==U3&&Q!==Im;)se.push(Q),Q=te();A&&(se=A(se,k++))==null||w.push(se)}return w}function u(b,A){return b.map(function(w){return A.map(function(M){return x(w[M])}).join(e)})}function i(b,A){return A==null&&(A=k3(b)),[A.map(x).join(e)].concat(u(b,A)).join(`
`)}function y(b,A){return A==null&&(A=k3(b)),u(b,A).join(`
`)}function m(b){return b.map(g).join(`
`)}function g(b){return b.map(x).join(e)}function x(b){return b==null?"":b instanceof Date?Hv(b):t.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:n,parseRows:s,format:i,formatBody:y,formatRows:m,formatRow:g,formatValue:x}}var jv=Gv(","),Wv=jv.parse;function fy(e,t,r){r===void 0&&(r={});var n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function l6(e,t,r){r===void 0&&(r={});for(var n=0,s=e;n<s.length;n++){var u=s[n];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<u[u.length-1].length;i++)if(u[u.length-1][i]!==u[0][i])throw new Error("First and last Position are not equivalent.")}var y={type:"Polygon",coordinates:e};return fy(y,t,r)}function Zv(e,t,r){if(r===void 0&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return fy(n,t,r)}function Xv(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Yv(e,t,r){r===void 0&&(r={});var n={type:"MultiPolygon",coordinates:e};return fy(n,t,r)}function Zg(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function z3(e){return e.type==="Feature"?e.geometry:e}function Xg(e,t,r){if(e!==null)for(var n,s,u,i,y,m,g,x=0,b=0,A,w=e.type,M=w==="FeatureCollection",V=w==="Feature",k=M?e.features.length:1,Q=0;Q<k;Q++){g=M?e.features[Q].geometry:V?e.geometry:e,A=g?g.type==="GeometryCollection":!1,y=A?g.geometries.length:1;for(var q=0;q<y;q++){var K=0,te=0;if(i=A?g.geometries[q]:g,i!==null){m=i.coordinates;var se=i.type;switch(x=0,se){case null:break;case"Point":if(t(m,b,Q,K,te)===!1)return!1;b++,K++;break;case"LineString":case"MultiPoint":for(n=0;n<m.length;n++){if(t(m[n],b,Q,K,te)===!1)return!1;b++,se==="MultiPoint"&&K++}se==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(n=0;n<m.length;n++){for(s=0;s<m[n].length-x;s++){if(t(m[n][s],b,Q,K,te)===!1)return!1;b++}se==="MultiLineString"&&K++,se==="Polygon"&&te++}se==="Polygon"&&K++;break;case"MultiPolygon":for(n=0;n<m.length;n++){for(te=0,s=0;s<m[n].length;s++){for(u=0;u<m[n][s].length-x;u++){if(t(m[n][s][u],b,Q,K,te)===!1)return!1;b++}te++}K++}break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(Xg(i.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $v(e,t){var r,n,s,u,i,y,m,g,x,b,A=0,w=e.type==="FeatureCollection",M=e.type==="Feature",V=w?e.features.length:1;for(r=0;r<V;r++){for(y=w?e.features[r].geometry:M?e.geometry:e,g=w?e.features[r].properties:M?e.properties:{},x=w?e.features[r].bbox:M?e.bbox:void 0,b=w?e.features[r].id:M?e.id:void 0,m=y?y.type==="GeometryCollection":!1,i=m?y.geometries.length:1,s=0;s<i;s++){if(u=m?y.geometries[s]:y,u===null){if(t(null,A,g,x,b)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,A,g,x,b)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<u.geometries.length;n++)if(t(u.geometries[n],A,g,x,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function Yg(e,t){$v(e,function(r,n,s,u,i){var y=r===null?null:r.type;switch(y){case null:case"Point":case"LineString":case"Polygon":return t(fy(r,s,{bbox:u,id:i}),n,0)===!1?!1:void 0}var m;switch(y){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var g=0;g<r.coordinates.length;g++){var x=r.coordinates[g],b={type:m,coordinates:x};if(t(fy(b,s),n,g)===!1)return!1}})}var Xh={REGISTERED_PROTOCOLS:{}},qv=Object.defineProperty,Kv=Object.defineProperties,Qv=Object.getOwnPropertyDescriptors,V3=Object.getOwnPropertySymbols,Jv=Object.prototype.hasOwnProperty,eE=Object.prototype.propertyIsEnumerable,H3=(e,t,r)=>t in e?qv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d6=(e,t)=>{for(var r in t||(t={}))Jv.call(t,r)&&H3(e,r,t[r]);if(V3)for(var r of V3(t))eE.call(t,r)&&H3(e,r,t[r]);return e},y6=(e,t)=>Kv(e,Qv(t)),h6=e=>Xh.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))],tE=class extends Error{constructor(e,t,r,n){super(`AJAXError: ${t} (${e}): ${r}`),this.status=e,this.statusText=t,this.url=r,this.body=n}};function $g(e,t){const r=new XMLHttpRequest,n=Array.isArray(e.url)?e.url[0]:e.url;r.open(e.method||"GET",n,!0),e.type==="arrayBuffer"&&(r.responseType="arraybuffer");for(const s in e.headers)e.headers.hasOwnProperty(s)&&r.setRequestHeader(s,e.headers[s]);return e.type==="json"&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials=e.credentials==="include",r.onerror=()=>{t(new Error(r.statusText))},r.onload=()=>{if((r.status>=200&&r.status<300||r.status===0)&&r.response!==null){let s=r.response;if(e.type==="json")try{s=JSON.parse(r.response)}catch(u){return t(u)}t(null,s,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"),r)}else{const s=new Blob([r.response],{type:r.getResponseHeader("Content-Type")});t(new tE(r.status,r.statusText,n.toString(),s))}},r.cancel=r.abort,r.send(e.body),r}function rE(e){return new Promise((t,r)=>{$g(e,(n,s,u,i,y)=>{n?r({err:n,data:null,xhr:y}):t({err:null,data:s,cacheControl:u,expires:i,xhr:y})})})}function f6(e,t){return $g(e,t)}var oE=(e,t)=>(h6(e.url)||f6)(y6(d6({},e),{type:"json"}),t),m6=(e,t)=>(h6(e.url)||f6)(y6(d6({},e),{type:"arrayBuffer"}),t),nE=(e,t)=>f6(y6(d6({},e),{method:"GET"}),t),G3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function qg(e,t){const r=new window.Image,n=window.URL||window.webkitURL;r.crossOrigin="anonymous",r.onload=()=>{t(null,r),n.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame(()=>{r.src=G3})},r.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const s=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?n.createObjectURL(s):G3}function Kg(e,t){const r=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(r).then(n=>{t(null,n)}).catch(n=>{t(new Error(`Could not load image because of ${n.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var m2=(e,t,r)=>{const n=(s,u)=>{if(s)t(s);else if(u){const i=typeof createImageBitmap=="function",y=r?r(u):u;i?Kg(y,t):qg(y,t)}};return e.type==="json"?oE(e,n):m6(e,n)},iE=(e,t)=>{typeof createImageBitmap=="function"?Kg(e,t):qg(e,t)};function _6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Oy(){}var _y=.7,sf=1/_y,I1="\\s*([+-]?\\d+)\\s*",gy="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aE=/^#([0-9a-f]{3,8})$/,sE=new RegExp("^rgb\\("+[I1,I1,I1]+"\\)$"),uE=new RegExp("^rgb\\("+[$p,$p,$p]+"\\)$"),pE=new RegExp("^rgba\\("+[I1,I1,I1,gy]+"\\)$"),cE=new RegExp("^rgba\\("+[$p,$p,$p,gy]+"\\)$"),lE=new RegExp("^hsl\\("+[gy,$p,$p]+"\\)$"),dE=new RegExp("^hsla\\("+[gy,$p,$p,gy]+"\\)$"),j3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_6(Oy,z1,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:W3,formatHex:W3,formatHsl:yE,formatRgb:Z3,toString:Z3});function W3(){return this.rgb().formatHex()}function yE(){return Jg(this).formatHsl()}function Z3(){return this.rgb().formatRgb()}function z1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?X3(t):r===3?new du(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Th(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Th(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sE.exec(e))?new du(t[1],t[2],t[3],1):(t=uE.exec(e))?new du(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pE.exec(e))?Th(t[1],t[2],t[3],t[4]):(t=cE.exec(e))?Th(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lE.exec(e))?q3(t[1],t[2]/100,t[3]/100,1):(t=dE.exec(e))?q3(t[1],t[2]/100,t[3]/100,t[4]):j3.hasOwnProperty(e)?X3(j3[e]):e==="transparent"?new du(NaN,NaN,NaN,0):null}function X3(e){return new du(e>>16&255,e>>8&255,e&255,1)}function Th(e,t,r,n){return n<=0&&(e=t=r=NaN),new du(e,t,r,n)}function hE(e){return e instanceof Oy||(e=z1(e)),e?(e=e.rgb(),new du(e.r,e.g,e.b,e.opacity)):new du}function uf(e,t,r,n){return arguments.length===1?hE(e):new du(e,t,r,n??1)}function du(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_6(du,uf,Qg(Oy,{brighter:function(e){return e=e==null?sf:Math.pow(sf,e),new du(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?_y:Math.pow(_y,e),new du(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y3,formatHex:Y3,formatRgb:$3,toString:$3}));function Y3(){return"#"+Om(this.r)+Om(this.g)+Om(this.b)}function $3(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Om(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function q3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yp(e,t,r,n)}function Jg(e){if(e instanceof Yp)return new Yp(e.h,e.s,e.l,e.opacity);if(e instanceof Oy||(e=z1(e)),!e)return new Yp;if(e instanceof Yp)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),u=Math.max(t,r,n),i=NaN,y=u-s,m=(u+s)/2;return y?(t===u?i=(r-n)/y+(r<n)*6:r===u?i=(n-t)/y+2:i=(t-r)/y+4,y/=m<.5?u+s:2-u-s,i*=60):y=m>0&&m<1?0:i,new Yp(i,y,m,e.opacity)}function fE(e,t,r,n){return arguments.length===1?Jg(e):new Yp(e,t,r,n??1)}function Yp(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_6(Yp,fE,Qg(Oy,{brighter:function(e){return e=e==null?sf:Math.pow(sf,e),new Yp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_y:Math.pow(_y,e),new Yp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new du(Lm(e>=240?e-240:e+120,s,n),Lm(e,s,n),Lm(e<120?e+240:e-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Lm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Dn(e){const t=z1(e),r=[0,0,0,0];return t!=null&&(r[0]=t.r/255,r[1]=t.g/255,r[2]=t.b/255,r[3]=t.opacity),r}function f0(e){const t=e&&e[0],r=e&&e[1],n=e&&e[2];return t+r*256+n*65536-1}function V1(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function e8(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;let n=null;const s=r.createLinearGradient(0,0,256,1),u=e.positions[0],i=e.positions[e.positions.length-1];for(let y=0;y<e.colors.length;++y){const m=(e.positions[y]-u)/(i-u);s.addColorStop(m,e.colors[y])}return r.fillStyle=s,r.fillRect(0,0,256,1),n=new Uint8ClampedArray(r.getImageData(0,0,256,1).data),t=null,r=null,{data:n,width:256,height:1}}function mE(e,t){let r=window.document.createElement("canvas"),n=r.getContext("2d");r.width=256,r.height=1;const s=n.createLinearGradient(0,0,256,1),u=t[1]-t[0];for(let m=0;m<e.colors.length;++m){const g=Math.max((e.positions[m]-t[0])/u,0);s.addColorStop(g,e.colors[m])}n.fillStyle=s,n.fillRect(0,0,256,1);const i=n.getImageData(0,0,256,1).data,y=g6(n,i);return r=null,n=null,y}function _E(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;const n=r.createImageData(256,1);return n.data.fill(0),e.positions.forEach((s,u)=>{const i=Dn(e.colors[u]);n.data[s*4+0]=i[0]*255,n.data[s*4+1]=i[1]*255,n.data[s*4+2]=i[2]*255,n.data[s*4+3]=i[3]*255}),t=null,r=null,n}function gE(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");r.globalAlpha=1,t.width=256,t.height=1;const n=256/e.colors.length;for(let i=0;i<e.colors.length;i++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[i],r.moveTo(i*n,0),r.lineTo((i+1)*n,0),r.stroke();const s=r.getImageData(0,0,256,1).data,u=g6(r,s);return t=null,r=null,u}function vE(e,t){let r=window.document.createElement("canvas"),n=r.getContext("2d");n.globalAlpha=1,r.width=256,r.height=1;const s=t[1]-t[0];e.positions.length-e.colors.length!==1&&console.warn("positions 的数字个数应当比 colors 的样式多一个,poisitions 的首尾值一般为数据的最大最新值");for(let y=0;y<e.colors.length;y++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[y],n.moveTo((e.positions[y]-t[0])/s*255,0),n.lineTo((e.positions[y+1]-t[0])/s*255,0),n.stroke();const u=n.getImageData(0,0,256,1).data,i=g6(n,u);return r=null,n=null,i}function g6(e,t){const r=e.createImageData(256,1);for(let n=0;n<r.data.length;n+=4)r.data[n+0]=t[n+0],r.data[n+1]=t[n+1],r.data[n+2]=t[n+2],r.data[n+3]=t[n+3];return r}function v6(e){switch(e==null?void 0:e.type){case"cat":return[0,255];default:return[0,1]}}var u0={BACK:1029,FRONT:1028};function Hf(e){switch(e){case"GAODE1.x":return u0.BACK;case"GAODE2.x":return u0.BACK;case"MAPBOX":return u0.FRONT;case"SIMPLE":return u0.FRONT;case"GLOBEL":return u0.BACK;case"DEBAULT":return u0.FRONT;default:return u0.FRONT}}var Wi={isNil:J9,merge:ev,throttle:tv,isString:rv,debounce:ov,pull:nv,isTypedArray:iv,isPlainObject:av,isNumber:sv,isBoolean:uv,isEqual:pv,cloneDeep:cv,uniq:lv,clamp:dv,upperFirst:yv,get:hv,mergeWith:fv,isFunction:mv,isObject:_v,isUndefined:gv,camelCase:vv};function EE(e){let t=e;return typeof e=="string"&&(t=window.document.getElementById(e)),t}function t8(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function r8(e){return t8(e).split(/\s+/)}function xE(e){var t;const r=(t=document==null?void 0:document.documentElement)==null?void 0:t.style;if(!r)return e[0];for(const n in e)if(e[n]&&e[n]in r)return e[n];return e[0]}function yu(e,t,r){const n=window.document.createElement(e);return t&&(n.className=t||""),r&&r.appendChild(n),n}function pf(e){const t=e.parentNode;t&&t.removeChild(e)}function py(e,t){if(e.classList!==void 0){const r=r8(t);for(let n=0,s=r.length;n<s;n++)e.classList.add(r[n])}else if(!PE(e,t)){const r=E6(e);o8(e,(r?r+" ":"")+t)}}function _2(e,t){e.classList!==void 0?r8(t).forEach(n=>{e.classList.remove(n)}):o8(e,t8((" "+E6(e)+" ").replace(" "+t+" "," ")))}function PE(e,t){if(e.classList!==void 0)return e.classList.contains(t);const r=E6(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}function o8(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function E6(e){return e instanceof SVGElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}xE(["transform","WebkitTransform"]);function bE(){var e;const t=window.document.querySelector('meta[name="viewport"]');if(!t)return 1;const n=((e=t.content)==null?void 0:e.split(",")).find(s=>{const[u]=s.split("=");return u==="initial-scale"});return n?n.split("=")[1]*1:1}var lu=bE()<1?1:window.devicePixelRatio;function FE(e,t){e.setAttribute("style",`${e.style.cssText}${t}`)}function AE(e){return Object.entries(e).map(([t,r])=>`${t}: ${r}`).join(";")}function SE(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height}}function n8(e){e.innerHTML=""}function TE(e){e.setAttribute("draggable","false")}function wE(e,t){var r;const n=Array.isArray(t)?t:[t];let s=e;for(;s instanceof Element&&s!==window.document.body;){if(n.find(u=>s==null?void 0:s.matches(u)))return s;s=(r=s==null?void 0:s.parentElement)!=null?r:null}}function RE(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}var g2=navigator==null?void 0:navigator.userAgent;g2.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);g2.indexOf("Android")>-1||g2.indexOf("Adr")>-1;function v2(e){var t=[1/0,1/0,-1/0,-1/0];return Xg(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}v2.default=v2;function Bm(e){return typeof e=="number"}var K3=2*Math.PI*6378137/2;function CE(e,t){const[r,n,s,u]=t;return e.lng>r&&e.lng<=s&&e.lat>n&&e.lat<=u}function ME(e){const t=[1/0,1/0,-1/0,-1/0];return e.forEach(r=>{const{coordinates:n}=r;i8(t,n)}),t}function i8(e,t){return Array.isArray(t[0])?t.forEach(r=>{i8(e,r)}):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function Um(e,t=!0,r={enable:!0,decimal:1}){e=DE(e,t);const n=e[0],s=e[1];let u=n*K3/180,i=Math.log(Math.tan((90+s)*Math.PI/360))/(Math.PI/180);return i=i*K3/180,r.enable&&(u=Number(u.toFixed(r.decimal)),i=Number(i.toFixed(r.decimal))),e.length===3?[u,i,e[2]]:[u,i]}function IE(e){if(e==null)throw new Error("lng is required");return(e>180||e<-180)&&(e=e%360,e>180&&(e=-360+e),e<-180&&(e=360+e),e===0&&(e=0)),e}function NE(e){if(e==null)throw new Error("lat is required");return(e>90||e<-90)&&(e=e%180,e>90&&(e=-180+e),e<-90&&(e=180+e),e===0&&(e=0)),e}function DE(e,t){if(t===!1)return e;const r=IE(e[0]);let n=NE(e[1]);return n>85&&(n=85),n<-85&&(n=-85),e.length===3?[r,n,e[2]]:[r,n]}function Vs(e){const t=85.0511287798,r=Math.max(Math.min(t,e[1]),-t),n=256<<20;let s=Math.PI/180,u=e[0]*s,i=r*s;i=Math.log(Math.tan(Math.PI/4+i/2));const y=.5/Math.PI,m=.5,g=-.5/Math.PI;return s=.5,u=n*(y*u+m),i=n*(g*i+s),[Math.floor(u),Math.floor(i)]}function x6(e,t){const r=Math.abs(e[1][1]-e[0][1])*t,n=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-n,e[0][1]-r],[e[1][0]+n,e[1][1]+r]]}function a8(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function cf(e){return[[e[0],e[1]],[e[2],e[3]]]}function OE(e){const t=LE(e,[0,0]);return[e[0]/t,e[1]/t]}function LE(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Fl(e){if(Bm(e[0]))return e;if(Bm(e[0][0]))throw new Error("当前数据不支持标注");if(Bm(e[0][0][0])){const t=e;let r=0,n=0,s=0;return t.forEach(u=>{u.forEach(i=>{r+=i[0],n+=i[1],s++})}),[r/s,n/s,0]}else throw new Error("当前数据不支持标注")}function BE(e){let t=e[0],r=e[1],n=e[0],s=e[1],u=0,i=0,y=0;for(let m=0;m<e.length;m+=2){const g=e[m],x=e[m+1];g&&x&&(t=Math.max(g,t),r=Math.max(x,r),n=Math.min(g,n),s=Math.min(x,s),u+=g,i+=x,y++)}return{center:[u/y,i/y],radius:Math.sqrt(Math.pow(t-n,2)+Math.pow(r-s,2))/2}}function UE(e){return v2(Xv([Zv(e)]))}function kE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}var zE=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(e=>{this.delete(e)}),this.cache={},this.order=[]}get(e){const t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}set(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}delete(e){const t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}deleteCache(e){delete this.cache[e]}deleteOrder(e){const t=this.order.findIndex(r=>r===e);t>=0&&this.order.splice(t,1)}appendOrder(e){this.order.push(e)}defaultDestroy(e,t){return null}};function VE(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t*1}function HE(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t*1}function s8(e){if(e.length===0)return 0;let t=e[0]*1;for(let r=1;r<e.length;r++)t+=e[r]*1;return t}function GE(e){if(e.length===0)throw new Error("mean requires at least one data point");return s8(e)/e.length}function jE(e){if(e.length===0)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();let t=e[0],r=NaN,n=0,s=1;for(let u=1;u<e.length+1;u++)e[u]!==t?(s>n&&(n=s,r=t),s=1,t=e[u]):s++;return r*1}var u8={min:HE,max:VE,mean:GE,sum:s8,mode:jE};function p8(e,t){return e.map(r=>r[t])}function WE(e,t){t===void 0&&(t={});var r=Number(e[0]),n=Number(e[1]),s=Number(e[2]),u=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var i=[r,n],y=[r,u],m=[s,u],g=[s,n];return l6([[i,g,m,y,i]],t.properties,{bbox:e,id:t.id})}var c8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(m,g,x){this.fn=m,this.context=g,this.once=x||!1}function u(m,g,x,b,A){if(typeof x!="function")throw new TypeError("The listener must be a function");var w=new s(x,b||m,A),M=r?r+g:g;return m._events[M]?m._events[M].fn?m._events[M]=[m._events[M],w]:m._events[M].push(w):(m._events[M]=w,m._eventsCount++),m}function i(m,g){--m._eventsCount===0?m._events=new n:delete m._events[g]}function y(){this._events=new n,this._eventsCount=0}y.prototype.eventNames=function(){var g=[],x,b;if(this._eventsCount===0)return g;for(b in x=this._events)t.call(x,b)&&g.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(x)):g},y.prototype.listeners=function(g){var x=r?r+g:g,b=this._events[x];if(!b)return[];if(b.fn)return[b.fn];for(var A=0,w=b.length,M=new Array(w);A<w;A++)M[A]=b[A].fn;return M},y.prototype.listenerCount=function(g){var x=r?r+g:g,b=this._events[x];return b?b.fn?1:b.length:0},y.prototype.emit=function(g,x,b,A,w,M){var V=r?r+g:g;if(!this._events[V])return!1;var k=this._events[V],Q=arguments.length,q,K;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),Q){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,x),!0;case 3:return k.fn.call(k.context,x,b),!0;case 4:return k.fn.call(k.context,x,b,A),!0;case 5:return k.fn.call(k.context,x,b,A,w),!0;case 6:return k.fn.call(k.context,x,b,A,w,M),!0}for(K=1,q=new Array(Q-1);K<Q;K++)q[K-1]=arguments[K];k.fn.apply(k.context,q)}else{var te=k.length,se;for(K=0;K<te;K++)switch(k[K].once&&this.removeListener(g,k[K].fn,void 0,!0),Q){case 1:k[K].fn.call(k[K].context);break;case 2:k[K].fn.call(k[K].context,x);break;case 3:k[K].fn.call(k[K].context,x,b);break;case 4:k[K].fn.call(k[K].context,x,b,A);break;default:if(!q)for(se=1,q=new Array(Q-1);se<Q;se++)q[se-1]=arguments[se];k[K].fn.apply(k[K].context,q)}}return!0},y.prototype.on=function(g,x,b){return u(this,g,x,b,!1)},y.prototype.once=function(g,x,b){return u(this,g,x,b,!0)},y.prototype.removeListener=function(g,x,b,A){var w=r?r+g:g;if(!this._events[w])return this;if(!x)return i(this,w),this;var M=this._events[w];if(M.fn)M.fn===x&&(!A||M.once)&&(!b||M.context===b)&&i(this,w);else{for(var V=0,k=[],Q=M.length;V<Q;V++)(M[V].fn!==x||A&&!M[V].once||b&&M[V].context!==b)&&k.push(M[V]);k.length?this._events[w]=k.length===1?k[0]:k:i(this,w)}return this},y.prototype.removeAllListeners=function(g){var x;return g?(x=r?r+g:g,this._events[x]&&i(this,x)):(this._events=new n,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=r,y.EventEmitter=y,e.exports=y})(c8);var fu=c8.exports;const P6=vp(fu);var cy=(e=>(e.Realtime="realtime",e.Overlap="overlap",e.Replace="replace",e))(cy||{}),Vu=(e=>(e.Loading="Loading",e.Loaded="Loaded",e.Failure="Failure",e.Cancelled="Cancelled",e))(Vu||{}),l8=0,Q3=1,Gf=2;function ZE(e){e.forEach(t=>{t.isCurrent&&(t.isVisible=t.isLoaded)})}function XE(e){e.forEach(t=>{t.properties.state=l8}),e.forEach(t=>{t.isCurrent&&!d8(t)&&b6(t)}),e.forEach(t=>{t.isVisible=!!(t.properties.state&Gf)})}function YE(e){e.forEach(r=>{r.properties.state=l8}),e.forEach(r=>{r.isCurrent&&d8(r)}),e.slice().sort((r,n)=>r.z-n.z).forEach(r=>{r.isVisible=!!(r.properties.state&Gf),r.children.length&&(r.isVisible||r.properties.state&Q3)?r.children.forEach(n=>{n.properties.state=Q3}):r.isCurrent&&b6(r)})}function d8(e){for(;e;){if(e.isLoaded)return e.properties.state|=Gf,!0;e=e.parent}return!1}function b6(e){e.children.forEach(t=>{t.isLoaded?t.properties.state|=Gf:b6(t)})}var y8=[-1/0,-1/0,1/0,1/0],$E=.2,qE=5,KE={[cy.Realtime]:ZE,[cy.Overlap]:XE,[cy.Replace]:YE},QE=()=>{};function E2(e,t,r){const n=Math.floor((e+180)/360*Math.pow(2,r)),s=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,r));return[n,s]}function J3(e,t,r){const n=e/Math.pow(2,r)*360-180,s=Math.PI-2*Math.PI*t/Math.pow(2,r),u=180/Math.PI*Math.atan(.5*(Math.exp(s)-Math.exp(-s)));return[n,u]}var h8=(e,t,r)=>{const[n,s]=J3(e,t,r),[u,i]=J3(e+1,t+1,r);return[n,i,u,s]};function JE({zoom:e,latLonBounds:t,maxZoom:r=1/0,minZoom:n=0,zoomOffset:s=0,extent:u=y8}){let i=Math.ceil(e)+s;if(Number.isFinite(n)&&i<n)return[];Number.isFinite(r)&&i>r&&(i=r);const[y,m,g,x]=t,b=[Math.max(y,u[0]),Math.max(m,u[1]),Math.min(g,u[2]),Math.min(x,u[3])],A=[],[w,M]=E2(b[0],b[1],i),[V,k]=E2(b[2],b[3],i);for(let te=w;te<=V;te++)for(let se=k;se<=M;se++)A.push({x:te,y:se,z:i});const Q=(V+w)/2,q=(M+k)/2,K=(te,se)=>Math.abs(te-Q)+Math.abs(se-q);return A.sort((te,se)=>K(te.x,te.y)-K(se.x,se.y)),A}var ex=(e,t,r,n=!0)=>{const s=Math.pow(2,r),u=s-1,i=s;let y=e;const m=t;return n&&(y<0?y=y+i:y>u&&(y=y%i)),{warpX:y,warpY:m}},tx=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),rx=class extends fu.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;const{x:t,y:r,z:n,tileSize:s,warp:u=!0}=e;this.x=t,this.y=r,this.z=n,this.warp=u||!0,this.tileSize=s}get isLoading(){return this.loadStatus===Vu.Loading}get isLoaded(){return this.loadStatus===Vu.Loaded}get isFailure(){return this.loadStatus===Vu.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===Vu.Cancelled}get isDone(){return[Vu.Loaded,Vu.Cancelled,Vu.Failure].includes(this.loadStatus)}get bounds(){return h8(this.x,this.y,this.z)}get bboxPolygon(){const[e,t,r,n]=this.bounds,s=[(r-e)/2,(n-t)/2];return WE(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:s,meta:`
      ${this.key}
      `}})}get key(){return`${this.x}_${this.y}_${this.z}`}layerLoad(){this.loadedLayers++,this.emit("layerLoaded")}loadData(e){return tx(this,arguments,function*({getData:t,onLoad:r,onError:n}){this.loadDataId++;const s=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=Vu.Loading;let u=null,i;try{const{x:y,y:m,z:g,bounds:x,tileSize:b,warp:A}=this,{warpX:w,warpY:M}=ex(y,m,g,A),{signal:V}=this.abortController;u=yield t({x:w,y:M,z:g,bounds:x,tileSize:b,signal:V,warp:A},this)}catch(y){i=y}if(s===this.loadDataId&&!(this.isCancelled&&!u)){if(i||!u){this.loadStatus=Vu.Failure,n(i,this);return}this.loadStatus=Vu.Loaded,this.data=u,r(this)}})}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=Vu.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},ox=(e,t)=>{const r=cf(e),n=x6(r,t),s=360*3-180,u=85.0511287798065;return[Math.max(n[0][0],-s),Math.max(n[0][1],-u),Math.min(n[1][0],s),Math.min(n[1][1],u)]},nx=(e,t)=>{const r=cf(e),n=cf(t);return a8(r,n)},ix=Object.defineProperty,ax=Object.defineProperties,sx=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,ux=Object.prototype.hasOwnProperty,px=Object.prototype.propertyIsEnumerable,t_=(e,t,r)=>t in e?ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r_=(e,t)=>{for(var r in t||(t={}))ux.call(t,r)&&t_(e,r,t[r]);if(e_)for(var r of e_(t))px.call(t,r)&&t_(e,r,t[r]);return e},cx=(e,t)=>ax(e,sx(t)),{throttle:lx}=Wi,dx=class extends P6{constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=lx((t,r)=>{this.update(t,r)},16),this.onTileLoad=t=>{this.emit("tile-loaded",t),this.updateTileVisible(),this.loadFinished()},this.onTileError=(t,r)=>{this.emit("tile-error",{error:t,tile:r}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=t=>{this.emit("tile-unload",t),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:y8,getTileData:QE,warp:!0,updateStrategy:cy.Replace},this.updateOptions(e)}get isLoaded(){return this.currentTiles.every(e=>e.isDone)}get tiles(){return Array.from(this.cacheTiles.values()).sort((t,r)=>t.z-r.z)}updateOptions(e){const t=e.minZoom===void 0?this.options.minZoom:Math.ceil(e.minZoom),r=e.maxZoom===void 0?this.options.maxZoom:Math.floor(e.maxZoom);this.options=cx(r_(r_({},this.options),e),{minZoom:t,maxZoom:r})}update(e,t){const r=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===r&&nx(this.lastViewStates.latLonBoundsBuffer,t))return;const n=ox(t,$E);this.lastViewStates={zoom:r,latLonBounds:t,latLonBoundsBuffer:n},this.currentZoom=r;let s=!1;const u=this.getTileIndices(r,n).filter(i=>this.options.warp||i.x>=0&&i.x<Math.pow(2,r));this.emit("tiles-load-start"),this.currentTiles=u.map(({x:i,y,z:m})=>{let g=this.getTile(i,y,m);return g?(((g==null?void 0:g.isFailure)||(g==null?void 0:g.isCancelled))&&g.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),g):(g=this.createTile(i,y,m),s=!0,g)}),s&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(const[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(e,t,r){const n=this.cacheTiles.get(`${t},${r},${e}`);n&&(this.onTileUnload(n),n.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(e,t,r){const n=this.getTileByLngLat(e,t,r);n&&this.reloadTileById(n.z,n.x,n.y)}reloadTileByExtent(e,t){this.getTileIndices(t,e).forEach(n=>{this.reloadTileById(n.z,n.x,n.y)})}pruneRequests(){const e=[];for(const t of this.cacheTiles.values())t.isLoading&&!t.isCurrent&&!t.isVisible&&e.push(t);for(;e.length>0;)e.shift().abortLoad()}getTileByLngLat(e,t,r){const{zoomOffset:n}=this.options,s=Math.ceil(r)+n,u=E2(e,t,s);return this.tiles.filter(y=>y.key===`${u[0]}_${u[1]}_${s}`)[0]}getTileExtent(e,t){return this.getTileIndices(t,e)}getTileByZXY(e,t,r){return this.tiles.filter(s=>s.key===`${t}_${r}_${e}`)[0]}clear(){for(const e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){const e=this.options.updateStrategy,t=new Map;for(const s of this.cacheTiles.values())t.set(s.key,s.isVisible),s.isCurrent=!1,s.isVisible=!1;for(const s of this.currentTiles)s.isCurrent=!0,s.isVisible=!0;const r=Array.from(this.cacheTiles.values());typeof e=="function"?e(r):KE[e](r);let n=!1;Array.from(this.cacheTiles.values()).forEach(s=>{s.isVisible!==t.get(s.key)?(s.isVisibleChange=!0,n=!0):s.isVisibleChange=!1}),n&&this.emit("tile-update")}getTileIndices(e,t){const{tileSize:r,extent:n,zoomOffset:s}=this.options,u=Math.floor(this.options.maxZoom),i=Math.ceil(this.options.minZoom);return JE({maxZoom:u,minZoom:i,zoomOffset:s,tileSize:r,zoom:e,latLonBounds:t,extent:n})}getTileId(e,t,r){return`${e},${t},${r}`}loadFinished(){const e=!this.currentTiles.some(t=>!t.isDone);return e&&this.emit("tiles-load-finished"),e}getTile(e,t,r){const n=this.getTileId(e,t,r);return this.cacheTiles.get(n)}createTile(e,t,r){const n=this.getTileId(e,t,r),s=new rx({x:e,y:t,z:r,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(n,s),s.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),s}resizeCacheTiles(){const e=qE*this.currentTiles.length;if(this.cacheTiles.size>e){for(const[r,n]of this.cacheTiles)if(!n.isVisible&&!this.currentTiles.includes(n)&&(this.cacheTiles.delete(r),this.onTileUnload(n)),this.cacheTiles.size<=e)break}this.rebuildTileTree()}rebuildTileTree(){for(const e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(const e of this.cacheTiles.values()){const t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,t!=null&&t.children&&t.children.push(e)}}getNearestAncestor(e,t,r){for(;r>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),r=r-1;const n=this.getTile(e,t,r);if(n)return n}return null}};function f8(e){const t=[];let r=/\{([a-z])-([a-z])\}/.exec(e);if(r){const n=r[1].charCodeAt(0),s=r[2].charCodeAt(0);let u;for(u=n;u<=s;++u)t.push(e.replace(r[0],String.fromCharCode(u)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e),r){const n=parseInt(r[2],10);for(let s=parseInt(r[1],10);s<=n;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}function N1(e,t){if(!e||!e.length)throw new Error("url is not allowed to be empty");const{x:r,y:n,z:s}=t,u=f8(e),i=Math.abs(r+n)%u.length;return(h6(u[i])?`${u[i]}/{z}/{x}/{y}`:u[i]).replace(/\{x\}/g,r.toString()).replace(/\{y\}/g,n.toString()).replace(/\{z\}/g,s.toString()).replace(/\{bbox\}/g,h8(r,n,s).join(",")).replace(/\{-y\}/g,(Math.pow(2,s)-n-1).toString())}function yx(e,t){const{x:r,y:n,z:s,layer:u,version:i="1.0.0",style:y="default",format:m,service:g="WMTS",tileMatrixset:x}=t,b=f8(e),A=Math.abs(r+n)%b.length;return`${b[A]}&SERVICE=${g}&REQUEST=GetTile&VERSION=${i}&LAYER=${u}&STYLE=${y}&TILEMATRIXSET=${x}&FORMAT=${m}&TILECOL=${r}&TILEROW=${n}&TILEMATRIX=${s}`}function Md(e,t){return e??t}var hx=Yh;function Yh(e,t){var r=e&&e.type,n;if(r==="FeatureCollection")for(n=0;n<e.features.length;n++)Yh(e.features[n],t);else if(r==="GeometryCollection")for(n=0;n<e.geometries.length;n++)Yh(e.geometries[n],t);else if(r==="Feature")Yh(e.geometry,t);else if(r==="Polygon")o_(e.coordinates,t);else if(r==="MultiPolygon")for(n=0;n<e.coordinates.length;n++)o_(e.coordinates[n],t);return e}function o_(e,t){if(e.length!==0){n_(e[0],t);for(var r=1;r<e.length;r++)n_(e[r],!t)}}function n_(e,t){for(var r=0,n=0,s=0,u=e.length,i=u-1;s<u;i=s++){var y=(e[s][0]-e[i][0])*(e[i][1]+e[s][1]),m=r+y;n+=Math.abs(r)>=Math.abs(y)?r-m+y:y-m+r,r=m}r+n>=0!=!!t&&e.reverse()}const fx=vp(hx);function mx(e,t){return e.map(r=>r[t]*1)}function m8(e){return Array.isArray(e)?e.length===0||typeof e[0]=="number":!1}function x2(e){const t=Object.isFrozen(e)?Wi.cloneDeep(e):e;return fx(t,!0),t}function Ly(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}var _x=Object.defineProperty,gx=Object.defineProperties,vx=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,Ex=Object.prototype.hasOwnProperty,xx=Object.prototype.propertyIsEnumerable,a_=(e,t,r)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s_=(e,t)=>{for(var r in t||(t={}))Ex.call(t,r)&&a_(e,r,t[r]);if(i_)for(var r of i_(t))xx.call(t,r)&&a_(e,r,t[r]);return e},u_=(e,t)=>gx(e,vx(t));function _8(e,t){const{x:r,y:n,x1:s,y1:u,coordinates:i,geometry:y}=t,m=[];if(!Array.isArray(e))return{dataArray:[]};if(y)return e.filter(g=>g[y]&&g[y].type&&g[y].coordinates&&g[y].coordinates.length>0).forEach((g,x)=>{const b=x2(g[y]);Yg(b,A=>{const w=Zg(A),M=u_(s_({},g),{_id:x,coordinates:w});m.push(M)})}),{dataArray:m};for(let g=0;g<e.length;g++){const x=e[g];let b=[];if(i){let w="Polygon";Array.isArray(i[0])||(w="Point"),Array.isArray(i[0])&&!Array.isArray(i[0][0])&&(w="LineString"),b=x2({type:w,coordinates:x[i]}).coordinates}else if(r&&n&&s&&u){const w=[parseFloat(x[r]),parseFloat(x[n])],M=[parseFloat(x[s]),parseFloat(x[u])];b=[w,M]}else r&&n&&(b=[parseFloat(x[r]),parseFloat(x[n])]);const A=u_(s_({},x),{_id:g,coordinates:b});m.push(A)}return{dataArray:m}}function Px(e,t){const r=Wv(e);return _8(r,t)}var bx=Object.defineProperty,Fx=Object.defineProperties,Ax=Object.getOwnPropertyDescriptors,p_=Object.getOwnPropertySymbols,Sx=Object.prototype.hasOwnProperty,Tx=Object.prototype.propertyIsEnumerable,c_=(e,t,r)=>t in e?bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rx=(e,t)=>{for(var r in t||(t={}))Sx.call(t,r)&&c_(e,r,t[r]);if(p_)for(var r of p_(t))Tx.call(t,r)&&c_(e,r,t[r]);return e},Cx=(e,t)=>Fx(e,Ax(t));function Mx(e){const t=e.toString();let r=5381,n=t.length;for(;n;)r=r*33^t.charCodeAt(--n);return r>>>0}function Ix(e,t){return t===void 0?null:typeof(e.properties[t]*1)=="number"?e.properties[t]*1:e.properties&&e.properties[t]?Mx(e.properties[t]+"")%1000019:null}function Nx(e,t){const r=[],n={};return e.features?(e.features=e.features.filter(s=>{const u=s.geometry;return s!=null&&u&&u.type&&u.coordinates&&u.coordinates.length>0}),e=x2(e),e.features.length===0?{dataArray:[],featureKeys:n}:(Yg(e,(s,u)=>{let i=Ix(s,t==null?void 0:t.featureId);i===null&&(i=u);const y=i,m=Zg(s),g=Cx(Rx({},s.properties),{coordinates:m,_id:y});r.push(g)}),{dataArray:r,featureKeys:n})):(e.features=[],{dataArray:[]})}function P2(e,t,r,n){for(var s=n,u=r-t>>1,i=r-t,y,m=e[t],g=e[t+1],x=e[r],b=e[r+1],A=t+3;A<r;A+=3){var w=Dx(e[A],e[A+1],m,g,x,b);if(w>s)y=A,s=w;else if(w===s){var M=Math.abs(A-u);M<i&&(y=A,i=M)}}s>n&&(y-t>3&&P2(e,t,y,n),e[y+2]=s,r-y>3&&P2(e,y,r,n))}function Dx(e,t,r,n,s,u){var i=s-r,y=u-n;if(i!==0||y!==0){var m=((e-r)*i+(t-n)*y)/(i*i+y*y);m>1?(r=s,n=u):m>0&&(r+=i*m,n+=y*m)}return i=e-r,y=t-n,i*i+y*y}function vy(e,t,r,n){var s={id:typeof e>"u"?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Ox(s),s}function Ox(e){var t=e.geometry,r=e.type;if(r==="Point"||r==="MultiPoint"||r==="LineString")km(e,t);else if(r==="Polygon"||r==="MultiLineString")for(var n=0;n<t.length;n++)km(e,t[n]);else if(r==="MultiPolygon")for(n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++)km(e,t[n][s])}function km(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function Lx(e,t){var r=[];if(e.type==="FeatureCollection")for(var n=0;n<e.features.length;n++)$h(r,e.features[n],t,n);else e.type==="Feature"?$h(r,e,t):$h(r,{geometry:e},t);return r}function $h(e,t,r,n){if(t.geometry){var s=t.geometry.coordinates,u=t.geometry.type,i=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),y=[],m=t.id;if(r.promoteId?m=t.properties[r.promoteId]:r.generateId&&(m=n||0),u==="Point")l_(s,y);else if(u==="MultiPoint")for(var g=0;g<s.length;g++)l_(s[g],y);else if(u==="LineString")b2(s,y,i,!1);else if(u==="MultiLineString")if(r.lineMetrics){for(g=0;g<s.length;g++)y=[],b2(s[g],y,i,!1),e.push(vy(m,"LineString",y,t.properties));return}else zm(s,y,i,!1);else if(u==="Polygon")zm(s,y,i,!0);else if(u==="MultiPolygon")for(g=0;g<s.length;g++){var x=[];zm(s[g],x,i,!0),y.push(x)}else if(u==="GeometryCollection"){for(g=0;g<t.geometry.geometries.length;g++)$h(e,{id:m,geometry:t.geometry.geometries[g],properties:t.properties},r,n);return}else throw new Error("Input data is not a valid GeoJSON object.");e.push(vy(m,u,y,t.properties))}}function l_(e,t){t.push(g8(e[0])),t.push(v8(e[1])),t.push(0)}function b2(e,t,r,n){for(var s,u,i=0,y=0;y<e.length;y++){var m=g8(e[y][0]),g=v8(e[y][1]);t.push(m),t.push(g),t.push(0),y>0&&(n?i+=(s*g-m*u)/2:i+=Math.sqrt(Math.pow(m-s,2)+Math.pow(g-u,2))),s=m,u=g}var x=t.length-3;t[2]=1,P2(t,0,x,r),t[x+2]=1,t.size=Math.abs(i),t.start=0,t.end=t.size}function zm(e,t,r,n){for(var s=0;s<e.length;s++){var u=[];b2(e[s],u,r,n),t.push(u)}}function g8(e){return e/360+.5}function v8(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Cc(e,t,r,n,s,u,i,y){if(r/=t,n/=t,u>=r&&i<n)return e;if(i<r||u>=n)return null;for(var m=[],g=0;g<e.length;g++){var x=e[g],b=x.geometry,A=x.type,w=s===0?x.minX:x.minY,M=s===0?x.maxX:x.maxY;if(w>=r&&M<n){m.push(x);continue}else if(M<r||w>=n)continue;var V=[];if(A==="Point"||A==="MultiPoint")Bx(b,V,r,n,s);else if(A==="LineString")E8(b,V,r,n,s,!1,y.lineMetrics);else if(A==="MultiLineString")Vm(b,V,r,n,s,!1);else if(A==="Polygon")Vm(b,V,r,n,s,!0);else if(A==="MultiPolygon")for(var k=0;k<b.length;k++){var Q=[];Vm(b[k],Q,r,n,s,!0),Q.length&&V.push(Q)}if(V.length){if(y.lineMetrics&&A==="LineString"){for(k=0;k<V.length;k++)m.push(vy(x.id,A,V[k],x.tags));continue}(A==="LineString"||A==="MultiLineString")&&(V.length===1?(A="LineString",V=V[0]):A="MultiLineString"),(A==="Point"||A==="MultiPoint")&&(A=V.length===3?"Point":"MultiPoint"),m.push(vy(x.id,A,V,x.tags))}}return m.length?m:null}function Bx(e,t,r,n,s){for(var u=0;u<e.length;u+=3){var i=e[u+s];i>=r&&i<=n&&(t.push(e[u]),t.push(e[u+1]),t.push(e[u+2]))}}function E8(e,t,r,n,s,u,i){for(var y=d_(e),m=s===0?Ux:kx,g=e.start,x,b,A=0;A<e.length-3;A+=3){var w=e[A],M=e[A+1],V=e[A+2],k=e[A+3],Q=e[A+4],q=s===0?w:M,K=s===0?k:Q,te=!1;i&&(x=Math.sqrt(Math.pow(w-k,2)+Math.pow(M-Q,2))),q<r?K>r&&(b=m(y,w,M,k,Q,r),i&&(y.start=g+x*b)):q>n?K<n&&(b=m(y,w,M,k,Q,n),i&&(y.start=g+x*b)):Hm(y,w,M,V),K<r&&q>=r&&(b=m(y,w,M,k,Q,r),te=!0),K>n&&q<=n&&(b=m(y,w,M,k,Q,n),te=!0),!u&&te&&(i&&(y.end=g+x*b),t.push(y),y=d_(e)),i&&(g+=x)}var se=e.length-3;w=e[se],M=e[se+1],V=e[se+2],q=s===0?w:M,q>=r&&q<=n&&Hm(y,w,M,V),se=y.length-3,u&&se>=3&&(y[se]!==y[0]||y[se+1]!==y[1])&&Hm(y,y[0],y[1],y[2]),y.length&&t.push(y)}function d_(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function Vm(e,t,r,n,s,u){for(var i=0;i<e.length;i++)E8(e[i],t,r,n,s,u,!1)}function Hm(e,t,r,n){e.push(t),e.push(r),e.push(n)}function Ux(e,t,r,n,s,u){var i=(u-t)/(n-t);return e.push(u),e.push(r+(s-r)*i),e.push(1),i}function kx(e,t,r,n,s,u){var i=(u-r)/(s-r);return e.push(t+(n-t)*i),e.push(u),e.push(1),i}function zx(e,t){var r=t.buffer/t.extent,n=e,s=Cc(e,1,-1-r,r,0,-1,2,t),u=Cc(e,1,1-r,2+r,0,-1,2,t);return(s||u)&&(n=Cc(e,1,-r,1+r,0,-1,2,t)||[],s&&(n=y_(s,1).concat(n)),u&&(n=n.concat(y_(u,-1)))),n}function y_(e,t){for(var r=[],n=0;n<e.length;n++){var s=e[n],u=s.type,i;if(u==="Point"||u==="MultiPoint"||u==="LineString")i=Gm(s.geometry,t);else if(u==="MultiLineString"||u==="Polygon"){i=[];for(var y=0;y<s.geometry.length;y++)i.push(Gm(s.geometry[y],t))}else if(u==="MultiPolygon")for(i=[],y=0;y<s.geometry.length;y++){for(var m=[],g=0;g<s.geometry[y].length;g++)m.push(Gm(s.geometry[y][g],t));i.push(m)}r.push(vy(s.id,u,i,s.tags))}return r}function Gm(e,t){var r=[];r.size=e.size,e.start!==void 0&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function h_(e,t){if(e.transformed)return e;var r=1<<e.z,n=e.x,s=e.y,u,i,y;for(u=0;u<e.features.length;u++){var m=e.features[u],g=m.geometry,x=m.type;if(m.geometry=[],x===1)for(i=0;i<g.length;i+=2)m.geometry.push(f_(g[i],g[i+1],t,r,n,s));else for(i=0;i<g.length;i++){var b=[];for(y=0;y<g[i].length;y+=2)b.push(f_(g[i][y],g[i][y+1],t,r,n,s));m.geometry.push(b)}}return e.transformed=!0,e}function f_(e,t,r,n,s,u){return[Math.round(r*(e*n-s)),Math.round(r*(t*n-u))]}function Vx(e,t,r,n,s){for(var u=t===s.maxZoom?0:s.tolerance/((1<<t)*s.extent),i={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},y=0;y<e.length;y++){i.numFeatures++,Hx(i,e[y],u,s);var m=e[y].minX,g=e[y].minY,x=e[y].maxX,b=e[y].maxY;m<i.minX&&(i.minX=m),g<i.minY&&(i.minY=g),x>i.maxX&&(i.maxX=x),b>i.maxY&&(i.maxY=b)}return i}function Hx(e,t,r,n){var s=t.geometry,u=t.type,i=[];if(u==="Point"||u==="MultiPoint")for(var y=0;y<s.length;y+=3)i.push(s[y]),i.push(s[y+1]),e.numPoints++,e.numSimplified++;else if(u==="LineString")jm(i,s,e,r,!1,!1);else if(u==="MultiLineString"||u==="Polygon")for(y=0;y<s.length;y++)jm(i,s[y],e,r,u==="Polygon",y===0);else if(u==="MultiPolygon")for(var m=0;m<s.length;m++){var g=s[m];for(y=0;y<g.length;y++)jm(i,g[y],e,r,!0,y===0)}if(i.length){var x=t.tags||null;if(u==="LineString"&&n.lineMetrics){x={};for(var b in t.tags)x[b]=t.tags[b];x.mapbox_clip_start=s.start/s.size,x.mapbox_clip_end=s.end/s.size}var A={geometry:i,type:u==="Polygon"||u==="MultiPolygon"?3:u==="LineString"||u==="MultiLineString"?2:1,tags:x};t.id!==null&&(A.id=t.id),e.features.push(A)}}function jm(e,t,r,n,s,u){var i=n*n;if(n>0&&t.size<(s?i:n)){r.numPoints+=t.length/3;return}for(var y=[],m=0;m<t.length;m+=3)(n===0||t[m+2]>i)&&(r.numSimplified++,y.push(t[m]),y.push(t[m+1])),r.numPoints++;s&&Gx(y,u),e.push(y)}function Gx(e,t){for(var r=0,n=0,s=e.length,u=s-2;n<s;u=n,n+=2)r+=(e[n]-e[u])*(e[n+1]+e[u+1]);if(r>0===t)for(n=0,s=e.length;n<s/2;n+=2){var i=e[n],y=e[n+1];e[n]=e[s-2-n],e[n+1]=e[s-1-n],e[s-2-n]=i,e[s-1-n]=y}}function jx(e,t){return new jf(e,t)}function jf(e,t){t=this.options=Wx(Object.create(this.options),t);var r=t.debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=Lx(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=zx(n,t),n.length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}jf.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};jf.prototype.splitTile=function(e,t,r,n,s,u,i){for(var y=[e,t,r,n],m=this.options,g=m.debug;y.length;){n=y.pop(),r=y.pop(),t=y.pop(),e=y.pop();var x=1<<t,b=F2(t,r,n),A=this.tiles[b];if(!A&&(g>1&&console.time("creation"),A=this.tiles[b]=Vx(e,t,r,n,m),this.tileCoords.push({z:t,x:r,y:n}),g)){g>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,A.numFeatures,A.numPoints,A.numSimplified),console.timeEnd("creation"));var w="z"+t;this.stats[w]=(this.stats[w]||0)+1,this.total++}if(A.source=e,s){if(t===m.maxZoom||t===s)continue;var M=1<<s-t;if(r!==Math.floor(u/M)||n!==Math.floor(i/M))continue}else if(t===m.indexMaxZoom||A.numPoints<=m.indexMaxPoints)continue;if(A.source=null,e.length!==0){g>1&&console.time("clipping");var V=.5*m.buffer/m.extent,k=.5-V,Q=.5+V,q=1+V,K,te,se,ke,Ee,je;K=te=se=ke=null,Ee=Cc(e,x,r-V,r+Q,0,A.minX,A.maxX,m),je=Cc(e,x,r+k,r+q,0,A.minX,A.maxX,m),e=null,Ee&&(K=Cc(Ee,x,n-V,n+Q,1,A.minY,A.maxY,m),te=Cc(Ee,x,n+k,n+q,1,A.minY,A.maxY,m),Ee=null),je&&(se=Cc(je,x,n-V,n+Q,1,A.minY,A.maxY,m),ke=Cc(je,x,n+k,n+q,1,A.minY,A.maxY,m),je=null),g>1&&console.timeEnd("clipping"),y.push(K||[],t+1,r*2,n*2),y.push(te||[],t+1,r*2,n*2+1),y.push(se||[],t+1,r*2+1,n*2),y.push(ke||[],t+1,r*2+1,n*2+1)}}};jf.prototype.getTile=function(e,t,r){var n=this.options,s=n.extent,u=n.debug;if(e<0||e>24)return null;var i=1<<e;t=(t%i+i)%i;var y=F2(e,t,r);if(this.tiles[y])return h_(this.tiles[y],s);u>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var m=e,g=t,x=r,b;!b&&m>0;)m--,g=Math.floor(g/2),x=Math.floor(x/2),b=this.tiles[F2(m,g,x)];return!b||!b.source?null:(u>1&&console.log("found parent tile z%d-%d-%d",m,g,x),u>1&&console.time("drilling down"),this.splitTile(b.source,m,g,x,e,t,r),u>1&&console.timeEnd("drilling down"),this.tiles[y]?h_(this.tiles[y],s):null)};function F2(e,t,r){return((1<<e)*r+t)*32+e}function Wx(e,t){for(var r in t)e[r]=t[r];return e}var Qd=class{constructor(t,r,n,s){this.vectorLayerCache={},this.x=r,this.y=n,this.z=s,this.vectorTile=t}getTileData(t){return!t||!this.vectorTile.layers[t]?[]:this.vectorLayerCache[t]?this.vectorLayerCache[t]:this.vectorTile.layers[t].features}getFeatureById(){throw new Error("Method not implemented.")}},Zx=Object.defineProperty,Xx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptors,m_=Object.getOwnPropertySymbols,$x=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable,__=(e,t,r)=>t in e?Zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lf=(e,t)=>{for(var r in t||(t={}))$x.call(t,r)&&__(e,r,t[r]);if(m_)for(var r of m_(t))qx.call(t,r)&&__(e,r,t[r]);return e},Kx=(e,t)=>Xx(e,Yx(t)),Qx=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),Jx={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function eP(e){let t=0;for(let r=0,n=e.length,s=n-1,u,i;r<n;s=r++)u=e[r],i=e[s],t+=(i.x-u.x)*(u.y+i.y);return t}function tP(e){const t=e.length;if(t<=1)return[e];const r=[];let n,s;for(let u=0;u<t;u++){const i=eP(e[u]);i!==0&&(s===void 0&&(s=i<0),s===i<0?(n&&r.push(n),n=[e[u]]):n.push(e[u]))}return n&&r.push(n),r}var rP=["Unknown","Point","LineString","Polygon"];function oP(e,t,r,n,s){let u=s.geometry;const i=s.type,y=s.tags,m=s.id,g=e*Math.pow(2,n),x=e*t,b=e*r;let A=rP[i],w,M;function V(Q){for(let q=0;q<Q.length;q++){const K=Q[q];if(K[3])break;const te=180-(K[1]+b)*360/g,se=(K[0]+x)*360/g-180,ke=360/Math.PI*Math.atan(Math.exp(te*Math.PI/180))-90;Q[q]=[se,ke,0,1]}}switch(i){case 1:const Q=[];for(w=0;w<u.length;w++)Q[w]=u[w][0];u=Q,V(u);break;case 2:for(w=0;w<u.length;w++)V(u[w]);break;case 3:for(u=tP(u),w=0;w<u.length;w++)for(M=0;M<u[w].length;M++)V(u[w][M]);break}return u.length===1?u=u[0]:A="Multi"+A,{type:"Feature",geometry:{type:A,coordinates:u},properties:y,id:m,tileOrigin:[0,0],coord:""}}var nP=(e,t,r,n)=>Qx(void 0,null,function*(){return new Promise(s=>{const u=t.getTile(e.z,e.x,e.y),y={layers:{defaultLayer:{features:u?u.features.map(g=>oP(n,r.x,r.y,r.z,g)):[]}}},m=new Qd(y,e.x,e.y,e.z);s(m)})});function iP(e){const t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return e===void 0||typeof e.geojsonvtOptions>"u"?t:lf(lf({},t),e.geojsonvtOptions)}function aP(e,t){const r=iP(t),n=r.extent||4096,s=jx(e,r),u=(y,m)=>nP(m,s,y,n),i=Kx(lf(lf({},Jx),t),{getTileData:u});return{data:e,dataArray:[],tilesetOptions:i,isTile:!0}}var sP=Object.defineProperty,uP=Object.defineProperties,pP=Object.getOwnPropertyDescriptors,g_=Object.getOwnPropertySymbols,cP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,v_=(e,t,r)=>t in e?sP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E_=(e,t)=>{for(var r in t||(t={}))cP.call(t,r)&&v_(e,r,t[r]);if(g_)for(var r of g_(t))lP.call(t,r)&&v_(e,r,t[r]);return e},x_=(e,t)=>uP(e,pP(t));function x8(e,t){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:n,requestParameters:s={}}=t,u=new Promise(m=>{e instanceof HTMLImageElement||RE(e)?m([e]):dP(e,s,g=>{m(g)})}),i=Ly(n,r);return{originData:e,images:u,_id:1,dataArray:[{_id:0,coordinates:i}]}}function dP(e,t,r){const n=[];if(typeof e=="string")m2(x_(E_({},t),{url:e}),(s,u)=>{u&&(n.push(u),r(n))});else{const s=e.length;let u=0;e.forEach(i=>{m2(x_(E_({},t),{url:i}),(y,m)=>{u++,m&&n.push(m),u===s&&r(n)})})}return x8}var yP=Object.defineProperty,hP=Object.defineProperties,fP=Object.getOwnPropertyDescriptors,P_=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,b_=(e,t,r)=>t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P8=(e,t)=>{for(var r in t||(t={}))mP.call(t,r)&&b_(e,r,t[r]);if(P_)for(var r of P_(t))_P.call(t,r)&&b_(e,r,t[r]);return e},b8=(e,t)=>hP(e,fP(t)),gP=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),vP=(e,t,r,n)=>gP(void 0,null,function*(){const s={x:t.x,y:t.y,z:t.z},u=N1(e,s);return new Promise(i=>{n?n(s,(y,m)=>{if(y||!m){const g={layers:{defaultLayer:{features:[]}}},x=new Qd(g,t.x,t.y,t.z);i(x)}else{const g={layers:{defaultLayer:{features:m.features}}},x=new Qd(g,t.x,t.y,t.z);i(x)}}):nE(b8(P8({},r),{url:u}),(y,m)=>{if(y||!m){const g={layers:{defaultLayer:{features:[]}}},x=new Qd(g,t.x,t.y,t.z);i(x)}else{const x={layers:{defaultLayer:{features:JSON.parse(m)}}},b=new Qd(x,t.x,t.y,t.z);i(b)}})})});function EP(e,t){const r=(s,u)=>vP(e,u,t==null?void 0:t.requestParameters,t.getCustomData),n=b8(P8({},t),{getTileData:r});return{dataArray:[],tilesetOptions:n,isTile:!0}}var xP=D1;function D1(e,t){this.x=e,this.y=t}D1.prototype={clone:function(){return new D1(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,s=r*this.x+t*this.y;return this.x=n,this.y=s,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),s=t.x+r*(this.x-t.x)-n*(this.y-t.y),u=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=s,this.y=u,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}};D1.convert=function(e){return e instanceof D1?e:Array.isArray(e)?new D1(e[0],e[1]):e};var PP=xP,bP=H1;function H1(e,t,r,n,s){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=s,e.readFields(FP,this,t)}function FP(e,t,r){e==1?t.id=r.readVarint():e==2?AP(r,t):e==3?t.type=r.readVarint():e==4&&(t._geometry=r.pos)}function AP(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],s=t._values[e.readVarint()];t.properties[n]=s}}H1.types=["Unknown","Point","LineString","Polygon"];H1.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,s=0,u=0,i=[],y;e.pos<t;){if(n<=0){var m=e.readVarint();r=m&7,n=m>>3}if(n--,r===1||r===2)s+=e.readSVarint(),u+=e.readSVarint(),r===1&&(y&&i.push(y),y=[]),y.push(new PP(s,u));else if(r===7)y&&y.push(y[0].clone());else throw new Error("unknown command "+r)}return y&&i.push(y),i};H1.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,s=0,u=0,i=1/0,y=-1/0,m=1/0,g=-1/0;e.pos<t;){if(n<=0){var x=e.readVarint();r=x&7,n=x>>3}if(n--,r===1||r===2)s+=e.readSVarint(),u+=e.readSVarint(),s<i&&(i=s),s>y&&(y=s),u<m&&(m=u),u>g&&(g=u);else if(r!==7)throw new Error("unknown command "+r)}return[i,m,y,g]};H1.prototype.toGeoJSON=function(e,t,r){var n=this.extent*Math.pow(2,r),s=this.extent*e,u=this.extent*t,i=this.loadGeometry(),y=H1.types[this.type],m,g;function x(w){for(var M=0;M<w.length;M++){var V=w[M],k=180-(V.y+u)*360/n;w[M]=[(V.x+s)*360/n-180,360/Math.PI*Math.atan(Math.exp(k*Math.PI/180))-90]}}switch(this.type){case 1:var b=[];for(m=0;m<i.length;m++)b[m]=i[m][0];i=b,x(i);break;case 2:for(m=0;m<i.length;m++)x(i[m]);break;case 3:for(i=SP(i),m=0;m<i.length;m++)for(g=0;g<i[m].length;g++)x(i[m][g]);break}i.length===1?i=i[0]:y="Multi"+y;var A={type:"Feature",geometry:{type:y,coordinates:i},properties:this.properties};return"id"in this&&(A.id=this.id),A};function SP(e){var t=e.length;if(t<=1)return[e];for(var r=[],n,s,u=0;u<t;u++){var i=TP(e[u]);i!==0&&(s===void 0&&(s=i<0),s===i<0?(n&&r.push(n),n=[e[u]]):n.push(e[u]))}return n&&r.push(n),r}function TP(e){for(var t=0,r=0,n=e.length,s=n-1,u,i;r<n;s=r++)u=e[r],i=e[s],t+=(i.x-u.x)*(u.y+i.y);return t}var wP=bP,RP=F8;function F8(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(CP,this,t),this.length=this._features.length}function CP(e,t,r){e===15?t.version=r.readVarint():e===1?t.name=r.readString():e===5?t.extent=r.readVarint():e===2?t._features.push(r.pos):e===3?t._keys.push(r.readString()):e===4&&t._values.push(MP(r))}function MP(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=n===1?e.readString():n===2?e.readFloat():n===3?e.readDouble():n===4?e.readVarint64():n===5?e.readVarint():n===6?e.readSVarint():n===7?e.readBoolean():null}return t}F8.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new wP(this._pbf,t,this.extent,this._keys,this._values)};var IP=RP,NP=DP;function DP(e,t){this.layers=e.readFields(OP,{},t)}function OP(e,t,r){if(e===3){var n=new IP(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}var LP=NP,F6={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */F6.read=function(e,t,r,n,s){var u,i,y=s*8-n-1,m=(1<<y)-1,g=m>>1,x=-7,b=r?s-1:0,A=r?-1:1,w=e[t+b];for(b+=A,u=w&(1<<-x)-1,w>>=-x,x+=y;x>0;u=u*256+e[t+b],b+=A,x-=8);for(i=u&(1<<-x)-1,u>>=-x,x+=n;x>0;i=i*256+e[t+b],b+=A,x-=8);if(u===0)u=1-g;else{if(u===m)return i?NaN:(w?-1:1)*(1/0);i=i+Math.pow(2,n),u=u-g}return(w?-1:1)*i*Math.pow(2,u-n)};F6.write=function(e,t,r,n,s,u){var i,y,m,g=u*8-s-1,x=(1<<g)-1,b=x>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:u-1,M=n?1:-1,V=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,i=x):(i=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-i))<1&&(i--,m*=2),i+b>=1?t+=A/m:t+=A*Math.pow(2,1-b),t*m>=2&&(i++,m/=2),i+b>=x?(y=0,i=x):i+b>=1?(y=(t*m-1)*Math.pow(2,s),i=i+b):(y=t*Math.pow(2,b-1)*Math.pow(2,s),i=0));s>=8;e[r+w]=y&255,w+=M,y/=256,s-=8);for(i=i<<s|y,g+=s;g>0;e[r+w]=i&255,w+=M,i/=256,g-=8);e[r+w-M]|=V*128};var BP=xn,wh=F6;function xn(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}xn.Varint=0;xn.Fixed64=1;xn.Bytes=2;xn.Fixed32=5;var A2=65536*65536,F_=1/A2,UP=12,A8=typeof TextDecoder>"u"?null:new TextDecoder("utf8");xn.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),s=n>>3,u=this.pos;this.type=n&7,e(s,t,this),this.pos===u&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Rh(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=S_(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Rh(this.buf,this.pos)+Rh(this.buf,this.pos+4)*A2;return this.pos+=8,e},readSFixed64:function(){var e=Rh(this.buf,this.pos)+S_(this.buf,this.pos+4)*A2;return this.pos+=8,e},readFloat:function(){var e=wh.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=wh.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,r,n;return n=t[this.pos++],r=n&127,n<128||(n=t[this.pos++],r|=(n&127)<<7,n<128)||(n=t[this.pos++],r|=(n&127)<<14,n<128)||(n=t[this.pos++],r|=(n&127)<<21,n<128)?r:(n=t[this.pos],r|=(n&15)<<28,kP(r,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=UP&&A8?JP(this.buf,t,e):QP(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==xn.Bytes)return e.push(this.readVarint(t));var r=wc(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==xn.Bytes)return e.push(this.readSVarint());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==xn.Bytes)return e.push(this.readBoolean());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==xn.Bytes)return e.push(this.readFloat());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==xn.Bytes)return e.push(this.readDouble());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==xn.Bytes)return e.push(this.readFixed32());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==xn.Bytes)return e.push(this.readSFixed32());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==xn.Bytes)return e.push(this.readFixed64());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==xn.Bytes)return e.push(this.readSFixed64());var t=wc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===xn.Varint)for(;this.buf[this.pos++]>127;);else if(t===xn.Bytes)this.pos=this.readVarint()+this.pos;else if(t===xn.Fixed32)this.pos+=4;else if(t===xn.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),d1(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),d1(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),d1(this.buf,e&-1,this.pos),d1(this.buf,Math.floor(e*F_),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),d1(this.buf,e&-1,this.pos),d1(this.buf,Math.floor(e*F_),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){zP(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=eb(this.buf,e,this.pos);var r=this.pos-t;r>=128&&A_(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),wh.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),wh.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&A_(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,xn.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,GP,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,jP,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,XP,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,WP,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ZP,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,YP,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,$P,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,qP,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,KP,t)},writeBytesField:function(e,t){this.writeTag(e,xn.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,xn.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,xn.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,xn.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,xn.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,xn.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,xn.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,xn.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,xn.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,xn.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function kP(e,t,r){var n=r.buf,s,u;if(u=n[r.pos++],s=(u&112)>>4,u<128||(u=n[r.pos++],s|=(u&127)<<3,u<128)||(u=n[r.pos++],s|=(u&127)<<10,u<128)||(u=n[r.pos++],s|=(u&127)<<17,u<128)||(u=n[r.pos++],s|=(u&127)<<24,u<128)||(u=n[r.pos++],s|=(u&1)<<31,u<128))return l1(e,s,t);throw new Error("Expected varint not more than 10 bytes")}function wc(e){return e.type===xn.Bytes?e.readVarint()+e.pos:e.pos+1}function l1(e,t,r){return r?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function zP(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(r=~(-e%4294967296),n=~(-e/4294967296),r^4294967295?r=r+1|0:(r=0,n=n+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),VP(r,n,t),HP(n,t)}function VP(e,t,r){r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos++]=e&127|128,e>>>=7,r.buf[r.pos]=e&127}function HP(e,t){var r=(e&7)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function A_(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));r.realloc(n);for(var s=r.pos-1;s>=e;s--)r.buf[s+n]=r.buf[s]}function GP(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function jP(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function WP(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function ZP(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function XP(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function YP(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function $P(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function qP(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function KP(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Rh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function d1(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function S_(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function QP(e,t,r){for(var n="",s=t;s<r;){var u=e[s],i=null,y=u>239?4:u>223?3:u>191?2:1;if(s+y>r)break;var m,g,x;y===1?u<128&&(i=u):y===2?(m=e[s+1],(m&192)===128&&(i=(u&31)<<6|m&63,i<=127&&(i=null))):y===3?(m=e[s+1],g=e[s+2],(m&192)===128&&(g&192)===128&&(i=(u&15)<<12|(m&63)<<6|g&63,(i<=2047||i>=55296&&i<=57343)&&(i=null))):y===4&&(m=e[s+1],g=e[s+2],x=e[s+3],(m&192)===128&&(g&192)===128&&(x&192)===128&&(i=(u&15)<<18|(m&63)<<12|(g&63)<<6|x&63,(i<=65535||i>=1114112)&&(i=null))),i===null?(i=65533,y=1):i>65535&&(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),n+=String.fromCharCode(i),s+=y}return n}function JP(e,t,r){return A8.decode(e.subarray(t,r))}function eb(e,t,r){for(var n=0,s,u;n<t.length;n++){if(s=t.charCodeAt(n),s>55295&&s<57344)if(u)if(s<56320){e[r++]=239,e[r++]=191,e[r++]=189,u=s;continue}else s=u-55296<<10|s-56320|65536,u=null;else{s>56319||n+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):u=s;continue}else u&&(e[r++]=239,e[r++]=191,e[r++]=189,u=null);s<128?e[r++]=s:(s<2048?e[r++]=s>>6|192:(s<65536?e[r++]=s>>12|224:(e[r++]=s>>18|240,e[r++]=s>>12&63|128),e[r++]=s>>6&63|128),e[r++]=s&63|128)}return r}const tb=vp(BP);var rb=Object.defineProperty,ob=Object.defineProperties,nb=Object.getOwnPropertyDescriptors,T_=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,ab=Object.prototype.propertyIsEnumerable,w_=(e,t,r)=>t in e?rb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R_=(e,t)=>{for(var r in t||(t={}))ib.call(t,r)&&w_(e,r,t[r]);if(T_)for(var r of T_(t))ab.call(t,r)&&w_(e,r,t[r]);return e},sb=(e,t)=>ob(e,nb(t)),C_=class{constructor(e,t,r,n){this.vectorLayerCache={},this.x=t,this.y=r,this.z=n,this.vectorTile=new LP(new tb(e))}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];const t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;const r=[];for(let n=0;n<t.length;n++){const u=t.feature(n).toGeoJSON(this.x,this.y,this.z);r.push(sb(R_({},u),{properties:R_({id:u.id},u.properties)}))}return this.vectorLayerCache[e]=r,r}getFeatureById(){throw new Error("Method not implemented.")}},ub=Object.defineProperty,pb=Object.defineProperties,cb=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,lb=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable,I_=(e,t,r)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S2=(e,t)=>{for(var r in t||(t={}))lb.call(t,r)&&I_(e,r,t[r]);if(M_)for(var r of M_(t))db.call(t,r)&&I_(e,r,t[r]);return e},S8=(e,t)=>pb(e,cb(t)),yb=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),hb={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},fb=(e,t,r,n,s)=>yb(void 0,null,function*(){const u=N1(e,t);return new Promise(i=>{if(s)s({x:r.x,y:r.y,z:r.z},(y,m)=>{if(y||!m)i(void 0);else{const g=new C_(m,r.x,r.y,r.z);i(g)}});else{const y=m6(S8(S2({},n),{url:u}),(m,g)=>{if(m||!g)i(void 0);else{const x=new C_(g,r.x,r.y,r.z);i(x)}});r.xhrCancel=()=>y.cancel()}})});function mb(e,t){const r=Array.isArray(e)?e[0]:e,n=(u,i)=>fb(r,u,i,t==null?void 0:t.requestParameters,t==null?void 0:t.getCustomData),s=S8(S2(S2({},hb),t),{getTileData:n});return{data:r,dataArray:[],tilesetOptions:s,isTile:!0}}function _b(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"%":return t%r;case"^":return Math.pow(t,r);case"abs":return Math.abs(t);case"floor":return Math.floor(t);case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"sin":return Math.sin(t);case"cos":return Math.cos(t);case"atan":return r===-1?Math.atan(t):Math.atan2(t,r);case"min":return Math.min(t,r);case"max":return Math.max(t,r);case"log10":return Math.log(t);case"log2":return Math.log2(t);default:return console.warn("Calculate symbol err! Return default 0"),0}}function ly(e,t){const{width:r,height:n}=t[0],s=t.map(m=>m.rasterData),u=r*n,i=[],y=JSON.stringify(e);for(let m=0;m<u;m++){const g=JSON.parse(y),x=T8(g,s,m);if(typeof x=="number")i.push(x);else{const b=T2(g);i.push(b)}}return i}function T8(e,t,r){if(e.length===2&&e[0]==="band"&&typeof e[1]=="number")try{return t[e[1]][r]}catch{return console.warn("Raster Data err!"),0}e.map((n,s)=>{if(Array.isArray(n)&&n.length>0)switch(n[0]){case"band":try{e[s]=t[n[1]][r]}catch{console.warn("Raster Data err!"),e[s]=0}break;default:T8(n,t,r)}})}function gb(e){const[t,r=-1,n=-1]=e;return t===void 0?(console.warn("Express err!"),["+",0,0]):[t.replace(/\s+/g,""),r,n]}function T2(e){const t=gb(e),r=t[0];let n=t[1],s=t[2];return Array.isArray(n)&&(n=T2(e[1])),Array.isArray(s)&&(s=T2(e[2])),_b(r,n,s)}var vb={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:Eb}};function Eb(e,t){const r=e[0].rasterData,n=e[1].rasterData,s=e[2].rasterData,u=[],[i,y]=(t==null?void 0:t.countCut)||[2,98],m=(t==null?void 0:t.RMinMax)||O1(r,i,y),g=(t==null?void 0:t.GMinMax)||O1(n,i,y),x=(t==null?void 0:t.BMinMax)||O1(s,i,y);for(let b=0;b<r.length;b++)u.push(Math.max(0,r[b]-m[0])),u.push(Math.max(0,n[b]-g[0])),u.push(Math.max(0,s[b]-x[0]));return{rasterData:u,rMinMax:m,gMinMax:g,bMinMax:x}}function O1(e,t,r){const n=e.slice().sort((y,m)=>y-m),s=n.length,u=n[Math.ceil(s*t/100)],i=n[Math.ceil(s*r/100)];return[u,i]}var xb=Object.defineProperty,Pb=Object.defineProperties,bb=Object.getOwnPropertyDescriptors,N_=Object.getOwnPropertySymbols,Fb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,D_=(e,t,r)=>t in e?xb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sb=(e,t)=>{for(var r in t||(t={}))Fb.call(t,r)&&D_(e,r,t[r]);if(N_)for(var r of N_(t))Ab.call(t,r)&&D_(e,r,t[r]);return e},Tb=(e,t)=>Pb(e,bb(t)),w8=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())});function A6(e,t,r){return w8(this,null,function*(){if(e.length===0)return{rasterData:[0],width:1,heigh:1};const n=yield Promise.all(e.map(({data:m,bands:g=[0]})=>t(m,g))),s=[];n.forEach(m=>{Array.isArray(m)?s.push(...m):s.push(m)});const{width:u,height:i}=s[0];let y;switch(typeof r){case"function":y=r(s);break;case"object":Array.isArray(r)?y={rasterData:ly(r,s)}:y=wb(r,s);break;default:y={rasterData:s[0].rasterData}}return Tb(Sb({},y),{width:u,height:i})})}function wb(e,t){const r=vb[e.type];if(r.type==="function")return r.method(t,e==null?void 0:e.options);if(r.type==="operation")return e.type==="rgb"?Rb(r.expression,t):{rasterData:ly(r.expression,t)}}function Rb(e,t){e.r===void 0&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),e.g===void 0&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),e.b===void 0&&console.warn("Channel B lost in Operation! Use band[0] to fill!");const r=ly(e.r||["band",0],t),n=ly(e.g||["band",0],t),s=ly(e.b||["band",0],t);return[r,n,s]}function w2(e,t,r,n){return w8(this,null,function*(){const s=yield A6(e,t,r);n(null,{data:s})})}function Cb(e,t){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:n,width:s,height:u,min:i,max:y,format:m,operation:g}=t;let x,b,A;if(m===void 0||m8(e))x=Array.from(e),b=s,A=u;else{const V=Array.isArray(e)?e:[e];x=A6(V,m,g)}const w=Ly(n,r);return{_id:1,dataArray:[{_id:1,data:x,width:b,height:A,min:i,max:y,coordinates:w}]}}let By=function(e){return e.Normal="normal",e.PostProcessing="post-processing",e}({}),L=function(e){return e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e}({});const Mb=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{camelCase:Ib,isNil:Nb,upperFirst:Db}=Wi;class Dc{constructor(){H(this,"shaderModuleService",void 0),H(this,"rendererService",void 0),H(this,"config",void 0),H(this,"quad",Mb),H(this,"enabled",!0),H(this,"renderToScreen",!1),H(this,"model",void 0),H(this,"name",void 0),H(this,"optionsToUpdate",{})}getName(){return this.name}setName(t){this.name=t}getType(){return By.PostProcessing}init(t,r){this.config=r,this.rendererService=t.getContainer().rendererService,this.shaderModuleService=t.getContainer().shaderModuleService;const{createAttribute:n,createBuffer:s,createModel:u}=this.rendererService,{vs:i,fs:y,uniforms:m}=this.setupShaders();this.model=u({vs:i,fs:y,attributes:{a_Position:n({buffer:s({data:[-4,-4,4,-4,0,4],type:L.FLOAT}),size:2})},uniforms:Et(Et({u_Texture:null},m),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}render(t,r){const n=t.multiPassRenderer.getPostProcessor(),{useFramebuffer:s,getViewportSize:u,clear:i}=this.rendererService,{width:y,height:m}=u();s(this.renderToScreen?null:n.getWriteFBO(),()=>{i({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});const g=Et({u_BloomFinal:0,u_Texture:n.getReadFBO(),u_ViewportSize:[y,m]},this.convertOptionsToUniforms(this.optionsToUpdate));r&&(g.u_BloomFinal=1,g.u_Texture2=r),this.model.draw({uniforms:g})})}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}setRenderToScreen(t){this.renderToScreen=t}updateOptions(t){this.optionsToUpdate=Et(Et({},this.optionsToUpdate),t)}setupShaders(){throw new Error("Method not implemented.")}convertOptionsToUniforms(t){const r={};return Object.keys(t).forEach(n=>{Nb(t[n])||(r[`u_${Db(Ib(n))}`]=t[n])}),r}}function Ob(e){let t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break}return t}const R8=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function O_(e,t=!1){const r={};return e=e.replace(R8,(n,s,u)=>{const i=u.split(":"),y=i[0].trim();let m="";switch(i.length>1&&(m=i[1].trim()),s){case"bool":m=m==="true";break;case"float":case"int":m=Number(m);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":m?m=m.replace("[","").replace("]","").split(",").reduce((g,x)=>(g.push(Number(x.trim())),g),[]):m=new Array(Ob(s)).fill(0);break}return r[y]=m,`${t?"uniform ":""}${s} ${y};
`}),{content:e,uniforms:r}}function Wm(e){let{content:t,uniforms:r}=O_(e,!0);return t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(n,s,u)=>{u=u.trim().replace(/^.*$/gm,m=>`uniform ${m}`);const{content:i,uniforms:y}=O_(u);return Object.assign(r,y),`${s}{
${i}
};`}),{content:t,uniforms:r}}function L_(e){const t={};return e.replace(R8,(r,n,s)=>{const u=s.trim();return t[u]?"":(t[u]=!0,`uniform ${n} ${u};
`)})}const p0={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};let df=function(e){return e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft",e.TOPCENTER="topcenter",e.BOTTOMCENTER="bottomcenter",e.LEFTCENTER="leftcenter",e.RIGHTCENTER="rightcenter",e.LEFTTOP="lefttop",e.RIGHTTOP="righttop",e.LEFTBOTTOM="leftbottom",e.RIGHTBOTTOM="rightbottom",e}({}),F1=function(e){return e[e.LNGLAT=1]="LNGLAT",e[e.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",e[e.VECTOR_TILE=3]="VECTOR_TILE",e[e.IDENTITY=4]="IDENTITY",e[e.P20=5]="P20",e[e.P20_OFFSET=6]="P20_OFFSET",e[e.METER_OFFSET=7]="METER_OFFSET",e[e.P20_2=8]="P20_2",e}({});const c0={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"};var Pa={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};let ks=function(e){return e.Hover="hover",e.Click="click",e.Select="select",e.Active="active",e.Drag="drag",e}({}),El=function(e){return e.normal="normal",e.additive="additive",e.subtractive="subtractive",e.min="min",e.max="max",e.none="none",e}({}),y0=function(e){return e.MULTIPLE="MULTIPLE",e.SINGLE="SINGLE",e}({}),Wf=function(e){return e.AND="and",e.OR="or",e}({}),Wa=function(e){return e.INIT="init",e.UPDATE="update",e}({}),Pn=function(e){return e.LINEAR="linear",e.SEQUENTIAL="sequential",e.POWER="power",e.LOG="log",e.IDENTITY="identity",e.TIME="time",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.CAT="cat",e.DIVERGING="diverging",e.CUSTOM="threshold",e}({}),y1=function(e){return e.CONSTANT="constant",e.VARIABLE="variable",e}({}),Sr=function(e){return e[e.Attribute=0]="Attribute",e[e.InstancedAttribute=1]="InstancedAttribute",e[e.Uniform=2]="Uniform",e}({});const Lb=["mapload","mapchange","mapAfterFrameChange"];var S6={exports:{}};S6.exports=Uy;S6.exports.default=Uy;var L1=1e20;function Uy(e,t,r,n,s,u){this.fontSize=e||24,this.buffer=t===void 0?3:t,this.cutoff=n||.25,this.fontFamily=s||"sans-serif",this.fontWeight=u||"normal",this.radius=r||8;var i=this.size=this.fontSize+this.buffer*2,y=i+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(i/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Bb(e,t,r,n,s,u,i){u.fill(L1,0,t*r),i.fill(0,0,t*r);for(var y=(t-n)/2,m=0;m<s;m++)for(var g=0;g<n;g++){var x=(m+y)*t+g+y,b=e.data[4*(m*n+g)+3]/255;if(b===1)u[x]=0,i[x]=L1;else if(b===0)u[x]=L1,i[x]=0;else{var A=Math.max(0,.5-b),w=Math.max(0,b-.5);u[x]=A*A,i[x]=w*w}}}function Ub(e,t,r,n,s,u,i){for(var y=0;y<t*r;y++){var m=Math.sqrt(n[y])-Math.sqrt(s[y]);e[y]=Math.round(255-255*(m/u+i))}}Uy.prototype._draw=function(e,t){var r=this.ctx.measureText(e),n=r.width,s=2*this.buffer,u,i,y,m,g,x,b,A;t&&this.useMetrics?(g=Math.floor(r.actualBoundingBoxAscent),A=this.buffer+Math.ceil(r.actualBoundingBoxAscent),x=this.buffer,b=this.buffer,i=Math.min(this.size,Math.ceil(r.actualBoundingBoxRight-r.actualBoundingBoxLeft)),m=Math.min(this.size-x,Math.ceil(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)),u=i+s,y=m+s,this.ctx.textBaseline="alphabetic"):(u=i=this.size,y=m=this.size,g=19*this.fontSize/24,x=b=0,A=this.middle,this.ctx.textBaseline="middle");var w;i&&m&&(this.ctx.clearRect(b,x,i,m),this.ctx.fillText(e,this.buffer,A),w=this.ctx.getImageData(b,x,i,m));var M=new Uint8ClampedArray(u*y);return Bb(w,u,y,i,m,this.gridOuter,this.gridInner),B_(this.gridOuter,u,y,this.f,this.v,this.z),B_(this.gridInner,u,y,this.f,this.v,this.z),Ub(M,u,y,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:M,metrics:{width:i,height:m,sdfWidth:u,sdfHeight:y,top:g,left:0,advance:n}}};Uy.prototype.draw=function(e){return this._draw(e,!1).data};Uy.prototype.drawWithMetrics=function(e){return this._draw(e,!0)};function B_(e,t,r,n,s,u){for(var i=0;i<t;i++)U_(e,i,t,r,n,s,u);for(var y=0;y<r;y++)U_(e,y*t,1,t,n,s,u)}function U_(e,t,r,n,s,u,i){var y,m,g,x;for(u[0]=0,i[0]=-L1,i[1]=L1,y=0;y<n;y++)s[y]=e[t+y*r];for(y=1,m=0,g=0;y<n;y++){do x=u[m],g=(s[y]-s[x]+y*y-x*x)/(y-x)/2;while(g<=i[m]&&--m>-1);m++,u[m]=y,i[m]=g,i[m+1]=L1}for(y=0,m=0;y<n;y++){for(;i[m+1]<y;)m++;x=u[m],e[t+y*r]=s[x]+(y-x)*(y-x)}}var kb=S6.exports;const zb=vp(kb),Id=30;function Vb({characterSet:e,getFontWidth:t,fontHeight:r,buffer:n,maxCanvasWidth:s,mapping:u={},xOffset:i=0,yOffset:y=0}){let m=0,g=i;Array.from(e).forEach((b,A)=>{if(!u[b]){const w=t(b,A);g+Id>s&&(g=0,m++),u[b]={x:g,y:y+m*Id,width:Id,height:Id,advance:w},g+=Id}});const x=r+n*2;return{mapping:u,xOffset:g,yOffset:y+m*x,canvasHeight:C8(y+(m+1)*x)}}function Hb(e,t,r){let n=0,s=0,u=0,i=[];const y={};for(const g of e)if(!y[g.id]){const{size:x}=g;n+x+t>r&&(k_(y,i,s),n=0,s=u+s+t,u=0,i=[]),i.push({icon:g,xOffset:n}),n=n+x+t,u=Math.max(u,x)}i.length>0&&k_(y,i,s);const m=C8(u+s+t);return{mapping:y,canvasHeight:m}}function k_(e,t,r){for(const n of t){const{icon:s,xOffset:u}=n;e[s.id]=Et(Et({},s),{},{x:u,y:r,image:s.image,width:s.width,height:s.height})}}function C8(e){return Math.pow(2,Math.ceil(Math.log2(e)))}const Gb=Qb(),jb="sans-serif",Wb="normal",Zb=24,Xb=3,Yb=.25,$b=8,z_=1024,qb=1,V_=1,Kb=3;function Qb(){const e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function H_(e,t,r,n){e.font=`${n} ${r}px ${t}`,e.fillStyle="black",e.textBaseline="middle"}function G_(e,t){for(let r=0;r<e.length;r++)t.data[4*r+3]=e[r]}class Jb extends fu.EventEmitter{constructor(...t){super(...t),H(this,"fontAtlas",void 0),H(this,"iconFontMap",void 0),H(this,"iconFontGlyphs",{}),H(this,"fontOptions",void 0),H(this,"key",void 0),H(this,"cache",new zE(Kb))}get scale(){return V_}get canvas(){const t=this.cache.get(this.key);return t&&t.data}get mapping(){const t=this.cache.get(this.key);return t&&t.mapping||{}}getCanvasByKey(t){const r=this.cache.get(t);return r&&r.data}getMappingByKey(t){const r=this.cache.get(t);return r&&r.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:jb,fontWeight:Wb,characterSet:Gb,fontSize:Zb,buffer:Xb,sdf:!0,cutoff:Yb,radius:$b,iconfont:!1},this.key="",this.iconFontMap=new Map}addIconGlyphs(t){t.forEach(r=>{this.iconFontGlyphs[r.name]=r.unicode})}addIconFont(t,r){this.iconFontMap.set(t,r)}getIconFontKey(t){return this.iconFontMap.get(t)||t}getGlyph(t){return this.iconFontGlyphs[t]?String.fromCharCode(parseInt(this.iconFontGlyphs[t],16)):""}setFontOptions(t){this.fontOptions=Et(Et({},this.fontOptions),t),this.key=this.getKey();const r=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(n&&r.length===0)return;const s=this.generateFontAtlas(this.key,r,n);this.fontAtlas=s,this.cache.set(this.key,s)}addFontFace(t,r){const n=document.createElement("style");n.type="text/css",n.innerText=`
        @font-face{
            font-family: '${t}';
            src: url('${r}') format('woff2'),
            url('${r}') format('woff'),
            url('${r}') format('truetype');
        }`,n.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${t}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:t})})}catch(s){console.warn("当前环境不支持 document.fonts !"),console.warn("当前环境不支持 iconfont !"),console.warn(s)}},document.getElementsByTagName("head")[0].appendChild(n)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(t,r,n){const{fontFamily:s,fontWeight:u,fontSize:i,buffer:y,sdf:m,radius:g,cutoff:x,iconfont:b}=this.fontOptions;let A=n&&n.data;A||(A=window.document.createElement("canvas"),A.width=z_);const w=A.getContext("2d",{willReadFrequently:!0});H_(w,s,i,u);const{mapping:M,canvasHeight:V,xOffset:k,yOffset:Q}=Vb(Et({getFontWidth:K=>w.measureText(K).width,fontHeight:i*V_,buffer:y,characterSet:r,maxCanvasWidth:z_},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),q=w.getImageData(0,0,A.width,A.height);if(A.height=V,w.putImageData(q,0,0),H_(w,s,i,u),m){const K=new zb(i,y,g,x,s,u),te=w.getImageData(0,0,K.size,K.size);for(const se of r){if(b){const ke=String.fromCharCode(parseInt(se.replace("&#x","").replace(";",""),16)),Ee=K.draw(ke);G_(Ee,te)}else G_(K.draw(se),te);w.putImageData(te,M[se].x,M[se].y)}}else for(const K of r)w.fillText(K,M[K].x,M[K].y+i*qb);return{xOffset:k,yOffset:Q,mapping:M,data:A,width:A.width,height:A.height}}getKey(){const{fontFamily:t,fontWeight:r}=this.fontOptions;return`${t}_${r}`}getNewChars(t,r){const n=this.cache.get(t);if(!n)return r;const s=[],u=n.mapping,i=new Set(Object.keys(u));return new Set(r).forEach(m=>{i.has(m)||s.push(m)}),s}}function j_(e,t,r,n,s,u,i){try{var y=e[u](i),m=y.value}catch(g){r(g);return}y.done?t(m):Promise.resolve(m).then(n,s)}function ft(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var u=e.apply(t,r);function i(m){j_(u,n,s,i,y,"next",m)}function y(m){j_(u,n,s,i,y,"throw",m)}i(void 0)})}}const eF=3,W_=1024,Nd=64;class tF extends fu.EventEmitter{constructor(...t){super(...t),H(this,"canvasHeight",128),H(this,"texture",void 0),H(this,"canvas",void 0),H(this,"iconData",void 0),H(this,"iconMap",void 0),H(this,"ctx",void 0),H(this,"loadingImageCount",0)}isLoading(){return this.loadingImageCount===0}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}addImage(t,r){var n=this;return ft(function*(){let s=new Image;n.loadingImageCount++,n.hasImage(t)?console.warn("Image Id already exists"):n.iconData.push({id:t,size:Nd}),n.updateIconMap(),s=yield n.loadImage(r);const u=n.iconData.find(i=>i.id===t);u&&(u.image=s,u.width=s.width,u.height=s.height),n.update()})()}addImageMini(t,r,n){const s=n.getSceneConfig().canvas;let u=s.createImage();if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:Nd}),this.updateIconMap(),this.loadImageMini(r,s).then(i=>{u=i;const y=this.iconData.find(m=>m.id===t);y&&(y.image=u,y.width=u.width,y.height=u.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(t){return this.iconMap.hasOwnProperty(t)}removeImage(t){this.hasImage(t)&&(this.iconData=this.iconData.filter(r=>r.id!==t),delete this.iconMap[t],this.update())}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}loadImage(t){return new Promise((r,n)=>{if(t instanceof HTMLImageElement){r(t);return}const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{r(s)},s.onerror=()=>{n(new Error("Could not load image at "+t))},s.src=t instanceof File?URL.createObjectURL(t):t})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}updateIconAtlas(){this.canvas.width=W_,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(t=>{const{x:r,y:n,image:s,width:u=64,height:i=64}=this.iconMap[t],m=Math.max(u,i)/Nd,g=i/m,x=u/m;s&&this.ctx.drawImage(s,r+(Nd-x)/2,n+(Nd-g)/2,x,g)})}updateIconMap(){const{mapping:t,canvasHeight:r}=Hb(this.iconData,eF,W_);this.iconMap=t,this.canvasHeight=r}loadImageMini(t,r){return new Promise((n,s)=>{const u=r.createImage();u.crossOrigin="anonymous",u.onload=()=>{n(u)},u.onerror=()=>{s(new Error("Could not load image at "+t))},u.src=t})}}class rF{constructor(){H(this,"viewport",void 0),H(this,"overridedViewProjectionMatrix",void 0),H(this,"viewMatrixInverse",void 0),H(this,"cameraPosition",void 0)}init(){}update(t){this.viewport=t,this.viewMatrixInverse=Vf(),u6(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){const[t,r]=this.viewport.getCenter();return[t,r]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(t,r){return this.viewport.projectFlat(t,r)}setViewProjectionMatrix(t){this.overridedViewProjectionMatrix=t}}const oF={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class nF{constructor(){H(this,"container",void 0),H(this,"controlCorners",void 0),H(this,"controlContainer",void 0),H(this,"scene",void 0),H(this,"mapsService",void 0),H(this,"controls",[]),H(this,"unAddControls",[])}init(t,r){this.container=t.container,this.scene=r,this.mapsService=r.mapService,this.initControlPos()}addControl(t,r){r.mapService.map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}getControlByName(t){return this.controls.find(r=>r.controlOption.name===t)}removeControl(t){const r=this.controls.indexOf(t);return r>-1&&this.controls.splice(r,1),t.remove(),this}addControls(){this.unAddControls.forEach(t=>{t.addTo(this.scene),this.controls.push(t)}),this.unAddControls=[]}destroy(){for(const t of this.controls)t.remove();this.controls=[],this.clearControlPos()}initControlPos(){const t=this.controlCorners={},r="l7-",n=this.controlContainer=yu("div",r+"control-container",this.container);function s(i=[]){const y=i.map(m=>r+m).join(" ");t[i.filter(m=>!["row","column"].includes(m)).join("")]=yu("div",y,n)}function u(i){return[...i.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),oF[i]]}Object.values(df).forEach(i=>{s(u(i))}),this.checkCornerOverlap()}clearControlPos(){for(const t in this.controlCorners)this.controlCorners[t]&&pf(this.controlCorners[t]);this.controlContainer&&pf(this.controlContainer)}checkCornerOverlap(){const t=window.MutationObserver;if(t)for(const r of Object.keys(this.controlCorners)){const n=r.match(/^(top|bottom)(left|right)$/);if(n){const[,s,u]=n,i=this.controlCorners[`${s}${u}`];new t(([{target:m}])=>{i&&(i.style[s]=m.clientHeight+"px")}).observe(this.controlCorners[`${u}${s}`],{childList:!0,attributes:!0})}}}}class iF{constructor(){H(this,"container",void 0),H(this,"scene",void 0),H(this,"mapsService",void 0),H(this,"markers",[]),H(this,"markerLayers",[]),H(this,"unAddMarkers",[]),H(this,"unAddMarkerLayers",[])}addMarkerLayer(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}removeMarkerLayer(t){t.destroy(),this.markerLayers.indexOf(t);const r=this.markerLayers.indexOf(t);r>-1&&this.markerLayers.splice(r,1)}addMarker(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}addMarkers(){this.unAddMarkers.forEach(t=>{t.addTo(this.scene),this.markers.push(t)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(t=>{this.markerLayers.push(t),t.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(t){t.remove(),this.markers.indexOf(t);const r=this.markers.indexOf(t);r>-1&&this.markers.splice(r,1)}removeAllMarkers(){this.destroy()}init(t){this.scene=t,this.mapsService=t.mapService}destroy(){this.markers.forEach(t=>{t.remove()}),this.markers=[],this.markerLayers.forEach(t=>{t.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(t){t.destroy()}}class aF{constructor(){H(this,"scene",void 0),H(this,"mapsService",void 0),H(this,"popups",[]),H(this,"unAddPopups",[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(t){t!=null&&t.isOpen()&&t.remove();const r=this.popups.indexOf(t);r>-1&&this.popups.splice(r,1);const n=this.unAddPopups.indexOf(t);n>-1&&this.unAddPopups.splice(n,1)}destroy(){this.popups.forEach(t=>t.remove())}addPopup(t){t&&t.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(r=>{r.getOptions().autoClose&&this.removePopup(r)}),this.isMarkerReady?(t.addTo(this.scene),this.popups.push(t)):this.unAddPopups.push(t),t.on("close",()=>{this.removePopup(t)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(t=>{this.addPopup(t),this.unAddPopups=[]})}init(t){this.scene=t,this.mapsService=t.mapService}}const sF={MapToken:"您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定 高德地图申请地址 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox地图申请地址 https://docs.mapbox.com/help/glossary/access-token/",SDK:"请确认引入了mapbox-gl api且在L7之前引入"},{merge:uF}=Wi,pF={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},cF={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:Wf.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};class lF{constructor(){H(this,"sceneConfigCache",{}),H(this,"layerConfigCache",{}),H(this,"layerAttributeConfigCache",{})}getSceneConfig(t){return this.sceneConfigCache[t]}getSceneWarninfo(t){return sF[t]}setSceneConfig(t,r){this.sceneConfigCache[t]=Et(Et({},pF),r)}getLayerConfig(t){return this.layerConfigCache[t]}setLayerConfig(t,r,n){this.layerConfigCache[r]=Et({},uF({},this.sceneConfigCache[t],cF,n))}getAttributeConfig(t){return this.layerAttributeConfigCache[t]}setAttributeConfig(t,r){this.layerAttributeConfigCache[t]=Et(Et({},this.layerAttributeConfigCache[t]),r)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}}const Zm=Math.PI/180,dF=512,Z_=4003e4;function X_({latitude:e=0,zoom:t=0,scale:r,highPrecision:n=!1,flipY:s=!1}){r=r!==void 0?r:Math.pow(2,t);const u={},i=dF*r,y=Math.cos(e*Zm),m=i/360,g=m/y,x=i/Z_/y;if(u.pixelsPerMeter=[x,-x,x],u.metersPerPixel=[1/x,-1/x,1/x],u.pixelsPerDegree=[m,-g,x],u.degreesPerPixel=[1/m,-1/g,1/x],n){const b=Zm*Math.tan(e*Zm)/y,A=m*b/2,w=i/Z_*b,M=w/g*x;u.pixelsPerDegree2=[0,-A,w],u.pixelsPerMeter2=[M,0,M],s&&(u.pixelsPerDegree2[1]=-u.pixelsPerDegree2[1],u.pixelsPerMeter2[1]=-u.pixelsPerMeter2[1])}return s&&(u.pixelsPerMeter[1]=-u.pixelsPerMeter[1],u.metersPerPixel[1]=-u.metersPerPixel[1],u.pixelsPerDegree[1]=-u.pixelsPerDegree[1],u.degreesPerPixel[1]=-u.degreesPerPixel[1]),u}const yF=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class hF{constructor(t){H(this,"needRefresh",!0),H(this,"coordinateSystem",void 0),H(this,"viewportCenter",void 0),H(this,"viewportCenterProjection",void 0),H(this,"pixelsPerDegree",void 0),H(this,"pixelsPerDegree2",void 0),H(this,"pixelsPerMeter",void 0),this.cameraService=t}refresh(t){const r=this.cameraService.getZoom(),n=this.cameraService.getZoomScale(),s=t||this.cameraService.getCenter(),{pixelsPerMeter:u,pixelsPerDegree:i}=X_({latitude:s[1],zoom:r});this.viewportCenter=s,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=u,this.pixelsPerDegree=i,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===F1.LNGLAT||this.coordinateSystem===F1.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===F1.LNGLAT_OFFSET?this.calculateLnglatOffset(s,r):this.coordinateSystem===F1.P20_OFFSET&&this.calculateLnglatOffset(s,r,n,!0),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(t){this.coordinateSystem=t}getViewportCenter(){return this.viewportCenter}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(t,r,n,s){const{pixelsPerMeter:u,pixelsPerDegree:i,pixelsPerDegree2:y}=X_({latitude:t[1],zoom:r,scale:n,flipY:s,highPrecision:!0});let m=this.cameraService.getViewMatrix();const g=this.cameraService.getProjectionMatrix();let x=M1([],g,m);const b=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,r));this.viewportCenterProjection=c6([],[b[0],b[1],0,1],x),m=this.cameraService.getViewMatrixUncentered()||m,x=M1([],g,m),x=M1([],x,yF),this.cameraService.setViewProjectionMatrix(x),this.pixelsPerMeter=u,this.pixelsPerDegree=i,this.pixelsPerDegree2=y}}class fF extends fu.EventEmitter{constructor(...t){super(...t),H(this,"renderMap",new Map),H(this,"enable",!1),H(this,"renderEnable",!1),H(this,"cacheLogs",{})}setEnable(t){this.enable=!!t}log(t,r){if(!this.enable)return;const n=t.split(".");let s=null;n.forEach((u,i)=>{s!==null?(s[u]||(s[u]={}),i!==n.length-1&&(s=s[u])):(this.cacheLogs[u]||(this.cacheLogs[u]={}),i!==n.length-1&&(s=this.cacheLogs[u])),i===n.length-1&&(s[u]=Et(Et({time:Date.now()},s[u]),r))})}getLog(t){switch(typeof t){case"string":return this.cacheLogs[t];case"object":return t.map(r=>this.cacheLogs[r]).filter(r=>r!==void 0);case"undefined":return this.cacheLogs}}removeLog(t){delete this.cacheLogs[t]}generateRenderUid(){return this.renderEnable?kE():""}renderDebug(t){this.renderEnable=t}renderStart(t){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(t)||{};this.renderMap.set(t,Et(Et({},r),{},{renderUid:t,renderStart:Date.now()}))}renderEnd(t){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(t);if(r){const n=r.renderStart,s=Date.now();this.emit("renderEnd",Et(Et({},r),{},{renderEnd:s,renderDuration:s-n})),this.renderMap.delete(t)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}}var M8={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(t,r,n,s){var u=["","webkit","Moz","MS","ms","o"],i=r.createElement("div"),y="function",m=Math.round,g=Math.abs,x=Date.now;function b(Z,oe,we){return setTimeout(K(Z,we),oe)}function A(Z,oe,we){return Array.isArray(Z)?(w(Z,we[oe],we),!0):!1}function w(Z,oe,we){var rt;if(Z)if(Z.forEach)Z.forEach(oe,we);else if(Z.length!==s)for(rt=0;rt<Z.length;)oe.call(we,Z[rt],rt,Z),rt++;else for(rt in Z)Z.hasOwnProperty(rt)&&oe.call(we,Z[rt],rt,Z)}function M(Z,oe,we){var rt="DEPRECATED METHOD: "+oe+`
`+we+` AT 
`;return function(){var zt=new Error("get-stack-trace"),wr=zt&&zt.stack?zt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Lo=t.console&&(t.console.warn||t.console.log);return Lo&&Lo.call(t.console,rt,wr),Z.apply(this,arguments)}}var V;typeof Object.assign!="function"?V=function(oe){if(oe===s||oe===null)throw new TypeError("Cannot convert undefined or null to object");for(var we=Object(oe),rt=1;rt<arguments.length;rt++){var zt=arguments[rt];if(zt!==s&&zt!==null)for(var wr in zt)zt.hasOwnProperty(wr)&&(we[wr]=zt[wr])}return we}:V=Object.assign;var k=M(function(oe,we,rt){for(var zt=Object.keys(we),wr=0;wr<zt.length;)(!rt||rt&&oe[zt[wr]]===s)&&(oe[zt[wr]]=we[zt[wr]]),wr++;return oe},"extend","Use `assign`."),Q=M(function(oe,we){return k(oe,we,!0)},"merge","Use `assign`.");function q(Z,oe,we){var rt=oe.prototype,zt;zt=Z.prototype=Object.create(rt),zt.constructor=Z,zt._super=rt,we&&V(zt,we)}function K(Z,oe){return function(){return Z.apply(oe,arguments)}}function te(Z,oe){return typeof Z==y?Z.apply(oe&&oe[0]||s,oe):Z}function se(Z,oe){return Z===s?oe:Z}function ke(Z,oe,we){w(He(oe),function(rt){Z.addEventListener(rt,we,!1)})}function Ee(Z,oe,we){w(He(oe),function(rt){Z.removeEventListener(rt,we,!1)})}function je(Z,oe){for(;Z;){if(Z==oe)return!0;Z=Z.parentNode}return!1}function mt(Z,oe){return Z.indexOf(oe)>-1}function He(Z){return Z.trim().split(/\s+/g)}function Fe(Z,oe,we){if(Z.indexOf&&!we)return Z.indexOf(oe);for(var rt=0;rt<Z.length;){if(we&&Z[rt][we]==oe||!we&&Z[rt]===oe)return rt;rt++}return-1}function Le(Z){return Array.prototype.slice.call(Z,0)}function ze(Z,oe,we){for(var rt=[],zt=[],wr=0;wr<Z.length;){var Lo=Z[wr][oe];Fe(zt,Lo)<0&&rt.push(Z[wr]),zt[wr]=Lo,wr++}return rt=rt.sort(function(wi,di){return wi[oe]>di[oe]}),rt}function st(Z,oe){for(var we,rt,zt=oe[0].toUpperCase()+oe.slice(1),wr=0;wr<u.length;){if(we=u[wr],rt=we?we+zt:oe,rt in Z)return rt;wr++}return s}var Vt=1;function nr(){return Vt++}function Fr(Z){var oe=Z.ownerDocument||Z;return oe.defaultView||oe.parentWindow||t}var $r=/mobile|tablet|ip(ad|hone|od)|android/i,mr="ontouchstart"in t,Er=st(t,"PointerEvent")!==s,Kr=mr&&$r.test(navigator.userAgent),eo="touch",go="pen",wo="mouse",no="kinect",Xn=25,Fo=1,On=2,$e=4,Yt=8,Tr=1,At=2,xr=4,io=8,vo=16,ro=At|xr,Qr=io|vo,Ao=ro|Qr,Kn=["x","y"],Jo=["clientX","clientY"];function rn(Z,oe){var we=this;this.manager=Z,this.callback=oe,this.element=Z.element,this.target=Z.options.inputTarget,this.domHandler=function(rt){te(Z.options.enable,[Z])&&we.handler(rt)},this.init()}rn.prototype={handler:function(){},init:function(){this.evEl&&ke(this.element,this.evEl,this.domHandler),this.evTarget&&ke(this.target,this.evTarget,this.domHandler),this.evWin&&ke(Fr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ee(this.element,this.evEl,this.domHandler),this.evTarget&&Ee(this.target,this.evTarget,this.domHandler),this.evWin&&Ee(Fr(this.element),this.evWin,this.domHandler)}};function bi(Z){var oe,we=Z.options.inputClass;return we?oe=we:Er?oe=Ps:Kr?oe=Me:mr?oe=We:oe=Zs,new oe(Z,ue)}function ue(Z,oe,we){var rt=we.pointers.length,zt=we.changedPointers.length,wr=oe&Fo&&rt-zt===0,Lo=oe&($e|Yt)&&rt-zt===0;we.isFirst=!!wr,we.isFinal=!!Lo,wr&&(Z.session={}),we.eventType=oe,Fi(Z,we),Z.emit("hammer.input",we),Z.recognize(we),Z.session.prevInput=we}function Fi(Z,oe){var we=Z.session,rt=oe.pointers,zt=rt.length;we.firstInput||(we.firstInput=ps(oe)),zt>1&&!we.firstMultiple?we.firstMultiple=ps(oe):zt===1&&(we.firstMultiple=!1);var wr=we.firstInput,Lo=we.firstMultiple,Yn=Lo?Lo.center:wr.center,wi=oe.center=pn(rt);oe.timeStamp=x(),oe.deltaTime=oe.timeStamp-wr.timeStamp,oe.angle=xs(Yn,wi),oe.distance=Ti(Yn,wi),Za(we,oe),oe.offsetDirection=ca(oe.deltaX,oe.deltaY);var di=Si(oe.deltaTime,oe.deltaX,oe.deltaY);oe.overallVelocityX=di.x,oe.overallVelocityY=di.y,oe.overallVelocity=g(di.x)>g(di.y)?di.x:di.y,oe.scale=Lo?cs(Lo.pointers,rt):1,oe.rotation=Lo?Hn(Lo.pointers,rt):0,oe.maxPointers=we.prevInput?oe.pointers.length>we.prevInput.maxPointers?oe.pointers.length:we.prevInput.maxPointers:oe.pointers.length,Ai(we,oe);var Ya=Z.element;je(oe.srcEvent.target,Ya)&&(Ya=oe.srcEvent.target),oe.target=Ya}function Za(Z,oe){var we=oe.center,rt=Z.offsetDelta||{},zt=Z.prevDelta||{},wr=Z.prevInput||{};(oe.eventType===Fo||wr.eventType===$e)&&(zt=Z.prevDelta={x:wr.deltaX||0,y:wr.deltaY||0},rt=Z.offsetDelta={x:we.x,y:we.y}),oe.deltaX=zt.x+(we.x-rt.x),oe.deltaY=zt.y+(we.y-rt.y)}function Ai(Z,oe){var we=Z.lastInterval||oe,rt=oe.timeStamp-we.timeStamp,zt,wr,Lo,Yn;if(oe.eventType!=Yt&&(rt>Xn||we.velocity===s)){var wi=oe.deltaX-we.deltaX,di=oe.deltaY-we.deltaY,Ya=Si(rt,wi,di);wr=Ya.x,Lo=Ya.y,zt=g(Ya.x)>g(Ya.y)?Ya.x:Ya.y,Yn=ca(wi,di),Z.lastInterval=oe}else zt=we.velocity,wr=we.velocityX,Lo=we.velocityY,Yn=we.direction;oe.velocity=zt,oe.velocityX=wr,oe.velocityY=Lo,oe.direction=Yn}function ps(Z){for(var oe=[],we=0;we<Z.pointers.length;)oe[we]={clientX:m(Z.pointers[we].clientX),clientY:m(Z.pointers[we].clientY)},we++;return{timeStamp:x(),pointers:oe,center:pn(oe),deltaX:Z.deltaX,deltaY:Z.deltaY}}function pn(Z){var oe=Z.length;if(oe===1)return{x:m(Z[0].clientX),y:m(Z[0].clientY)};for(var we=0,rt=0,zt=0;zt<oe;)we+=Z[zt].clientX,rt+=Z[zt].clientY,zt++;return{x:m(we/oe),y:m(rt/oe)}}function Si(Z,oe,we){return{x:oe/Z||0,y:we/Z||0}}function ca(Z,oe){return Z===oe?Tr:g(Z)>=g(oe)?Z<0?At:xr:oe<0?io:vo}function Ti(Z,oe,we){we||(we=Kn);var rt=oe[we[0]]-Z[we[0]],zt=oe[we[1]]-Z[we[1]];return Math.sqrt(rt*rt+zt*zt)}function xs(Z,oe,we){we||(we=Kn);var rt=oe[we[0]]-Z[we[0]],zt=oe[we[1]]-Z[we[1]];return Math.atan2(zt,rt)*180/Math.PI}function Hn(Z,oe){return xs(oe[1],oe[0],Jo)+xs(Z[1],Z[0],Jo)}function cs(Z,oe){return Ti(oe[0],oe[1],Jo)/Ti(Z[0],Z[1],Jo)}var ba={mousedown:Fo,mousemove:On,mouseup:$e},Ws="mousedown",qu="mousemove mouseup";function Zs(){this.evEl=Ws,this.evWin=qu,this.pressed=!1,rn.apply(this,arguments)}q(Zs,rn,{handler:function(oe){var we=ba[oe.type];we&Fo&&oe.button===0&&(this.pressed=!0),we&On&&oe.which!==1&&(we=$e),this.pressed&&(we&$e&&(this.pressed=!1),this.callback(this.manager,we,{pointers:[oe],changedPointers:[oe],pointerType:wo,srcEvent:oe}))}});var xp={pointerdown:Fo,pointermove:On,pointerup:$e,pointercancel:Yt,pointerout:Yt},Xs={2:eo,3:go,4:wo,5:no},Da="pointerdown",Oa="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Da="MSPointerDown",Oa="MSPointerMove MSPointerUp MSPointerCancel");function Ps(){this.evEl=Da,this.evWin=Oa,rn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}q(Ps,rn,{handler:function(oe){var we=this.store,rt=!1,zt=oe.type.toLowerCase().replace("ms",""),wr=xp[zt],Lo=Xs[oe.pointerType]||oe.pointerType,Yn=Lo==eo,wi=Fe(we,oe.pointerId,"pointerId");wr&Fo&&(oe.button===0||Yn)?wi<0&&(we.push(oe),wi=we.length-1):wr&($e|Yt)&&(rt=!0),!(wi<0)&&(we[wi]=oe,this.callback(this.manager,wr,{pointers:we,changedPointers:[oe],pointerType:Lo,srcEvent:oe}),rt&&we.splice(wi,1))}});var Ku={touchstart:Fo,touchmove:On,touchend:$e,touchcancel:Yt},jo="touchstart",U="touchstart touchmove touchend touchcancel";function G(){this.evTarget=jo,this.evWin=U,this.started=!1,rn.apply(this,arguments)}q(G,rn,{handler:function(oe){var we=Ku[oe.type];if(we===Fo&&(this.started=!0),!!this.started){var rt=W.call(this,oe,we);we&($e|Yt)&&rt[0].length-rt[1].length===0&&(this.started=!1),this.callback(this.manager,we,{pointers:rt[0],changedPointers:rt[1],pointerType:eo,srcEvent:oe})}}});function W(Z,oe){var we=Le(Z.touches),rt=Le(Z.changedTouches);return oe&($e|Yt)&&(we=ze(we.concat(rt),"identifier")),[we,rt]}var ne={touchstart:Fo,touchmove:On,touchend:$e,touchcancel:Yt},ye="touchstart touchmove touchend touchcancel";function Me(){this.evTarget=ye,this.targetIds={},rn.apply(this,arguments)}q(Me,rn,{handler:function(oe){var we=ne[oe.type],rt=Oe.call(this,oe,we);rt&&this.callback(this.manager,we,{pointers:rt[0],changedPointers:rt[1],pointerType:eo,srcEvent:oe})}});function Oe(Z,oe){var we=Le(Z.touches),rt=this.targetIds;if(oe&(Fo|On)&&we.length===1)return rt[we[0].identifier]=!0,[we,we];var zt,wr,Lo=Le(Z.changedTouches),Yn=[],wi=this.target;if(wr=we.filter(function(di){return je(di.target,wi)}),oe===Fo)for(zt=0;zt<wr.length;)rt[wr[zt].identifier]=!0,zt++;for(zt=0;zt<Lo.length;)rt[Lo[zt].identifier]&&Yn.push(Lo[zt]),oe&($e|Yt)&&delete rt[Lo[zt].identifier],zt++;if(Yn.length)return[ze(wr.concat(Yn),"identifier"),Yn]}var J=2500,ge=25;function We(){rn.apply(this,arguments);var Z=K(this.handler,this);this.touch=new Me(this.manager,Z),this.mouse=new Zs(this.manager,Z),this.primaryTouch=null,this.lastTouches=[]}q(We,rn,{handler:function(oe,we,rt){var zt=rt.pointerType==eo,wr=rt.pointerType==wo;if(!(wr&&rt.sourceCapabilities&&rt.sourceCapabilities.firesTouchEvents)){if(zt)ht.call(this,we,rt);else if(wr&&ct.call(this,rt))return;this.callback(oe,we,rt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function ht(Z,oe){Z&Fo?(this.primaryTouch=oe.changedPointers[0].identifier,Nt.call(this,oe)):Z&($e|Yt)&&Nt.call(this,oe)}function Nt(Z){var oe=Z.changedPointers[0];if(oe.identifier===this.primaryTouch){var we={x:oe.clientX,y:oe.clientY};this.lastTouches.push(we);var rt=this.lastTouches,zt=function(){var wr=rt.indexOf(we);wr>-1&&rt.splice(wr,1)};setTimeout(zt,J)}}function ct(Z){for(var oe=Z.srcEvent.clientX,we=Z.srcEvent.clientY,rt=0;rt<this.lastTouches.length;rt++){var zt=this.lastTouches[rt],wr=Math.abs(oe-zt.x),Lo=Math.abs(we-zt.y);if(wr<=ge&&Lo<=ge)return!0}return!1}var wt=st(i.style,"touchAction"),_r=wt!==s,yr="compute",dt="auto",or="manipulation",Wt="none",Xt="pan-x",ao="pan-y",er=Eo();function So(Z,oe){this.manager=Z,this.set(oe)}So.prototype={set:function(Z){Z==yr&&(Z=this.compute()),_r&&this.manager.element.style&&er[Z]&&(this.manager.element.style[wt]=Z),this.actions=Z.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Z=[];return w(this.manager.recognizers,function(oe){te(oe.options.enable,[oe])&&(Z=Z.concat(oe.getTouchAction()))}),en(Z.join(" "))},preventDefaults:function(Z){var oe=Z.srcEvent,we=Z.offsetDirection;if(this.manager.session.prevented){oe.preventDefault();return}var rt=this.actions,zt=mt(rt,Wt)&&!er[Wt],wr=mt(rt,ao)&&!er[ao],Lo=mt(rt,Xt)&&!er[Xt];if(zt){var Yn=Z.pointers.length===1,wi=Z.distance<2,di=Z.deltaTime<250;if(Yn&&wi&&di)return}if(!(Lo&&wr)&&(zt||wr&&we&ro||Lo&&we&Qr))return this.preventSrc(oe)},preventSrc:function(Z){this.manager.session.prevented=!0,Z.preventDefault()}};function en(Z){if(mt(Z,Wt))return Wt;var oe=mt(Z,Xt),we=mt(Z,ao);return oe&&we?Wt:oe||we?oe?Xt:ao:mt(Z,or)?or:dt}function Eo(){if(!_r)return!1;var Z={},oe=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(we){Z[we]=oe?t.CSS.supports("touch-action",we):!0}),Z}var No=1,so=2,Gn=4,Ro=8,tn=Ro,zo=16,uo=32;function xo(Z){this.options=V({},this.defaults,Z||{}),this.id=nr(),this.manager=null,this.options.enable=se(this.options.enable,!0),this.state=No,this.simultaneous={},this.requireFail=[]}xo.prototype={defaults:{},set:function(Z){return V(this.options,Z),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Z){if(A(Z,"recognizeWith",this))return this;var oe=this.simultaneous;return Z=Ln(Z,this),oe[Z.id]||(oe[Z.id]=Z,Z.recognizeWith(this)),this},dropRecognizeWith:function(Z){return A(Z,"dropRecognizeWith",this)?this:(Z=Ln(Z,this),delete this.simultaneous[Z.id],this)},requireFailure:function(Z){if(A(Z,"requireFailure",this))return this;var oe=this.requireFail;return Z=Ln(Z,this),Fe(oe,Z)===-1&&(oe.push(Z),Z.requireFailure(this)),this},dropRequireFailure:function(Z){if(A(Z,"dropRequireFailure",this))return this;Z=Ln(Z,this);var oe=Fe(this.requireFail,Z);return oe>-1&&this.requireFail.splice(oe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Z){return!!this.simultaneous[Z.id]},emit:function(Z){var oe=this,we=this.state;function rt(zt){oe.manager.emit(zt,Z)}we<Ro&&rt(oe.options.event+Bi(we)),rt(oe.options.event),Z.additionalEvent&&rt(Z.additionalEvent),we>=Ro&&rt(oe.options.event+Bi(we))},tryEmit:function(Z){if(this.canEmit())return this.emit(Z);this.state=uo},canEmit:function(){for(var Z=0;Z<this.requireFail.length;){if(!(this.requireFail[Z].state&(uo|No)))return!1;Z++}return!0},recognize:function(Z){var oe=V({},Z);if(!te(this.options.enable,[this,oe])){this.reset(),this.state=uo;return}this.state&(tn|zo|uo)&&(this.state=No),this.state=this.process(oe),this.state&(so|Gn|Ro|zo)&&this.tryEmit(oe)},process:function(Z){},getTouchAction:function(){},reset:function(){}};function Bi(Z){return Z&zo?"cancel":Z&Ro?"end":Z&Gn?"move":Z&so?"start":""}function mu(Z){return Z==vo?"down":Z==io?"up":Z==At?"left":Z==xr?"right":""}function Ln(Z,oe){var we=oe.manager;return we?we.get(Z):Z}function En(){xo.apply(this,arguments)}q(En,xo,{defaults:{pointers:1},attrTest:function(Z){var oe=this.options.pointers;return oe===0||Z.pointers.length===oe},process:function(Z){var oe=this.state,we=Z.eventType,rt=oe&(so|Gn),zt=this.attrTest(Z);return rt&&(we&Yt||!zt)?oe|zo:rt||zt?we&$e?oe|Ro:oe&so?oe|Gn:so:uo}});function _u(){En.apply(this,arguments),this.pX=null,this.pY=null}q(_u,En,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ao},getTouchAction:function(){var Z=this.options.direction,oe=[];return Z&ro&&oe.push(ao),Z&Qr&&oe.push(Xt),oe},directionTest:function(Z){var oe=this.options,we=!0,rt=Z.distance,zt=Z.direction,wr=Z.deltaX,Lo=Z.deltaY;return zt&oe.direction||(oe.direction&ro?(zt=wr===0?Tr:wr<0?At:xr,we=wr!=this.pX,rt=Math.abs(Z.deltaX)):(zt=Lo===0?Tr:Lo<0?io:vo,we=Lo!=this.pY,rt=Math.abs(Z.deltaY))),Z.direction=zt,we&&rt>oe.threshold&&zt&oe.direction},attrTest:function(Z){return En.prototype.attrTest.call(this,Z)&&(this.state&so||!(this.state&so)&&this.directionTest(Z))},emit:function(Z){this.pX=Z.deltaX,this.pY=Z.deltaY;var oe=mu(Z.direction);oe&&(Z.additionalEvent=this.options.event+oe),this._super.emit.call(this,Z)}});function Xa(){En.apply(this,arguments)}q(Xa,En,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.scale-1)>this.options.threshold||this.state&so)},emit:function(Z){if(Z.scale!==1){var oe=Z.scale<1?"in":"out";Z.additionalEvent=this.options.event+oe}this._super.emit.call(this,Z)}});function mn(){xo.apply(this,arguments),this._timer=null,this._input=null}q(mn,xo,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[dt]},process:function(Z){var oe=this.options,we=Z.pointers.length===oe.pointers,rt=Z.distance<oe.threshold,zt=Z.deltaTime>oe.time;if(this._input=Z,!rt||!we||Z.eventType&($e|Yt)&&!zt)this.reset();else if(Z.eventType&Fo)this.reset(),this._timer=b(function(){this.state=tn,this.tryEmit()},oe.time,this);else if(Z.eventType&$e)return tn;return uo},reset:function(){clearTimeout(this._timer)},emit:function(Z){this.state===tn&&(Z&&Z.eventType&$e?this.manager.emit(this.options.event+"up",Z):(this._input.timeStamp=x(),this.manager.emit(this.options.event,this._input)))}});function Ys(){En.apply(this,arguments)}q(Ys,En,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.rotation)>this.options.threshold||this.state&so)}});function li(){En.apply(this,arguments)}q(li,En,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ro|Qr,pointers:1},getTouchAction:function(){return _u.prototype.getTouchAction.call(this)},attrTest:function(Z){var oe=this.options.direction,we;return oe&(ro|Qr)?we=Z.overallVelocity:oe&ro?we=Z.overallVelocityX:oe&Qr&&(we=Z.overallVelocityY),this._super.attrTest.call(this,Z)&&oe&Z.offsetDirection&&Z.distance>this.options.threshold&&Z.maxPointers==this.options.pointers&&g(we)>this.options.velocity&&Z.eventType&$e},emit:function(Z){var oe=mu(Z.offsetDirection);oe&&this.manager.emit(this.options.event+oe,Z),this.manager.emit(this.options.event,Z)}});function _n(){xo.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}q(_n,xo,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[or]},process:function(Z){var oe=this.options,we=Z.pointers.length===oe.pointers,rt=Z.distance<oe.threshold,zt=Z.deltaTime<oe.time;if(this.reset(),Z.eventType&Fo&&this.count===0)return this.failTimeout();if(rt&&zt&&we){if(Z.eventType!=$e)return this.failTimeout();var wr=this.pTime?Z.timeStamp-this.pTime<oe.interval:!0,Lo=!this.pCenter||Ti(this.pCenter,Z.center)<oe.posThreshold;this.pTime=Z.timeStamp,this.pCenter=Z.center,!Lo||!wr?this.count=1:this.count+=1,this._input=Z;var Yn=this.count%oe.taps;if(Yn===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=tn,this.tryEmit()},oe.interval,this),so):tn}return uo},failTimeout:function(){return this._timer=b(function(){this.state=uo},this.options.interval,this),uo},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==tn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function jn(Z,oe){return oe=oe||{},oe.recognizers=se(oe.recognizers,jn.defaults.preset),new Zi(Z,oe)}jn.VERSION="2.0.7",jn.defaults={domEvents:!1,touchAction:yr,enable:!0,inputTarget:null,inputClass:null,preset:[[Ys,{enable:!1}],[Xa,{enable:!1},["rotate"]],[li,{direction:ro}],[_u,{direction:ro},["swipe"]],[_n],[_n,{event:"doubletap",taps:2},["tap"]],[mn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var cn=1,ea=2;function Zi(Z,oe){this.options=V({},jn.defaults,oe||{}),this.options.inputTarget=this.options.inputTarget||Z,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Z,this.input=bi(this),this.touchAction=new So(this,this.options.touchAction),Jp(this,!0),w(this.options.recognizers,function(we){var rt=this.add(new we[0](we[1]));we[2]&&rt.recognizeWith(we[2]),we[3]&&rt.requireFailure(we[3])},this)}Zi.prototype={set:function(Z){return V(this.options,Z),Z.touchAction&&this.touchAction.update(),Z.inputTarget&&(this.input.destroy(),this.input.target=Z.inputTarget,this.input.init()),this},stop:function(Z){this.session.stopped=Z?ea:cn},recognize:function(Z){var oe=this.session;if(!oe.stopped){this.touchAction.preventDefaults(Z);var we,rt=this.recognizers,zt=oe.curRecognizer;(!zt||zt&&zt.state&tn)&&(zt=oe.curRecognizer=null);for(var wr=0;wr<rt.length;)we=rt[wr],oe.stopped!==ea&&(!zt||we==zt||we.canRecognizeWith(zt))?we.recognize(Z):we.reset(),!zt&&we.state&(so|Gn|Ro)&&(zt=oe.curRecognizer=we),wr++}},get:function(Z){if(Z instanceof xo)return Z;for(var oe=this.recognizers,we=0;we<oe.length;we++)if(oe[we].options.event==Z)return oe[we];return null},add:function(Z){if(A(Z,"add",this))return this;var oe=this.get(Z.options.event);return oe&&this.remove(oe),this.recognizers.push(Z),Z.manager=this,this.touchAction.update(),Z},remove:function(Z){if(A(Z,"remove",this))return this;if(Z=this.get(Z),Z){var oe=this.recognizers,we=Fe(oe,Z);we!==-1&&(oe.splice(we,1),this.touchAction.update())}return this},on:function(Z,oe){if(Z!==s&&oe!==s){var we=this.handlers;return w(He(Z),function(rt){we[rt]=we[rt]||[],we[rt].push(oe)}),this}},off:function(Z,oe){if(Z!==s){var we=this.handlers;return w(He(Z),function(rt){oe?we[rt]&&we[rt].splice(Fe(we[rt],oe),1):delete we[rt]}),this}},emit:function(Z,oe){this.options.domEvents&&Fa(Z,oe);var we=this.handlers[Z]&&this.handlers[Z].slice();if(!(!we||!we.length)){oe.type=Z,oe.preventDefault=function(){oe.srcEvent.preventDefault()};for(var rt=0;rt<we.length;)we[rt](oe),rt++}},destroy:function(){this.element&&Jp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Jp(Z,oe){var we=Z.element;if(we.style){var rt;w(Z.options.cssProps,function(zt,wr){rt=st(we.style,wr),oe?(Z.oldCssProps[rt]=we.style[rt],we.style[rt]=zt):we.style[rt]=Z.oldCssProps[rt]||""}),oe||(Z.oldCssProps={})}}function Fa(Z,oe){var we=r.createEvent("Event");we.initEvent(Z,!0,!0),we.gesture=oe,oe.target.dispatchEvent(we)}V(jn,{INPUT_START:Fo,INPUT_MOVE:On,INPUT_END:$e,INPUT_CANCEL:Yt,STATE_POSSIBLE:No,STATE_BEGAN:so,STATE_CHANGED:Gn,STATE_ENDED:Ro,STATE_RECOGNIZED:tn,STATE_CANCELLED:zo,STATE_FAILED:uo,DIRECTION_NONE:Tr,DIRECTION_LEFT:At,DIRECTION_RIGHT:xr,DIRECTION_UP:io,DIRECTION_DOWN:vo,DIRECTION_HORIZONTAL:ro,DIRECTION_VERTICAL:Qr,DIRECTION_ALL:Ao,Manager:Zi,Input:rn,TouchAction:So,TouchInput:Me,MouseInput:Zs,PointerEventInput:Ps,TouchMouseInput:We,SingleTouchInput:G,Recognizer:xo,AttrRecognizer:En,Tap:_n,Pan:_u,Swipe:li,Pinch:Xa,Rotate:Ys,Press:mn,on:ke,off:Ee,each:w,merge:Q,extend:k,assign:V,inherit:q,bindFn:K,prefixed:st});var Ml=typeof t<"u"?t:typeof self<"u"?self:{};Ml.Hammer=jn,e.exports?e.exports=jn:t[n]=jn})(window,document,"Hammer")})(M8);var mF=M8.exports;const Dd=vp(mF),_F={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class gF extends P6{get mapService(){return this.container.mapService}constructor(t){super(),H(this,"indragging",!1),H(this,"hammertime",void 0),H(this,"lastClickTime",0),H(this,"lastClickXY",[-1,-1]),H(this,"clickTimer",void 0),H(this,"$containter",void 0),H(this,"onDrag",r=>{const n=this.interactionEvent(r);n.type=_F[n.type],n.type==="dragging"?this.indragging=!0:this.indragging=!1,this.emit(ks.Drag,n)}),H(this,"onHammer",r=>{r.srcEvent.stopPropagation();const n=this.interactionEvent(r);this.emit(ks.Hover,n)}),H(this,"onTouch",r=>{const n=r.touches[0];this.onHover({clientX:n.clientX,clientY:n.clientY,type:"touchstart"})}),H(this,"onTouchEnd",r=>{if(r.changedTouches.length>0){const n=r.changedTouches[0];this.onHover({clientX:n.clientX,clientY:n.clientY,type:"touchend"})}}),H(this,"onTouchMove",r=>{const n=r.changedTouches[0];this.onHover({clientX:n.clientX,clientY:n.clientY,type:"touchmove"})}),H(this,"onHover",r=>{const{clientX:n,clientY:s}=r;let u=n,i=s;const y=r.type,m=this.mapService.getMapContainer();if(m){const{top:x,left:b}=m.getBoundingClientRect();u=u-b-m.clientLeft,i=i-x-m.clientTop}const g=this.mapService.containerToLngLat([u,i]);if(y==="click"){this.isDoubleTap(u,i,g);return}if(y==="touch"){this.isDoubleTap(u,i,g);return}y!=="click"&&y!=="dblclick"&&this.emit(ks.Hover,{x:u,y:i,lngLat:g,type:y,target:r})}),this.container=t}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(ks.Hover)}triggerHover({x:t,y:r}){this.emit(ks.Hover,{x:t,y:r})}triggerSelect(t){this.emit(ks.Select,{featureId:t})}triggerActive(t){this.emit(ks.Active,{featureId:t})}addEventListenerOnMap(){const t=this.mapService.getMapContainer();if(t){const r=new Dd.Manager(t);r.add(new Dd.Tap({event:"dblclick",taps:2})),r.add(new Dd.Tap({event:"click"})),r.add(new Dd.Pan({threshold:0,pointers:0})),r.add(new Dd.Press({})),r.on("dblclick click",this.onHammer),r.on("panstart panmove panend pancancel",this.onDrag),t.addEventListener("touchstart",this.onTouch),t.addEventListener("touchend",this.onTouchEnd),t.addEventListener("mousemove",this.onHover),t.addEventListener("touchmove",this.onTouchMove),t.addEventListener("mousedown",this.onHover,!0),t.addEventListener("mouseup",this.onHover),t.addEventListener("contextmenu",this.onHover),this.hammertime=r}}removeEventListenerOnMap(){const t=this.mapService.getMapContainer();t&&(t.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),t.removeEventListener("touchstart",this.onTouch),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("mousedown",this.onHover),t.removeEventListener("mouseup",this.onHover),t.removeEventListener("contextmenu",this.onHover))}interactionEvent(t){const{type:r,pointerType:n}=t;let s,u;n==="touch"?(u=Math.floor(t.pointers[0].clientY),s=Math.floor(t.pointers[0].clientX)):(u=Math.floor(t.srcEvent.y),s=Math.floor(t.srcEvent.x));const i=this.mapService.getMapContainer();if(i){const{top:m,left:g}=i.getBoundingClientRect();s-=g,u-=m}const y=this.mapService.containerToLngLat([s,u]);return{x:s,y:u,lngLat:y,type:r,target:t.srcEvent}}isDoubleTap(t,r,n){const s=new Date().getTime();let u="click";s-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-t)<10&&Math.abs(this.lastClickXY[1]-r)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),u="dblclick",this.emit(ks.Hover,{x:t,y:r,lngLat:n,type:u})):(this.lastClickTime=s,this.lastClickXY=[t,r],this.clickTimer=setTimeout(()=>{u="click",this.emit(ks.Hover,{x:t,y:r,lngLat:n,type:u})},400))}}let vF=0;function EF(e){let t=e;if(typeof e=="string"&&(t=document.getElementById(e)),t){const r=document.createElement("div");return r.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,r.id=`l7-scene-${vF++}`,r.classList.add("l7-scene"),t.appendChild(r),r}return null}function xF(e){var t;let r=!0;if((e==null||(t=e.target)===null||t===void 0?void 0:t.target)instanceof HTMLElement){var n;let u=e==null||(n=e.target)===null||n===void 0?void 0:n.target;for(;u;){var s;const i=Array.from(u.classList);if(i.includes("l7-marker")||i.includes("l7-popup")){r=!1;break}u=(s=u)===null||s===void 0?void 0:s.parentElement}}return r}let Ey=function(e){return e[e.SAMPLED=0]="SAMPLED",e[e.RENDER_TARGET=1]="RENDER_TARGET",e}({});class PF{constructor(t){var r=this;H(this,"pickedColors",void 0),H(this,"pickedTileLayers",[]),H(this,"pickingFBO",void 0),H(this,"width",0),H(this,"height",0),H(this,"alreadyInPicking",!1),H(this,"pickBufferScale",1),H(this,"pickFromPickingFBO",function(){var n=ft(function*(s,{x:u,y:i,lngLat:y,type:m,target:g}){let x=!1;const{readPixelsAsync:b,getViewportSize:A}=r.rendererService,{width:w,height:M}=A(),{enableHighlight:V,enableSelect:k}=s.getLayerConfig(),Q=u*lu,q=i*lu;if(Q>w-1*lu||Q<0||q>M-1*lu||q<0)return!1;const K=yield b({x:Math.floor(Q/r.pickBufferScale),y:Math.floor((M-(i+1)*lu)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:r.pickingFBO});if(r.pickedColors=K,K[0]!==0||K[1]!==0||K[2]!==0){const te=f0(K),se=s.layerPickService.getFeatureById(te);te!==s.getCurrentPickId()&&m==="mousemove"&&(m="mouseenter");const ke={x:u,y:i,type:m,lngLat:y,featureId:te,feature:se,target:g};se&&(x=!0,s.setCurrentPickId(te),r.triggerHoverOnLayer(s,ke))}else{const te={x:u,y:i,lngLat:y,type:s.getCurrentPickId()!==null&&m==="mousemove"?"mouseout":"un"+m,featureId:null,target:g,feature:null};r.triggerHoverOnLayer(s,Et(Et({},te),{},{type:"unpick"})),r.triggerHoverOnLayer(s,te),s.setCurrentPickId(null)}if(V&&s.layerPickService.highlightPickedFeature(K),k&&m==="click"&&(K==null?void 0:K.toString())!==[0,0,0,0].toString()){const te=f0(K);s.getCurrentSelectedId()===null||te!==s.getCurrentSelectedId()?(s.layerPickService.selectFeature(K),s.setCurrentSelectedId(te)):(s.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),s.setCurrentSelectedId(null))}return x});return function(s,u){return n.apply(this,arguments)}}()),this.container=t}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(t){const{createTexture2D:r,createFramebuffer:n,getViewportSize:s}=this.rendererService;let{width:u,height:i}=s();this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,u=Math.round(u/this.pickBufferScale),i=Math.round(i/this.pickBufferScale);const y=r({width:u,height:i,usage:Ey.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=n({color:y,depth:!0,width:u,height:i}),this.interactionService.on(ks.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(t,r,n){var s=this;return ft(function*(){const{useFramebufferAsync:u,clear:i}=s.rendererService;s.resizePickingFBO(),t.hooks.beforePickingEncode.call(),yield u(s.pickingFBO,ft(function*(){i({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.renderModels({ispick:!0})})),t.hooks.afterPickingEncode.call();const y=yield s.pickBox(t,r);n(y)})()}pickBox(t,r){var n=this;return ft(function*(){const[s,u,i,y]=r.map(Q=>{const q=Q<0?0:Q;return Math.floor(q*lu/n.pickBufferScale)}),{readPixelsAsync:m,getViewportSize:g}=n.rendererService,{width:x,height:b}=g();if(s>(x-1)*lu/n.pickBufferScale||i<0||u>(b-1)*lu/n.pickBufferScale||y<0)return[];const A=Math.min(x/n.pickBufferScale,i)-s,w=Math.min(b/n.pickBufferScale,y)-u,M=yield m({x:s,y:Math.floor(b/n.pickBufferScale-(y+1)),width:A,height:w,data:new Uint8Array(A*w*4),framebuffer:n.pickingFBO}),V=[],k={};for(let Q=0;Q<M.length/4;Q=Q+1){const q=M.slice(Q*4,Q*4+4),K=f0(q);if(K!==-1&&!k[K]){const te=t.layerPickService.getFeatureById(K);V.push(Et(Et({},te),{},{pickedFeatureIdx:K})),k[K]=!0}}return V})()}handleCursor(t,r){const{cursor:n="",cursorEnabled:s}=t.getLayerConfig();if(s){const i=this.mapService.version==="GAODE2.x"?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),y=i==null?void 0:i.style.getPropertyValue("cursor");r==="unmousemove"&&y!==""?i==null||i.style.setProperty("cursor",""):r==="mousemove"&&(i==null||i.style.setProperty("cursor",n))}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(t){var r=this;return ft(function*(){!r.layerService.needPick(t.type)||!r.isPickingAllLayer()||(r.alreadyInPicking=!0,yield r.pickingLayers(t),r.layerService.renderLayers(),r.alreadyInPicking=!1)})()}isPickingAllLayer(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}resizePickingFBO(){const{getViewportSize:t}=this.rendererService,{width:r,height:n}=t();(this.width!==r||this.height!==n)&&(this.pickingFBO.resize({width:Math.round(r/this.pickBufferScale),height:Math.round(n/this.pickBufferScale)}),this.width=r,this.height=n)}pickingLayers(t){var r=this;return ft(function*(){const{clear:n,useFramebufferAsync:s}=r.rendererService;r.resizePickingFBO();const u=r.layerService.getRenderList();for(const i of u.filter(y=>y.needPick(t.type)).reverse()){yield s(r.pickingFBO,ft(function*(){n({framebuffer:r.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),i.layerPickService.pickRender(t)}));const y=yield r.pickFromPickingFBO(i,t);if(r.layerService.pickedLayerId=y?+i.id:-1,y&&!i.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(t,r){xF(r)&&(this.handleCursor(t,r.type),t.emit(r.type,r))}}class bF{constructor(t=!0){H(this,"autoStart",void 0),H(this,"startTime",0),H(this,"oldTime",0),H(this,"running",!1),H(this,"elapsedTime",0),this.autoStart=t}start(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=(typeof performance>"u"?Date:performance).now();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}const{throttle:Y_}=Wi;class FF extends fu.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(t){super(),H(this,"pickedLayerId",-1),H(this,"clock",new bF),H(this,"alreadyInRendering",!1),H(this,"layers",[]),H(this,"layerList",[]),H(this,"layerRenderID",void 0),H(this,"sceneInited",!1),H(this,"animateInstanceCount",0),H(this,"shaderPicking",!0),H(this,"enableRender",!0),H(this,"reRender",Y_(()=>{this.renderLayers()},32)),H(this,"throttleRenderLayers",Y_(()=>{this.renderLayers()},16)),this.container=t}needPick(t){return this.updateLayerRenderList(),this.layerList.some(r=>r.needPick(t))}add(t){this.layers.push(t),this.sceneInited&&t.init().then(()=>{this.renderLayers()})}addMask(t){this.sceneInited&&t.init().then(()=>{this.renderLayers()})}initLayers(){var t=this;return ft(function*(){t.sceneInited=!0,t.layers.forEach(function(){var r=ft(function*(n){n.startInit||(yield n.init(),t.updateLayerRenderList())});return function(n){return r.apply(this,arguments)}}())})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(t){return this.layers.find(r=>r.id===t)}getLayerByName(t){return this.layers.find(r=>r.name===t)}remove(t,r){var n=this;return ft(function*(){r?r.layerChildren=r.layerChildren.filter(s=>s!==t):n.layers=n.layers.filter(s=>s!==t),t.destroy(),n.reRender(),n.emit("layerChange",n.layers)})()}removeAllLayers(){var t=this;return ft(function*(){t.destroy(),t.reRender()})()}setEnableRender(t){this.enableRender=t}renderLayers(){var t=this;return ft(function*(){if(t.alreadyInRendering||!t.enableRender)return;t.updateLayerRenderList();const r=t.debugService.generateRenderUid();t.debugService.renderStart(r),t.alreadyInRendering=!0,t.clear();for(const n of t.layerList)n.prerender();t.renderService.beginFrame();for(const n of t.layerList){const{enableMask:s}=n.getLayerConfig();n.masks.filter(u=>u.inited).length>0&&s&&t.renderMask(n.masks),n.getLayerConfig().enableMultiPassRenderer?yield n.renderMultiPass():n.render()}t.renderService.endFrame(),t.debugService.renderEnd(r),t.alreadyInRendering=!1})()}renderMask(t){let r=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});const n=t.length>1?y0.MULTIPLE:y0.SINGLE;for(const s of t)s.render({isStencil:!0,stencilType:n,stencilIndex:r++})}beforeRenderData(t){var r=this;return ft(function*(){(yield t.hooks.beforeRenderData.promise())&&r.renderLayers()})()}renderTileLayerMask(t){let r=0;const{enableMask:n=!0}=t.getLayerConfig();let s=t.tileMask?1:0;const u=t.masks.filter(y=>y.inited);s=s+(n?u.length:1);const i=s>1?y0.MULTIPLE:y0.SINGLE;if((t.tileMask||u.length&&n)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),u.length&&n)for(const y of u)y.render({isStencil:!0,stencilType:i,stencilIndex:r++});t.tileMask&&t.tileMask.render({isStencil:!0,stencilType:i,stencilIndex:r++,stencilOperation:Wf.OR})}renderTileLayer(t){var r=this;return ft(function*(){r.renderTileLayerMask(t),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():yield t.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(t=>t.inited).filter(t=>t.isVisible()).sort((t,r)=>t.zIndex-r.zIndex).forEach(t=>{this.layerList.push(t)})}destroy(){this.layers.forEach(t=>{t.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}startAnimate(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}stopAnimate(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){const t=Dn(this.mapService.bgColor);this.renderService.clear({color:t,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}}function AF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kp(e,t){if(e==null)return{};var r=AF(e,t),n,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(s=0;s<u.length;s++)n=u[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const{isNil:SF}=Wi;class TF{constructor(t){H(this,"name",void 0),H(this,"type",void 0),H(this,"scale",void 0),H(this,"descriptor",void 0),H(this,"featureBufferLayout",[]),H(this,"needRescale",!1),H(this,"needRemapping",!1),H(this,"needRegenerateVertices",!1),H(this,"featureRange",{startIndex:0,endIndex:1/0}),H(this,"vertexAttribute",void 0),H(this,"defaultCallback",r=>{if(r.length===0){var n;return((n=this.scale)===null||n===void 0?void 0:n.defaultValues)||[]}return r.map((s,u)=>{var i;return((i=this.scale)===null||i===void 0?void 0:i.scalers[u].func)(s)})}),this.setProps(t)}setProps(t){Object.assign(this,t)}mapping(t){var r;if((r=this.scale)!==null&&r!==void 0&&r.callback){var n;const s=(n=this.scale)===null||n===void 0?void 0:n.callback(...t);if(!SF(s))return[s]}return this.defaultCallback(t)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}}const wF=["buffer","update","name"],RF=["buffer","update","name"],CF={[L.FLOAT]:4,[L.UNSIGNED_BYTE]:1,[L.UNSIGNED_SHORT]:2};class MF{constructor(t){H(this,"attributesAndIndices",void 0),H(this,"attributes",[]),H(this,"triangulation",void 0),H(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=t}registerStyleAttribute(t){let r=this.getLayerStyleAttribute(t.name||"");return r?r.setProps(t):(r=new TF(t),this.attributes.push(r)),r}unRegisterStyleAttribute(t){const r=this.attributes.findIndex(n=>n.name===t);r>-1&&this.attributes.splice(r,1)}updateScaleAttribute(t){this.attributes.forEach(r=>{var n;const s=r.name,u=(n=r.scale)===null||n===void 0?void 0:n.field;(t[s]||u&&t[u])&&(r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0)})}updateStyleAttribute(t,r,n){let s=this.getLayerStyleAttribute(t);s||(s=this.registerStyleAttribute(Et(Et({},r),{},{name:t})));const{scale:u}=r;u&&s&&(s.scale=u,s.needRescale=!0,s.needRemapping=!0,s.needRegenerateVertices=!0,n&&n.featureRange&&(s.featureRange=n.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(t){return this.attributes.find(r=>r.name===t)}getLayerAttributeScale(t){var r;const n=this.getLayerStyleAttribute(t),s=n==null||(r=n.scale)===null||r===void 0?void 0:r.scalers;return s&&s[0]?s[0].func:null}updateAttributeByFeatureRange(t,r,n=0,s,u){const i=this.attributes.find(y=>y.name===t);if(i&&i.descriptor){const{descriptor:y}=i,{update:m,buffer:g,size:x=0}=y,b=CF[g.type||L.FLOAT];if(m){const{elements:A,sizePerElement:w}=this.featureLayout,M=A.slice(n,s);if(!M.length)return;const{offset:V}=M[0],k=V*x*b,Q=M.map(({featureIdx:q,vertices:K,normals:te},se)=>{const ke=K.length/w,Ee=[];for(let je=0;je<ke;je++){const mt=te?te.slice(je*3,je*3+3):[];Ee.push(...m(r[q],q,K.slice(je*w,je*w+w),se,mt))}return Ee}).flat();i.vertexAttribute.updateBuffer({data:Q,offset:k}),u==null||u.emit(`legend:${t}`,u.getLegend(t))}}}createAttributesAndIndices(t,r,n,s){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const u=this.attributes.map(V=>(V.resetDescriptor(),V.descriptor));let i=0,y=0;const m=[];let g=3;t.forEach((V,k)=>{const{indices:Q,vertices:q,normals:K,size:te,indexes:se,count:ke}=this.triangulation(V,n);typeof ke=="number"&&(y+=ke),Q.forEach(je=>{m.push(je+i)}),g=te;const Ee=q.length/te;this.featureLayout.sizePerElement=g,this.featureLayout.elements.push({featureIdx:k,vertices:q,normals:K,offset:i}),i+=Ee;for(let je=0;je<Ee;je++){const mt=(K==null?void 0:K.slice(je*3,je*3+3))||[],He=q.slice(je*te,je*te+te);let Fe=0;se&&se[je]!==void 0&&(Fe=se[je]),u.forEach((Le,ze)=>{Le&&Le.update&&Le.buffer.data.push(...Le.update(V,k,He,je,mt,Fe))})}});const{createAttribute:x,createBuffer:b,createElements:A}=this.rendererService,w={};u.forEach((V,k)=>{if(V){const{buffer:Q,update:q,name:K}=V,te=Kp(V,wF),se=x(Et({buffer:b(Q)},te));w[V.name||""]=se,this.attributes[k].vertexAttribute=se}});const M=A({data:m,type:L.UNSIGNED_INT,count:m.length});return this.attributesAndIndices={attributes:w,elements:M,count:y},Object.values(this.attributes).filter(V=>V.scale).forEach(V=>{const k=V.name;s==null||s.emit(`legend:${k}`,s.getLegend(k))}),this.attributesAndIndices}createAttributes(t,r){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const n=this.attributes.map(g=>(g.resetDescriptor(),g.descriptor));let s=0,u=3;t.forEach((g,x)=>{const{indices:b,vertices:A,normals:w,size:M,indexes:V}=this.triangulation(g);b.forEach(Q=>{}),u=M;const k=A.length/M;this.featureLayout.sizePerElement=u,this.featureLayout.elements.push({featureIdx:x,vertices:A,normals:w,offset:s}),s+=k;for(let Q=0;Q<k;Q++){const q=(w==null?void 0:w.slice(Q*3,Q*3+3))||[],K=A.slice(Q*M,Q*M+M);let te=0;V&&V[Q]!==void 0&&(te=V[Q]),n.forEach((se,ke)=>{se&&se.update&&se.buffer.data.push(...se.update(g,x,K,Q,q,te))})}});const{createAttribute:i,createBuffer:y}=this.rendererService,m={};return n.forEach((g,x)=>{if(g){const{buffer:b,update:A,name:w}=g,M=Kp(g,RF),V=i(Et({buffer:y(b)},M));m[g.name||""]=V,this.attributes[x].vertexAttribute=V}}),{attributes:m}}clearAllAttributes(){var t;this.attributes.forEach(r=>{r.vertexAttribute&&r.vertexAttribute.destroy()}),(t=this.attributesAndIndices)===null||t===void 0||t.elements.destroy(),this.attributes=[]}}function I8(e,t,r,n){function s(u){return u instanceof r?u:new r(function(i){i(u)})}return new(r||(r=Promise))(function(u,i){function y(x){try{g(n.next(x))}catch(b){i(b)}}function m(x){try{g(n.throw(x))}catch(b){i(b)}}function g(x){x.done?u(x.value):s(x.value).then(y,m)}g((n=n.apply(e,[])).next())})}function N8(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,s,u,i;return i={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function y(g){return function(x){return m([g,x])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],s=0}finally{n=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function T6(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(y){i={error:y}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return u}function w6(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))}function D8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R2={exports:{}},yf={exports:{}},xy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=t.default})(xy,xy.exports);var js={},C2={exports:{}},M2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];var u=n.pop();return r.call(this,n,u)}},e.exports=t.default})(M2,M2.exports);var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.fallback=O8;Rl.wrap=L8;var IF=Rl.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,NF=Rl.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,DF=Rl.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function O8(e){setTimeout(e,0)}function L8(e){return function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return e(function(){return t.apply(void 0,r)})}}var Jd;IF?Jd=queueMicrotask:NF?Jd=setImmediate:DF?Jd=process.nextTick:Jd=O8;Rl.default=L8(Jd);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=M2.exports,n=y(r),s=Rl,u=y(s),i=js;function y(b){return b&&b.__esModule?b:{default:b}}function m(b){return(0,i.isAsync)(b)?function(){for(var A=[],w=arguments.length;w--;)A[w]=arguments[w];var M=A.pop(),V=b.apply(this,A);return g(V,M)}:(0,n.default)(function(A,w){var M;try{M=b.apply(this,A)}catch(V){return w(V)}if(M&&typeof M.then=="function")return g(M,w);w(null,M)})}function g(b,A){return b.then(function(w){x(A,null,w)},function(w){x(A,w&&w.message?w:new Error(w))})}function x(b,A,w){try{b(A,w)}catch(M){(0,u.default)(function(V){throw V},M)}}e.exports=t.default})(C2,C2.exports);Object.defineProperty(js,"__esModule",{value:!0});js.isAsyncIterable=js.isAsyncGenerator=js.isAsync=void 0;var OF=C2.exports,LF=BF(OF);function BF(e){return e&&e.__esModule?e:{default:e}}function B8(e){return e[Symbol.toStringTag]==="AsyncFunction"}function UF(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function kF(e){return typeof e[Symbol.asyncIterator]=="function"}function zF(e){if(typeof e!="function")throw new Error("expected a function");return B8(e)?(0,LF.default)(e):e}js.default=zF;js.isAsync=B8;js.isAsyncGenerator=UF;js.isAsyncIterable=kF;var g0={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,s){if(s===void 0&&(s=n.length),!s)throw new Error("arity is undefined");function u(){for(var i=this,y=[],m=arguments.length;m--;)y[m]=arguments[m];return typeof y[s-1]=="function"?n.apply(this,y):new Promise(function(g,x){y[s-1]=function(b){for(var A=[],w=arguments.length-1;w-- >0;)A[w]=arguments[w+1];if(b)return x(b);g(A.length>1?A:A[0])},n.apply(i,y)})}return u}e.exports=t.default})(g0,g0.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=xy.exports,n=m(r),s=js,u=m(s),i=g0.exports,y=m(i);function m(g){return g&&g.__esModule?g:{default:g}}t.default=(0,y.default)(function(g,x,b){var A=(0,n.default)(x)?[]:{};g(x,function(w,M,V){(0,u.default)(w)(function(k){for(var Q,q=[],K=arguments.length-1;K-- >0;)q[K]=arguments[K+1];q.length<2&&(Q=q,q=Q[0]),A[M]=q,V(k)})},function(w){return b(w,A)})},3),e.exports=t.default})(yf,yf.exports);var I2={exports:{}},hf={exports:{}},N2={exports:{}},Py={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function s(){for(var u=[],i=arguments.length;i--;)u[i]=arguments[i];if(n!==null){var y=n;n=null,y.apply(this,u)}}return Object.assign(s,n),s}e.exports=t.default})(Py,Py.exports);var D2={exports:{}},O2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default})(O2,O2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=xy.exports,n=i(r),s=O2.exports,u=i(s);function i(b){return b&&b.__esModule?b:{default:b}}function y(b){var A=-1,w=b.length;return function(){return++A<w?{value:b[A],key:A}:null}}function m(b){var A=-1;return function(){var M=b.next();return M.done?null:(A++,{value:M.value,key:A})}}function g(b){var A=b?Object.keys(b):[],w=-1,M=A.length;return function V(){var k=A[++w];return k==="__proto__"?V():w<M?{value:b[k],key:k}:null}}function x(b){if((0,n.default)(b))return y(b);var A=(0,u.default)(b);return A?m(A):g(b)}e.exports=t.default})(D2,D2.exports);var by={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];if(n===null)throw new Error("Callback was already called.");var i=n;n=null,i.apply(this,s)}}e.exports=t.default})(by,by.exports);var L2={exports:{}},Fy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=r,e.exports=t.default})(Fy,Fy.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=Fy.exports,n=s(r);function s(i){return i&&i.__esModule?i:{default:i}}function u(i,y,m,g){var x=!1,b=!1,A=!1,w=0,M=0;function V(){w>=y||A||x||(A=!0,i.next().then(function(q){var K=q.value,te=q.done;if(!(b||x)){if(A=!1,te){x=!0,w<=0&&g(null);return}w++,m(K,M,k),M++,V()}}).catch(Q))}function k(q,K){if(w-=1,!b){if(q)return Q(q);if(q===!1){x=!0,b=!0;return}if(K===n.default||x&&w<=0)return x=!0,g(null);V()}}function Q(q){b||(A=!1,x=!0,g(q))}V()}e.exports=t.default})(L2,L2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Py.exports,n=w(r),s=D2.exports,u=w(s),i=by.exports,y=w(i),m=js,g=L2.exports,x=w(g),b=Fy.exports,A=w(b);function w(M){return M&&M.__esModule?M:{default:M}}t.default=function(M){return function(V,k,Q){if(Q=(0,n.default)(Q),M<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!V)return Q(null);if((0,m.isAsyncGenerator)(V))return(0,x.default)(V,M,k,Q);if((0,m.isAsyncIterable)(V))return(0,x.default)(V[Symbol.asyncIterator](),M,k,Q);var q=(0,u.default)(V),K=!1,te=!1,se=0,ke=!1;function Ee(mt,He){if(!te)if(se-=1,mt)K=!0,Q(mt);else if(mt===!1)K=!0,te=!0;else{if(He===A.default||K&&se<=0)return K=!0,Q(null);ke||je()}}function je(){for(ke=!0;se<M&&!K;){var mt=q();if(mt===null){K=!0,se<=0&&Q(null);return}se+=1,k(mt.value,mt.key,(0,y.default)(Ee))}ke=!1}je()}},e.exports=t.default})(N2,N2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=N2.exports,n=m(r),s=js,u=m(s),i=g0.exports,y=m(i);function m(x){return x&&x.__esModule?x:{default:x}}function g(x,b,A,w){return(0,n.default)(b)(x,(0,u.default)(A),w)}t.default=(0,y.default)(g,4),e.exports=t.default})(hf,hf.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=hf.exports,n=i(r),s=g0.exports,u=i(s);function i(m){return m&&m.__esModule?m:{default:m}}function y(m,g,x){return(0,n.default)(m,1,g,x)}t.default=(0,u.default)(y,3),e.exports=t.default})(I2,I2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var r=yf.exports,n=i(r),s=I2.exports,u=i(s);function i(m){return m&&m.__esModule?m:{default:m}}function y(m,g){return(0,n.default)(u.default,m,g)}e.exports=t.default})(R2,R2.exports);var Zf=D8(R2.exports),Xp=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return this.args=r,Zf(this.tasks)},e.prototype.tap=function(t,r){var n=this;this.tasks.push(function(s){r.apply(void 0,w6([],T6(n.args),!1)),s(null,t)})},e}(),$_={exports:{}},B2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=xy.exports,n=k(r),s=Fy.exports,u=k(s),i=hf.exports,y=k(i),m=Py.exports,g=k(m),x=by.exports,b=k(x),A=js,w=k(A),M=g0.exports,V=k(M);function k(te){return te&&te.__esModule?te:{default:te}}function Q(te,se,ke){ke=(0,g.default)(ke);var Ee=0,je=0,mt=te.length,He=!1;mt===0&&ke(null);function Fe(Le,ze){Le===!1&&(He=!0),He!==!0&&(Le?ke(Le):(++je===mt||ze===u.default)&&ke(null))}for(;Ee<mt;Ee++)se(te[Ee],Ee,(0,b.default)(Fe))}function q(te,se,ke){return(0,y.default)(te,1/0,se,ke)}function K(te,se,ke){var Ee=(0,n.default)(te)?Q:q;return Ee(te,(0,w.default)(se),ke)}t.default=(0,V.default)(K,3),e.exports=t.default})(B2,B2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var r=B2.exports,n=i(r),s=yf.exports,u=i(s);function i(m){return m&&m.__esModule?m:{default:m}}function y(m,g){return(0,u.default)(n.default,m,g)}e.exports=t.default})($_,$_.exports);var U2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Py.exports,n=x(r),s=by.exports,u=x(s),i=js,y=x(i),m=g0.exports,g=x(m);function x(A){return A&&A.__esModule?A:{default:A}}function b(A,w){if(w=(0,n.default)(w),!Array.isArray(A))return w(new Error("First argument to waterfall must be an array of functions"));if(!A.length)return w();var M=0;function V(Q){var q=(0,y.default)(A[M++]);q.apply(void 0,Q.concat([(0,u.default)(k)]))}function k(Q){for(var q=[],K=arguments.length-1;K-- >0;)q[K]=arguments[K+1];if(Q!==!1){if(Q||M===A.length)return w.apply(void 0,[Q].concat(q));V(q)}}V([])}t.default=(0,g.default)(b),e.exports=t.default})(U2,U2.exports);var VF=D8(U2.exports),q_=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return Zf(this.tasks)},e.prototype.tap=function(t,r){this.tasks.push(function(n){var s=r();n(s,t)})},e}(),HF=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return this.args=r,Zf(this.tasks)},e.prototype.tapPromise=function(t,r){var n=this;this.tasks.push(function(s){return I8(n,void 0,void 0,function(){return N8(this,function(u){switch(u.label){case 0:return[4,r.apply(void 0,w6([],T6(this.args),!1))];case 1:return u.sent(),s(null,t),[2]}})})})},e}(),GF=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return this.args=r,Zf(this.tasks)},e.prototype.tapPromise=function(t,r){var n=this;this.tasks.push(function(s){return I8(n,void 0,void 0,function(){var u;return N8(this,function(i){switch(i.label){case 0:return[4,r.apply(void 0,w6([],T6(this.args),!1))];case 1:return u=i.sent(),s(u,t),[2]}})})})},e}(),jF=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return VF(this.tasks)},e.prototype.tapPromise=function(t,r){this.tasks.length===0?this.tasks.push(function(n){r().then(function(s){n(null,s)})}):this.tasks.push(function(n,s){r(n).then(function(u){s(null,u)})})},e}(),U8={exports:{}},WF=U8.exports={};WF.forEach=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r]);if(n)return n}};var k8=U8.exports,ZF=function(e){var t=e.stateHandler.getState;function r(i){var y=t(i);return y&&!!y.isDetectable}function n(i){t(i).isDetectable=!0}function s(i){return!!t(i).busy}function u(i,y){t(i).busy=!!y}return{isDetectable:r,markAsDetectable:n,isBusy:s,markBusy:u}},XF=function(e){var t={};function r(i){var y=e.get(i);return y===void 0?[]:t[y]||[]}function n(i,y){var m=e.get(i);t[m]||(t[m]=[]),t[m].push(y)}function s(i,y){for(var m=r(i),g=0,x=m.length;g<x;++g)if(m[g]===y){m.splice(g,1);break}}function u(i){var y=r(i);y&&(y.length=0)}return{get:r,add:n,removeListener:s,removeAllListeners:u}},YF=function(){var e=1;function t(){return e++}return{generate:t}},$F=function(e){var t=e.idGenerator,r=e.stateHandler.getState;function n(u){var i=r(u);return i&&i.id!==void 0?i.id:null}function s(u){var i=r(u);if(!i)throw new Error("setId required the element to have a resize detection state.");var y=t.generate();return i.id=y,y}return{get:n,set:s}},qF=function(e){function t(){}var r={log:t,warn:t,error:t};if(!e&&window.console){var n=function(s,u){s[u]=function(){var y=console[u];if(y.apply)y.apply(console,arguments);else for(var m=0;m<arguments.length;m++)y(arguments[m])}};n(r,"log"),n(r,"warn"),n(r,"error")}return r},z8={exports:{}},V8=z8.exports={};V8.isIE=function(e){function t(){var n=navigator.userAgent.toLowerCase();return n.indexOf("msie")!==-1||n.indexOf("trident")!==-1||n.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var r=function(){var n,s=3,u=document.createElement("div"),i=u.getElementsByTagName("i");do u.innerHTML="<!--[if gt IE "+ ++s+"]><i></i><![endif]-->";while(i[0]);return s>4?s:n}();return e===r};V8.isLegacyOpera=function(){return!!window.opera};var H8=z8.exports,G8={exports:{}},KF=G8.exports={};KF.getOption=QF;function QF(e,t,r){var n=e[t];return n==null&&r!==void 0?r:n}var JF=G8.exports,K_=JF,eA=function(t){t=t||{};var r=t.reporter,n=K_.getOption(t,"async",!0),s=K_.getOption(t,"auto",!0);s&&!n&&(r&&r.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var u=Q_(),i,y=!1;function m(M,V){!y&&s&&n&&u.size()===0&&b(),u.add(M,V)}function g(){for(y=!0;u.size();){var M=u;u=Q_(),M.process()}y=!1}function x(M){y||(M===void 0&&(M=n),i&&(A(i),i=null),M?b():g())}function b(){i=w(g)}function A(M){var V=clearTimeout;return V(M)}function w(M){var V=function(k){return setTimeout(k,0)};return V(M)}return{add:m,force:x}};function Q_(){var e={},t=0,r=0,n=0;function s(y,m){m||(m=y,y=0),y>r?r=y:y<n&&(n=y),e[y]||(e[y]=[]),e[y].push(m),t++}function u(){for(var y=n;y<=r;y++)for(var m=e[y],g=0;g<m.length;g++){var x=m[g];x()}}function i(){return t}return{add:s,process:u,size:i}}var R6="_erd";function tA(e){return e[R6]={},j8(e)}function j8(e){return e[R6]}function rA(e){delete e[R6]}var oA={initState:tA,getState:j8,cleanState:rA},Od=H8,nA=function(e){e=e||{};var t=e.reporter,r=e.batchProcessor,n=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function s(g,x){function b(){x(g)}if(Od.isIE(8))n(g).object={proxy:b},g.attachEvent("onresize",b);else{var A=y(g);if(!A)throw new Error("Element is not detectable by this strategy.");A.contentDocument.defaultView.addEventListener("resize",b)}}function u(g){var x=e.important?" !important; ":"; ";return(g.join(x)+x).trim()}function i(g,x,b){b||(b=x,x=g,g=null),g=g||{},g.debug;function A(w,M){var V=u(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),k=!1,Q=window.getComputedStyle(w),q=w.offsetWidth,K=w.offsetHeight;n(w).startSize={width:q,height:K};function te(){function se(){if(Q.position==="static"){w.style.setProperty("position","relative",g.important?"important":"");var je=function(mt,He,Fe,Le){function ze(Vt){return Vt.replace(/[^-\d\.]/g,"")}var st=Fe[Le];st!=="auto"&&ze(st)!=="0"&&(mt.warn("An element that is positioned static has style."+Le+"="+st+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Le+" will be set to 0. Element: ",He),He.style.setProperty(Le,"0",g.important?"important":""))};je(t,w,Q,"top"),je(t,w,Q,"right"),je(t,w,Q,"bottom"),je(t,w,Q,"left")}}function ke(){k||se();function je(He,Fe){if(!He.contentDocument){var Le=n(He);Le.checkForObjectDocumentTimeoutId&&window.clearTimeout(Le.checkForObjectDocumentTimeoutId),Le.checkForObjectDocumentTimeoutId=setTimeout(function(){Le.checkForObjectDocumentTimeoutId=0,je(He,Fe)},100);return}Fe(He.contentDocument)}var mt=this;je(mt,function(Fe){M(w)})}Q.position!==""&&(se(),k=!0);var Ee=document.createElement("object");Ee.style.cssText=V,Ee.tabIndex=-1,Ee.type="text/html",Ee.setAttribute("aria-hidden","true"),Ee.onload=ke,Od.isIE()||(Ee.data="about:blank"),n(w)&&(w.appendChild(Ee),n(w).object=Ee,Od.isIE()&&(Ee.data="about:blank"))}r?r.add(te):te()}Od.isIE(8)?b(x):A(x,b)}function y(g){return n(g).object}function m(g){if(n(g)){var x=y(g);x&&(Od.isIE(8)?g.detachEvent("onresize",x.proxy):g.removeChild(x),n(g).checkForObjectDocumentTimeoutId&&window.clearTimeout(n(g).checkForObjectDocumentTimeoutId),delete n(g).object)}}return{makeDetectable:i,addListener:s,uninstall:m}},iA=k8.forEach,aA=function(e){e=e||{};var t=e.reporter,r=e.batchProcessor,n=e.stateHandler.getState;e.stateHandler.hasState;var s=e.idHandler;if(!r)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var u=x(),i="erd_scroll_detection_scrollbar_style",y="erd_scroll_detection_container";function m(te){b(te,i,y)}m(window.document);function g(te){var se=e.important?" !important; ":"; ";return(te.join(se)+se).trim()}function x(){var te=500,se=500,ke=document.createElement("div");ke.style.cssText=g(["position: absolute","width: "+te*2+"px","height: "+se*2+"px","visibility: hidden","margin: 0","padding: 0"]);var Ee=document.createElement("div");Ee.style.cssText=g(["position: absolute","width: "+te+"px","height: "+se+"px","overflow: scroll","visibility: none","top: "+-te*3+"px","left: "+-se*3+"px","visibility: hidden","margin: 0","padding: 0"]),Ee.appendChild(ke),document.body.insertBefore(Ee,document.body.firstChild);var je=te-Ee.clientWidth,mt=se-Ee.clientHeight;return document.body.removeChild(Ee),{width:je,height:mt}}function b(te,se,ke){function Ee(Fe,Le){Le=Le||function(st){te.head.appendChild(st)};var ze=te.createElement("style");return ze.innerHTML=Fe,ze.id=se,Le(ze),ze}if(!te.getElementById(se)){var je=ke+"_animation",mt=ke+"_animation_active",He=`/* Created by the element-resize-detector library. */
`;He+="."+ke+" > div::-webkit-scrollbar { "+g(["display: none"])+` }

`,He+="."+mt+" { "+g(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+je,"animation-name: "+je])+` }
`,He+="@-webkit-keyframes "+je+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,He+="@keyframes "+je+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",Ee(He)}}function A(te){te.className+=" "+y+"_animation_active"}function w(te,se,ke){if(te.addEventListener)te.addEventListener(se,ke);else if(te.attachEvent)te.attachEvent("on"+se,ke);else return t.error("[scroll] Don't know how to add event listeners.")}function M(te,se,ke){if(te.removeEventListener)te.removeEventListener(se,ke);else if(te.detachEvent)te.detachEvent("on"+se,ke);else return t.error("[scroll] Don't know how to remove event listeners.")}function V(te){return n(te).container.childNodes[0].childNodes[0].childNodes[0]}function k(te){return n(te).container.childNodes[0].childNodes[0].childNodes[1]}function Q(te,se){var ke=n(te).listeners;if(!ke.push)throw new Error("Cannot add listener to an element that is not detectable.");n(te).listeners.push(se)}function q(te,se,ke){ke||(ke=se,se=te,te=null),te=te||{};function Ee(){if(te.debug){var $e=Array.prototype.slice.call(arguments);if($e.unshift(s.get(se),"Scroll: "),t.log.apply)t.log.apply(null,$e);else for(var Yt=0;Yt<$e.length;Yt++)t.log($e[Yt])}}function je($e){function Yt(Tr){var At=Tr.getRootNode&&Tr.getRootNode().contains(Tr);return Tr===Tr.ownerDocument.body||Tr.ownerDocument.body.contains(Tr)||At}return!Yt($e)||window.getComputedStyle($e)===null}function mt($e){var Yt=n($e).container.childNodes[0],Tr=window.getComputedStyle(Yt);return!Tr.width||Tr.width.indexOf("px")===-1}function He(){var $e=window.getComputedStyle(se),Yt={};return Yt.position=$e.position,Yt.width=se.offsetWidth,Yt.height=se.offsetHeight,Yt.top=$e.top,Yt.right=$e.right,Yt.bottom=$e.bottom,Yt.left=$e.left,Yt.widthCSS=$e.width,Yt.heightCSS=$e.height,Yt}function Fe(){var $e=He();n(se).startSize={width:$e.width,height:$e.height},Ee("Element start size",n(se).startSize)}function Le(){n(se).listeners=[]}function ze(){if(Ee("storeStyle invoked."),!n(se)){Ee("Aborting because element has been uninstalled");return}var $e=He();n(se).style=$e}function st($e,Yt,Tr){n($e).lastWidth=Yt,n($e).lastHeight=Tr}function Vt($e){return V($e).childNodes[0]}function nr(){return 2*u.width+1}function Fr(){return 2*u.height+1}function $r($e){return $e+10+nr()}function mr($e){return $e+10+Fr()}function Er($e){return $e*2+nr()}function Kr($e){return $e*2+Fr()}function eo($e,Yt,Tr){var At=V($e),xr=k($e),io=$r(Yt),vo=mr(Tr),ro=Er(Yt),Qr=Kr(Tr);At.scrollLeft=io,At.scrollTop=vo,xr.scrollLeft=ro,xr.scrollTop=Qr}function go(){var $e=n(se).container;if(!$e){$e=document.createElement("div"),$e.className=y,$e.style.cssText=g(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),n(se).container=$e,A($e),se.appendChild($e);var Yt=function(){n(se).onRendered&&n(se).onRendered()};w($e,"animationstart",Yt),n(se).onAnimationStart=Yt}return $e}function wo(){function $e(){var pn=n(se).style;if(pn.position==="static"){se.style.setProperty("position","relative",te.important?"important":"");var Si=function(ca,Ti,xs,Hn){function cs(Ws){return Ws.replace(/[^-\d\.]/g,"")}var ba=xs[Hn];ba!=="auto"&&cs(ba)!=="0"&&(ca.warn("An element that is positioned static has style."+Hn+"="+ba+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Hn+" will be set to 0. Element: ",Ti),Ti.style[Hn]=0)};Si(t,se,pn,"top"),Si(t,se,pn,"right"),Si(t,se,pn,"bottom"),Si(t,se,pn,"left")}}function Yt(pn,Si,ca,Ti){return pn=pn?pn+"px":"0",Si=Si?Si+"px":"0",ca=ca?ca+"px":"0",Ti=Ti?Ti+"px":"0",["left: "+pn,"top: "+Si,"right: "+Ti,"bottom: "+ca]}if(Ee("Injecting elements"),!n(se)){Ee("Aborting because element has been uninstalled");return}$e();var Tr=n(se).container;Tr||(Tr=go());var At=u.width,xr=u.height,io=g(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),vo=g(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Yt(-(1+At),-(1+xr),-xr,-At))),ro=g(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Qr=g(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ao=g(["position: absolute","left: 0","top: 0"]),Kn=g(["position: absolute","width: 200%","height: 200%"]),Jo=document.createElement("div"),rn=document.createElement("div"),bi=document.createElement("div"),ue=document.createElement("div"),Fi=document.createElement("div"),Za=document.createElement("div");Jo.dir="ltr",Jo.style.cssText=io,Jo.className=y,rn.className=y,rn.style.cssText=vo,bi.style.cssText=ro,ue.style.cssText=Ao,Fi.style.cssText=Qr,Za.style.cssText=Kn,bi.appendChild(ue),Fi.appendChild(Za),rn.appendChild(bi),rn.appendChild(Fi),Jo.appendChild(rn),Tr.appendChild(Jo);function Ai(){var pn=n(se);pn&&pn.onExpand?pn.onExpand():Ee("Aborting expand scroll handler: element has been uninstalled")}function ps(){var pn=n(se);pn&&pn.onShrink?pn.onShrink():Ee("Aborting shrink scroll handler: element has been uninstalled")}w(bi,"scroll",Ai),w(Fi,"scroll",ps),n(se).onExpandScroll=Ai,n(se).onShrinkScroll=ps}function no(){function $e(ro,Qr,Ao){var Kn=Vt(ro),Jo=$r(Qr),rn=mr(Ao);Kn.style.setProperty("width",Jo+"px",te.important?"important":""),Kn.style.setProperty("height",rn+"px",te.important?"important":"")}function Yt(ro){var Qr=se.offsetWidth,Ao=se.offsetHeight,Kn=Qr!==n(se).lastWidth||Ao!==n(se).lastHeight;Ee("Storing current size",Qr,Ao),st(se,Qr,Ao),r.add(0,function(){if(Kn){if(!n(se)){Ee("Aborting because element has been uninstalled");return}if(!Tr()){Ee("Aborting because element container has not been initialized");return}if(te.debug){var rn=se.offsetWidth,bi=se.offsetHeight;(rn!==Qr||bi!==Ao)&&t.warn(s.get(se),"Scroll: Size changed before updating detector elements.")}$e(se,Qr,Ao)}}),r.add(1,function(){if(!n(se)){Ee("Aborting because element has been uninstalled");return}if(!Tr()){Ee("Aborting because element container has not been initialized");return}eo(se,Qr,Ao)}),Kn&&ro&&r.add(2,function(){if(!n(se)){Ee("Aborting because element has been uninstalled");return}if(!Tr()){Ee("Aborting because element container has not been initialized");return}ro()})}function Tr(){return!!n(se).container}function At(){function ro(){return n(se).lastNotifiedWidth===void 0}Ee("notifyListenersIfNeeded invoked");var Qr=n(se);if(ro()&&Qr.lastWidth===Qr.startSize.width&&Qr.lastHeight===Qr.startSize.height)return Ee("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Qr.lastWidth===Qr.lastNotifiedWidth&&Qr.lastHeight===Qr.lastNotifiedHeight)return Ee("Not notifying: Size already notified");Ee("Current size not notified, notifying..."),Qr.lastNotifiedWidth=Qr.lastWidth,Qr.lastNotifiedHeight=Qr.lastHeight,iA(n(se).listeners,function(Ao){Ao(se)})}function xr(){if(Ee("startanimation triggered."),mt(se)){Ee("Ignoring since element is still unrendered...");return}Ee("Element rendered.");var ro=V(se),Qr=k(se);(ro.scrollLeft===0||ro.scrollTop===0||Qr.scrollLeft===0||Qr.scrollTop===0)&&(Ee("Scrollbars out of sync. Updating detector elements..."),Yt(At))}function io(){if(Ee("Scroll detected."),mt(se)){Ee("Scroll event fired while unrendered. Ignoring...");return}Yt(At)}if(Ee("registerListenersAndPositionElements invoked."),!n(se)){Ee("Aborting because element has been uninstalled");return}n(se).onRendered=xr,n(se).onExpand=io,n(se).onShrink=io;var vo=n(se).style;$e(se,vo.width,vo.height)}function Xn(){if(Ee("finalizeDomMutation invoked."),!n(se)){Ee("Aborting because element has been uninstalled");return}var $e=n(se).style;st(se,$e.width,$e.height),eo(se,$e.width,$e.height)}function Fo(){ke(se)}function On(){Ee("Installing..."),Le(),Fe(),r.add(0,ze),r.add(1,wo),r.add(2,no),r.add(3,Xn),r.add(4,Fo)}Ee("Making detectable..."),je(se)?(Ee("Element is detached"),go(),Ee("Waiting until element is attached..."),n(se).onRendered=function(){Ee("Element is now attached"),On()}):On()}function K(te){var se=n(te);se&&(se.onExpandScroll&&M(V(te),"scroll",se.onExpandScroll),se.onShrinkScroll&&M(k(te),"scroll",se.onShrinkScroll),se.onAnimationStart&&M(se.container,"animationstart",se.onAnimationStart),se.container&&te.removeChild(se.container))}return{makeDetectable:q,addListener:Q,uninstall:K,initDocument:m}},ey=k8.forEach,sA=ZF,uA=XF,pA=YF,cA=$F,lA=qF,J_=H8,dA=eA,yl=oA,yA=nA,hA=aA;function e5(e){return Array.isArray(e)||e.length!==void 0}function t5(e){if(Array.isArray(e))return e;var t=[];return ey(e,function(r){t.push(r)}),t}function r5(e){return e&&e.nodeType===1}var fA=function(e){e=e||{};var t;if(e.idHandler)t={get:function(q){return e.idHandler.get(q,!0)},set:e.idHandler.set};else{var r=pA(),n=cA({idGenerator:r,stateHandler:yl});t=n}var s=e.reporter;if(!s){var u=s===!1;s=lA(u)}var i=hl(e,"batchProcessor",dA({reporter:s})),y={};y.callOnAdd=!!hl(e,"callOnAdd",!0),y.debug=!!hl(e,"debug",!1);var m=uA(t),g=sA({stateHandler:yl}),x,b=hl(e,"strategy","object"),A=hl(e,"important",!1),w={reporter:s,batchProcessor:i,stateHandler:yl,idHandler:t,important:A};if(b==="scroll"&&(J_.isLegacyOpera()?(s.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),b="object"):J_.isIE(9)&&(s.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),b="object")),b==="scroll")x=hA(w);else if(b==="object")x=yA(w);else throw new Error("Invalid strategy name: "+b);var M={};function V(q,K,te){function se(Fe){var Le=m.get(Fe);ey(Le,function(st){st(Fe)})}function ke(Fe,Le,ze){m.add(Le,ze),Fe&&ze(Le)}if(te||(te=K,K=q,q={}),!K)throw new Error("At least one element required.");if(!te)throw new Error("Listener required.");if(r5(K))K=[K];else if(e5(K))K=t5(K);else return s.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var Ee=0,je=hl(q,"callOnAdd",y.callOnAdd),mt=hl(q,"onReady",function(){}),He=hl(q,"debug",y.debug);ey(K,function(Le){yl.getState(Le)||(yl.initState(Le),t.set(Le));var ze=t.get(Le);if(He&&s.log("Attaching listener to element",ze,Le),!g.isDetectable(Le)){if(He&&s.log(ze,"Not detectable."),g.isBusy(Le)){He&&s.log(ze,"System busy making it detectable"),ke(je,Le,te),M[ze]=M[ze]||[],M[ze].push(function(){Ee++,Ee===K.length&&mt()});return}return He&&s.log(ze,"Making detectable..."),g.markBusy(Le,!0),x.makeDetectable({debug:He,important:A},Le,function(Vt){if(He&&s.log(ze,"onElementDetectable"),yl.getState(Vt)){g.markAsDetectable(Vt),g.markBusy(Vt,!1),x.addListener(Vt,se),ke(je,Vt,te);var nr=yl.getState(Vt);if(nr&&nr.startSize){var Fr=Vt.offsetWidth,$r=Vt.offsetHeight;(nr.startSize.width!==Fr||nr.startSize.height!==$r)&&se(Vt)}M[ze]&&ey(M[ze],function(mr){mr()})}else He&&s.log(ze,"Element uninstalled before being detectable.");delete M[ze],Ee++,Ee===K.length&&mt()})}He&&s.log(ze,"Already detecable, adding listener."),ke(je,Le,te),Ee++}),Ee===K.length&&mt()}function k(q){if(!q)return s.error("At least one element is required.");if(r5(q))q=[q];else if(e5(q))q=t5(q);else return s.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ey(q,function(K){m.removeAllListeners(K),x.uninstall(K),yl.cleanState(K)})}function Q(q){x.initDocument&&x.initDocument(q)}return{listenTo:V,removeListener:m.removeListener,removeAllListeners:m.removeAllListeners,uninstall:k,initDocument:Q}};function hl(e,t,r){var n=e[t];return n==null&&r!==void 0?r:n}const mA=vp(fA);let _A=class extends fu.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(t){super(),H(this,"destroyed",!1),H(this,"loaded",!1),H(this,"id",void 0),H(this,"inited",!1),H(this,"rendering",!1),H(this,"$container",void 0),H(this,"canvas",void 0),H(this,"markerContainer",void 0),H(this,"resizeDetector",void 0),H(this,"hooks",void 0),H(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),H(this,"handleMapCameraChanged",r=>{this.cameraService.update(r),this.render()}),this.container=t,this.hooks={init:new HF},this.id=t.id}init(t){var r=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",ft(function*(){r.debugService.log("map.mapInitStart",{type:r.map.version}),yield new Promise(n=>{r.map.onCameraChanged(s=>{r.cameraService.init(),r.cameraService.update(s),n()}),r.map.init()}),r.map.onCameraChanged(r.handleMapCameraChanged),r.map.addMarkerContainer(),r.markerService.addMarkers(),r.markerService.addMarkerLayers(),r.popupService.initPopup(),r.interactionService.init(),r.interactionService.on(ks.Drag,r.addSceneEvent.bind(r))})),this.hooks.init.tapPromise("initRenderer",ft(function*(){var n;const s=((n=r.map)===null||n===void 0?void 0:n.getOverlayContainer())||void 0;if(s?r.$container=s:r.$container=EF(r.configService.getSceneConfig(r.id).id||""),r.$container){if(r.canvas=yu("canvas","",r.$container),r.setCanvas(),yield r.rendererService.init(r.canvas,r.configService.getSceneConfig(r.id),t.gl),r.registerContextLost(),r.initContainer(),r.resizeDetector=mA({strategy:"scroll"}),r.resizeDetector.listenTo(r.$container,r.handleWindowResized),window.matchMedia){var u;(u=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))===null||u===void 0||u.addListener(r.handleWindowResized.bind("screen"))}}else console.error("容器 id 不存在");r.pickingService.init(r.id)})),this.render()}registerContextLost(){const t=this.rendererService.getCanvas();t&&t.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"))}addLayer(t){this.layerService.sceneService=this,this.layerService.add(t)}addMask(t){this.layerService.sceneService=this,this.layerService.addMask(t)}render(){var t=this;return ft(function*(){t.rendering||t.destroyed||(t.rendering=!0,t.inited?(yield t.layerService.initLayers(),yield t.layerService.renderLayers()):(yield t.hooks.init.promise(),t.destroyed&&t.destroy(),yield t.layerService.initLayers(),t.layerService.renderLayers(),t.controlService.addControls(),t.loaded=!0,t.emit("loaded"),t.inited=!0),t.rendering=!1)})()}addFontFace(t,r){this.fontService.addFontFace(t,r)}getSceneContainer(){return this.$container}exportPng(t){var r=this;return ft(function*(){var n;const s=(n=r.$container)===null||n===void 0?void 0:n.getElementsByTagName("canvas")[0];return yield r.render(),t==="jpg"?s==null?void 0:s.toDataURL("image/jpeg"):s==null?void 0:s.toDataURL("image/png")})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){const t=this.$container.parentElement;t!==null&&(this.markerContainer=yu("div","l7-marker-container",t))}getMarkerContainer(){return this.markerContainer}destroy(){var t;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var r;(r=this.$container)===null||r===void 0||r.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),(t=this.$container)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.$container),this.emit("destroy")}initContainer(){var t,r;const n=lu,s=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,u=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,i=this.canvas;i&&(i.width=s*n,i.height=u*n),this.rendererService.viewport({x:0,y:0,width:n*s,height:n*u})}setCanvas(){var t,r;const n=lu,s=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,u=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,i=this.canvas;i.width=s*n,i.height=u*n,i.style.width="100%",i.style.height="100%"}addSceneEvent(t){this.emit(t.type,t)}};const{uniq:gA}=Wi,o5="#define PI 3.14159265359",vA=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,EA=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,xA=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}


vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  return weight;
}
`,PA=`
in vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define HIGHLIGHT 1.0
#define SELECT 2.0

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  float activeType = v_PickingResult.a;
  if(activeType > 0.0) {
    vec4 highLightColor =  activeType > 1.5 ? u_SelectColor : u_HighlightColor;
    highLightColor = highLightColor * COLOR_SCALE;
    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));
    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  }
  else {
    return color;
  }

  
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }
  
}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,bA=`layout(location = 3) in vec3 a_PickingColor;
out vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return distance(vertexColor,u_PickingColor.rgb) < 0.01;
}

// 判断当前点是否已经被 select 选中
bool isVertexSelected(vec3 vertexColor) {
  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  if(u_PickingStage == PICKING_HIGHLIGHT) {
    if(isVertexPicked(pickingColor)) {
       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);
       return;
    }
    if(isVertexSelected(pickingColor)) {
     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);
      return;
    }

  } else {
      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);
      return;
  }

  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));

  // // Stores the picking color so that the fragment shader can render it during picking
  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,n5=`layout(std140) uniform PickingUniforms {
  vec4 u_HighlightColor;
  vec4 u_SelectColor;
  vec3 u_PickingColor;
  float u_PickingStage;
  vec3 u_CurrentSelectedId;
  float u_PickingThreshold;
  float u_PickingBuffer;
  float u_shaderPick;
  float u_activeMix;
};`,FA=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // 经纬度 => 平面坐标
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // 平面坐标 => 经纬度
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,i5=`#define TILE_SIZE 512.0
#define PI 3.1415926536
#define WORLD_SCALE TILE_SIZE / (PI * 2.0)
#define EARTH_CIRCUMFERENCE 40.03e6

#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0           // amap
#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0
#pragma include "scene_uniforms"


// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
   if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return lnglat;
  }
  float x = lnglat.x;
  return vec2(
    radians(x) + PI,
    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))
  );
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}


// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1., 1.);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01
    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}
// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01
// reverse Y
vec3 reverse_offset_normal(vec3 vector) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {
    return vector * vec3(1.0, -1.0, 1.0);
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return vector;
  }
  return vector;
}

vec4 project_mvt_offset_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    return project_offset(vec4(0.0, 0.0, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }
  return position;
}

vec4 project_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(vec4(X, Y, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return vec4(
      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),
      project_scale(position.z),
      position.w
    );
  }

  // if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
 

  //    return vec4(
  //     position.xy,
  //     project_scale(position.z),
  //     position.w);
  // }
  return position;

  // TODO: 瓦片坐标系 & 常规世界坐标系
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}



float project_pixel_allmap(float pixel) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
    return pixel * pow(2.0, u_Zoom);
  }
  return pixel * u_FocalDistance ;
}

// 适配纹理贴图的等像素大小
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance ;
  }

  // amap2 zoom > 12
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;
  }

  // amap zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    return pixel * pow(0.5, u_Zoom)* u_FocalDistance ;
  }

  // amap zoom < 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return pixel * pow(2.0, (20.0 - u_Zoom))* u_FocalDistance ;
  }
  return pixel * 2.0 *  u_FocalDistance;;
}

// 在不论什么底图下需要统一处理的时候使用
float project_float_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // mapbox P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, (19.0 - u_Zoom))  * u_FocalDistance ;
  }
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // amap P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // amap2 P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;
  }
  return pixel * u_FocalDistance;
}

// Project meter into the unit of pixel which used in the camera world space
float project_float_meter(float meter) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Since the zoom level uniform is updated by mapservice and it's alread been subtracted by 1
    // Not sure if we are supposed to do that again
   return meter;
  } else  {
    return project_float_pixel(meter);
  }

  // TODO: change the following code to make adaptations for amap
  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;
}

float project_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // amap P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // amap2 P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;
  }
  return pixel * u_FocalDistance;
}
vec2 project_pixel(vec2 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;
  }
  return pixel * -1. * u_FocalDistance;
}
vec3 project_pixel(vec3 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, (19.0 - u_Zoom)) *  u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))  * u_FocalDistance ;
  }
  return pixel * -1. * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
     pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}


bool isEqual( float a,  float b) {
    return  a< b + 0.001 && a > b - 0.001;
}

// 支持 GaodeV2、Mapbox
vec4 project_common_position_to_clipspace_v2(vec4 position) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    return u_Mvp * position;
  } else {
    return project_common_position_to_clipspace(position);
  }
}
`,AA=`vec2 rotate_matrix(vec2 v, float a) {
    float b = a / 180.0 * 3.1415926535897932384626433832795;
    float s = sin(b);
    float c = cos(b);
    mat2 m = mat2(c, s, -s, c);
    return m * v;
}`,a5=`layout(std140) uniform SceneUniforms {
  mat4 u_ViewMatrix;
  mat4 u_ProjectionMatrix;
  mat4 u_ViewProjectionMatrix;
  mat4 u_ModelMatrix;
  vec4 u_ViewportCenterProjection;
  vec3 u_PixelsPerDegree;
  float u_Zoom;
  vec3 u_PixelsPerDegree2;
  float u_ZoomScale;
  vec3 u_PixelsPerMeter;
  float u_CoordinateSystem;
  vec3 u_CameraPosition;
  float u_DevicePixelRatio;
  vec2 u_ViewportCenter;
  vec2 u_ViewportSize;
  float u_FocalDistance;
};

layout(std140) uniform LayerUniforms {
  mat4 u_Mvp;
  vec2 u_sceneCenterMercator;
};
`,SA=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,s5=/precision\s+(high|low|medium)p\s+float/,u5=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,TA=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,wA=/void\s+main\s*\([^)]*\)\s*\{\n?/;class RA{constructor(){H(this,"moduleCache",{}),H(this,"rawContentCache",{})}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:o5,fs:o5}),this.registerModule("decode",{vs:EA,fs:""}),this.registerModule("scene_uniforms",{vs:a5,fs:a5}),this.registerModule("picking_uniforms",{vs:n5,fs:n5}),this.registerModule("projection",{vs:i5,fs:i5}),this.registerModule("project",{vs:FA,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:SA}),this.registerModule("lighting",{vs:xA,fs:""}),this.registerModule("light",{vs:vA,fs:""}),this.registerModule("picking",{vs:bA,fs:PA}),this.registerModule("rotation_2d",{vs:AA,fs:""})}registerModule(t,r){r.vs=r.vs.replace(/\r\n/g,`
`),r.fs=r.fs.replace(/\r\n/g,`
`);const{vs:n,fs:s,uniforms:u,inject:i}=r,{content:y,uniforms:m}=Wm(n),{content:g,uniforms:x}=Wm(s);this.rawContentCache[t]={fs:g,inject:i,uniforms:Et(Et(Et({},m),x),u),vs:y}}destroy(){this.moduleCache={},this.rawContentCache={}}getModule(t){let r=this.rawContentCache[t].vs,n=this.rawContentCache[t].fs;const s=this.rawContentCache[t].inject;let u={};s!=null&&s["vs:#decl"]&&(r=(s==null?void 0:s["vs:#decl"])+r,u=Wm(s==null?void 0:s["vs:#decl"]).uniforms),s!=null&&s["vs:#main-start"]&&(r=r.replace(wA,w=>w+(s==null?void 0:s["vs:#main-start"]))),s!=null&&s["fs:#decl"]&&(n=(s==null?void 0:s["fs:#decl"])+n);const{content:i,includeList:y}=this.processModule(r,[],"vs"),{content:m,includeList:g}=this.processModule(n,[],"fs");let x="";const b=gA(y.concat(g).concat(t)).reduce((w,M)=>Et(Et({},w),this.rawContentCache[M].uniforms),Et({},u));s5.test(m)||(x=x+u5),x=x+m;let A="";return s5.test(i)||(A=A+u5),A=A+i,this.moduleCache[t]={fs:x.trim(),uniforms:b,vs:A.trim()},this.moduleCache[t]}processModule(t,r,n){return{content:t.replace(TA,(u,i)=>{const m=i.split(" ")[0].replace(/"/g,"");if(r.indexOf(m)>-1)return"";const g=this.rawContentCache[m][n];r.push(m);const{content:x}=this.processModule(g,r,n);return x}),includeList:r}}injectDefines(t){return Object.keys(t).reduce((n,s)=>n+`#define ${s.toUpperCase()} ${t[s]};
`,`
`)}}class C6{constructor(){H(this,"shaderModuleService",void 0),H(this,"rendererService",void 0),H(this,"cameraService",void 0),H(this,"mapService",void 0),H(this,"interactionService",void 0),H(this,"layerService",void 0),H(this,"config",void 0)}getName(){return""}getType(){return By.Normal}init(t,r){this.config=r,this.rendererService=t.getContainer().rendererService,this.cameraService=t.getContainer().cameraService,this.mapService=t.getContainer().mapService,this.interactionService=t.getContainer().interactionService,this.layerService=t.getContainer().layerService,this.shaderModuleService=t.getContainer().shaderModuleService}render(t){}}class CA extends C6{getName(){return"clear"}init(t,r){super.init(t,r)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}class MA{constructor(t){H(this,"passes",[]),H(this,"layer",void 0),H(this,"renderFlag",void 0),H(this,"width",0),H(this,"height",0),this.postProcessor=t}setLayer(t){this.layer=t}setRenderFlag(t){this.renderFlag=t}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var t=this;return ft(function*(){for(const r of t.passes)yield r.render(t.layer);yield t.postProcessor.render(t.layer)})()}resize(t,r){(this.width!==t||this.height!==r)&&(this.postProcessor.resize(t,r),this.width=t,this.height=r)}add(t,r){t.getType()===By.PostProcessing?this.postProcessor.add(t,this.layer,r):(t.init(this.layer,r),this.passes.push(t))}insert(t,r,n){t.init(this.layer,r),this.passes.splice(n,0,t)}destroy(){this.passes.length=0}}class IA extends C6{constructor(...t){var r;super(...t),r=this,H(this,"pickingFBO",void 0),H(this,"layer",void 0),H(this,"width",0),H(this,"height",0),H(this,"alreadyInRendering",!1),H(this,"pickFromPickingFBO",({x:n,y:s,lngLat:u,type:i})=>{if(!this.layer.isVisible()||!this.layer.needPick(i))return;const{getViewportSize:y,readPixelsAsync:m,useFramebuffer:g}=this.rendererService,{width:x,height:b}=y(),{enableHighlight:A,enableSelect:w}=this.layer.getLayerConfig(),M=n*lu,V=s*lu;if(M>x||M<0||V>b||V<0)return;let k;g(this.pickingFBO,ft(function*(){var Q;if(k=yield m({x:Math.round(M),y:Math.round(b-(s+1)*lu),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:r.pickingFBO}),k[0]!==0||k[1]!==0||k[2]!==0){const q=f0(k),K=r.layer.getSource().getFeatureById(q),te={x:n,y:s,type:i,lngLat:u,featureId:q,feature:K};K&&(r.layer.setCurrentPickId(q),r.triggerHoverOnLayer(te))}else{const q={x:n,y:s,lngLat:u,type:r.layer.getCurrentPickId()===null?"un"+i:"mouseout",featureId:null,feature:null};r.triggerHoverOnLayer(Et(Et({},q),{},{type:"unpick"})),r.triggerHoverOnLayer(q),r.layer.setCurrentPickId(null)}A&&r.highlightPickedFeature(k),w&&i==="click"&&((Q=k)===null||Q===void 0?void 0:Q.toString())!==[0,0,0,0].toString()&&r.selectFeature(k)}))})}getType(){return By.Normal}getName(){return"pixelPicking"}init(t,r){super.init(t,r),this.layer=t;const{createTexture2D:n,createFramebuffer:s,getViewportSize:u}=this.rendererService,{width:i,height:y}=u(),m=n({width:i,height:y,wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=s({color:m}),this.interactionService.on(ks.Hover,this.pickFromPickingFBO),this.interactionService.on(ks.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(ks.Active,this.highlightFeatureHandle.bind(this))}render(t){if(this.alreadyInRendering)return;const{getViewportSize:r,useFramebuffer:n,clear:s}=this.rendererService,{width:u,height:i}=r();this.alreadyInRendering=!0,(this.width!==u||this.height!==i)&&(this.pickingFBO.resize({width:u,height:i}),this.width=u,this.height=i),n(this.pickingFBO,()=>{s({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});const y=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),t.hooks.beforePickingEncode.call(),t.render(),t.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(y),this.alreadyInRendering=!1})}triggerHoverOnLayer(t){this.layer.emit(t.type,t)}highlightPickedFeature(t){const[r,n,s]=t;this.layer.hooks.beforeHighlight.call([r,n,s]),this.layerService.renderLayers()}selectFeature(t){const[r,n,s]=t;this.layer.hooks.beforeSelect.call([r,n,s]),this.layerService.renderLayers()}selectFeatureHandle({featureId:t}){const r=V1(t);this.selectFeature(new Uint8Array(r))}highlightFeatureHandle({featureId:t}){const r=V1(t);this.highlightPickedFeature(new Uint8Array(r))}}class NA{constructor(t){H(this,"passes",[]),H(this,"readFBO",void 0),H(this,"writeFBO",void 0),this.rendererService=t,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){const{getViewportSize:t,createTexture2D:r}=this.rendererService,{width:n,height:s}=t();return r({x:0,y:0,width:n,height:s,copy:!0})}getReadFBOTex(){var t=this;const{useFramebuffer:r}=this.rendererService;return new Promise(n=>{r(this.readFBO,ft(function*(){n(t.getCurrentFBOTex())}))})}renderBloomPass(t,r){var n=this;return ft(function*(){const s=yield n.getReadFBOTex();let u=0;for(;u<4;)yield r.render(t,s),n.swap(),u++})()}render(t){var r=this;return ft(function*(){for(let n=0;n<r.passes.length;n++){const s=r.passes[n];s.setRenderToScreen(r.isLastEnabledPass(n)),s.getName()==="bloom"?yield r.renderBloomPass(t,s):(yield s.render(t),n!==r.passes.length-1&&r.swap())}})()}resize(t,r){this.readFBO.resize({width:t,height:r}),this.writeFBO.resize({width:t,height:r})}add(t,r,n){t.init(r,n),this.passes.push(t)}insert(t,r,n,s){t.init(n,s),this.passes.splice(r,0,t)}getPostProcessingPassByName(t){return this.passes.find(r=>r.getName()===t)}init(){const{createFramebuffer:t,createTexture2D:r}=this.rendererService;this.readFBO=t({color:r({width:1,height:1,wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE})}),this.writeFBO=t({color:r({width:1,height:1,wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE})})}isLastEnabledPass(t){for(let r=t+1;r<this.passes.length;r++)if(this.passes[r].isEnabled())return!1;return!0}swap(){const t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}class DA extends C6{getType(){return By.Normal}getName(){return"render"}init(t,r){super.init(t,r)}render(t){const{useFramebuffer:r,clear:n}=this.rendererService,s=t.multiPassRenderer.getPostProcessor().getReadFBO();r(s,()=>{n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:s}),t.multiPassRenderer.setRenderFlag(!1),t.models.forEach(u=>{u.draw({uniforms:t.layerModel.getUninforms()})}),t.multiPassRenderer.setRenderFlag(!0)})}}const OA=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,LA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:Xm}=Wi;class BA extends Dc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:LA,fs:OA});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}convertOptionsToUniforms(t){const r={};return Xm(t.bloomRadius)||(r.u_radius=t.bloomRadius),Xm(t.bloomIntensity)||(r.u_intensity=t.bloomIntensity),Xm(t.bloomBaseRadio)||(r.u_baseRadio=t.bloomBaseRadio),r}}const UA=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,kA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:zA}=Wi;class VA extends Dc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:kA,fs:UA});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}convertOptionsToUniforms(t){const r={};return zA(t.blurRadius)||(r.u_BlurDir=[t.blurRadius,0]),r}}const HA=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,GA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:jA}=Wi;class WA extends Dc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:GA,fs:HA});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}convertOptionsToUniforms(t){const r={};return jA(t.blurRadius)||(r.u_BlurDir=[0,t.blurRadius]),r}}const ZA=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,XA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class YA extends Dc{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:XA,fs:ZA});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}}const $A=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,qA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class KA extends Dc{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:qA,fs:$A}),this.shaderModuleService.getModule("copy-pass")}}const QA=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,JA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class eS extends Dc{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:JA,fs:QA});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}}const tS=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,rS=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class oS extends Dc{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:rS,fs:tS});const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("ink-pass"),{width:s,height:u}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:Et(Et({},n),{},{u_ViewportSize:[s,u]})}}}const nS=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,iS=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class aS extends Dc{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:iS,fs:nS}),this.shaderModuleService.getModule("noise-pass")}}const sS=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,uS=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`;class pS extends Dc{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:sS,fs:uS}),this.shaderModuleService.getModule("sepia-pass")}}const W8=new lF;let cS=0;function lS(){const e=new RA,t=new fF,r=new rF,n=new hF(r),s=new Jb,u=new tF,i=new iF,y=new aF,m=new nF,g={id:`${cS++}`,globalConfigService:W8,shaderModuleService:e,debugService:t,cameraService:r,coordinateSystemService:n,fontService:s,iconService:u,markerService:i,popupService:y,controlService:m,customRenderService:{}},x=new FF(g);g.layerService=x;const b=new _A(g);g.sceneService=b;const A=new gF(g);g.interactionService=A;const w=new PF(g);g.pickingService=w;const M={clear:new CA,pixelPicking:new IA,render:new DA};g.normalPassFactory=k=>M[k];const V={copy:new KA,bloom:new BA,blurH:new VA,blurV:new WA,noise:new aS,sepia:new pS,colorHalftone:new YA,hexagonalPixelate:new eS,ink:new oS};return g.postProcessingPass=V,g.postProcessingPassFactory=k=>V[k],g}function dy(e){const t=Et({},e);return t.postProcessor=new NA(t.rendererService),t.multiPassRenderer=new MA(t.postProcessor),t.styleAttributeService=new MF(t.rendererService),t}const Ch=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];let ja=function(e){return e.IMAGE="image",e.CUSTOMIMAGE="customImage",e.ARRAYBUFFER="arraybuffer",e.RGB="rgb",e.TERRAINRGB="terrainRGB",e.CUSTOMRGB="customRGB",e.CUSTOMARRAYBUFFER="customArrayBuffer",e.CUSTOMTERRAINRGB="customTerrainRGB",e}({});var Z8=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),dS=(e,t,r,n)=>Z8(void 0,null,function*(){return new Promise((s,u)=>{t({x:e.x,y:e.y,z:e.z},(i,y)=>{if(i||y.length===0){u(i);return}y&&w2([{data:y,bands:[0]}],r,n,(m,g)=>{m?u(m):g&&s(g)})})})}),yS=(e,t)=>Z8(void 0,null,function*(){return new Promise((r,n)=>{t({x:e.x,y:e.y,z:e.z},(s,u)=>{if(s||!u){n(s);return}u instanceof ArrayBuffer?iE(u,(i,y)=>{i&&n(i),r(y)}):u instanceof HTMLImageElement?r(u):n(s)})})});function hS(e,t){return Array.isArray(e)?typeof e[0]=="string"?e.map(r=>N1(r,t)):e.map(r=>({url:N1(r.url,t),bands:r.bands||[0]})):N1(e,t)}function fS(e){return typeof e=="string"?[{url:e,bands:[0]}]:typeof e[0]=="string"?e.map(t=>({url:t,bands:[0]})):e}function p5(e,t){e.xhrCancel=()=>{t.map(r=>{r.abort()})}}var mS=Object.defineProperty,_S=Object.defineProperties,gS=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,vS=Object.prototype.hasOwnProperty,ES=Object.prototype.propertyIsEnumerable,l5=(e,t,r)=>t in e?mS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d5=(e,t)=>{for(var r in t||(t={}))vS.call(t,r)&&l5(e,r,t[r]);if(c5)for(var r of c5(t))ES.call(t,r)&&l5(e,r,t[r]);return e},y5=(e,t)=>_S(e,gS(t)),X8=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),xS=(e,t,r,n,s)=>X8(void 0,null,function*(){const u=fS(t.url);if(u.length>1){const{rasterFiles:i,xhrList:y,errList:m}=yield PS(u,t);if(p5(e,y),m.length>0){r(m,null);return}w2(i,n,s,r)}else{const i=m6(t,(y,m)=>{if(y)r(y);else if(m){const g=[{data:m,bands:u[0].bands}];w2(g,n,s,r)}});p5(e,[i])}});function PS(e,t){return X8(this,null,function*(){const r=[],n=[],s=[];for(let u=0;u<e.length;u++){const i=e[u],y=y5(d5({},t),{url:i.url}),m=i.bands,{err:g,data:x,xhr:b}=yield rE(y5(d5({},y),{type:"arrayBuffer"}));g&&s.push(g),n.push(b),r.push({data:x,bands:m})}return{rasterFiles:r,xhrList:n,errList:s}})}var bS=Object.defineProperty,FS=Object.defineProperties,AS=Object.getOwnPropertyDescriptors,h5=Object.getOwnPropertySymbols,SS=Object.prototype.hasOwnProperty,TS=Object.prototype.propertyIsEnumerable,f5=(e,t,r)=>t in e?bS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qh=(e,t)=>{for(var r in t||(t={}))SS.call(t,r)&&f5(e,r,t[r]);if(h5)for(var r of h5(t))TS.call(t,r)&&f5(e,r,t[r]);return e},Y8=(e,t)=>FS(e,AS(t)),$8=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),wS=(e,t,r,n)=>$8(void 0,null,function*(){const{format:s=q8,operation:u,requestParameters:i={}}=n,y=Y8(qh({},i),{url:hS(e,t)});return new Promise((m,g)=>{xS(r,y,(x,b)=>{x?g(x):b&&m(b)},s,u)})}),m5=(e,t,r,n)=>$8(void 0,null,function*(){let s;const u=Array.isArray(e)?e[0]:e;return n.wmtsOptions?s=((n==null?void 0:n.getURLFromTemplate)||yx)(u,qh(qh({},t),n.wmtsOptions)):s=((n==null?void 0:n.getURLFromTemplate)||N1)(u,t),new Promise((i,y)=>{var m;const g=m2(Y8(qh({},n==null?void 0:n.requestParameters),{url:s,type:((m=n==null?void 0:n.requestParameters)==null?void 0:m.type)||"arrayBuffer"}),(x,b)=>{x?y(x):b&&i(b)},n.transformResponse);r.xhrCancel=()=>g.cancel()})}),q8=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),RS=Object.defineProperty,CS=Object.defineProperties,MS=Object.getOwnPropertyDescriptors,_5=Object.getOwnPropertySymbols,IS=Object.prototype.hasOwnProperty,NS=Object.prototype.propertyIsEnumerable,g5=(e,t,r)=>t in e?RS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v5=(e,t)=>{for(var r in t||(t={}))IS.call(t,r)&&g5(e,r,t[r]);if(_5)for(var r of _5(t))NS.call(t,r)&&g5(e,r,t[r]);return e},DS=(e,t)=>CS(e,MS(t)),OS={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};ja.ARRAYBUFFER,ja.RGB;function LS(e){return!!(Array.isArray(e)&&e.length===0||!Array.isArray(e)&&typeof e!="string")}function BS(e,t={}){if(LS(e))throw new Error("tile server url is error");let r=(t==null?void 0:t.dataType)||ja.IMAGE;r===ja.RGB&&(r=ja.ARRAYBUFFER);const n=(u,i)=>{switch(r){case ja.IMAGE:return m5(e,u,i,t);case ja.CUSTOMIMAGE:case ja.CUSTOMTERRAINRGB:return yS(i,t==null?void 0:t.getCustomData);case ja.ARRAYBUFFER:return wS(e,u,i,t);case ja.CUSTOMARRAYBUFFER:case ja.CUSTOMRGB:return dS(i,t==null?void 0:t.getCustomData,(t==null?void 0:t.format)||q8,t==null?void 0:t.operation);default:return m5(e,u,i,t)}},s=DS(v5(v5({},OS),t),{getTileData:n});return{data:e,dataArray:[],tilesetOptions:s,isTile:!0}}var US=Object.defineProperty,kS=Object.defineProperties,zS=Object.getOwnPropertyDescriptors,ff=Object.getOwnPropertySymbols,K8=Object.prototype.hasOwnProperty,Q8=Object.prototype.propertyIsEnumerable,E5=(e,t,r)=>t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,VS=(e,t)=>{for(var r in t||(t={}))K8.call(t,r)&&E5(e,r,t[r]);if(ff)for(var r of ff(t))Q8.call(t,r)&&E5(e,r,t[r]);return e},HS=(e,t)=>kS(e,zS(t)),GS=(e,t)=>{var r={};for(var n in e)K8.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ff)for(var n of ff(e))t.indexOf(n)<0&&Q8.call(e,n)&&(r[n]=e[n]);return r};function jS(e,t){const r=t,{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:s,width:u,height:i}=r,y=GS(r,["extent","coordinates","width","height"]);e.length<2&&console.warn("RGB解析需要2个波段的数据");const[m,g]=y.bands||[0,1],x=[e[m],e[g]],b=[];for(let M=0;M<x[0].length;M++)b.push((x[1][M]-x[0][M])/(x[1][M]+x[0][M]));const A=Ly(s,n);return{_id:1,dataArray:[HS(VS({_id:1,data:b,width:u,height:i},y),{coordinates:A})]}}var WS=Object.defineProperty,ZS=Object.defineProperties,XS=Object.getOwnPropertyDescriptors,mf=Object.getOwnPropertySymbols,J8=Object.prototype.hasOwnProperty,e7=Object.prototype.propertyIsEnumerable,x5=(e,t,r)=>t in e?WS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,YS=(e,t)=>{for(var r in t||(t={}))J8.call(t,r)&&x5(e,r,t[r]);if(mf)for(var r of mf(t))e7.call(t,r)&&x5(e,r,t[r]);return e},$S=(e,t)=>ZS(e,XS(t)),qS=(e,t)=>{var r={};for(var n in e)J8.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&mf)for(var n of mf(e))t.indexOf(n)<0&&e7.call(e,n)&&(r[n]=e[n]);return r};function KS(e,t){const r=t,{extent:n,coordinates:s,width:u,height:i}=r,y=qS(r,["extent","coordinates","width","height"]);e.length<3&&console.warn("RGB解析需要三个波段的数据");const[m,g,x]=y.bands||[0,1,2],b=[e[m],e[g],e[x]],A=[],[w,M]=(y==null?void 0:y.countCut)||[2,98],V=(y==null?void 0:y.RMinMax)||O1(b[0],w,M),k=(y==null?void 0:y.GMinMax)||O1(b[1],w,M),Q=(y==null?void 0:y.BMinMax)||O1(b[2],w,M);for(let te=0;te<b[0].length;te++)A.push(Math.max(0,b[0][te]-V[0])),A.push(Math.max(0,b[1][te]-k[0])),A.push(Math.max(0,b[2][te]-Q[0]));const q=Ly(s,n);return{_id:1,dataArray:[$S(YS({_id:1,data:A,width:u,height:i,rMinMax:V,gMinMax:k,bMinMax:Q},y),{coordinates:q})]}}var QS=Object.defineProperty,JS=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,_f=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,r7=Object.prototype.propertyIsEnumerable,P5=(e,t,r)=>t in e?QS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tT=(e,t)=>{for(var r in t||(t={}))t7.call(t,r)&&P5(e,r,t[r]);if(_f)for(var r of _f(t))r7.call(t,r)&&P5(e,r,t[r]);return e},rT=(e,t)=>JS(e,eT(t)),oT=(e,t)=>{var r={};for(var n in e)t7.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&_f)for(var n of _f(e))t.indexOf(n)<0&&r7.call(e,n)&&(r[n]=e[n]);return r};function nT(e,t){const r=t,{extent:n,coordinates:s,min:u,max:i,width:y,height:m,format:g,operation:x}=r,b=oT(r,["extent","coordinates","min","max","width","height","format","operation"]);let A;if(g===void 0||m8(e))A=Array.from(e);else{const V=Array.isArray(e)?e:[e];A=A6(V,g,x)}const w=Ly(s,n);return{_id:1,dataArray:[rT(tT({_id:1,data:A,width:y,height:m},b),{min:u,max:i,coordinates:w})]}}var iT=Object.defineProperty,aT=Object.defineProperties,sT=Object.getOwnPropertyDescriptors,b5=Object.getOwnPropertySymbols,uT=Object.prototype.hasOwnProperty,pT=Object.prototype.propertyIsEnumerable,F5=(e,t,r)=>t in e?iT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A5=(e,t)=>{for(var r in t||(t={}))uT.call(t,r)&&F5(e,r,t[r]);if(b5)for(var r of b5(t))pT.call(t,r)&&F5(e,r,t[r]);return e},cT=(e,t)=>aT(e,sT(t)),lT=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),dT={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},yT=e=>lT(void 0,null,function*(){return new Promise(t=>{const[r,n,s,u]=e.bounds,i={layers:{testTile:{features:[{type:"Feature",properties:{key:e.x+"/"+e.y+"/"+e.z,x:(r+s)/2,y:(n+u)/2},geometry:{type:"LineString",coordinates:[[s,u],[s,n],[r,n],[r,n]]}}]}}};t(i)})});function hT(e,t){const r=s=>yT(s),n=cT(A5(A5({},dT),t),{getTileData:r});return{data:e,dataArray:[],tilesetOptions:n,isTile:!0}}var o7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(s6,function(){function r(He,Fe,Le,ze,st,Vt){if(!(st-ze<=Le)){var nr=ze+st>>1;n(He,Fe,nr,ze,st,Vt%2),r(He,Fe,Le,ze,nr-1,Vt+1),r(He,Fe,Le,nr+1,st,Vt+1)}}function n(He,Fe,Le,ze,st,Vt){for(;st>ze;){if(st-ze>600){var nr=st-ze+1,Fr=Le-ze+1,$r=Math.log(nr),mr=.5*Math.exp(2*$r/3),Er=.5*Math.sqrt($r*mr*(nr-mr)/nr)*(Fr-nr/2<0?-1:1),Kr=Math.max(ze,Math.floor(Le-Fr*mr/nr+Er)),eo=Math.min(st,Math.floor(Le+(nr-Fr)*mr/nr+Er));n(He,Fe,Le,Kr,eo,Vt)}var go=Fe[2*Le+Vt],wo=ze,no=st;for(s(He,Fe,ze,Le),Fe[2*st+Vt]>go&&s(He,Fe,ze,st);wo<no;){for(s(He,Fe,wo,no),wo++,no--;Fe[2*wo+Vt]<go;)wo++;for(;Fe[2*no+Vt]>go;)no--}Fe[2*ze+Vt]===go?s(He,Fe,ze,no):(no++,s(He,Fe,no,st)),no<=Le&&(ze=no+1),Le<=no&&(st=no-1)}}function s(He,Fe,Le,ze){u(He,Le,ze),u(Fe,2*Le,2*ze),u(Fe,2*Le+1,2*ze+1)}function u(He,Fe,Le){var ze=He[Fe];He[Fe]=He[Le],He[Le]=ze}function i(He,Fe,Le,ze,st,Vt,nr){for(var Fr=[0,He.length-1,0],$r=[],mr,Er;Fr.length;){var Kr=Fr.pop(),eo=Fr.pop(),go=Fr.pop();if(eo-go<=nr){for(var wo=go;wo<=eo;wo++)mr=Fe[2*wo],Er=Fe[2*wo+1],mr>=Le&&mr<=st&&Er>=ze&&Er<=Vt&&$r.push(He[wo]);continue}var no=Math.floor((go+eo)/2);mr=Fe[2*no],Er=Fe[2*no+1],mr>=Le&&mr<=st&&Er>=ze&&Er<=Vt&&$r.push(He[no]);var Xn=(Kr+1)%2;(Kr===0?Le<=mr:ze<=Er)&&(Fr.push(go),Fr.push(no-1),Fr.push(Xn)),(Kr===0?st>=mr:Vt>=Er)&&(Fr.push(no+1),Fr.push(eo),Fr.push(Xn))}return $r}function y(He,Fe,Le,ze,st,Vt){for(var nr=[0,He.length-1,0],Fr=[],$r=st*st;nr.length;){var mr=nr.pop(),Er=nr.pop(),Kr=nr.pop();if(Er-Kr<=Vt){for(var eo=Kr;eo<=Er;eo++)m(Fe[2*eo],Fe[2*eo+1],Le,ze)<=$r&&Fr.push(He[eo]);continue}var go=Math.floor((Kr+Er)/2),wo=Fe[2*go],no=Fe[2*go+1];m(wo,no,Le,ze)<=$r&&Fr.push(He[go]);var Xn=(mr+1)%2;(mr===0?Le-st<=wo:ze-st<=no)&&(nr.push(Kr),nr.push(go-1),nr.push(Xn)),(mr===0?Le+st>=wo:ze+st>=no)&&(nr.push(go+1),nr.push(Er),nr.push(Xn))}return Fr}function m(He,Fe,Le,ze){var st=He-Le,Vt=Fe-ze;return st*st+Vt*Vt}var g=function(He){return He[0]},x=function(He){return He[1]},b=function(Fe,Le,ze,st,Vt){Le===void 0&&(Le=g),ze===void 0&&(ze=x),st===void 0&&(st=64),Vt===void 0&&(Vt=Float64Array),this.nodeSize=st,this.points=Fe;for(var nr=Fe.length<65536?Uint16Array:Uint32Array,Fr=this.ids=new nr(Fe.length),$r=this.coords=new Vt(Fe.length*2),mr=0;mr<Fe.length;mr++)Fr[mr]=mr,$r[2*mr]=Le(Fe[mr]),$r[2*mr+1]=ze(Fe[mr]);r(Fr,$r,st,0,Fr.length-1,0)};b.prototype.range=function(Fe,Le,ze,st){return i(this.ids,this.coords,Fe,Le,ze,st,this.nodeSize)},b.prototype.within=function(Fe,Le,ze){return y(this.ids,this.coords,Fe,Le,ze,this.nodeSize)};var A={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(He){return He}},w=Math.fround||function(He){return function(Fe){return He[0]=+Fe,He[0]}}(new Float32Array(1)),M=function(Fe){this.options=Ee(Object.create(A),Fe),this.trees=new Array(this.options.maxZoom+1)};M.prototype.load=function(Fe){var Le=this.options,ze=Le.log,st=Le.minZoom,Vt=Le.maxZoom,nr=Le.nodeSize;ze&&console.time("total time");var Fr="prepare "+Fe.length+" points";ze&&console.time(Fr),this.points=Fe;for(var $r=[],mr=0;mr<Fe.length;mr++)Fe[mr].geometry&&$r.push(k(Fe[mr],mr));this.trees[Vt+1]=new b($r,je,mt,nr,Float32Array),ze&&console.timeEnd(Fr);for(var Er=Vt;Er>=st;Er--){var Kr=+Date.now();$r=this._cluster($r,Er),this.trees[Er]=new b($r,je,mt,nr,Float32Array),ze&&console.log("z%d: %d clusters in %dms",Er,$r.length,+Date.now()-Kr)}return ze&&console.timeEnd("total time"),this},M.prototype.getClusters=function(Fe,Le){var ze=((Fe[0]+180)%360+360)%360-180,st=Math.max(-90,Math.min(90,Fe[1])),Vt=Fe[2]===180?180:((Fe[2]+180)%360+360)%360-180,nr=Math.max(-90,Math.min(90,Fe[3]));if(Fe[2]-Fe[0]>=360)ze=-180,Vt=180;else if(ze>Vt){var Fr=this.getClusters([ze,st,180,nr],Le),$r=this.getClusters([-180,st,Vt,nr],Le);return Fr.concat($r)}for(var mr=this.trees[this._limitZoom(Le)],Er=mr.range(K(ze),te(nr),K(Vt),te(st)),Kr=[],eo=0,go=Er;eo<go.length;eo+=1){var wo=go[eo],no=mr.points[wo];Kr.push(no.numPoints?Q(no):this.points[no.index])}return Kr},M.prototype.getChildren=function(Fe){var Le=this._getOriginId(Fe),ze=this._getOriginZoom(Fe),st="No cluster with the specified id.",Vt=this.trees[ze];if(!Vt)throw new Error(st);var nr=Vt.points[Le];if(!nr)throw new Error(st);for(var Fr=this.options.radius/(this.options.extent*Math.pow(2,ze-1)),$r=Vt.within(nr.x,nr.y,Fr),mr=[],Er=0,Kr=$r;Er<Kr.length;Er+=1){var eo=Kr[Er],go=Vt.points[eo];go.parentId===Fe&&mr.push(go.numPoints?Q(go):this.points[go.index])}if(mr.length===0)throw new Error(st);return mr},M.prototype.getLeaves=function(Fe,Le,ze){Le=Le||10,ze=ze||0;var st=[];return this._appendLeaves(st,Fe,Le,ze,0),st},M.prototype.getTile=function(Fe,Le,ze){var st=this.trees[this._limitZoom(Fe)],Vt=Math.pow(2,Fe),nr=this.options,Fr=nr.extent,$r=nr.radius,mr=$r/Fr,Er=(ze-mr)/Vt,Kr=(ze+1+mr)/Vt,eo={features:[]};return this._addTileFeatures(st.range((Le-mr)/Vt,Er,(Le+1+mr)/Vt,Kr),st.points,Le,ze,Vt,eo),Le===0&&this._addTileFeatures(st.range(1-mr/Vt,Er,1,Kr),st.points,Vt,ze,Vt,eo),Le===Vt-1&&this._addTileFeatures(st.range(0,Er,mr/Vt,Kr),st.points,-1,ze,Vt,eo),eo.features.length?eo:null},M.prototype.getClusterExpansionZoom=function(Fe){for(var Le=this._getOriginZoom(Fe)-1;Le<=this.options.maxZoom;){var ze=this.getChildren(Fe);if(Le++,ze.length!==1)break;Fe=ze[0].properties.cluster_id}return Le},M.prototype._appendLeaves=function(Fe,Le,ze,st,Vt){for(var nr=this.getChildren(Le),Fr=0,$r=nr;Fr<$r.length;Fr+=1){var mr=$r[Fr],Er=mr.properties;if(Er&&Er.cluster?Vt+Er.point_count<=st?Vt+=Er.point_count:Vt=this._appendLeaves(Fe,Er.cluster_id,ze,st,Vt):Vt<st?Vt++:Fe.push(mr),Fe.length===ze)break}return Vt},M.prototype._addTileFeatures=function(Fe,Le,ze,st,Vt,nr){for(var Fr=0,$r=Fe;Fr<$r.length;Fr+=1){var mr=$r[Fr],Er=Le[mr],Kr=Er.numPoints,eo=void 0,go=void 0,wo=void 0;if(Kr)eo=q(Er),go=Er.x,wo=Er.y;else{var no=this.points[Er.index];eo=no.properties,go=K(no.geometry.coordinates[0]),wo=te(no.geometry.coordinates[1])}var Xn={type:1,geometry:[[Math.round(this.options.extent*(go*Vt-ze)),Math.round(this.options.extent*(wo*Vt-st))]],tags:eo},Fo=void 0;Kr?Fo=Er.id:this.options.generateId?Fo=Er.index:this.points[Er.index].id&&(Fo=this.points[Er.index].id),Fo!==void 0&&(Xn.id=Fo),nr.features.push(Xn)}},M.prototype._limitZoom=function(Fe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Fe),this.options.maxZoom+1))},M.prototype._cluster=function(Fe,Le){for(var ze=[],st=this.options,Vt=st.radius,nr=st.extent,Fr=st.reduce,$r=st.minPoints,mr=Vt/(nr*Math.pow(2,Le)),Er=0;Er<Fe.length;Er++){var Kr=Fe[Er];if(!(Kr.zoom<=Le)){Kr.zoom=Le;for(var eo=this.trees[Le+1],go=eo.within(Kr.x,Kr.y,mr),wo=Kr.numPoints||1,no=wo,Xn=0,Fo=go;Xn<Fo.length;Xn+=1){var On=Fo[Xn],$e=eo.points[On];$e.zoom>Le&&(no+=$e.numPoints||1)}if(no>wo&&no>=$r){for(var Yt=Kr.x*wo,Tr=Kr.y*wo,At=Fr&&wo>1?this._map(Kr,!0):null,xr=(Er<<5)+(Le+1)+this.points.length,io=0,vo=go;io<vo.length;io+=1){var ro=vo[io],Qr=eo.points[ro];if(!(Qr.zoom<=Le)){Qr.zoom=Le;var Ao=Qr.numPoints||1;Yt+=Qr.x*Ao,Tr+=Qr.y*Ao,Qr.parentId=xr,Fr&&(At||(At=this._map(Kr,!0)),Fr(At,this._map(Qr)))}}Kr.parentId=xr,ze.push(V(Yt/no,Tr/no,xr,no,At))}else if(ze.push(Kr),no>1)for(var Kn=0,Jo=go;Kn<Jo.length;Kn+=1){var rn=Jo[Kn],bi=eo.points[rn];bi.zoom<=Le||(bi.zoom=Le,ze.push(bi))}}}return ze},M.prototype._getOriginId=function(Fe){return Fe-this.points.length>>5},M.prototype._getOriginZoom=function(Fe){return(Fe-this.points.length)%32},M.prototype._map=function(Fe,Le){if(Fe.numPoints)return Le?Ee({},Fe.properties):Fe.properties;var ze=this.points[Fe.index].properties,st=this.options.map(ze);return Le&&st===ze?Ee({},st):st};function V(He,Fe,Le,ze,st){return{x:w(He),y:w(Fe),zoom:1/0,id:Le,parentId:-1,numPoints:ze,properties:st}}function k(He,Fe){var Le=He.geometry.coordinates,ze=Le[0],st=Le[1];return{x:w(K(ze)),y:w(te(st)),zoom:1/0,index:Fe,parentId:-1}}function Q(He){return{type:"Feature",id:He.id,properties:q(He),geometry:{type:"Point",coordinates:[se(He.x),ke(He.y)]}}}function q(He){var Fe=He.numPoints,Le=Fe>=1e4?Math.round(Fe/1e3)+"k":Fe>=1e3?Math.round(Fe/100)/10+"k":Fe;return Ee(Ee({},He.properties),{cluster:!0,cluster_id:He.id,point_count:Fe,point_count_abbreviated:Le})}function K(He){return He/360+.5}function te(He){var Fe=Math.sin(He*Math.PI/180),Le=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return Le<0?0:Le>1?1:Le}function se(He){return(He-.5)*360}function ke(He){var Fe=(180-He*360)*Math.PI/180;return 360*Math.atan(Math.exp(Fe))/Math.PI-90}function Ee(He,Fe){for(var Le in Fe)He[Le]=Fe[Le];return He}function je(He){return He.x}function mt(He){return He.y}return M})})(o7);var fT=o7.exports;const mT=vp(fT);var _T=Object.defineProperty,S5=Object.getOwnPropertySymbols,gT=Object.prototype.hasOwnProperty,vT=Object.prototype.propertyIsEnumerable,T5=(e,t,r)=>t in e?_T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n7=(e,t)=>{for(var r in t||(t={}))gT.call(t,r)&&T5(e,r,t[r]);if(S5)for(var r of S5(t))vT.call(t,r)&&T5(e,r,t[r]);return e};function i7(e,t){const{radius:r=40,maxZoom:n=18,minZoom:s=0,zoom:u=2}=t;if(e.pointIndex){const m=e.pointIndex.getClusters(e.extent,Math.floor(u));return e.dataArray=ET(m),e}const i=new mT({radius:r,minZoom:s,maxZoom:n}),y={type:"FeatureCollection",features:[]};return y.features=e.dataArray.map(m=>({type:"Feature",geometry:{type:"Point",coordinates:m.coordinates},properties:n7({},m)})),i.load(y.features),i}function ET(e){return e.map((t,r)=>n7({coordinates:t.geometry.coordinates,_id:r+1},t.properties))}function xT(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t}function PT(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t}function a7(e){if(e.length===0)return 0;let t=e[0],r=0,n;for(let s=1;s<e.length;s++)n=t+e[s]*1,Math.abs(t)>=Math.abs(e[s])?r+=t-n+e[s]:r+=e[s]-n+t,t=n;return t+r*1}function bT(e){if(e.length===0)throw new Error("mean requires at least one data point");return a7(e)/e.length}var FT={min:PT,max:xT,mean:bT,sum:a7},AT=Object.defineProperty,w5=Object.getOwnPropertySymbols,ST=Object.prototype.hasOwnProperty,TT=Object.prototype.propertyIsEnumerable,R5=(e,t,r)=>t in e?AT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ld=(e,t)=>{for(var r in t||(t={}))ST.call(t,r)&&R5(e,r,t[r]);if(w5)for(var r of w5(t))TT.call(t,r)&&R5(e,r,t[r]);return e},C5=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),{cloneDeep:wT,isFunction:M5,isString:RT,mergeWith:CT}=Wi;function MT(e,t){if(Array.isArray(t))return t}var IT=class extends fu.EventEmitter{constructor(e,t){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new Xp},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"})})}getSourceCfg(){return this.cfg}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0)}getParserType(){return this.parser.type}updateClusterData(e){const{method:t="sum",field:r}=this.clusterOptions;let n=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,n.forEach(s=>{s.id||(s.properties.point_count=1)}),(r||M5(t))&&(n=n.map(s=>{const u=s.id;if(u){const y=this.clusterIndex.getLeaves(u,1/0).map(g=>g.properties);let m;if(RT(t)&&r){const g=mx(y,r);m=FT[t](g)}M5(t)&&(m=t(y)),s.properties.stat=m}else s.properties.point_count=1;return s})),this.data=B3("geojson")({type:"FeatureCollection",features:n}),this.executeTrans()}getFeatureById(e){const{type:t="geojson",geometry:r}=this.parser;if(t==="geojson"&&!this.cluster){const n=e<this.originData.features.length?this.originData.features[e]:"null",s=wT(n);if(s!=null&&s.properties&&(this.transforms.length!==0||this.dataArrayChanged)){const u=this.data.dataArray.find(i=>i._id===e);s.properties=u}return s}else return t==="json"&&r?this.data.dataArray.find(n=>n._id===e):e<this.data.dataArray.length?this.data.dataArray[e]:"null"}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(r=>r._id===e?Ld(Ld({},r),t):r),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}getFeatureId(e,t){const r=this.data.dataArray.find(n=>n[e]===t);return r==null?void 0:r._id}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit("update",{type:"update"})})}reloadAllTile(){var e;(e=this.tileset)==null||e.reloadAll()}reloadTilebyId(e,t,r){var n;(n=this.tileset)==null||n.reloadTileById(e,t,r)}reloadTileByLnglat(e,t,r){var n;(n=this.tileset)==null||n.reloadTileByLnglat(e,t,r)}getTileExtent(e,t){var r;return(r=this.tileset)==null?void 0:r.getTileExtent(e,t)}getTileByZXY(e,t,r){var n;return(n=this.tileset)==null?void 0:n.getTileByZXY(e,t,r)}reloadTileByExtent(e,t){var r;(r=this.tileset)==null||r.reloadTileByExtent(e,t)}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(e=this.tileset)==null||e.destroy()}processData(){return C5(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({})}catch(r){t(r)}})})}initCfg(e){this.cfg=CT(this.cfg,e,MT);const t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=Ld(Ld({},this.clusterOptions),t.clusterOptions)))}init(){return C5(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){const e=this.parser,t=e.type||"geojson",r=B3(t);this.data=r(this.originData,e),this.tileset=this.initTileset(),!e.cancelExtent&&(this.extent=ME(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){const{tilesetOptions:e}=this.data;return e?(this.isTile=!0,this.tileset?(this.tileset.updateOptions(e),this.tileset):new dx(Ld({},e))):void 0}executeTrans(){this.transforms.forEach(t=>{const{type:r}=t,n=kv(r)(this.data,t);Object.assign(this.data,n)})}initCluster(){if(!this.cluster)return;const e=this.clusterOptions||{};this.clusterIndex=i7(this.data,e)}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=x6(cf(this.extent),e)),t[0].concat(t[1])}};function NT(e,t){const{callback:r}=t;return r&&(e.dataArray=e.dataArray.filter(r)),e}var M6=6378e3;function DT(e,t){const r=e.dataArray,{size:n=10}=t,s=n/(2*Math.PI*M6)*(256<<20)/2,{gridHash:u,gridOffset:i}=OT(r,n),y=kT(u,i,t);return{yOffset:s,xOffset:s,radius:s,type:"grid",dataArray:y}}function OT(e,t){let r=1/0,n=-1/0,s;for(const m of e)s=m.coordinates[1],Number.isFinite(s)&&(r=s<r?s:r,n=s>n?s:n);const u=(r+n)/2,i=LT(t,u);if(i.xOffset<=0||i.yOffset<=0)return{gridHash:{},gridOffset:i};const y={};for(const m of e){const g=m.coordinates[1],x=m.coordinates[0];if(Number.isFinite(g)&&Number.isFinite(x)){const b=Math.floor((g+90)/i.yOffset),A=Math.floor((x+180)/i.xOffset),w=`${b}-${A}`;y[w]=y[w]||{count:0,points:[]},y[w].count+=1,y[w].points.push(m)}}return{gridHash:y,gridOffset:i}}function LT(e,t){const r=BT(e),n=UT(t,e);return{yOffset:r,xOffset:n}}function BT(e){return e/M6*(180/Math.PI)}function UT(e,t){return t/M6*(180/Math.PI)/Math.cos(e*Math.PI/180)}function kT(e,t,r){return Object.keys(e).reduce((n,s,u)=>{const i=s.split("-"),y=parseInt(i[0],10),m=parseInt(i[1],10),g={};if(r.field&&r.method){const x=p8(e[s].points,r.field);g[r.method]=u8[r.method](x)}return Object.assign(g,{_id:u,coordinates:Vs([-180+t.xOffset*(m+.5),-90+t.yOffset*(y+.5)]),rawData:e[s].points,count:e[s].count}),n.push(g),n},[])}var P1=Math.PI/3,zT=[0,P1,2*P1,3*P1,4*P1,5*P1];function VT(e){return e[0]}function HT(e){return e[1]}function GT(){var e=0,t=0,r=1,n=1,s=VT,u=HT,i,y,m;function g(b){var A={},w=[],M,V=b.length;for(M=0;M<V;++M)if(!(isNaN(Q=+s.call(null,k=b[M],M,b))||isNaN(q=+u.call(null,k,M,b)))){var k,Q,q,K=Math.round(q=q/m),te=Math.round(Q=Q/y-(K&1)/2),se=q-K;if(Math.abs(se)*3>1){var ke=Q-te,Ee=te+(Q<te?-1:1)/2,je=K+(q<K?-1:1),mt=Q-Ee,He=q-je;ke*ke+se*se>mt*mt+He*He&&(te=Ee+(K&1?1:-1)/2,K=je)}var Fe=te+"-"+K,Le=A[Fe];Le?Le.push(k):(w.push(Le=A[Fe]=[k]),Le.x=(te+(K&1)/2)*y,Le.y=K*m)}return w}function x(b){var A=0,w=0;return zT.map(function(M){var V=Math.sin(M)*b,k=-Math.cos(M)*b,Q=V-A,q=k-w;return A=V,w=k,[Q,q]})}return g.hexagon=function(b){return"m"+x(b==null?i:+b).join("l")+"z"},g.centers=function(){for(var b=[],A=Math.round(t/m),w=Math.round(e/y),M=A*m;M<n+i;M+=m,++A)for(var V=w*y+(A&1)*y/2;V<r+y/2;V+=y)b.push([V,M]);return b},g.mesh=function(){var b=x(i).slice(0,4).join("l");return g.centers().map(function(A){return"M"+A+"m"+b}).join("")},g.x=function(b){return arguments.length?(s=b,g):s},g.y=function(b){return arguments.length?(u=b,g):u},g.radius=function(b){return arguments.length?(i=+b,y=i*2*Math.sin(P1),m=i*1.5,g):i},g.size=function(b){return arguments.length?(e=t=0,r=+b[0],n=+b[1],g):[r-e,n-t]},g.extent=function(b){return arguments.length?(e=+b[0][0],t=+b[0][1],r=+b[1][0],n=+b[1][1],g):[[e,t],[r,n]]},g.radius(1)}var jT=Object.defineProperty,WT=Object.defineProperties,ZT=Object.getOwnPropertyDescriptors,I5=Object.getOwnPropertySymbols,XT=Object.prototype.hasOwnProperty,YT=Object.prototype.propertyIsEnumerable,N5=(e,t,r)=>t in e?jT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$T=(e,t)=>{for(var r in t||(t={}))XT.call(t,r)&&N5(e,r,t[r]);if(I5)for(var r of I5(t))YT.call(t,r)&&N5(e,r,t[r]);return e},qT=(e,t)=>WT(e,ZT(t)),KT=6378e3;function QT(e,t){const r=e.dataArray,{size:n=10,method:s="sum"}=t,u=n/(2*Math.PI*KT)*(256<<20)/2,i=r.map(x=>{const[b,A]=Vs(x.coordinates);return qT($T({},x),{coordinates:[b,A]})});return{dataArray:GT().radius(u).x(x=>x.coordinates[0]).y(x=>x.coordinates[1])(i).map((x,b)=>{if(t.field&&s){const A=p8(x,t.field);x[s]=u8[s](A)}return{[t.method]:x[s],count:x.length,rawData:x,coordinates:[x.x,x.y],_id:b}}),radius:u,xOffset:u,yOffset:u,type:"hexagon"}}var JT=Object.defineProperty,D5=Object.getOwnPropertySymbols,ew=Object.prototype.hasOwnProperty,tw=Object.prototype.propertyIsEnumerable,O5=(e,t,r)=>t in e?JT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L5=(e,t)=>{for(var r in t||(t={}))ew.call(t,r)&&O5(e,r,t[r]);if(D5)for(var r of D5(t))tw.call(t,r)&&O5(e,r,t[r]);return e};function rw(e,t){const{sourceField:r,targetField:n,data:s}=t,u={};return s.forEach(i=>{u[i[r]]=i}),e.dataArray=e.dataArray.map(i=>{const y=i[n];return L5(L5({},i),u[y])}),e}function ow(e,t){const{callback:r}=t;return r&&(e.dataArray=e.dataArray.map(r)),e}hu("rasterTile",BS);hu("mvt",mb);hu("geojsonvt",aP);hu("testTile",hT);hu("geojson",Nx);hu("jsonTile",EP);hu("image",x8);hu("csv",Px);hu("json",_8);hu("raster",Cb);hu("rasterRgb",nT);hu("rgb",KS);hu("ndi",jS);Q1("cluster",i7);Q1("filter",NT);Q1("join",rw);Q1("map",ow);Q1("grid",DT);Q1("hexagon",QT);var nw=IT;window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(e){try{let g=function(){y||(y=!0,u())},x=function(){try{i.documentElement.doScroll("left")}catch{return void setTimeout(x,50)}g()};var r=(r=document.getElementsByTagName("script"))[r.length-1],t=r.getAttribute("data-injectcss"),r=r.getAttribute("data-disable-injectsvg");if(!r){var n,s,u,i,y,m=function(b,A){A.parentNode.insertBefore(b,A)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(b){console&&console.log(b)}}n=function(){var b,A=document.createElement("div");A.innerHTML=e._iconfont_svg_string_3580659,(A=A.getElementsByTagName("svg")[0])&&(A.setAttribute("aria-hidden","true"),A.style.position="absolute",A.style.width=0,A.style.height=0,A.style.overflow="hidden",A=A,(b=document.body).firstChild?m(A,b.firstChild):b.appendChild(A))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(s=function(){document.removeEventListener("DOMContentLoaded",s,!1),n()},document.addEventListener("DOMContentLoaded",s,!1)):document.attachEvent&&(u=n,i=e.document,y=!1,x(),i.onreadystatechange=function(){i.readyState=="complete"&&(i.onreadystatechange=null,g())})}}catch{}}(window);class Ay extends P6{constructor(t){super(),H(this,"controlOption",void 0),H(this,"container",void 0),H(this,"isShow",void 0),H(this,"sceneContainer",void 0),H(this,"scene",void 0),H(this,"mapsService",void 0),H(this,"renderService",void 0),H(this,"layerService",void 0),H(this,"controlService",void 0),H(this,"configService",void 0),Ay.controlCount++,this.controlOption=Et(Et({},this.getDefault(t)),t||{})}getOptions(){return this.controlOption}setOptions(t){const r=this.getDefault(t);Object.entries(t).forEach(([n,s])=>{s===void 0&&(t[n]=r[n])}),"position"in t&&this.setPosition(t.position),"className"in t&&this.setClassName(t.className),"style"in t&&this.setStyle(t.style),this.controlOption=Et(Et({},this.controlOption),t)}addTo(t){this.mapsService=t.mapService,this.renderService=t.rendererService,this.layerService=t.layerService,this.controlService=t.controlService,this.configService=t.globalConfigService,this.scene=t.sceneService,this.sceneContainer=t,this.isShow=!0,this.container=this.onAdd(),py(this.container,"l7-control");const{className:r,style:n}=this.controlOption;return r&&this.setClassName(r),n&&this.setStyle(n),this.insertContainer(),this.emit("add",this),this}remove(){if(!this.mapsService)return this;pf(this.container),this.onRemove(),this.emit("remove",this)}onAdd(){return yu("div")}onRemove(){}show(){const t=this.container;_2(t,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}hide(){const t=this.container;py(t,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}getDefault(t){return{position:df.TOPRIGHT,name:`${Ay.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(t){if(this.mapsService&&t&&t.screenX>0&&t.screenY>0){const r=this.mapsService.getContainer();r!==null&&r.focus()}}setPosition(t=df.TOPLEFT){const r=this.controlService;return r&&r.removeControl(this),this.controlOption.position=t,r&&r.addControl(this,this.sceneContainer),this}setClassName(t){const r=this.container,{className:n}=this.controlOption;n&&_2(r,n),t&&py(r,t)}setStyle(t){const r=this.container;t?r.setAttribute("style",t):r.removeAttribute("style")}insertContainer(){const t=this.controlOption.position,r=this.container;if(t instanceof Element)t.appendChild(r);else{const n=this.controlService.controlCorners[t];["bottomleft","bottomright","righttop","rightbottom"].includes(t)?n.insertBefore(r,n.firstChild):n.appendChild(r)}}checkUpdateOption(t,r){return r.some(n=>n in t)}}H(Ay,"controlCount",0);class gf extends fu.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(t,r){super(),H(this,"popperDOM",void 0),H(this,"contentDOM",void 0),H(this,"button",void 0),H(this,"option",void 0),H(this,"isShow",!1),H(this,"content",void 0),H(this,"timeout",null),H(this,"show",()=>this.isShow||!this.contentDOM.innerHTML?this:(this.resetPopperPosition(),_2(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&gf.conflictPopperList.forEach(n=>{n!==this&&n.isShow&&n.hide()}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick),this)),H(this,"hide",()=>this.isShow?(py(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick),this):this),H(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300))}),H(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}),H(this,"onBtnClick",()=>{this.isShow?this.hide():this.show()}),H(this,"onPopperUnClick",n=>{wE(n.target,[".l7-button-control",".l7-popper-content"])||this.hide()}),H(this,"onBtnMouseLeave",()=>{this.setHideTimeout()}),H(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),!this.isShow&&this.show()}),this.button=t,this.option=r,this.init(),r.unique&&gf.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(t){typeof t=="string"?this.contentDOM.innerHTML=t:t instanceof HTMLElement&&(n8(this.contentDOM),this.contentDOM.appendChild(t)),this.content=t}init(){const{trigger:t}=this.option;this.popperDOM=this.createPopper(),t==="click"?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),pf(this.popperDOM)}resetPopperPosition(){const t={},{container:r,offset:n=[0,0],placement:s}=this.option,[u,i]=n,y=this.button.getBoundingClientRect(),m=r.getBoundingClientRect(),{left:g,right:x,top:b,bottom:A}=SE(y,m);let w=!1,M=!1;/^(left|right)/.test(s)?(s.includes("left")?t.right=`${y.width+x}px`:s.includes("right")&&(t.left=`${y.width+g}px`),s.includes("start")?t.top=`${b}px`:s.includes("end")?t.bottom=`${A}px`:(t.top=`${b+y.height/2}px`,M=!0,t.transform=`translate(${u}px, calc(${i}px - 50%))`)):/^(top|bottom)/.test(s)&&(s.includes("top")?t.bottom=`${y.height+A}px`:s.includes("bottom")&&(t.top=`${y.height+b}px`),s.includes("start")?t.left=`${g}px`:s.includes("end")?t.right=`${x}px`:(t.left=`${g+y.width/2}px`,w=!0,t.transform=`translate(calc(${u}px - 50%), ${i}px)`)),t.transform=`translate(calc(${u}px - ${w?"50%":"0%"}), calc(${i}px - ${M?"50%":"0%"})`;const V=s.split("-");V.length&&py(this.popperDOM,V.map(k=>`l7-popper-${k}`).join(" ")),FE(this.popperDOM,AE(t))}createPopper(){const{container:t,className:r="",content:n}=this.option,s=yu("div",`l7-popper l7-popper-hide ${r}`),u=yu("div","l7-popper-content"),i=yu("div","l7-popper-arrow");return s.appendChild(u),s.appendChild(i),t.appendChild(s),this.popperDOM=s,this.contentDOM=u,n&&this.setContent(n),s}}H(gf,"conflictPopperList",[]);const B5=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ic=(()=>{if(typeof document>"u")return!1;const e=B5[0],t={};for(const r of B5)if((r==null?void 0:r[1])in document){for(const[s,u]of r.entries())t[e[s]]=u;return t}return!1})(),U5={change:Ic.fullscreenchange,error:Ic.fullscreenerror};let Gu={request(e=document.documentElement,t){return new Promise((r,n)=>{const s=()=>{Gu.off("change",s),r()};Gu.on("change",s);const u=e[Ic.requestFullscreen](t);u instanceof Promise&&u.then(s).catch(n)})},exit(){return new Promise((e,t)=>{if(!Gu.isFullscreen){e();return}const r=()=>{Gu.off("change",r),e()};Gu.on("change",r);const n=document[Ic.exitFullscreen]();n instanceof Promise&&n.then(r).catch(t)})},toggle(e,t){return Gu.isFullscreen?Gu.exit():Gu.request(e,t)},onchange(e){Gu.on("change",e)},onerror(e){Gu.on("error",e)},on(e,t){const r=U5[e];r&&document.addEventListener(r,t,!1)},off(e,t){const r=U5[e];r&&document.removeEventListener(r,t,!1)},raw:Ic};Object.defineProperties(Gu,{isFullscreen:{get:()=>!!document[Ic.fullscreenElement]},element:{enumerable:!0,get:()=>{var e;return(e=document[Ic.fullscreenElement])!==null&&e!==void 0?e:void 0}},isEnabled:{enumerable:!0,get:()=>!!document[Ic.fullscreenEnabled]}});Ic||(Gu={isEnabled:!1});class iw extends Ay{getDefault(){return{position:df.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}onAdd(){const t=yu("div","l7-control-logo");return this.setLogoContent(t),t}onRemove(){return null}setOptions(t){super.setOptions(t),this.checkUpdateOption(t,["img","href"])&&(n8(this.container),this.setLogoContent(this.container))}setLogoContent(t){const{href:r,img:n}=this.controlOption,s=yu("img");if(s.setAttribute("src",n),s.setAttribute("aria-label","AntV logo"),TE(s),r){const u=yu("a","l7-control-logo-link");u.target="_blank",u.href=r,u.rel="noopener nofollow",u.setAttribute("rel","noopener nofollow"),u.appendChild(s),t.appendChild(u)}else t.appendChild(s)}}const{cloneDeep:aw}=Wi;class sw{constructor(){H(this,"mapService",void 0),H(this,"fontService",void 0)}apply(t,{styleAttributeService:r,mapService:n,fontService:s}){var u=this;this.mapService=n,this.fontService=s,t.hooks.init.tapPromise("DataMappingPlugin",ft(function*(){t.log(Pa.MappingStart,Wa.INIT),u.generateMaping(t,{styleAttributeService:r}),t.log(Pa.MappingEnd,Wa.INIT)})),t.hooks.beforeRenderData.tapPromise("DataMappingPlugin",function(){var i=ft(function*(y){if(!y)return y;t.dataState.dataMappingNeedUpdate=!1,t.log(Pa.MappingStart,Wa.UPDATE);const m=u.generateMaping(t,{styleAttributeService:r});return t.log(Pa.MappingEnd,Wa.UPDATE),m});return function(y){return i.apply(this,arguments)}}()),t.hooks.beforeRender.tap("DataMappingPlugin",()=>{const i=t.getSource();if(t.layerModelNeedUpdate||!i||!i.inited)return;const y=r.getLayerStyleAttributes()||[],m=r.getLayerStyleAttribute("filter"),{dataArray:g}=i.data;if(Array.isArray(g)&&g.length===0)return;const x=y.filter(A=>A.needRemapping);let b=g;if(m!=null&&m.needRemapping&&m!==null&&m!==void 0&&m.scale&&(b=g.filter(A=>this.applyAttributeMapping(m,A)[0])),x.length){const A=this.mapping(t,x,b,t.getEncodedData());t.setEncodedData(A)}})}generateMaping(t,{styleAttributeService:r}){const n=r.getLayerStyleAttributes()||[],s=r.getLayerStyleAttribute("filter"),{dataArray:u}=t.getSource().data;let i=u;s!=null&&s.scale&&(i=u.filter(m=>this.applyAttributeMapping(s,m)[0])),i=t.processData(i);const y=this.mapping(t,n,i,void 0);return t.setEncodedData(y),t.emit("dataUpdate",null),!0}mapping(t,r,n,s){const u=r.filter(y=>y.scale!==void 0).filter(y=>y.name!=="filter"),i=n.map((y,m)=>{const g=s?s[m]:{},x=Et({id:y._id,coordinates:y.coordinates},g);return u.forEach(b=>{let A=this.applyAttributeMapping(b,y);(b.name==="color"||b.name==="stroke")&&(A=A.map(w=>Dn(w))),x[b.name]=Array.isArray(A)&&A.length===1?A[0]:A,b.name==="shape"&&(x.shape=this.fontService.getIconFontKey(x[b.name]))}),x});return r.forEach(y=>{y.needRemapping=!1}),this.adjustData2Amap2Coordinates(i,t),this.adjustData2SimpleCoordinates(i),i}adjustData2Amap2Coordinates(t,r){if(t.length>0&&this.mapService.version==="GAODE2.x"){const n=r.coordCenter||r.getSource().center;t.filter(s=>!s.originCoordinates).map(s=>{s.version="GAODE2.x",s.originCoordinates=aw(s.coordinates),s.coordinates=this.mapService.coordToAMap2RelativeCoordinates(s.coordinates,n)})}}adjustData2SimpleCoordinates(t){t.length>0&&this.mapService.version==="SIMPLE"&&t.map(r=>{r.simpleCoordinate||(r.coordinates=this.unProjectCoordinates(r.coordinates),r.simpleCoordinate=!0)})}unProjectCoordinates(t){if(typeof t[0]=="number")return this.mapService.simpleMapCoord.unproject(t);if(t[0]&&t[0][0]instanceof Array){const r=[];return t.map(n=>{const s=[];n.map(u=>{s.push(this.mapService.simpleMapCoord.unproject(u))}),r.push(s)}),r}else{const r=[];return t.map(n=>{r.push(this.mapService.simpleMapCoord.unproject(n))}),r}}applyAttributeMapping(t,r){var n;if(!t.scale)return[];const s=(t==null||(n=t.scale)===null||n===void 0?void 0:n.scalers)||[],u=[];return s.forEach(({field:y})=>{var m;(r.hasOwnProperty(y)||((m=t.scale)===null||m===void 0?void 0:m.type)==="variable")&&u.push(r[y])}),t.mapping?t.mapping(u):[]}getArrowPoints(t,r){const n=[r[0]-t[0],r[1]-t[1]],s=OE(n);return[t[0]+s[0]*1e-4,t[1]+s[1]*1e-4]}}class uw{constructor(){H(this,"mapService",void 0)}apply(t){var r=this;this.mapService=t.getContainer().mapService,t.hooks.init.tapPromise("DataSourcePlugin",ft(function*(){t.log(Pa.SourceInitStart,Wa.INIT);let n=t.getSource();if(!n){const{data:s,options:u}=t.sourceOption||t.defaultSourceConfig;n=new nw(s,u),t.setSource(n)}n.inited?(r.updateClusterData(t),t.log(Pa.SourceInitEnd,Wa.INIT)):yield new Promise(s=>{n.on("update",u=>{u.type==="inited"&&(r.updateClusterData(t),t.log(Pa.SourceInitEnd,Wa.INIT)),s(null)})})})),t.hooks.beforeRenderData.tapPromise("DataSourcePlugin",ft(function*(){const n=r.updateClusterData(t),s=t.dataState.dataSourceNeedUpdate;return t.dataState.dataSourceNeedUpdate=!1,n||s}))}updateClusterData(t){if(t.isTileLayer||t.tileLayer||!t.getSource())return!1;const r=t.getSource(),n=r.cluster,{zoom:s=0}=r.clusterOptions,u=this.mapService.getZoom()-1,i=t.dataState.dataSourceNeedUpdate;return n&&i&&r.updateClusterData(Math.floor(u)),n&&Math.abs(t.clusterZoom-u)>=1?(s!==Math.floor(u)&&r.updateClusterData(Math.floor(u)),t.clusterZoom=u,!0):!1}}function k5(e,t){let r,n;for(const s of e)s!=null&&(r===void 0?s>=s&&(r=n=s):(r>s&&(r=s),n<s&&(n=s)));return[r,n]}function pw(e,t,r,n,s){var u=e*e,i=u*e;return((1-3*e+3*u-i)*t+(4-6*u+3*i)*r+(1+3*e+3*u-3*i)*n+i*s)/6}function cw(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[n],u=e[n+1],i=n>0?e[n-1]:2*s-u,y=n<t-1?e[n+2]:2*u-s;return pw((r-n/t)*t,i,s,u,y)}}function I6(e){return function(){return e}}function lw(e,t){return function(r){return e+r*t}}function dw(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yw(e){return(e=+e)==1?s7:function(t,r){return r-t?dw(t,r,e):I6(isNaN(t)?r:t)}}function s7(e,t){var r=t-e;return r?lw(e,r):I6(isNaN(e)?t:e)}const z5=function e(t){var r=yw(t);function n(s,u){var i=r((s=uf(s)).r,(u=uf(u)).r),y=r(s.g,u.g),m=r(s.b,u.b),g=s7(s.opacity,u.opacity);return function(x){return s.r=i(x),s.g=y(x),s.b=m(x),s.opacity=g(x),s+""}}return n.gamma=e,n}(1);function hw(e){return function(t){var r=t.length,n=new Array(r),s=new Array(r),u=new Array(r),i,y;for(i=0;i<r;++i)y=uf(t[i]),n[i]=y.r||0,s[i]=y.g||0,u[i]=y.b||0;return n=e(n),s=e(s),u=e(u),y.opacity=1,function(m){return y.r=n(m),y.g=s(m),y.b=u(m),y+""}}}var fw=hw(cw);function mw(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(u){for(s=0;s<r;++s)n[s]=e[s]*(1-u)+t[s]*u;return n}}function _w(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gw(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),u=new Array(r),i;for(i=0;i<n;++i)s[i]=N6(e[i],t[i]);for(;i<r;++i)u[i]=t[i];return function(y){for(i=0;i<n;++i)u[i]=s[i](y);return u}}function vw(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ew(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=N6(e[s],t[s]):n[s]=t[s];return function(u){for(s in r)n[s]=r[s](u);return n}}var k2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ym=new RegExp(k2.source,"g");function xw(e){return function(){return e}}function Pw(e){return function(t){return e(t)+""}}function bw(e,t){var r=k2.lastIndex=Ym.lastIndex=0,n,s,u,i=-1,y=[],m=[];for(e=e+"",t=t+"";(n=k2.exec(e))&&(s=Ym.exec(t));)(u=s.index)>r&&(u=t.slice(r,u),y[i]?y[i]+=u:y[++i]=u),(n=n[0])===(s=s[0])?y[i]?y[i]+=s:y[++i]=s:(y[++i]=null,m.push({i,x:vf(n,s)})),r=Ym.lastIndex;return r<t.length&&(u=t.slice(r),y[i]?y[i]+=u:y[++i]=u),y.length<2?m[0]?Pw(m[0].x):xw(t):(t=m.length,function(g){for(var x=0,b;x<t;++x)y[(b=m[x]).i]=b.x(g);return y.join("")})}function N6(e,t){var r=typeof t,n;return t==null||r==="boolean"?I6(t):(r==="number"?vf:r==="string"?(n=z1(t))?(t=n,z5):bw:t instanceof z1?z5:t instanceof Date?vw:_w(t)?mw:Array.isArray(t)?gw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ew:vf)(e,t)}function Fw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function D6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function u7(e){return e.length===1&&(e=Aw(e)),{left:function(t,r,n,s){for(n==null&&(n=0),s==null&&(s=t.length);n<s;){var u=n+s>>>1;e(t[u],r)<0?n=u+1:s=u}return n},right:function(t,r,n,s){for(n==null&&(n=0),s==null&&(s=t.length);n<s;){var u=n+s>>>1;e(t[u],r)>0?s=u:n=u+1}return n}}}function Aw(e){return function(t,r){return D6(e(t),r)}}var Sw=u7(D6),Xf=Sw.right;function Tw(e){return e===null?NaN:+e}var z2=Math.sqrt(50),V2=Math.sqrt(10),H2=Math.sqrt(2);function p7(e,t,r){var n,s=-1,u,i,y;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(u=e,e=t,t=u),(y=Kh(e,t,r))===0||!isFinite(y))return[];if(y>0)for(e=Math.ceil(e/y),t=Math.floor(t/y),i=new Array(u=Math.ceil(t-e+1));++s<u;)i[s]=(e+s)*y;else for(e=Math.floor(e*y),t=Math.ceil(t*y),i=new Array(u=Math.ceil(e-t+1));++s<u;)i[s]=(e-s)/y;return n&&i.reverse(),i}function Kh(e,t,r){var n=(t-e)/Math.max(0,r),s=Math.floor(Math.log(n)/Math.LN10),u=n/Math.pow(10,s);return s>=0?(u>=z2?10:u>=V2?5:u>=H2?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=z2?10:u>=V2?5:u>=H2?2:1)}function G2(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),u=n/s;return u>=z2?s*=10:u>=V2?s*=5:u>=H2&&(s*=2),t<e?-s:s}function ww(e,t,r){if(r==null&&(r=Tw),!!(n=e.length)){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,u=Math.floor(s),i=+r(e[u],u,e),y=+r(e[u+1],u+1,e);return i+(y-i)*(s-u)}}function Cl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function c7(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var Hu="$";function Ef(){}Ef.prototype=xf.prototype={constructor:Ef,has:function(e){return Hu+e in this},get:function(e){return this[Hu+e]},set:function(e,t){return this[Hu+e]=t,this},remove:function(e){var t=Hu+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Hu&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Hu&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Hu&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Hu&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Hu&&++e;return e},empty:function(){for(var e in this)if(e[0]===Hu)return!1;return!0},each:function(e){for(var t in this)t[0]===Hu&&e(this[t],t.slice(1),this)}};function xf(e,t){var r=new Ef;if(e instanceof Ef)e.each(function(y,m){r.set(m,y)});else if(Array.isArray(e)){var n=-1,s=e.length,u;if(t==null)for(;++n<s;)r.set(n,e[n]);else for(;++n<s;)r.set(t(u=e[n],n,e),u)}else if(e)for(var i in e)r.set(i,e[i]);return r}function V5(){}var l0=xf.prototype;V5.prototype={constructor:V5,has:l0.has,add:function(e){return e+="",this[Hu+e]=e,this},remove:l0.remove,clear:l0.clear,values:l0.keys,size:l0.size,empty:l0.empty,each:l0.each};var l7=Array.prototype,d7=l7.map,v0=l7.slice,H5={name:"implicit"};function Pf(){var e=xf(),t=[],r=[],n=H5;function s(u){var i=u+"",y=e.get(i);if(!y){if(n!==H5)return n;e.set(i,y=t.push(u))}return r[(y-1)%r.length]}return s.domain=function(u){if(!arguments.length)return t.slice();t=[],e=xf();for(var i=-1,y=u.length,m,g;++i<y;)e.has(g=(m=u[i])+"")||e.set(g,t.push(m));return s},s.range=function(u){return arguments.length?(r=v0.call(u),s):r.slice()},s.unknown=function(u){return arguments.length?(n=u,s):n},s.copy=function(){return Pf(t,r).unknown(n)},Cl.apply(s,arguments),s}function Rw(e){return function(){return e}}function Cw(e){return+e}var G5=[0,1];function ss(e){return e}function j2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Rw(isNaN(t)?NaN:.5)}function j5(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(s){return Math.max(t,Math.min(r,s))}}function Mw(e,t,r){var n=e[0],s=e[1],u=t[0],i=t[1];return s<n?(n=j2(s,n),u=r(i,u)):(n=j2(n,s),u=r(u,i)),function(y){return u(n(y))}}function Iw(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),u=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=j2(e[i],e[i+1]),u[i]=r(t[i],t[i+1]);return function(y){var m=Xf(e,y,1,n)-1;return u[m](s[m](y))}}function Yf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function O6(){var e=G5,t=G5,r=N6,n,s,u,i=ss,y,m,g;function x(){return y=Math.min(e.length,t.length)>2?Iw:Mw,m=g=null,b}function b(A){return isNaN(A=+A)?u:(m||(m=y(e.map(n),t,r)))(n(i(A)))}return b.invert=function(A){return i(s((g||(g=y(t,e.map(n),vf)))(A)))},b.domain=function(A){return arguments.length?(e=d7.call(A,Cw),i===ss||(i=j5(e)),x()):e.slice()},b.range=function(A){return arguments.length?(t=v0.call(A),x()):t.slice()},b.rangeRound=function(A){return t=v0.call(A),r=Fw,x()},b.clamp=function(A){return arguments.length?(i=A?j5(e):ss,b):i!==ss},b.interpolate=function(A){return arguments.length?(r=A,x()):r},b.unknown=function(A){return arguments.length?(u=A,b):u},function(A,w){return n=A,s=w,x()}}function y7(e,t){return O6()(e,t)}function Nw(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function G1(e){return e=bf(Math.abs(e)),e?e[1]:NaN}function Dw(e,t){return function(r,n){for(var s=r.length,u=[],i=0,y=e[0],m=0;s>0&&y>0&&(m+y+1>n&&(y=Math.max(1,n-m)),u.push(r.substring(s-=y,s+y)),!((m+=y+1)>n));)y=e[i=(i+1)%e.length];return u.reverse().join(t)}}function Ow(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Lw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ff(e){if(!(t=Lw.exec(e)))throw new Error("invalid format: "+e);var t;return new L6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ff.prototype=L6.prototype;function L6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}L6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bw(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var h7;function Uw(e,t){var r=bf(e,t);if(!r)return e+"";var n=r[0],s=r[1],u=s-(h7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return u===i?n:u>i?n+new Array(u-i+1).join("0"):u>0?n.slice(0,u)+"."+n.slice(u):"0."+new Array(1-u).join("0")+bf(e,Math.max(0,t+u-1))[0]}function W5(e,t){var r=bf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Z5={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:Nw,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return W5(e*100,t)},r:W5,s:Uw,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function X5(e){return e}var Y5=Array.prototype.map,$5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function kw(e){var t=e.grouping===void 0||e.thousands===void 0?X5:Dw(Y5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?X5:Ow(Y5.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",y=e.minus===void 0?"-":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(b){b=Ff(b);var A=b.fill,w=b.align,M=b.sign,V=b.symbol,k=b.zero,Q=b.width,q=b.comma,K=b.precision,te=b.trim,se=b.type;se==="n"?(q=!0,se="g"):Z5[se]||(K===void 0&&(K=12),te=!0,se="g"),(k||A==="0"&&w==="=")&&(k=!0,A="0",w="=");var ke=V==="$"?r:V==="#"&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",Ee=V==="$"?n:/[%p]/.test(se)?i:"",je=Z5[se],mt=/[defgprs%]/.test(se);K=K===void 0?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,K)):Math.max(0,Math.min(20,K));function He(Fe){var Le=ke,ze=Ee,st,Vt,nr;if(se==="c")ze=je(Fe)+ze,Fe="";else{Fe=+Fe;var Fr=Fe<0||1/Fe<0;if(Fe=isNaN(Fe)?m:je(Math.abs(Fe),K),te&&(Fe=Bw(Fe)),Fr&&+Fe==0&&M!=="+"&&(Fr=!1),Le=(Fr?M==="("?M:y:M==="-"||M==="("?"":M)+Le,ze=(se==="s"?$5[8+h7/3]:"")+ze+(Fr&&M==="("?")":""),mt){for(st=-1,Vt=Fe.length;++st<Vt;)if(nr=Fe.charCodeAt(st),48>nr||nr>57){ze=(nr===46?s+Fe.slice(st+1):Fe.slice(st))+ze,Fe=Fe.slice(0,st);break}}}q&&!k&&(Fe=t(Fe,1/0));var $r=Le.length+Fe.length+ze.length,mr=$r<Q?new Array(Q-$r+1).join(A):"";switch(q&&k&&(Fe=t(mr+Fe,mr.length?Q-ze.length:1/0),mr=""),w){case"<":Fe=Le+Fe+ze+mr;break;case"=":Fe=Le+mr+Fe+ze;break;case"^":Fe=mr.slice(0,$r=mr.length>>1)+Le+Fe+ze+mr.slice($r);break;default:Fe=mr+Le+Fe+ze;break}return u(Fe)}return He.toString=function(){return b+""},He}function x(b,A){var w=g((b=Ff(b),b.type="f",b)),M=Math.max(-8,Math.min(8,Math.floor(G1(A)/3)))*3,V=Math.pow(10,-M),k=$5[8+M/3];return function(Q){return w(V*Q)+k}}return{format:g,formatPrefix:x}}var Mh,B6,f7;zw({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function zw(e){return Mh=kw(e),B6=Mh.format,f7=Mh.formatPrefix,Mh}function Vw(e){return Math.max(0,-G1(Math.abs(e)))}function Hw(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(G1(t)/3)))*3-G1(Math.abs(e)))}function Gw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,G1(t)-G1(e))+1}function jw(e,t,r,n){var s=G2(e,t,r),u;switch(n=Ff(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(u=Hw(s,i))&&(n.precision=u),f7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(u=Gw(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=u-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(u=Vw(s))&&(n.precision=u-(n.type==="%")*2);break}}return B6(n)}function ky(e){var t=e.domain;return e.ticks=function(r){var n=t();return p7(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return jw(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,u=n.length-1,i=n[s],y=n[u],m;return y<i&&(m=i,i=y,y=m,m=s,s=u,u=m),m=Kh(i,y,r),m>0?(i=Math.floor(i/m)*m,y=Math.ceil(y/m)*m,m=Kh(i,y,r)):m<0&&(i=Math.ceil(i*m)/m,y=Math.floor(y*m)/m,m=Kh(i,y,r)),m>0?(n[s]=Math.floor(i/m)*m,n[u]=Math.ceil(y/m)*m,t(n)):m<0&&(n[s]=Math.ceil(i*m)/m,n[u]=Math.floor(y*m)/m,t(n)),e},e}function m7(){var e=y7(ss,ss);return e.copy=function(){return Yf(e,m7())},Cl.apply(e,arguments),ky(e)}function _7(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],u=e[n],i;return u<s&&(i=r,r=n,n=i,i=s,s=u,u=i),e[r]=t.floor(s),e[n]=t.ceil(u),e}function q5(e){return Math.log(e)}function K5(e){return Math.exp(e)}function Ww(e){return-Math.log(-e)}function Zw(e){return-Math.exp(-e)}function Xw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yw(e){return e===10?Xw:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function $w(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Q5(e){return function(t){return-e(-t)}}function qw(e){var t=e(q5,K5),r=t.domain,n=10,s,u;function i(){return s=$w(n),u=Yw(n),r()[0]<0?(s=Q5(s),u=Q5(u),e(Ww,Zw)):e(q5,K5),t}return t.base=function(y){return arguments.length?(n=+y,i()):n},t.domain=function(y){return arguments.length?(r(y),i()):r()},t.ticks=function(y){var m=r(),g=m[0],x=m[m.length-1],b;(b=x<g)&&(A=g,g=x,x=A);var A=s(g),w=s(x),M,V,k,Q=y==null?10:+y,q=[];if(!(n%1)&&w-A<Q){if(A=Math.round(A)-1,w=Math.round(w)+1,g>0){for(;A<w;++A)for(V=1,M=u(A);V<n;++V)if(k=M*V,!(k<g)){if(k>x)break;q.push(k)}}else for(;A<w;++A)for(V=n-1,M=u(A);V>=1;--V)if(k=M*V,!(k<g)){if(k>x)break;q.push(k)}}else q=p7(A,w,Math.min(w-A,Q)).map(u);return b?q.reverse():q},t.tickFormat=function(y,m){if(m==null&&(m=n===10?".0e":","),typeof m!="function"&&(m=B6(m)),y===1/0)return m;y==null&&(y=10);var g=Math.max(1,n*y/t.ticks().length);return function(x){var b=x/u(Math.round(s(x)));return b*n<n-.5&&(b*=n),b<=g?m(x):""}},t.nice=function(){return r(_7(r(),{floor:function(y){return u(Math.floor(s(y)))},ceil:function(y){return u(Math.ceil(s(y)))}}))},t}function g7(){var e=qw(O6()).domain([1,10]);return e.copy=function(){return Yf(e,g7()).base(e.base())},Cl.apply(e,arguments),e}function J5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qw(e){return e<0?-e*e:e*e}function Jw(e){var t=e(ss,ss),r=1;function n(){return r===1?e(ss,ss):r===.5?e(Kw,Qw):e(J5(r),J5(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ky(t)}function v7(){var e=Jw(O6());return e.copy=function(){return Yf(e,v7()).exponent(e.exponent())},Cl.apply(e,arguments),e}function E7(){var e=[],t=[],r=[],n;function s(){var i=0,y=Math.max(1,t.length);for(r=new Array(y-1);++i<y;)r[i-1]=ww(e,i/y);return u}function u(i){return isNaN(i=+i)?n:t[Xf(r,i)]}return u.invertExtent=function(i){var y=t.indexOf(i);return y<0?[NaN,NaN]:[y>0?r[y-1]:e[0],y<r.length?r[y]:e[e.length-1]]},u.domain=function(i){if(!arguments.length)return e.slice();e=[];for(var y=0,m=i.length,g;y<m;++y)g=i[y],g!=null&&!isNaN(g=+g)&&e.push(g);return e.sort(D6),s()},u.range=function(i){return arguments.length?(t=v0.call(i),s()):t.slice()},u.unknown=function(i){return arguments.length?(n=i,u):n},u.quantiles=function(){return r.slice()},u.copy=function(){return E7().domain(e).range(t).unknown(n)},Cl.apply(u,arguments)}function x7(){var e=0,t=1,r=1,n=[.5],s=[0,1],u;function i(m){return m<=m?s[Xf(n,m,0,r)]:u}function y(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return i}return i.domain=function(m){return arguments.length?(e=+m[0],t=+m[1],y()):[e,t]},i.range=function(m){return arguments.length?(r=(s=v0.call(m)).length-1,y()):s.slice()},i.invertExtent=function(m){var g=s.indexOf(m);return g<0?[NaN,NaN]:g<1?[e,n[0]]:g>=r?[n[r-1],t]:[n[g-1],n[g]]},i.unknown=function(m){return arguments.length&&(u=m),i},i.thresholds=function(){return n.slice()},i.copy=function(){return x7().domain([e,t]).range(s).unknown(u)},Cl.apply(ky(i),arguments)}function P7(){var e=[.5],t=[0,1],r,n=1;function s(u){return u<=u?t[Xf(e,u,0,n)]:r}return s.domain=function(u){return arguments.length?(e=v0.call(u),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(u){return arguments.length?(t=v0.call(u),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(u){var i=t.indexOf(u);return[e[i-1],e[i]]},s.unknown=function(u){return arguments.length?(r=u,s):r},s.copy=function(){return P7().domain(e).range(t).unknown(r)},Cl.apply(s,arguments)}var $m=new Date,qm=new Date;function Es(e,t,r,n){function s(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return s.floor=function(u){return e(u=new Date(+u)),u},s.ceil=function(u){return e(u=new Date(u-1)),t(u,1),e(u),u},s.round=function(u){var i=s(u),y=s.ceil(u);return u-i<y-u?i:y},s.offset=function(u,i){return t(u=new Date(+u),i==null?1:Math.floor(i)),u},s.range=function(u,i,y){var m=[],g;if(u=s.ceil(u),y=y==null?1:Math.floor(y),!(u<i)||!(y>0))return m;do m.push(g=new Date(+u)),t(u,y),e(u);while(g<u&&u<i);return m},s.filter=function(u){return Es(function(i){if(i>=i)for(;e(i),!u(i);)i.setTime(i-1)},function(i,y){if(i>=i)if(y<0)for(;++y<=0;)for(;t(i,-1),!u(i););else for(;--y>=0;)for(;t(i,1),!u(i););})},r&&(s.count=function(u,i){return $m.setTime(+u),qm.setTime(+i),e($m),e(qm),Math.floor(r($m,qm))},s.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?s.filter(n?function(i){return n(i)%u===0}:function(i){return s.count(0,i)%u===0}):s}),s}var Af=Es(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Af.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Es(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):Af};Af.range;var Sf=1e3,Sy=6e4,e4=36e5,b7=864e5,F7=6048e5,A7=Es(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Sf)},function(e,t){return(t-e)/Sf},function(e){return e.getUTCSeconds()});A7.range;var S7=Es(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sf)},function(e,t){e.setTime(+e+t*Sy)},function(e,t){return(t-e)/Sy},function(e){return e.getMinutes()});S7.range;var T7=Es(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sf-e.getMinutes()*Sy)},function(e,t){e.setTime(+e+t*e4)},function(e,t){return(t-e)/e4},function(e){return e.getHours()});T7.range;var $f=Es(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sy)/b7},function(e){return e.getDate()-1});$f.range;function F0(e){return Es(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Sy)/F7})}var U6=F0(0),Tf=F0(1),eR=F0(2),tR=F0(3),j1=F0(4),rR=F0(5),oR=F0(6);U6.range;Tf.range;eR.range;tR.range;j1.range;rR.range;oR.range;var w7=Es(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});w7.range;var Tl=Es(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Tl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Es(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Tl.range;var k6=Es(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/b7},function(e){return e.getUTCDate()-1});k6.range;function A0(e){return Es(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/F7})}var R7=A0(0),wf=A0(1),nR=A0(2),iR=A0(3),W1=A0(4),aR=A0(5),sR=A0(6);R7.range;wf.range;nR.range;iR.range;W1.range;aR.range;sR.range;var E0=Es(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});E0.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Es(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};E0.range;function Km(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uR(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,u=e.days,i=e.shortDays,y=e.months,m=e.shortMonths,g=Ud(s),x=kd(s),b=Ud(u),A=kd(u),w=Ud(i),M=kd(i),V=Ud(y),k=kd(y),Q=Ud(m),q=kd(m),K={a:Fr,A:$r,b:mr,B:Er,c:null,d:a4,e:a4,f:MR,g:VR,G:GR,H:wR,I:RR,j:CR,L:C7,m:IR,M:NR,p:Kr,q:eo,Q:p4,s:c4,S:DR,u:OR,U:LR,V:BR,w:UR,W:kR,x:null,X:null,y:zR,Y:HR,Z:jR,"%":u4},te={a:go,A:wo,b:no,B:Xn,c:null,d:s4,e:s4,f:YR,g:nC,G:aC,H:WR,I:ZR,j:XR,L:I7,m:$R,M:qR,p:Fo,q:On,Q:p4,s:c4,S:KR,u:QR,U:JR,V:eC,w:tC,W:rC,x:null,X:null,y:oC,Y:iC,Z:sC,"%":u4},se={a:He,A:Fe,b:Le,B:ze,c:st,d:n4,e:n4,f:FR,g:o4,G:r4,H:i4,I:i4,j:ER,L:bR,m:vR,M:xR,p:mt,q:gR,Q:SR,s:TR,S:PR,u:yR,U:hR,V:fR,w:dR,W:mR,x:Vt,X:nr,y:o4,Y:r4,Z:_R,"%":AR};K.x=ke(r,K),K.X=ke(n,K),K.c=ke(t,K),te.x=ke(r,te),te.X=ke(n,te),te.c=ke(t,te);function ke($e,Yt){return function(Tr){var At=[],xr=-1,io=0,vo=$e.length,ro,Qr,Ao;for(Tr instanceof Date||(Tr=new Date(+Tr));++xr<vo;)$e.charCodeAt(xr)===37&&(At.push($e.slice(io,xr)),(Qr=t4[ro=$e.charAt(++xr)])!=null?ro=$e.charAt(++xr):Qr=ro==="e"?" ":"0",(Ao=Yt[ro])&&(ro=Ao(Tr,Qr)),At.push(ro),io=xr+1);return At.push($e.slice(io,xr)),At.join("")}}function Ee($e,Yt){return function(Tr){var At=Bd(1900,void 0,1),xr=je(At,$e,Tr+="",0),io,vo;if(xr!=Tr.length)return null;if("Q"in At)return new Date(At.Q);if("s"in At)return new Date(At.s*1e3+("L"in At?At.L:0));if(Yt&&!("Z"in At)&&(At.Z=0),"p"in At&&(At.H=At.H%12+At.p*12),At.m===void 0&&(At.m="q"in At?At.q:0),"V"in At){if(At.V<1||At.V>53)return null;"w"in At||(At.w=1),"Z"in At?(io=Qm(Bd(At.y,0,1)),vo=io.getUTCDay(),io=vo>4||vo===0?wf.ceil(io):wf(io),io=k6.offset(io,(At.V-1)*7),At.y=io.getUTCFullYear(),At.m=io.getUTCMonth(),At.d=io.getUTCDate()+(At.w+6)%7):(io=Km(Bd(At.y,0,1)),vo=io.getDay(),io=vo>4||vo===0?Tf.ceil(io):Tf(io),io=$f.offset(io,(At.V-1)*7),At.y=io.getFullYear(),At.m=io.getMonth(),At.d=io.getDate()+(At.w+6)%7)}else("W"in At||"U"in At)&&("w"in At||(At.w="u"in At?At.u%7:"W"in At?1:0),vo="Z"in At?Qm(Bd(At.y,0,1)).getUTCDay():Km(Bd(At.y,0,1)).getDay(),At.m=0,At.d="W"in At?(At.w+6)%7+At.W*7-(vo+5)%7:At.w+At.U*7-(vo+6)%7);return"Z"in At?(At.H+=At.Z/100|0,At.M+=At.Z%100,Qm(At)):Km(At)}}function je($e,Yt,Tr,At){for(var xr=0,io=Yt.length,vo=Tr.length,ro,Qr;xr<io;){if(At>=vo)return-1;if(ro=Yt.charCodeAt(xr++),ro===37){if(ro=Yt.charAt(xr++),Qr=se[ro in t4?Yt.charAt(xr++):ro],!Qr||(At=Qr($e,Tr,At))<0)return-1}else if(ro!=Tr.charCodeAt(At++))return-1}return At}function mt($e,Yt,Tr){var At=g.exec(Yt.slice(Tr));return At?($e.p=x[At[0].toLowerCase()],Tr+At[0].length):-1}function He($e,Yt,Tr){var At=w.exec(Yt.slice(Tr));return At?($e.w=M[At[0].toLowerCase()],Tr+At[0].length):-1}function Fe($e,Yt,Tr){var At=b.exec(Yt.slice(Tr));return At?($e.w=A[At[0].toLowerCase()],Tr+At[0].length):-1}function Le($e,Yt,Tr){var At=Q.exec(Yt.slice(Tr));return At?($e.m=q[At[0].toLowerCase()],Tr+At[0].length):-1}function ze($e,Yt,Tr){var At=V.exec(Yt.slice(Tr));return At?($e.m=k[At[0].toLowerCase()],Tr+At[0].length):-1}function st($e,Yt,Tr){return je($e,t,Yt,Tr)}function Vt($e,Yt,Tr){return je($e,r,Yt,Tr)}function nr($e,Yt,Tr){return je($e,n,Yt,Tr)}function Fr($e){return i[$e.getDay()]}function $r($e){return u[$e.getDay()]}function mr($e){return m[$e.getMonth()]}function Er($e){return y[$e.getMonth()]}function Kr($e){return s[+($e.getHours()>=12)]}function eo($e){return 1+~~($e.getMonth()/3)}function go($e){return i[$e.getUTCDay()]}function wo($e){return u[$e.getUTCDay()]}function no($e){return m[$e.getUTCMonth()]}function Xn($e){return y[$e.getUTCMonth()]}function Fo($e){return s[+($e.getUTCHours()>=12)]}function On($e){return 1+~~($e.getUTCMonth()/3)}return{format:function($e){var Yt=ke($e+="",K);return Yt.toString=function(){return $e},Yt},parse:function($e){var Yt=Ee($e+="",!1);return Yt.toString=function(){return $e},Yt},utcFormat:function($e){var Yt=ke($e+="",te);return Yt.toString=function(){return $e},Yt},utcParse:function($e){var Yt=Ee($e+="",!0);return Yt.toString=function(){return $e},Yt}}}var t4={"-":"",_:" ",0:"0"},Na=/^\s*\d+/,pR=/^%/,cR=/[\\^$*+?|[\]().{}]/g;function vn(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",u=s.length;return n+(u<r?new Array(r-u+1).join(t)+s:s)}function lR(e){return e.replace(cR,"\\$&")}function Ud(e){return new RegExp("^(?:"+e.map(lR).join("|")+")","i")}function kd(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function dR(e,t,r){var n=Na.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yR(e,t,r){var n=Na.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function r4(e,t,r){var n=Na.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function o4(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _R(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gR(e,t,r){var n=Na.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function vR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function n4(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ER(e,t,r){var n=Na.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function i4(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function PR(e,t,r){var n=Na.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bR(e,t,r){var n=Na.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function FR(e,t,r){var n=Na.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AR(e,t,r){var n=pR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function SR(e,t,r){var n=Na.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function TR(e,t,r){var n=Na.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function a4(e,t){return vn(e.getDate(),t,2)}function wR(e,t){return vn(e.getHours(),t,2)}function RR(e,t){return vn(e.getHours()%12||12,t,2)}function CR(e,t){return vn(1+$f.count(Tl(e),e),t,3)}function C7(e,t){return vn(e.getMilliseconds(),t,3)}function MR(e,t){return C7(e,t)+"000"}function IR(e,t){return vn(e.getMonth()+1,t,2)}function NR(e,t){return vn(e.getMinutes(),t,2)}function DR(e,t){return vn(e.getSeconds(),t,2)}function OR(e){var t=e.getDay();return t===0?7:t}function LR(e,t){return vn(U6.count(Tl(e)-1,e),t,2)}function M7(e){var t=e.getDay();return t>=4||t===0?j1(e):j1.ceil(e)}function BR(e,t){return e=M7(e),vn(j1.count(Tl(e),e)+(Tl(e).getDay()===4),t,2)}function UR(e){return e.getDay()}function kR(e,t){return vn(Tf.count(Tl(e)-1,e),t,2)}function zR(e,t){return vn(e.getFullYear()%100,t,2)}function VR(e,t){return e=M7(e),vn(e.getFullYear()%100,t,2)}function HR(e,t){return vn(e.getFullYear()%1e4,t,4)}function GR(e,t){var r=e.getDay();return e=r>=4||r===0?j1(e):j1.ceil(e),vn(e.getFullYear()%1e4,t,4)}function jR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function s4(e,t){return vn(e.getUTCDate(),t,2)}function WR(e,t){return vn(e.getUTCHours(),t,2)}function ZR(e,t){return vn(e.getUTCHours()%12||12,t,2)}function XR(e,t){return vn(1+k6.count(E0(e),e),t,3)}function I7(e,t){return vn(e.getUTCMilliseconds(),t,3)}function YR(e,t){return I7(e,t)+"000"}function $R(e,t){return vn(e.getUTCMonth()+1,t,2)}function qR(e,t){return vn(e.getUTCMinutes(),t,2)}function KR(e,t){return vn(e.getUTCSeconds(),t,2)}function QR(e){var t=e.getUTCDay();return t===0?7:t}function JR(e,t){return vn(R7.count(E0(e)-1,e),t,2)}function N7(e){var t=e.getUTCDay();return t>=4||t===0?W1(e):W1.ceil(e)}function eC(e,t){return e=N7(e),vn(W1.count(E0(e),e)+(E0(e).getUTCDay()===4),t,2)}function tC(e){return e.getUTCDay()}function rC(e,t){return vn(wf.count(E0(e)-1,e),t,2)}function oC(e,t){return vn(e.getUTCFullYear()%100,t,2)}function nC(e,t){return e=N7(e),vn(e.getUTCFullYear()%100,t,2)}function iC(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function aC(e,t){var r=e.getUTCDay();return e=r>=4||r===0?W1(e):W1.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function sC(){return"+0000"}function u4(){return"%"}function p4(e){return+e}function c4(e){return Math.floor(+e/1e3)}var h1,D7;uC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uC(e){return h1=uR(e),D7=h1.format,h1.parse,h1.utcFormat,h1.utcParse,h1}var ty=1e3,ry=ty*60,oy=ry*60,Ty=oy*24,pC=Ty*7,l4=Ty*30,Jm=Ty*365;function cC(e){return new Date(e)}function lC(e){return e instanceof Date?+e:+new Date(+e)}function O7(e,t,r,n,s,u,i,y,m){var g=y7(ss,ss),x=g.invert,b=g.domain,A=m(".%L"),w=m(":%S"),M=m("%I:%M"),V=m("%I %p"),k=m("%a %d"),Q=m("%b %d"),q=m("%B"),K=m("%Y"),te=[[i,1,ty],[i,5,5*ty],[i,15,15*ty],[i,30,30*ty],[u,1,ry],[u,5,5*ry],[u,15,15*ry],[u,30,30*ry],[s,1,oy],[s,3,3*oy],[s,6,6*oy],[s,12,12*oy],[n,1,Ty],[n,2,2*Ty],[r,1,pC],[t,1,l4],[t,3,3*l4],[e,1,Jm]];function se(Ee){return(i(Ee)<Ee?A:u(Ee)<Ee?w:s(Ee)<Ee?M:n(Ee)<Ee?V:t(Ee)<Ee?r(Ee)<Ee?k:Q:e(Ee)<Ee?q:K)(Ee)}function ke(Ee,je,mt,He){if(Ee==null&&(Ee=10),typeof Ee=="number"){var Fe=Math.abs(mt-je)/Ee,Le=u7(function(ze){return ze[2]}).right(te,Fe);Le===te.length?(He=G2(je/Jm,mt/Jm,Ee),Ee=e):Le?(Le=te[Fe/te[Le-1][2]<te[Le][2]/Fe?Le-1:Le],He=Le[1],Ee=Le[0]):(He=Math.max(G2(je,mt,Ee),1),Ee=y)}return He==null?Ee:Ee.every(He)}return g.invert=function(Ee){return new Date(x(Ee))},g.domain=function(Ee){return arguments.length?b(d7.call(Ee,lC)):b().map(cC)},g.ticks=function(Ee,je){var mt=b(),He=mt[0],Fe=mt[mt.length-1],Le=Fe<He,ze;return Le&&(ze=He,He=Fe,Fe=ze),ze=ke(Ee,He,Fe,je),ze=ze?ze.range(He,Fe+1):[],Le?ze.reverse():ze},g.tickFormat=function(Ee,je){return je==null?se:m(je)},g.nice=function(Ee,je){var mt=b();return(Ee=ke(Ee,mt[0],mt[mt.length-1],je))?b(_7(mt,Ee)):g},g.copy=function(){return Yf(g,O7(e,t,r,n,s,u,i,y,m))},g}function dC(){return Cl.apply(O7(Tl,w7,U6,$f,T7,S7,A7,Af,D7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yC(){var e=0,t=1,r,n,s,u,i=ss,y=!1,m;function g(x){return isNaN(x=+x)?m:i(s===0?.5:(x=(u(x)-r)*s,y?Math.max(0,Math.min(1,x)):x))}return g.domain=function(x){return arguments.length?(r=u(e=+x[0]),n=u(t=+x[1]),s=r===n?0:1/(n-r),g):[e,t]},g.clamp=function(x){return arguments.length?(y=!!x,g):y},g.interpolator=function(x){return arguments.length?(i=x,g):i},g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return u=x,r=x(e),n=x(t),s=r===n?0:1/(n-r),g}}function L7(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B7(){var e=ky(yC()(ss));return e.copy=function(){return L7(e,B7())},c7.apply(e,arguments)}function hC(){var e=0,t=.5,r=1,n,s,u,i,y,m=ss,g,x=!1,b;function A(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-s)*(w<s?i:y),m(x?Math.max(0,Math.min(1,w)):w))}return A.domain=function(w){return arguments.length?(n=g(e=+w[0]),s=g(t=+w[1]),u=g(r=+w[2]),i=n===s?0:.5/(s-n),y=s===u?0:.5/(u-s),A):[e,t,r]},A.clamp=function(w){return arguments.length?(x=!!w,A):x},A.interpolator=function(w){return arguments.length?(m=w,A):m},A.unknown=function(w){return arguments.length?(b=w,A):b},function(w){return g=w,n=w(e),s=w(t),u=w(r),i=n===s?0:.5/(s-n),y=s===u?0:.5/(u-s),A}}function U7(){var e=ky(hC()(ss));return e.copy=function(){return L7(e,U7())},c7.apply(e,arguments)}function k7(e){let t,r=[];function n(s){return s??t}return n.invert=n,n.domain=n.range=s=>s?(r=s,s):r,n.unknown=s=>s?(t=s,s):t,n.copy=()=>k7().unknown(t),n}const{isNil:e2,isString:fC,uniq:mC}=Wi,_C=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,gC={[Pn.LINEAR]:m7,[Pn.POWER]:v7,[Pn.LOG]:g7,[Pn.IDENTITY]:k7,[Pn.SEQUENTIAL]:B7,[Pn.TIME]:dC,[Pn.QUANTILE]:E7,[Pn.QUANTIZE]:x7,[Pn.THRESHOLD]:P7,[Pn.CAT]:Pf,[Pn.DIVERGING]:U7};class vC{constructor(){H(this,"scaleOptions",{})}apply(t,{styleAttributeService:r}){var n=this;t.hooks.init.tapPromise("FeatureScalePlugin",ft(function*(){var s;t.log(Pa.ScaleInitStart,Wa.INIT),n.scaleOptions=t.getScaleOptions();const u=r.getLayerStyleAttributes(),i=(s=t.getSource())===null||s===void 0?void 0:s.data.dataArray;Array.isArray(i)&&i.length===0||(n.caculateScalesForAttributes(u||[],i),t.log(Pa.ScaleInitEnd,Wa.INIT))})),t.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",function(){var s=ft(function*(u){if(!u)return u;t.log(Pa.ScaleInitStart,Wa.UPDATE),n.scaleOptions=t.getScaleOptions();const i=r.getLayerStyleAttributes(),y=t.getSource().data.dataArray;return Array.isArray(y)&&y.length===0||(n.caculateScalesForAttributes(i||[],y),t.log(Pa.ScaleInitEnd,Wa.UPDATE),t.layerModelNeedUpdate=!0),!0});return function(u){return s.apply(this,arguments)}}()),t.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(t.layerModelNeedUpdate)return;this.scaleOptions=t.getScaleOptions();const s=r.getLayerStyleAttributes(),u=t.getSource().data.dataArray;if(!(Array.isArray(u)&&u.length===0)&&s){const i=s.filter(y=>y.needRescale);i.length&&this.caculateScalesForAttributes(i,u)}})}isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}caculateScalesForAttributes(t,r){t.forEach(n=>{if(n.scale){const s=n.scale,u=n.scale.field;s.names=this.parseFields(e2(u)?[]:u);const i=[];s.names.forEach(y=>{var m;i.push(this.createScale(y,n.name,(m=n.scale)===null||m===void 0?void 0:m.values,r))}),i.some(y=>y.type===y1.VARIABLE)?(s.type=y1.VARIABLE,i.forEach(y=>{if(!s.callback&&s.values!=="text"){var m;switch((m=y.option)===null||m===void 0?void 0:m.type){case Pn.LOG:case Pn.LINEAR:case Pn.POWER:if(s.values&&s.values.length>2){const x=y.scale.ticks(s.values.length);y.scale.domain(x)}s.values?y.scale.range(s.values):y.scale.range(y.option.domain);break;case Pn.QUANTILE:case Pn.QUANTIZE:case Pn.THRESHOLD:y.scale.range(s.values);break;case Pn.IDENTITY:break;case Pn.CAT:s.values?y.scale.range(s.values):y.scale.range(y.option.domain);break;case Pn.DIVERGING:case Pn.SEQUENTIAL:y.scale.interpolator(fw(s.values));break}}if(s.values==="text"){var g;y.scale.range((g=y.option)===null||g===void 0?void 0:g.domain)}})):(s.type=y1.CONSTANT,s.defaultValues=i.map((y,m)=>y.scale(s.names[m]))),s.scalers=i.map(y=>({field:y.field,func:y.scale,option:y.option})),n.needRescale=!1}})}parseFields(t){return Array.isArray(t)?t:fC(t)?t.split("*"):[t]}createScale(t,r,n,s){var u,i;const y=this.scaleOptions[r]&&((u=this.scaleOptions[r])===null||u===void 0?void 0:u.field)===t?this.scaleOptions[r]:this.scaleOptions[t],m={field:t,scale:void 0,type:y1.VARIABLE,option:y};if(!s||!s.length)return y&&y.type?m.scale=this.createDefaultScale(y):(m.scale=Pf([t]),m.type=y1.CONSTANT),m;const g=(i=s.find(x=>!e2(x[t])))===null||i===void 0?void 0:i[t];if(this.isNumber(t)||e2(g)&&!y)m.scale=Pf([t]),m.type=y1.CONSTANT;else{let x=y&&y.type||this.getDefaultType(g);n==="text"&&(x=Pn.CAT),n===void 0&&(x=Pn.IDENTITY);const b=this.createScaleConfig(x,t,y,s);m.scale=this.createDefaultScale(b),m.option=b}return m}getDefaultType(t){let r=Pn.LINEAR;return typeof t=="string"&&(r=_C.test(t)?Pn.TIME:Pn.CAT),r}createScaleConfig(t,r,n,s){const u={type:t};let i=[];if(t===Pn.QUANTILE){const y=new Map;s==null||s.forEach(m=>{y.set(m._id,m[r])}),i=Array.from(y.values())}else i=(s==null?void 0:s.map(y=>y[r]))||[];if(n!=null&&n.domain)u.domain=n==null?void 0:n.domain;else if(t===Pn.CAT||t===Pn.IDENTITY)u.domain=mC(i);else if(t===Pn.QUANTILE)u.domain=i;else if(t===Pn.DIVERGING){const y=k5(i),m=(n==null?void 0:n.neutral)!==void 0?n==null?void 0:n.neutral:(y[0]+y[1])/2;u.domain=[y[0],m,y[1]]}else u.domain=k5(i);return Et(Et({},u),n)}createDefaultScale({type:t,domain:r,unknown:n,clamp:s,nice:u}){const i=gC[t]();return r&&i.domain&&i.domain(r),n&&i.unknown(n),s!==void 0&&i.clamp&&i.clamp(s),u!==void 0&&i.nice&&i.nice(u),i}}class EC{apply(t){t.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{t.animateStatus&&t.models.forEach(n=>{n.addUniforms(Et({},t.layerModel.getAnimateUniforms()))})})}}let xC=class{apply(t){t.hooks.afterInit.tap("LayerMaskPlugin",()=>{const{maskLayers:r,enableMask:n}=t.getLayerConfig();!t.tileLayer&&r&&r.length>0&&t.updateLayerConfig({mask:n})})}};class PC{build(t){return ft(function*(){t.prepareBuildModel(),yield t.buildModels()})()}initLayerModel(t){var r=this;return ft(function*(){yield r.build(t),t.styleNeedUpdate=!1})()}prepareLayerModel(t){var r=this;return ft(function*(){yield r.build(t),t.styleNeedUpdate=!1})()}apply(t){var r=this;t.hooks.init.tapPromise("LayerModelPlugin",ft(function*(){if(t.getSource().isTile){t.prepareBuildModel();return}t.log(Pa.BuildModelStart,Wa.INIT),yield r.initLayerModel(t),t.log(Pa.BuildModelEnd,Wa.INIT)})),t.hooks.beforeRenderData.tapPromise("LayerModelPlugin",function(){var n=ft(function*(s){return!s||t.getSource().isTile?!1:(t.log(Pa.BuildModelStart,Wa.UPDATE),yield r.prepareLayerModel(t),t.log(Pa.BuildModelEnd,Wa.UPDATE),!0)});return function(s){return n.apply(this,arguments)}}())}}class bC{apply(t){t.hooks.afterInit.tap("LayerStylePlugin",()=>{const{autoFit:r,fitBoundsOptions:n}=t.getLayerConfig();r&&t.fitBounds(n),t.styleNeedUpdate=!1})}}const FC=["type"],d4={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},AC={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},SC={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},TC={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function wC(e){const t={u_DirectionalLights:new Array(3).fill(Et({},SC)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(Et({},TC)),u_NumOfSpotLights:0};return(!e||!e.length)&&(e=[AC]),e.forEach(r=>{let{type:n="directional"}=r,s=Kp(r,FC);const u=d4[n].lights,i=d4[n].num,y=t[i];t[u][y]=Et(Et({},t[u][y]),s),t[i]++}),t}class RC{apply(t){t.hooks.beforeRender.tap("LightingPlugin",()=>{const{enableLighting:r}=t.getLayerConfig();r&&t.models.forEach(n=>n.addUniforms(Et({},wC())))})}}function z7(e){return e.map(t=>(typeof t=="string"&&(t=[t,{}]),t))}function V7(e,t,r,n){const s=e.multiPassRenderer;return s.add(n("render")),z7(t).forEach(u=>{const[i,y]=u;s.add(r(i),y)}),s.add(r("copy")),s}class CC{constructor(){H(this,"enabled",void 0)}apply(t,{rendererService:r,postProcessingPassFactory:n,normalPassFactory:s}){t.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{const{enableMultiPassRenderer:u,passes:i=[]}=t.getLayerConfig();this.enabled=!!u&&t.getLayerConfig().enableMultiPassRenderer!==!1,this.enabled&&(t.multiPassRenderer=V7(t,i,n,s),t.multiPassRenderer.setRenderFlag(!0))}),t.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){const{width:u,height:i}=r.getViewportSize();t.multiPassRenderer.resize(u,i)}})}}let Gr=function(e){return e[e.POSITION=0]="POSITION",e[e.COLOR=1]="COLOR",e[e.VERTEX_ID=2]="VERTEX_ID",e[e.PICKING_COLOR=3]="PICKING_COLOR",e[e.STROKE=4]="STROKE",e[e.OPACITY=5]="OPACITY",e[e.OFFSETS=6]="OFFSETS",e[e.ROTATION=7]="ROTATION",e[e.EXTRUSION_BASE=8]="EXTRUSION_BASE",e[e.SIZE=9]="SIZE",e[e.SHAPE=10]="SHAPE",e[e.EXTRUDE=11]="EXTRUDE",e[e.MAX=12]="MAX",e[e.NORMAL=13]="NORMAL",e[e.UV=14]="UV",e[e.LINEAR=15]="LINEAR",e}({});function MC(e){switch(e){case"rotation":return{name:"Rotation",type:Sr.Attribute,descriptor:{name:"a_Rotation",shaderLocation:Gr.ROTATION,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{rotation:r=0}=t;return Array.isArray(r)?[r[0]]:[r]}}};case"stroke":return{name:"stroke",type:Sr.Attribute,descriptor:{name:"a_Stroke",shaderLocation:Gr.STROKE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:4,update:t=>{const{stroke:r=[1,1,1,1]}=t;return r}}};case"opacity":return{name:"opacity",type:Sr.Attribute,descriptor:{name:"a_Opacity",shaderLocation:Gr.OPACITY,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{opacity:r=1}=t;return[r]}}};case"extrusionBase":return{name:"extrusionBase",type:Sr.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:Gr.EXTRUSION_BASE,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{extrusionBase:r=0}=t;return[r]}}};case"offsets":return{name:"offsets",type:Sr.Attribute,descriptor:{name:"a_Offsets",shaderLocation:Gr.OFFSETS,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const{offsets:r}=t;return r}}};case"thetaOffset":return{name:"thetaOffset",type:Sr.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:15,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{thetaOffset:r=1}=t;return[r]}}};default:return}}const{isNumber:IC}=Wi,f1={NONE:0,ENCODE:1,HIGHLIGHT:2};class NC{constructor(){H(this,"pickingUniformMap",void 0)}pickOption2Array(){const t=[];return this.pickingUniformMap.forEach(r=>{IC(r)?t.push(r):t.push(...r)}),t}updatePickOption(t,r){Object.keys(t).forEach(i=>{this.pickingUniformMap.set(i,t[i])});const n=r.getLayerConfig().pickingBuffer||0,s=Number(r.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",n),this.pickingUniformMap.set("u_shaderPick",s),r.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()})}apply(t,{styleAttributeService:r}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),t.hooks.init.tapPromise("PixelPickingPlugin",()=>{const{enablePicking:n}=t.getLayerConfig();r.registerStyleAttribute({name:"pickingColor",type:Sr.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:Gr.PICKING_COLOR,buffer:{data:[],type:L.FLOAT},size:3,update:s=>{const{id:u}=s;return n?V1(u):[0,0,0]}}})}),t.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:n}=t.getLayerConfig();n&&t.isVisible()&&(this.updatePickOption({u_PickingStage:f1.ENCODE},t),t.models.forEach(s=>s.addUniforms({u_PickingStage:f1.ENCODE})))}),t.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:n}=t.getLayerConfig();n&&t.isVisible()&&(this.updatePickOption({u_PickingStage:f1.HIGHLIGHT},t),t.models.forEach(s=>s.addUniforms({u_PickingStage:f1.HIGHLIGHT})))}),t.hooks.beforeHighlight.tap("PixelPickingPlugin",n=>{const{highlightColor:s,activeMix:u=0}=t.getLayerConfig(),i=typeof s=="string"?Dn(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:f0(new Uint8Array(n))});const y={u_PickingStage:f1.HIGHLIGHT,u_PickingColor:n,u_HighlightColor:i.map(m=>m*255),u_activeMix:u};this.updatePickOption(y,t),t.models.forEach(m=>m.addUniforms(y))}),t.hooks.beforeSelect.tap("PixelPickingPlugin",n=>{const{selectColor:s,selectMix:u=0}=t.getLayerConfig(),i=typeof s=="string"?Dn(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:f0(new Uint8Array(n))});const y={u_PickingStage:f1.HIGHLIGHT,u_PickingColor:n,u_HighlightColor:i.map(m=>m*255),u_activeMix:u,u_CurrentSelectedId:n,u_SelectColor:i.map(m=>m*255)};this.updatePickOption(y,t),t.models.forEach(m=>m.addUniforms(y))})}}const DC=["mvt","geojsonvt","testTile"];function OC(e){const t=e.getSource();return DC.includes(t.parser.type)}class LC{apply(t,{styleAttributeService:r}){t.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{OC(t)||this.registerBuiltinAttributes(r,t)})}registerBuiltinAttributes(t,r){if(r.type==="MaskLayer"){this.registerPositionAttribute(t);return}this.registerPositionAttribute(t),this.registerColorAttribute(t),this.registerVertexIdAttribute(t)}registerPositionAttribute(t){t.registerStyleAttribute({name:"position",type:Sr.Attribute,descriptor:{name:"a_Position",shaderLocation:Gr.POSITION,buffer:{data:[],type:L.FLOAT},size:3,update:(r,n,s)=>s.length===2?[s[0],s[1],0]:[s[0],s[1],s[2]]}})}registerColorAttribute(t){t.registerStyleAttribute({name:"color",type:Sr.Attribute,descriptor:{name:"a_Color",shaderLocation:Gr.COLOR,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:4,update:r=>{const{color:n}=r;return!n||!n.length?[1,1,1,1]:n}}})}registerVertexIdAttribute(t){t.registerStyleAttribute({name:"vertexId",type:Sr.Attribute,descriptor:{name:"a_vertexId",shaderLocation:Gr.VERTEX_ID,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:(r,n)=>[n]}})}}class BC{constructor(){H(this,"cameraService",void 0),H(this,"coordinateSystemService",void 0),H(this,"rendererService",void 0),H(this,"mapService",void 0),H(this,"layerService",void 0)}apply(t,{rendererService:r,mapService:n,layerService:s,coordinateSystemService:u,cameraService:i}){this.rendererService=r,this.mapService=n,this.layerService=s,this.coordinateSystemService=u,this.cameraService=i;const y=this.mapService.version;let m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],g=[0,0],x;this.rendererService.uniformBuffers[0]||(x=this.rendererService.createBuffer({data:new Float32Array(16*4+4*7),isUBO:!0}),this.rendererService.uniformBuffers[0]=x),t.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{const b=t.getLayerConfig().tileOrigin;this.coordinateSystemService.refresh(b),y==="GAODE2.x"&&(this.setLayerCenter(t),m=this.mapService.map.customCoords.getMVPMatrix(),g=this.mapService.getCustomCoordCenter(),t.getLayerUniformBuffer().subData({offset:0,data:new Uint8Array(new Float32Array([...m,...g]).buffer)}));const{width:A,height:w}=this.rendererService.getViewportSize(),{data:M,uniforms:V}=this.generateUBO(m,g,A,w);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:M}),this.rendererService.queryVerdorInfo()==="WebGL1"&&t.models.forEach(Q=>{Q.addUniforms(Et(Et({},V),{},{u_PickingBuffer:t.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(t.getShaderPickStat())}))})})}setLayerCenter(t){t.coordCenter===void 0&&(t.coordCenter=t.getSource().center),this.mapService.setCoordCenter&&this.mapService.setCoordCenter(t.coordCenter)}generateUBO(t,r,n,s){const u=this.cameraService.getProjectionMatrix(),i=this.cameraService.getViewMatrix(),y=this.cameraService.getViewProjectionMatrix(),m=this.cameraService.getModelMatrix(),g=this.coordinateSystemService.getViewportCenterProjection(),x=this.coordinateSystemService.getPixelsPerDegree(),b=this.cameraService.getZoom(),A=this.coordinateSystemService.getPixelsPerDegree2(),w=this.cameraService.getZoomScale(),M=this.coordinateSystemService.getPixelsPerMeter(),V=this.coordinateSystemService.getCoordinateSystem(),k=this.cameraService.getCameraPosition(),Q=window.devicePixelRatio,q=this.coordinateSystemService.getViewportCenter(),K=[n,s],te=this.cameraService.getFocalDistance();return{data:[...i,...u,...y,...m,...g,...x,b,...A,w,...M,V,...k,Q,...q,...K,te,0,0,0],uniforms:{[p0.ProjectionMatrix]:u,[p0.ViewMatrix]:i,[p0.ViewProjectionMatrix]:y,[p0.Zoom]:b,[p0.ZoomScale]:w,[p0.FocalDistance]:te,[p0.CameraPosition]:k,[c0.CoordinateSystem]:V,[c0.ViewportCenter]:q,[c0.ViewportCenterProjection]:g,[c0.PixelsPerDegree]:x,[c0.PixelsPerDegree2]:A,[c0.PixelsPerMeter]:M,[c0.Mvp]:t,u_sceneCenterMercator:r,u_ViewportSize:K,u_ModelMatrix:m,u_DevicePixelRatio:Q}}}}class UC{apply(t){t.hooks.beforeRender.tap("UpdateModelPlugin",()=>{t.layerModel&&t.layerModel.needUpdate().then(r=>{r&&t.renderLayers()})}),t.hooks.afterRender.tap("UpdateModelPlugin",()=>{t.layerModelNeedUpdate=!1})}}class kC{apply(t,{styleAttributeService:r}){t.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(t,{styleAttributeService:r})}),t.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{t.layerModelNeedUpdate||t.inited&&this.updateStyleAttribute(t,{styleAttributeService:r})})}updateStyleAttribute(t,{styleAttributeService:r}){const n=r.getLayerStyleAttributes()||[],s=r.getLayerStyleAttribute("filter");if(s&&s.needRegenerateVertices){t.layerModelNeedUpdate=!0,n.forEach(u=>u.needRegenerateVertices=!1);return}n.filter(u=>u.needRegenerateVertices).forEach(u=>{r.updateAttributeByFeatureRange(u.name,t.getEncodedData(),u.featureRange.startIndex,u.featureRange.endIndex,t),u.needRegenerateVertices=!1})}initStyleAttribute(t,{styleAttributeService:r}){(r.getLayerStyleAttributes()||[]).filter(s=>s.needRegenerateVertices).forEach(s=>{r.updateAttributeByFeatureRange(s.name,t.getEncodedData(),s.featureRange.startIndex,s.featureRange.endIndex),s.needRegenerateVertices=!1})}}function zC(){return[new uw,new LC,new vC,new sw,new bC,new xC,new kC,new UC,new CC,new BC,new EC,new RC,new NC,new PC]}const H7={[El.additive]:{enable:!0,func:{srcRGB:L.ONE,dstRGB:L.ONE,srcAlpha:1,dstAlpha:1}},[El.none]:{enable:!1},[El.normal]:{enable:!0,func:{srcRGB:L.SRC_ALPHA,dstRGB:L.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[El.subtractive]:{enable:!0,func:{srcRGB:L.ONE,dstRGB:L.ONE,srcAlpha:L.ZERO,dstAlpha:L.ONE_MINUS_SRC_COLOR},equation:{rgb:L.FUNC_SUBTRACT,alpha:L.FUNC_SUBTRACT}},[El.max]:{enable:!0,func:{srcRGB:L.ONE,dstRGB:L.ONE},equation:{rgb:L.MAX_EXT}},[El.min]:{enable:!0,func:{srcRGB:L.ONE,dstRGB:L.ONE},equation:{rgb:L.MIN_EXT}}};class VC{constructor(t){H(this,"layer",void 0),this.layer=t}pickRender(t){const n=this.layer.getContainer().layerService,s=this.layer;if(s.tileLayer)return s.tileLayer.pickRender(t);s.hooks.beforePickingEncode.call(),n.renderTileLayerMask(s),s.renderModels({ispick:!0}),s.hooks.afterPickingEncode.call()}pick(t,r){var n=this;return ft(function*(){const u=n.layer.getContainer().pickingService;return t.type==="RasterLayer"?n.pickRasterLayer(t,r):(n.pickRender(r),u.pickFromPickingFBO(t,r))})()}pickRasterLayer(t,r,n){const s=this.layer.getContainer(),u=s.pickingService,i=s.mapService,y=this.layer.getSource().extent,m=CE(r.lngLat,y),g={x:r.x,y:r.y,type:r.type,lngLat:r.lngLat,target:r,rasterValue:null},x=n||t;if(m){const b=this.readRasterValue(t,y,i,r.x,r.y);return g.rasterValue=b,u.triggerHoverOnLayer(x,g),!0}else return g.type=r.type==="mousemove"?"mouseout":"un"+r.type,u.triggerHoverOnLayer(x,Et(Et({},g),{},{type:"unpick"})),u.triggerHoverOnLayer(x,g),!1}readRasterValue(t,r,n,s,u){const i=t.getSource().data.dataArray[0],[y=0,m=0,g=10,x=-10]=r,b=n.lngLatToContainer([y,m]),A=n.lngLatToContainer([g,x]),w=A.x-b.x,M=b.y-A.y,V=[(s-b.x)/w,(u-A.y)/M],k=i.width||1,Q=i.height||1,q=Math.floor(V[0]*k),K=Math.floor(V[1]*Q),te=Math.max(0,K-1)*k+q;return i.data[te]}selectFeature(t){const r=this.layer,[n,s,u]=t;r.hooks.beforeSelect.call([n,s,u])}highlightPickedFeature(t){const[r,n,s]=t;this.layer.hooks.beforeHighlight.call([r,n,s])}getFeatureById(t){return this.layer.getSource().getFeatureById(t)}}class HC{constructor(t){H(this,"layer",void 0),H(this,"rendererService",void 0),H(this,"colorTexture",void 0),H(this,"key",void 0),this.layer=t;const r=this.layer.getContainer();this.rendererService=r.rendererService}getColorTexture(t,r){const n=this.getTextureKey(t,r);return this.key===n?this.colorTexture:(this.createColorTexture(t,r),this.key=n,this.colorTexture)}createColorTexture(t,r){const{createTexture2D:n}=this.rendererService,s=this.getColorRampBar(t,r),u=n({data:new Uint8Array(s.data),width:s.width,height:s.height,flipY:!1,unorm:!0});return this.colorTexture=u,u}setColorTexture(t,r,n){this.key=this.getTextureKey(r,n),this.colorTexture=t}destroy(){var t;(t=this.colorTexture)===null||t===void 0||t.destroy()}getColorRampBar(t,r){switch(t.type){case"cat":return _E(t);case"quantize":return gE(t);case"custom":return vE(t,r);case"linear":return mE(t,r);default:return e8(t)}}getTextureKey(t,r){var n;return`${t.colors.join("_")}_${t==null||(n=t.positions)===null||n===void 0?void 0:n.join("_")}_${t.type}_${r==null?void 0:r.join("_")}`}}const GC=["passes"],jC=["moduleName","vertexShader","fragmentShader","inject","triangulation","styleOption","pickingEnabled"],{isEqual:t2,isFunction:y4,isNumber:h4,isObject:Ga,isPlainObject:WC,isUndefined:ZC}=Wi;let f4=0;class S0 extends fu.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){return this.container.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(t={}){super(),H(this,"id",`${f4++}`),H(this,"name",`${f4}`),H(this,"parent",void 0),H(this,"coordCenter",void 0),H(this,"type",void 0),H(this,"visible",!0),H(this,"zIndex",0),H(this,"minZoom",void 0),H(this,"maxZoom",void 0),H(this,"inited",!1),H(this,"layerModelNeedUpdate",!1),H(this,"pickedFeatureID",null),H(this,"selectedFeatureID",null),H(this,"styleNeedUpdate",!1),H(this,"rendering",void 0),H(this,"forceRender",!1),H(this,"clusterZoom",0),H(this,"layerType",void 0),H(this,"triangulation",void 0),H(this,"layerPickService",void 0),H(this,"textureService",void 0),H(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),H(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),H(this,"hooks",{init:new GF,afterInit:new q_,beforeRender:new q_,beforeRenderData:new jF,afterRender:new Xp,beforePickingEncode:new Xp,afterPickingEncode:new Xp,beforeHighlight:new Xp(["pickedColor"]),afterHighlight:new Xp,beforeSelect:new Xp(["pickedColor"]),afterSelect:new Xp,beforeDestroy:new Xp,afterDestroy:new Xp}),H(this,"models",[]),H(this,"multiPassRenderer",void 0),H(this,"plugins",void 0),H(this,"startInit",!1),H(this,"sourceOption",void 0),H(this,"layerModel",void 0),H(this,"shapeOption",void 0),H(this,"tileLayer",void 0),H(this,"layerChildren",[]),H(this,"masks",[]),H(this,"configService",W8),H(this,"styleAttributeService",void 0),H(this,"layerSource",void 0),H(this,"postProcessingPassFactory",void 0),H(this,"animateOptions",{enable:!1}),H(this,"container",void 0),H(this,"encodedData",void 0),H(this,"currentPickId",null),H(this,"rawConfig",void 0),H(this,"needUpdateConfig",void 0),H(this,"encodeStyleAttribute",{}),H(this,"enableShaderEncodeStyles",[]),H(this,"enableDataEncodeStyles",[]),H(this,"pendingStyleAttributes",[]),H(this,"scaleOptions",{}),H(this,"animateStartTime",void 0),H(this,"animateStatus",!1),H(this,"isDestroyed",!1),H(this,"uniformBuffers",[]),H(this,"encodeDataLength",0),H(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0;const r=this.getLayerConfig();r&&r.autoFit&&this.fitBounds(r.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender()},10)}),this.name=t.name||this.id,this.zIndex=t.zIndex||0,this.rawConfig=t,this.masks=t.maskLayers||[]}addMask(t){this.masks.push(t),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(t){const r=this.masks.indexOf(t);r>-1&&this.masks.splice(r,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(t){this.masks.push(t)}removeMaskLayer(t){const r=this.masks.indexOf(t);r>-1&&this.masks.splice(r,1),t.destroy()}getAttribute(t){return this.styleAttributeService.getLayerStyleAttribute(t)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(t){if(Object.keys(t).map(r=>{r in this.rawConfig&&(this.rawConfig[r]=t[r])}),!this.startInit)this.needUpdateConfig=Et(Et({},this.needUpdateConfig),t);else{const r=this.container.id;this.configService.setLayerConfig(r,this.id,Et(Et(Et({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),t)),this.needUpdateConfig={}}}setContainer(t){this.container=t}getContainer(){return this.container}addPlugin(t){return this.plugins.push(t),this}init(){var t=this;return ft(function*(){const r=t.container.id;t.startInit=!0,t.configService.setLayerConfig(r,t.id,t.rawConfig),t.layerType=t.rawConfig.layerType;const{enableMultiPassRenderer:n,passes:s}=t.getLayerConfig();n&&s!==null&&s!==void 0&&s.length&&s.length>0&&t.mapService.on("mapAfterFrameChange",()=>{t.renderLayers()}),t.postProcessingPassFactory=t.container.postProcessingPassFactory,t.styleAttributeService=t.container.styleAttributeService,n&&(t.multiPassRenderer=t.container.multiPassRenderer,t.multiPassRenderer.setLayer(t)),t.pendingStyleAttributes.forEach(({attributeName:u,attributeField:i,attributeValues:y,updateOptions:m})=>{t.styleAttributeService.updateStyleAttribute(u,{scale:Et({field:i},t.splitValuesAndCallbackInAttribute(y,i?void 0:t.getLayerConfig()[u]))},m)}),t.pendingStyleAttributes=[],t.plugins=zC();for(const u of t.plugins)u.apply(t,t.container);t.layerPickService=new VC(t),t.textureService=new HC(t),t.log(Pa.LayerInitStart),yield t.hooks.init.promise(),t.log(Pa.LayerInitEnd),t.inited=!0,t.emit("inited",{target:t,type:"inited"}),t.emit("add",{target:t,type:"add"}),t.hooks.afterInit.call()})()}log(t,r="init"){var n;if(this.tileLayer||this.isTileLayer)return;const s=`${this.id}.${r}.${t}`,u={id:this.id,type:this.type};(n=this.debugService)===null||n===void 0||n.log(s,u)}updateModelData(t){t.attributes&&t.elements?this.models.map(r=>{r.updateAttributesAndElements(t.attributes,t.elements)}):console.warn("data error")}setLayerPickService(t){this.layerPickService=t}prepareBuildModel(){Object.keys(this.needUpdateConfig||{}).length!==0&&this.updateLayerConfig({});const{animateOption:t}=this.getLayerConfig();t!=null&&t.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(t,r,n){return this.updateStyleAttribute("color",t,r,n),this}texture(t,r,n){return this.updateStyleAttribute("texture",t,r,n),this}rotate(t,r,n){return this.updateStyleAttribute("rotate",t,r,n),this}size(t,r,n){return this.updateStyleAttribute("size",t,r,n),this}filter(t,r,n){const s=this.updateStyleAttribute("filter",t,r,n);return this.dataState.dataSourceNeedUpdate=s&&this.inited,this}shape(t,r,n){this.shapeOption={field:t,values:r};const s=this.updateStyleAttribute("shape",t,r,n);return this.dataState.dataSourceNeedUpdate=s&&this.inited,this}label(t,r,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:t,attributeValues:r,updateOptions:n}),this}animate(t){let r={};return Ga(t)?(r.enable=!0,r=Et(Et({},r),t)):r.enable=t,this.updateLayerConfig({animateOption:r}),this}source(t,r){return(t==null?void 0:t.type)==="source"?(this.setSource(t),this):(this.sourceOption={data:t,options:r},this.clusterZoom=0,this)}setData(t,r){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(t,r)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(t,r)}),this}dataUpdatelog(){this.log(Pa.SourceInitStart,Wa.UPDATE),this.layerSource.once("update",()=>{this.log(Pa.SourceInitEnd,Wa.UPDATE)})}style(t){const{passes:r}=t,n=Kp(t,GC);r&&z7(r).forEach(u=>{const i=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(u[0]);i&&i.updateOptions(u[1])}),n.borderColor&&(n.stroke=n.borderColor),n.borderWidth&&(n.strokeWidth=n.borderWidth);const s=n;return Object.keys(n).forEach(u=>{const i=n[u];Array.isArray(i)&&i.length===2&&!h4(i[0])&&!h4(i[1])&&(s[u]={field:i[0],value:i[1]})}),this.encodeStyle(s),this.updateLayerConfig(s),this}encodeStyle(t){Object.keys(t).forEach(r=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(r)&&WC(t[r])&&(t[r].field||t[r].value)&&!t2(this.encodeStyleAttribute[r],t[r])?(this.encodeStyleAttribute[r]=t[r],this.updateStyleAttribute(r,t[r].field,t[r].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[r]&&(delete this.encodeStyleAttribute[r],this.dataState.dataSourceNeedUpdate=!0)})}scale(t,r){const n=Et({},this.scaleOptions);if(Ga(t)?this.scaleOptions=Et(Et({},this.scaleOptions),t):this.scaleOptions[t]=r,this.styleAttributeService&&!t2(n,this.scaleOptions)){const s=Ga(t)?t:{[t]:r};this.styleAttributeService.updateScaleAttribute(s)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(t={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender?this:(this.renderModels(t),this))}renderMultiPass(){var t=this;return ft(function*(){t.encodeDataLength<=0&&!t.forceRender||(t.multiPassRenderer&&t.multiPassRenderer.getRenderFlag()?yield t.multiPassRenderer.render():t.renderModels())})()}active(t){const r={};return r.enableHighlight=Ga(t)?!0:t,Ga(t)?(r.enableHighlight=!0,t.color&&(r.highlightColor=t.color),t.mix&&(r.activeMix=t.mix)):r.enableHighlight=!!t,this.updateLayerConfig(r),this}setActive(t,r){if(Ga(t)){const{x:n=0,y:s=0}=t;this.updateLayerConfig({highlightColor:Ga(r)?r.color:this.getLayerConfig().highlightColor,activeMix:Ga(r)?r.mix:this.getLayerConfig().activeMix}),this.pick({x:n,y:s})}else this.updateLayerConfig({pickedFeatureID:t,highlightColor:Ga(r)?r.color:this.getLayerConfig().highlightColor,activeMix:Ga(r)?r.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(V1(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(t){const r={};return r.enableSelect=Ga(t)?!0:t,Ga(t)?(r.enableSelect=!0,t.color&&(r.selectColor=t.color),t.mix&&(r.selectMix=t.mix)):r.enableSelect=!!t,this.updateLayerConfig(r),this}setSelect(t,r){if(Ga(t)){const{x:n=0,y:s=0}=t;this.updateLayerConfig({selectColor:Ga(r)?r.color:this.getLayerConfig().selectColor,selectMix:Ga(r)?r.mix:this.getLayerConfig().selectMix}),this.pick({x:n,y:s})}else this.updateLayerConfig({pickedFeatureID:t,selectColor:Ga(r)?r.color:this.getLayerConfig().selectColor,selectMix:Ga(r)?r.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(V1(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(t){return this.updateLayerConfig({blend:t}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}setIndex(t){return this.zIndex=t,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(t){this.currentPickId=t}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(t){this.selectedFeatureID=t}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){const t=this.mapService.getZoom(),{visible:r,minZoom:n=-1/0,maxZoom:s=1/0}=this.getLayerConfig();return!!r&&t>=n&&t<s}setMultiPass(t,r){if(this.updateLayerConfig({enableMultiPassRenderer:t}),r&&this.updateLayerConfig({passes:r}),t){const{passes:n=[]}=this.getLayerConfig();this.multiPassRenderer=V7(this,n,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);const{width:s,height:u}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(s,u)}return this}setMinZoom(t){return this.updateLayerConfig({minZoom:t}),this}getMinZoom(){const{minZoom:t}=this.getLayerConfig();return t}getMaxZoom(){const{maxZoom:t}=this.getLayerConfig();return t}get(t){return this.getLayerConfig()[t]}setMaxZoom(t){return this.updateLayerConfig({maxZoom:t}),this}setAutoFit(t){return this.updateLayerConfig({autoFit:t}),this}fitBounds(t){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;const n=this.getSource().extent;return n.some(u=>Math.abs(u)===1/0)?this:(this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],t),this)}destroy(t=!0){var r,n,s,u,i;if(this.isDestroyed)return;(r=this.layerModel)===null||r===void 0||r.uniformBuffers.forEach(m=>{m.destroy()}),this.layerChildren.map(m=>m.destroy(!1)),this.layerChildren=[];const{maskfence:y}=this.getLayerConfig();y&&(this.masks.map(m=>m.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),(n=this.multiPassRenderer)===null||n===void 0||n.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(s=this.layerModel)===null||s===void 0||s.clearModels(t),(u=this.tileLayer)===null||u===void 0||u.destroy(),this.models=[],(i=this.debugService)===null||i===void 0||i.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var t;this.models.forEach(r=>r.destroy()),(t=this.layerModel)===null||t===void 0||t.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(t=>t.needRescale||t.needRemapping||t.needRegenerateVertices).length}setSource(t){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=t,this.clusterZoom=0,this.inited&&this.layerSource.cluster){const r=this.mapService.getZoom();this.layerSource.updateClusterData(r)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:r})=>{if(this.coordCenter===void 0){var n;const s=this.layerSource.center;this.coordCenter=s,(n=this.mapService)!==null&&n!==void 0&&n.setCoordCenter&&this.mapService.setCoordCenter(s)}if(r==="update"){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(t){this.encodedData=t,this.encodeDataLength=t.length}getEncodedData(){return this.encodedData}getScale(t){return this.styleAttributeService.getLayerAttributeScale(t)}getLegend(t){var r,n,s;const u=this.styleAttributeService.getLayerStyleAttribute(t);return{type:(n=((u==null||(r=u.scale)===null||r===void 0?void 0:r.scalers)||[])[0])===null||n===void 0||(n=n.option)===null||n===void 0?void 0:n.type,field:u==null||(s=u.scale)===null||s===void 0?void 0:s.field,items:this.getLegendItems(t)}}getLegendItems(t){const r=this.styleAttributeService.getLayerAttributeScale(t);return r?r.invertExtent?r.range().map(s=>({value:r.invertExtent(s),[t]:s})):r.ticks?r.ticks().map(s=>({value:s,[t]:r(s)})):r!=null&&r.domain?r.domain().filter(s=>!ZC(s)).map(s=>({value:s,[t]:r(s)})):[]:[]}pick({x:t,y:r}){this.interactionService.triggerHover({x:t,y:r})}boxSelect(t,r){this.pickingService.boxPickLayer(this,t,r)}buildLayerModel(t){var r=this;return ft(function*(){const{moduleName:n,vertexShader:s,fragmentShader:u,inject:i,triangulation:y,styleOption:m,pickingEnabled:g=!0}=t,x=Kp(t,jC);r.shaderModuleService.registerModule(n,{vs:s,fs:u,inject:i});const{vs:b,fs:A,uniforms:w}=r.shaderModuleService.getModule(n),{createModel:M}=r.rendererService;return new Promise(V=>{const{attributes:k,elements:Q,count:q}=r.styleAttributeService.createAttributesAndIndices(r.encodedData,y,m,r),K=[...r.layerModel.uniformBuffers,...r.rendererService.uniformBuffers,r.getLayerUniformBuffer()];g&&K.push(r.getPickingUniformBuffer());const te=Et({attributes:k,uniforms:w,fs:A,vs:b,elements:Q,blend:H7[El.normal],uniformBuffers:K,textures:r.layerModel.textures},x);q&&(te.count=q);const se=M(te);V(se)})})()}createAttributes(t){const{triangulation:r}=t,{attributes:n}=this.styleAttributeService.createAttributes(this.encodedData,r);return n}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(t){const{enableHighlight:r=!0,enableSelect:n=!0}=this.getLayerConfig();let s=this.eventNames().indexOf(t)!==-1||this.eventNames().indexOf("un"+t)!==-1;return(t==="click"||t==="dblclick")&&n&&(s=!0),t==="mousemove"&&(r||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(s=!0),this.isVisible()&&s}buildModels(){return ft(function*(){throw new Error("Method not implemented.")})()}rebuildModels(){var t=this;return ft(function*(){yield t.buildModels()})()}renderMulPass(t){return ft(function*(){yield t.render()})()}renderModels(t={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(r=>{r.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(t),textures:this.layerModel.textures},(t==null?void 0:t.ispick)||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(t,r,n,s){const u=this.configService.getAttributeConfig(this.id)||{};return t2(u[t],{field:r,values:n})?!1:(["color","size","texture","rotate","filter","label","shape"].indexOf(t)!==-1&&this.configService.setAttributeConfig(this.id,{[t]:{field:r,values:n}}),this.startInit?this.styleAttributeService.updateStyleAttribute(t,{scale:Et({field:r},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[r]))},s):this.pendingStyleAttributes.push({attributeName:t,attributeField:r,attributeValues:n,updateOptions:s}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(t){console.warn("empty fn")}processData(t){return t}getModelType(){throw new Error("Method not implemented.")}getDefaultConfig(){return{}}initLayerModels(){var t=this;return ft(function*(){t.models.forEach(s=>s.destroy()),t.models=[],t.uniformBuffers.forEach(s=>{s.destroy()}),t.uniformBuffers=[];const r=t.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0});t.uniformBuffers.push(r);const n=t.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0});t.uniformBuffers.push(n),t.models=yield t.layerModel.initModels()})()}getLayerUniformBuffer(){return this.uniformBuffers[0]}getPickingUniformBuffer(){return this.uniformBuffers[1]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(t){return{values:y4(t)?void 0:t,callback:y4(t)?t:void 0}}}function XC(e,t){return{enable:e,mask:255,func:{cmp:L.EQUAL,ref:t?1:0,mask:1}}}function m4(e){return e.maskOperation===Wf.OR?{enable:!0,mask:255,func:{cmp:L.ALWAYS,ref:1,mask:255},opFront:{fail:L.KEEP,zfail:L.REPLACE,zpass:L.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===y0.SINGLE||e.stencilIndex===0?L.ALWAYS:L.LESS,ref:e.stencilType===y0.SINGLE?1:e.stencilIndex===0?2:1,mask:255},opFront:{fail:L.KEEP,zfail:L.REPLACE,zpass:L.REPLACE}}}const YC={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},Ih={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};function _4(e){return Math.max(Math.ceil(e/4)*4,4)}const r2={opacity:Gr.OPACITY,stroke:Gr.STROKE,offsets:Gr.OFFSETS,rotation:Gr.ROTATION,extrusionBase:Gr.EXTRUSION_BASE,thetaOffset:15};class Fn{constructor(t){H(this,"triangulation",void 0),H(this,"uniformBuffers",[]),H(this,"textures",[]),H(this,"createTexture2D",void 0),H(this,"preStyleAttribute",{}),H(this,"encodeStyleAttribute",{}),H(this,"layer",void 0),H(this,"dataTexture",void 0),H(this,"DATA_TEXTURE_WIDTH",void 0),H(this,"dataTextureTest",void 0),H(this,"configService",void 0),H(this,"shaderModuleService",void 0),H(this,"rendererService",void 0),H(this,"iconService",void 0),H(this,"fontService",void 0),H(this,"styleAttributeService",void 0),H(this,"mapService",void 0),H(this,"cameraService",void 0),H(this,"layerService",void 0),H(this,"pickingService",void 0),H(this,"attributeUnifoms",void 0),H(this,"commonUnifoms",void 0),this.layer=t,this.configService=t.getContainer().globalConfigService,this.rendererService=t.getContainer().rendererService,this.pickingService=t.getContainer().pickingService,this.shaderModuleService=t.getContainer().shaderModuleService,this.styleAttributeService=t.getContainer().styleAttributeService,this.mapService=t.getContainer().mapService,this.iconService=t.getContainer().iconService,this.fontService=t.getContainer().fontService,this.cameraService=t.getContainer().cameraService,this.layerService=t.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();const{createTexture2D:r}=this.rendererService;this.createTexture2D=r}getBlend(){const{blend:t="normal"}=this.layer.getLayerConfig();return H7[El[t]]}getStencil(t){const{mask:r=!1,maskInside:n=!0,enableMask:s,maskOperation:u=Wf.AND}=this.layer.getLayerConfig();if(this.layer.type==="MaskLayer")return m4({isStencil:!0,stencilType:y0.SINGLE});if(t.isStencil)return m4(Et(Et({},t),{},{maskOperation:u}));const i=r||s&&this.layer.masks.length!==0||this.layer.tileMask!==void 0;return XC(i,n)}getDefaultStyle(){return{}}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();const n=Et(Et({},r.uniformsOption),t.uniformsOption);return Object.keys(n).forEach(s=>{typeof n[s]=="boolean"&&(n[s]=n[s]?1:0)}),!this.rendererService.hasOwnProperty("device")&&this.textures&&this.textures.length===1&&(n.u_texture=this.textures[0]),n}getAnimateUniforms(){return{}}needUpdate(){return ft(function*(){return!1})()}buildModels(){return ft(function*(){throw new Error("Method not implemented.")})()}initModels(){return ft(function*(){throw new Error("Method not implemented.")})()}clearModels(t=!0){}getAttribute(){throw new Error("Method not implemented.")}prerender(){}render(t){throw new Error("Method not implemented.")}registerBuiltinAttributes(){throw new Error("Method not implemented.")}animateOption2Array(t){return[t.enable?0:1,t.duration||4,t.interval||.2,t.trailLength||.1]}startModelAnimate(){const{animateOption:t}=this.layer.getLayerConfig();t.enable&&this.layer.setAnimateStartTime()}getInject(){const t=this.layer.encodeStyleAttribute;let r="";const n=[];this.layer.enableShaderEncodeStyles.forEach(i=>{t[i]?r+=`#define USE_ATTRIBUTE_${i.toUpperCase()} 0.0; 

`:n.push(`  ${Ih[i]} u_${i};`),r2[i],r+=`
          #ifdef USE_ATTRIBUTE_${i.toUpperCase()}
          layout(location = ${r2[i]}) in ${Ih[i]} a_${i.charAt(0).toUpperCase()+i.slice(1)};
        #endif

        `});const s=n.length?`
layout(std140) uniform AttributeUniforms {
${n.join(`
`)}
};
    `:"";r+=s;let u="";return this.layer.enableShaderEncodeStyles.forEach(i=>{u+=`

    #ifdef USE_ATTRIBUTE_${i.toUpperCase()}
      ${Ih[i]} ${i}  = a_${i.charAt(0).toUpperCase()+i.slice(1)};
    #else
      ${Ih[i]} ${i} = u_${i};
    #endif

    `}),{"vs:#decl":r,"fs:#decl":s,"vs:#main-start":u}}getStyleAttribute(){const t={};return this.layer.enableShaderEncodeStyles.forEach(r=>{if(!this.layer.encodeStyleAttribute[r]){const n=this.layer.getLayerConfig()[r];let s=typeof n>"u"?YC[r]:n;r==="stroke"&&(s=Dn(s)),t["u_"+r]=s}}),t}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(t=>{const r=MC(t);r&&(this.styleAttributeService.registerStyleAttribute(r),r.descriptor&&(r.descriptor.shaderLocation=r2[t]))})}updateEncodeAttribute(t,r){this.encodeStyleAttribute[t]=r}initUniformsBuffer(){const t=this.getUniformsBufferInfo(this.getStyleAttribute()),r=this.getCommonUniformsInfo();t.uniformsLength!==0&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(_4(t.uniformsLength)).fill(0),isUBO:!0}),this.uniformBuffers.push(this.attributeUnifoms)),r.uniformsLength!==0&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(_4(r.uniformsLength)).fill(0),isUBO:!0}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(t){let r=0;const n=[];return Object.values(t).forEach(s=>{Array.isArray(s)?(n.push(...s),r+=s.length):typeof s=="number"?(n.push(s),r+=1):typeof s=="boolean"&&(n.push(Number(s)),r+=1)}),{uniformsOption:t,uniformsLength:r,uniformsArray:n}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var t,r;const{uniformsArray:n}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:s}=this.getCommonUniformsInfo();(t=this.attributeUnifoms)===null||t===void 0||t.subData({offset:0,data:new Uint8Array(new Float32Array(n).buffer)}),(r=this.commonUnifoms)===null||r===void 0||r.subData({offset:0,data:new Uint8Array(new Float32Array(s).buffer)})}}let g4=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e}({}),$C=function(e){return e.NORMAL="normal",e.REPLACE="replace",e}({}),z6=function(e){return e[e.pixel=0]="pixel",e[e.meter=1]="meter",e}({});var V6={exports:{}};V6.exports=qf;V6.exports.default=qf;function qf(e,t,r){r=r||2;var n=t&&t.length,s=n?t[0]*r:e.length,u=G7(e,0,s,r,!0),i=[];if(!u||u.next===u.prev)return i;var y,m,g,x,b,A,w;if(n&&(u=eM(e,t,u,r)),e.length>80*r){y=g=e[0],m=x=e[1];for(var M=r;M<s;M+=r)b=e[M],A=e[M+1],b<y&&(y=b),A<m&&(m=A),b>g&&(g=b),A>x&&(x=A);w=Math.max(g-y,x-m),w=w!==0?32767/w:0}return wy(u,i,r,y,m,w,0),i}function G7(e,t,r,n,s){var u,i;if(s===X2(e,t,r,n)>0)for(u=t;u<r;u+=n)i=v4(u,e[u],e[u+1],i);else for(u=r-n;u>=t;u-=n)i=v4(u,e[u],e[u+1],i);return i&&Kf(i,i.next)&&(Cy(i),i=i.next),i}function x0(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Kf(r,r.next)||Li(r.prev,r,r.next)===0)){if(Cy(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function wy(e,t,r,n,s,u,i){if(e){!i&&u&&iM(e,n,s,u);for(var y=e,m,g;e.prev!==e.next;){if(m=e.prev,g=e.next,u?KC(e,n,s,u):qC(e)){t.push(m.i/r|0),t.push(e.i/r|0),t.push(g.i/r|0),Cy(e),e=g.next,y=g.next;continue}if(e=g,e===y){i?i===1?(e=QC(x0(e),t,r),wy(e,t,r,n,s,u,2)):i===2&&JC(e,t,r,n,s,u):wy(x0(e),t,r,n,s,u,1);break}}}}function qC(e){var t=e.prev,r=e,n=e.next;if(Li(t,r,n)>=0)return!1;for(var s=t.x,u=r.x,i=n.x,y=t.y,m=r.y,g=n.y,x=s<u?s<i?s:i:u<i?u:i,b=y<m?y<g?y:g:m<g?m:g,A=s>u?s>i?s:i:u>i?u:i,w=y>m?y>g?y:g:m>g?m:g,M=n.next;M!==t;){if(M.x>=x&&M.x<=A&&M.y>=b&&M.y<=w&&A1(s,y,u,m,i,g,M.x,M.y)&&Li(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function KC(e,t,r,n){var s=e.prev,u=e,i=e.next;if(Li(s,u,i)>=0)return!1;for(var y=s.x,m=u.x,g=i.x,x=s.y,b=u.y,A=i.y,w=y<m?y<g?y:g:m<g?m:g,M=x<b?x<A?x:A:b<A?b:A,V=y>m?y>g?y:g:m>g?m:g,k=x>b?x>A?x:A:b>A?b:A,Q=W2(w,M,t,r,n),q=W2(V,k,t,r,n),K=e.prevZ,te=e.nextZ;K&&K.z>=Q&&te&&te.z<=q;){if(K.x>=w&&K.x<=V&&K.y>=M&&K.y<=k&&K!==s&&K!==i&&A1(y,x,m,b,g,A,K.x,K.y)&&Li(K.prev,K,K.next)>=0||(K=K.prevZ,te.x>=w&&te.x<=V&&te.y>=M&&te.y<=k&&te!==s&&te!==i&&A1(y,x,m,b,g,A,te.x,te.y)&&Li(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;K&&K.z>=Q;){if(K.x>=w&&K.x<=V&&K.y>=M&&K.y<=k&&K!==s&&K!==i&&A1(y,x,m,b,g,A,K.x,K.y)&&Li(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;te&&te.z<=q;){if(te.x>=w&&te.x<=V&&te.y>=M&&te.y<=k&&te!==s&&te!==i&&A1(y,x,m,b,g,A,te.x,te.y)&&Li(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function QC(e,t,r){var n=e;do{var s=n.prev,u=n.next.next;!Kf(s,u)&&j7(s,n,n.next,u)&&Ry(s,u)&&Ry(u,s)&&(t.push(s.i/r|0),t.push(n.i/r|0),t.push(u.i/r|0),Cy(n),Cy(n.next),n=e=u),n=n.next}while(n!==e);return x0(n)}function JC(e,t,r,n,s,u){var i=e;do{for(var y=i.next.next;y!==i.prev;){if(i.i!==y.i&&uM(i,y)){var m=W7(i,y);i=x0(i,i.next),m=x0(m,m.next),wy(i,t,r,n,s,u,0),wy(m,t,r,n,s,u,0);return}y=y.next}i=i.next}while(i!==e)}function eM(e,t,r,n){var s=[],u,i,y,m,g;for(u=0,i=t.length;u<i;u++)y=t[u]*n,m=u<i-1?t[u+1]*n:e.length,g=G7(e,y,m,n,!1),g===g.next&&(g.steiner=!0),s.push(sM(g));for(s.sort(tM),u=0;u<s.length;u++)r=rM(s[u],r);return r}function tM(e,t){return e.x-t.x}function rM(e,t){var r=oM(e,t);if(!r)return t;var n=W7(r,e);return x0(n,n.next),x0(r,r.next)}function oM(e,t){var r=t,n=e.x,s=e.y,u=-1/0,i;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var y=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(y<=n&&y>u&&(u=y,i=r.x<r.next.x?r:r.next,y===n))return i}r=r.next}while(r!==t);if(!i)return null;var m=i,g=i.x,x=i.y,b=1/0,A;r=i;do n>=r.x&&r.x>=g&&n!==r.x&&A1(s<x?n:u,s,g,x,s<x?u:n,s,r.x,r.y)&&(A=Math.abs(s-r.y)/(n-r.x),Ry(r,e)&&(A<b||A===b&&(r.x>i.x||r.x===i.x&&nM(i,r)))&&(i=r,b=A)),r=r.next;while(r!==m);return i}function nM(e,t){return Li(e.prev,e,t.prev)<0&&Li(t.next,e,e.next)<0}function iM(e,t,r,n){var s=e;do s.z===0&&(s.z=W2(s.x,s.y,t,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,aM(s)}function aM(e){var t,r,n,s,u,i,y,m,g=1;do{for(r=e,e=null,u=null,i=0;r;){for(i++,n=r,y=0,t=0;t<g&&(y++,n=n.nextZ,!!n);t++);for(m=g;y>0||m>0&&n;)y!==0&&(m===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,y--):(s=n,n=n.nextZ,m--),u?u.nextZ=s:e=s,s.prevZ=u,u=s;r=n}u.nextZ=null,g*=2}while(i>1);return e}function W2(e,t,r,n,s){return e=(e-r)*s|0,t=(t-n)*s|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function sM(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function A1(e,t,r,n,s,u,i,y){return(s-i)*(t-y)>=(e-i)*(u-y)&&(e-i)*(n-y)>=(r-i)*(t-y)&&(r-i)*(u-y)>=(s-i)*(n-y)}function uM(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!pM(e,t)&&(Ry(e,t)&&Ry(t,e)&&cM(e,t)&&(Li(e.prev,e,t.prev)||Li(e,t.prev,t))||Kf(e,t)&&Li(e.prev,e,e.next)>0&&Li(t.prev,t,t.next)>0)}function Li(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Kf(e,t){return e.x===t.x&&e.y===t.y}function j7(e,t,r,n){var s=Dh(Li(e,t,r)),u=Dh(Li(e,t,n)),i=Dh(Li(r,n,e)),y=Dh(Li(r,n,t));return!!(s!==u&&i!==y||s===0&&Nh(e,r,t)||u===0&&Nh(e,n,t)||i===0&&Nh(r,e,n)||y===0&&Nh(r,t,n))}function Nh(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Dh(e){return e>0?1:e<0?-1:0}function pM(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&j7(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function Ry(e,t){return Li(e.prev,e,e.next)<0?Li(e,t,e.next)>=0&&Li(e,e.prev,t)>=0:Li(e,t,e.prev)<0||Li(e,e.next,t)<0}function cM(e,t){var r=e,n=!1,s=(e.x+t.x)/2,u=(e.y+t.y)/2;do r.y>u!=r.next.y>u&&r.next.y!==r.y&&s<(r.next.x-r.x)*(u-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function W7(e,t){var r=new Z2(e.i,e.x,e.y),n=new Z2(t.i,t.x,t.y),s=e.next,u=t.prev;return e.next=t,t.prev=e,r.next=s,s.prev=r,n.next=r,r.prev=n,u.next=n,n.prev=u,n}function v4(e,t,r,n){var s=new Z2(e,t,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Cy(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Z2(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}qf.deviation=function(e,t,r,n){var s=t&&t.length,u=s?t[0]*r:e.length,i=Math.abs(X2(e,0,u,r));if(s)for(var y=0,m=t.length;y<m;y++){var g=t[y]*r,x=y<m-1?t[y+1]*r:e.length;i-=Math.abs(X2(e,g,x,r))}var b=0;for(y=0;y<n.length;y+=3){var A=n[y]*r,w=n[y+1]*r,M=n[y+2]*r;b+=Math.abs((e[A]-e[M])*(e[w+1]-e[A+1])-(e[A]-e[w])*(e[M+1]-e[A+1]))}return i===0&&b===0?0:Math.abs((b-i)/i)};function X2(e,t,r,n){for(var s=0,u=t,i=r-n;u<r;u+=n)s+=(e[i]-e[u])*(e[u+1]+e[i+1]),i=u;return s}qf.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,s=0;s<e.length;s++){for(var u=0;u<e[s].length;u++)for(var i=0;i<t;i++)r.vertices.push(e[s][u][i]);s>0&&(n+=e[s-1].length,r.holes.push(n))}return r};var lM=V6.exports;const Yu=vp(lM),Z7=100;function E4(e){return e/180*Math.acos(-1)}function X7(e){const t=E4(e[0])+Math.PI/2,r=E4(e[1]),n=Z7+Math.random()*.4,s=n*Math.cos(r)*Math.cos(t),u=n*Math.cos(r)*Math.sin(t),i=n*Math.sin(r);return[u,i,s]}const Oh=va();va();const sa=va(),fl=va(),m1=va();function o2(e,t,r,n,s){ju(e,r,n),uy(e,e),t=h2(-e[1],e[0]);const u=h2(-r[1],r[0]);return[s/Zh(t,u),t]}function ml(e,t){return Pv(e,-t[1],t[0])}function _1(e,t,r){return f2(e,t,r),uy(e,e),e}function n2(e,t){return e[0]===t[0]&&e[1]===t[1]}class dM{constructor(t={}){H(this,"complex",void 0),H(this,"join",void 0),H(this,"cap",void 0),H(this,"miterLimit",void 0),H(this,"thickness",void 0),H(this,"normal",void 0),H(this,"lastFlip",-1),H(this,"miter",h2(0,0)),H(this,"started",!1),H(this,"dash",!1),H(this,"totalDistance",0),H(this,"currentIndex",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(t){const r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const n=t.length;let s=r.startIndex;for(let u=1;u<n;u++){const i=t[u-1],y=t[u],m=u<t.length-1?t[u+1]:null,g=this.simpleSegment(r,s,i,y,m);s+=g}if(this.dash)for(let u=0;u<r.positions.length/6;u++)r.positions[u*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}simpleExtrude_gaode2(t,r){const n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const s=t.length;let u=n.startIndex;for(let g=1;g<s;g++){var i,y,m;const x=t[g-1];x.push((i=r[g-1][2])!==null&&i!==void 0?i:0);const b=r[g-1],A=t[g];A.push((y=r[g][2])!==null&&y!==void 0?y:0);const w=r[g],M=g<t.length-1?[...t[g+1],(m=r[g+1][2])!==null&&m!==void 0?m:0]:null,V=g<r.length-1?r[g+1]:null,k=this.simpleSegment(n,u,x,A,M,b,w,V);u+=k}if(this.dash)for(let g=0;g<n.positions.length/6;g++)n.positions[g*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}extrude_gaode2(t,r){const n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const s=t.length;let u=n.startIndex;for(let g=1;g<s;g++){var i,y,m;const x=t[g-1];x.push((i=r[g-1][2])!==null&&i!==void 0?i:0);const b=r[g-1],A=t[g];A.push((y=r[g][2])!==null&&y!==void 0?y:0);const w=r[g],M=g<t.length-1?[...t[g+1],(m=r[g+1][2])!==null&&m!==void 0?m:0]:null,V=g<r.length-1?r[g+1]:null,k=this.segment_gaode2(n,u,x,A,M,b,w,V);u+=k}if(this.dash)for(let g=0;g<n.positions.length/6;g++)n.positions[g*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}extrude(t){const r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const n=t.length;let s=r.startIndex;for(let u=1;u<n;u++){const i=t[u-1],y=t[u],m=u<t.length-1?t[u+1]:null,g=this.segment(r,s,i,y,m);s+=g}if(this.dash)for(let u=0;u<r.positions.length/6;u++)r.positions[u*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}simpleSegment(t,r,n,s,u){let i=0;const y=t.indices,m=t.positions,g=t.normals,x=Vs([s[0],s[1]]),b=Vs([n[0],n[1]]);_1(sa,x,b);let A=0;if(this.dash&&(A=this.lineSegmentDistance(x,b),this.totalDistance+=A),this.normal||(this.normal=va(),ml(this.normal,sa)),this.started||(this.started=!0,this.extrusions(m,g,n,this.normal,this.thickness,this.totalDistance-A)),y.push(r+0,r+1,r+2),!u)ml(this.normal,sa),this.extrusions(m,g,s,this.normal,this.thickness,this.totalDistance),y.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),i+=2;else{const w=Vs([u[0],u[1]]);n2(x,w)&&ju(w,x,uy(w,Mm(w,x,b))),_1(fl,w,x);const[M,V]=o2(m1,va(),sa,fl,this.thickness);let k=Zh(m1,this.normal)<0?-1:1;this.extrusions(m,g,s,V,M,this.totalDistance),y.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),k=-1,wd(this.normal,V),i+=2,this.lastFlip=k}return i}segment_gaode2(t,r,n,s,u,i,y,m){let g=0;const x=t.indices,b=t.positions,A=t.normals,w=this.cap==="square",M=this.join==="bevel",V=Vs([y[0],y[1]]),k=Vs([i[0],i[1]]);_1(sa,s,n);let Q=0;if(this.dash&&(Q=this.lineSegmentDistance(V,k),this.totalDistance+=Q),this.normal||(this.normal=va(),ml(this.normal,sa)),!this.started)if(this.started=!0,w){const q=va(),K=va();ju(q,this.normal,sa),ju(K,this.normal,sa),A.push(K[0],K[1],0),A.push(q[0],q[1],0),b.push(n[0],n[1],n[2]|0,this.totalDistance-Q,-this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),b.push(n[0],n[1],n[2]|0,this.totalDistance-Q,this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(b,A,n,this.normal,this.thickness,this.totalDistance-Q);if(x.push(r+0,r+1,r+2),u){n2(s,u)&&ju(u,s,uy(u,Mm(u,s,n))),_1(fl,u,s);const[q,K]=o2(m1,va(),sa,fl,this.thickness);let te=Zh(m1,this.normal)<0?-1:1,se=M;!se&&this.join==="miter"&&q>this.miterLimit&&(se=!0),se?(A.push(this.normal[0],this.normal[1],0),A.push(K[0],K[1],0),b.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*te,s[2]|0),this.complex.indexes.push(this.currentIndex),b.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness*te,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,x.push(...this.lastFlip!==-te?[r,r+2,r+3]:[r+2,r+1,r+3]),x.push(r+2,r+3,r+4),ml(Oh,fl),wd(this.normal,Oh),A.push(this.normal[0],this.normal[1],0),b.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*te,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,g+=3):(this.extrusions(b,A,s,K,q,this.totalDistance),x.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),te=-1,wd(this.normal,K),g+=2),this.lastFlip=te}else{if(ml(this.normal,sa),w){const q=va(),K=va();f2(K,sa,this.normal),ju(q,sa,this.normal),A.push(K[0],K[1],0),A.push(q[0],q[1],0),b.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),b.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(b,A,s,this.normal,this.thickness,this.totalDistance);x.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),g+=2}return g}segment(t,r,n,s,u){let i=0;const y=t.indices,m=t.positions,g=t.normals,x=this.cap==="square",b=this.join==="bevel",A=Vs([s[0],s[1]]),w=Vs([n[0],n[1]]);_1(sa,A,w);let M=0;if(this.dash&&(M=this.lineSegmentDistance(A,w),this.totalDistance+=M),this.normal||(this.normal=va(),ml(this.normal,sa)),!this.started)if(this.started=!0,x){const V=va(),k=va();ju(V,this.normal,sa),ju(k,this.normal,sa),g.push(k[0],k[1],0),g.push(V[0],V[1],0),m.push(n[0],n[1],n[2]|0,this.totalDistance-M,-this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),m.push(n[0],n[1],n[2]|0,this.totalDistance-M,this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(m,g,n,this.normal,this.thickness,this.totalDistance-M);if(y.push(r+0,r+1,r+2),u){const V=Vs([u[0],u[1]]);n2(A,V)&&ju(V,A,uy(V,Mm(V,A,w))),_1(fl,V,A);const[k,Q]=o2(m1,va(),sa,fl,this.thickness);let q=Zh(m1,this.normal)<0?-1:1,K=b;!K&&this.join==="miter"&&k>this.miterLimit&&(K=!0),K?(g.push(this.normal[0],this.normal[1],0),g.push(Q[0],Q[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*q,s[2]|0),this.complex.indexes.push(this.currentIndex),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness*q,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,y.push(...this.lastFlip!==-q?[r,r+2,r+3]:[r+2,r+1,r+3]),y.push(r+2,r+3,r+4),ml(Oh,fl),wd(this.normal,Oh),g.push(this.normal[0],this.normal[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*q,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,i+=3):(this.extrusions(m,g,s,Q,k,this.totalDistance),y.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),q=-1,wd(this.normal,Q),i+=2),this.lastFlip=q}else{if(ml(this.normal,sa),x){const V=va(),k=va();f2(k,sa,this.normal),ju(V,sa,this.normal),g.push(k[0],k[1],0),g.push(V[0],V[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(m,g,s,this.normal,this.thickness,this.totalDistance);y.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),i+=2}return i}extrusions(t,r,n,s,u,i){r.push(s[0],s[1],0),r.push(s[0],s[1],0),t.push(n[0],n[1],n[2]|0,i,-u,n[2]|0),this.complex.indexes.push(this.currentIndex),t.push(n[0],n[1],n[2]|0,i,u,n[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(t,r){const n=r[0]-t[0],s=r[1]-t[1];return Math.sqrt(n*n+s*s)}}function yM(e){const t=e[0][0],r=e[0][e[0].length-1];t[0]===r[0]&&t[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));const n=e[0].length,s=Yu.flatten(e),{vertices:u,dimensions:i}=s,y=[],m=[];for(let x=0;x<u.length/i;x++)i===2?y.push(u[x*2],u[x*2+1],1):y.push(u[x*3],u[x*3+1],1);const g=Yu(s.vertices,s.holes,s.dimensions);m.push(...g);for(let x=0;x<n;x++){const b=s.vertices.slice(x*i,(x+1)*i);let A=s.vertices.slice((x+1)*i,(x+2)*i);A.length===0&&(A=s.vertices.slice(0,i));const w=y.length/3;y.push(b[0],b[1],1,A[0],A[1],1,b[0],b[1],0,A[0],A[1],0),m.push(...[0,2,1,2,3,1].map(M=>M+w))}return{positions:y,index:m}}function hM(e){const t=Yu.flatten(e),r=Yu(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:r}}function Y7(e,t=!1){const r=e[0][0],n=e[0][e[0].length-1];r[0]===n[0]&&r[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));const s=e[0].length,u=Yu.flatten(e),{vertices:i,dimensions:y}=u,m=[],g=[],x=[];for(let A=0;A<i.length/y;A++)m.push(i[A*y],i[A*y+1],1,-1,-1),x.push(0,0,1);const b=Yu(u.vertices,u.holes,u.dimensions);g.push(...b);for(let A=0;A<s;A++){const w=u.vertices.slice(A*y,(A+1)*y);let M=u.vertices.slice((A+1)*y,(A+2)*y);M.length===0&&(M=u.vertices.slice(0,y));const V=m.length/5;m.push(w[0],w[1],1,0,0,M[0],M[1],1,.1,0,w[0],w[1],0,0,.8,M[0],M[1],0,.1,.8);const k=fM([M[0],M[1],1],[w[0],w[1],0],[w[0],w[1],1],t);x.push(...k,...k,...k,...k),g.push(...[1,2,0,3,2,1].map(Q=>Q+V))}return{positions:m,index:g,normals:x}}function fM(e,t,r,n=!1){const s=Ah(),u=Ah(),i=Ah();n&&(e=Um(e),t=Um(t),r=Um(r));const y=fp(...e),m=fp(...t),g=fp(...r);D3(s,g,m),D3(u,y,m),bv(i,s,u);const x=Ah();return Kd(x,i),x}let zd=function(e){return e.CYLINDER="cylinder",e.SQUARECOLUMN="squareColumn",e.TRIANGLECOLUMN="triangleColumn",e.HEXAGONCOLUMN="hexagonColumn",e.PENTAGONCOLUMN="pentagonColumn",e}({}),Vd=function(e){return e.CIRCLE="circle",e.SQUARE="square",e.TRIANGLE="triangle",e.HEXAGON="hexagon",e.PENTAGON="pentagon",e}({});function zy(e,t=0){const r=Math.PI*2/e,n=[];for(let u=0;u<e;u++)n.push(r*u+t*Math.PI/12);return n.map(u=>{const i=Math.sin(u+Math.PI/4),y=Math.cos(u+Math.PI/4);return[i,y,0]})}function Y2(){return zy(30)}function x4(){return zy(4)}function P4(){return zy(3)}function b4(){return zy(6,1)}function F4(){return zy(5)}const B1={[Vd.CIRCLE]:Y2,[Vd.HEXAGON]:b4,[Vd.TRIANGLE]:P4,[Vd.SQUARE]:x4,[Vd.PENTAGON]:F4,[zd.CYLINDER]:Y2,[zd.HEXAGONCOLUMN]:b4,[zd.TRIANGLECOLUMN]:P4,[zd.SQUARECOLUMN]:x4,[zd.PENTAGONCOLUMN]:F4},Lh={};function m0(e){const t=Fl(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length}}function A4(e){const t=Fl(e.coordinates),r=X7(t);return{vertices:[...r,...r,...r,...r],indices:[0,1,2,2,3,0],size:r.length}}function H6(e){const{shape:t}=e,{positions:r,index:n,normals:s}=xM(t,!1);return{vertices:r,indices:n,normals:s,size:5}}function mM(e){const t=Fl(e.coordinates);return{vertices:[...t],indices:[0],size:t.length}}function $2(e){const{coordinates:t,originCoordinates:r,version:n}=e,s=new dM({dash:!0,join:"bevel"});if(n==="GAODE2.x"){let i=t;Array.isArray(i[0][0])||(i=[t]);let y=r;Array.isArray(y[0][0])||(y=[r]);for(let m=0;m<i.length;m++){const g=i[m],x=y[m];s.extrude_gaode2(g,x)}}else{let i=t;i[0]&&!Array.isArray(i[0][0])&&(i=[t]),i.forEach(y=>{s.extrude(y)})}const u=s.complex;return{vertices:u.positions,indices:u.indices,normals:u.normals,indexes:u.indexes,size:6}}function _M(e){const{coordinates:t,originCoordinates:r}=e,n=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};const{results:s,totalDistance:u}=gM(t,r);return s.map(i=>{n.push(i[0],i[1],i[2],i[3],0,u)}),{vertices:n,indices:[],normals:[],size:6,count:s.length}}function S4(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function i2(e,t){return e.length<3&&e.push(0),t!==void 0&&e.push(t),e}function gM(e,t){let r=e,n=t||e;Array.isArray(r)&&Array.isArray(r[0])&&Array.isArray(r[0][0])&&(r=t.flat(),n=t.flat());let s=0;if(r.length<2)return{results:r,totalDistance:0};{const u=[],i=i2(r[0],s);u.push(i);for(let m=1;m<r.length-1;m++){const g=S4(Vs(n[m-1]),Vs(n[m]));s+=g;const x=i2(r[m],s);u.push(x),u.push(x)}const y=S4(Vs(n[n.length-2]),Vs(n[n.length-1]));return s+=y,u.push(i2(r[r.length-1],s)),{results:u,totalDistance:s}}}function Qf(e){const{coordinates:t}=e,r=Yu.flatten(t),{vertices:n,dimensions:s,holes:u}=r;return{indices:Yu(n,u,s),vertices:n,size:s}}function vM(e){const{coordinates:t}=e,r=Yu.flatten(t),{vertices:n,dimensions:s,holes:u}=r;return{indices:Yu(n,u,s),vertices:EM(n),size:s+4}}function EM(e){const t=[],{center:r,radius:n}=BE(e);for(let s=0;s<e.length;s+=2){const u=e[s],i=e[s+1];t.push(u,i,0,...r,n)}return t}function $7(e){const t=e.coordinates,{positions:r,index:n,normals:s}=Y7(t,!0);return{vertices:r,indices:n,normals:s,size:5}}function q7(e){const{shape:t}=e,{positions:r,index:n}=PM(t);return{vertices:r,indices:n,size:3}}function Jf(e){const t=e.coordinates;return{vertices:[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1],indices:[0,1,2,0,2,3],size:5}}function G6(e,t){const{segmentNumber:r=30}=t,n=e.coordinates,s=[],u=[];for(let i=0;i<r;i++)s.push(i,1,i,n[0][0],n[0][1],n[1][0],n[1][1],i,-1,i,n[0][0],n[0][1],n[1][0],n[1][1]),i!==r-1&&u.push(...[0,1,2,1,3,2].map(y=>i*2+y));return{vertices:s,indices:u,size:7}}function T4(e){const t=e.coordinates;t.length===2&&t.push(0);const r=Bh(-1,1),n=Bh(1,1),s=Bh(-1,-1),u=Bh(1,-1);return{vertices:[...t,...r,...t,...s,...t,...u,...t,...n],indices:[0,1,2,3,0,2],size:5}}function xM(e,t=!1){if(Lh&&Lh[e])return Lh[e];const r=B1[e]?B1[e]():B1.cylinder(),n=Y7([r],t);return Lh[e]=n,n}function PM(e){const t=["cylinder","triangleColumn","hexagonColumn","squareColumn"],r=B1[e]?B1[e]():B1.circle();return t.indexOf(e)===-1?hM([r]):yM([r])}function Bh(e,t){const r=(e+1)/2,n=(t+1)/2;return[r,n]}function K7(e,t){return{type:e.type,field:"value",items:e.positions.map((r,n)=>({[t]:n>=e.colors.length?null:e.colors[n],value:r}))}}const bM=`in vec4 v_color;

#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,FM=`layout(location = 0) in vec3 a_Position;\r
layout(location = 1) in vec4 a_Color;\r
layout(location = 10) in vec3 a_Pos;\r
\r
layout(std140) uniform commonUniforms {\r
    vec2 u_radius;\r
    float u_opacity;\r
    float u_coverage;\r
    float u_angle;\r
};\r
\r
\r
out vec4 v_color;\r
\r
\r
#pragma include "projection"\r
#pragma include "project"\r
#pragma include "picking"\r
\r
void main() {\r
  v_color = a_Color;\r
  v_color.a *= u_opacity;\r
\r
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r
  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r
  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r
  // gl_Position = project_common_position_to_clipspace(project_pos);\r
\r
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\r
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
    vec2 customLnglat = customProject(lnglat) - u_sceneCenterMercator; // 将经纬度转换为高德2.0需要的平面坐标\r
    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\r
    gl_Position = u_Mvp * (project_pos);\r
  } else {\r
     vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r
    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r
    gl_Position = project_common_position_to_clipspace(project_pos);\r
  }\r
\r
  setPickingColor(a_PickingColor);\r
}\r
`;class AM extends Fn{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:n}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:n||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapGrid",vertexShader:FM,fragmentShader:bM,triangulation:q7,primitive:L.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Sr.Attribute,descriptor:{shaderLocation:10,name:"a_Pos",buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const r=t.version==="GAODE2.x"?t.originCoordinates:t.coordinates;return[r[0],r[1],0]}}})}}const SM=`in vec4 v_color;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,TM=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 10) in vec3 a_Pos;
layout(location = 13) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "light"
#pragma include "picking"

void main() {
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
 
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // 经纬度
    vec2 customLnglat = customProject(lnglat) - u_sceneCenterMercator; // 将经纬度转换为高德2.0需要的平面坐标
    vec4 project_pos = project_position(vec4(customLnglat, a_Position.z * a_Size, 1.0));

    float lightWeight = calc_lighting(project_pos);
    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w * u_opacity);
  
    gl_Position = u_Mvp * vec4(customLnglat , a_Position.z * a_Size, 1.0);
  } else {
    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // 实际的经纬度
    vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));
    
    float lightWeight = calc_lighting(project_pos);
    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);
    
    gl_Position = project_common_position_to_clipspace(project_pos);
  }

  setPickingColor(a_PickingColor);
}
`;class wM extends Fn{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:n}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:n||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapGrid3d",vertexShader:TM,fragmentShader:SM,triangulation:H6,primitive:L.TRIANGLES,depth:{enable:!0}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{shaderLocation:Gr.SIZE,name:"a_Size",buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Sr.Attribute,descriptor:{name:"a_Pos",shaderLocation:10,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const r=t.version==="GAODE2.x"?t.originCoordinates:t.coordinates;return[r[0],r[1],0]}}})}}function RM(e,t){const r=[],n=[],s=[],u=e+1,i=t+1,y=e/2,m=t/2;for(let g=0;g<i;g++){const x=g-m;for(let b=0;b<u;b++){const A=b-y;n.push(A/y,-x/m,0),s.push(b/e),s.push(1-g/t)}}for(let g=0;g<t;g++)for(let x=0;x<e;x++){const b=x+u*g,A=x+u*(g+1),w=x+1+u*(g+1),M=x+1+u*g;r.push(b,A,M),r.push(A,w,M)}return{vertices:n,indices:r,uvs:s}}const CM=`layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;
in float v_intensity;
out vec4 outputColor;

void main(){
   
    float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
    vec4 color = texture(SAMPLER_2D(u_colorTexture),vec2(intensity, 0));
    outputColor = color;
    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;
   outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,MM=`layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

out vec2 v_texCoord;
out float v_intensity;

vec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {
    float t2 = t * t;
    float one_minus_t = 1.0 - t;
    float one_minus_t2 = one_minus_t * one_minus_t;
    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);
}
vec2 toBezier(float t, vec4 p){
    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));
}

#pragma include "projection"
#pragma include "project"

void main() {
  v_texCoord = a_Uv;

  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // 将原本 0 -> 1 的 uv 转换为 -1 -> 1 的标准坐标空间（NDC）

  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y 平面上的点（z == 0）可以认为是三维上的点被投影到平面后的点
	vec4 p2 = vec4(pos, 1.0, 1.0); // 平行于x/y平面、z==1 的平面上的点

	vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // 根据视图投影矩阵的逆矩阵平面上的反算出三维空间中的点（p1平面上的点）
	vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;

  inverseP1 = inverseP1 / inverseP1.w; // 归一化操作（归一化后为世界坐标）
	inverseP2 = inverseP2 / inverseP2.w;

	float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??
	vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);

  vec4 b= vec4(0.5000, 0.0, 1.0, 0.5000);
  float fh;

  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
  fh = toBezier(v_intensity, b).y;
  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);
 
}
`,IM=`uniform sampler2D u_texture;        // 热力强度图
uniform sampler2D u_colorTexture;   // 根据强度分布的色带

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};
in vec2 v_texCoord;
out vec4 outputColor;

#pragma include "scene_uniforms"

float getBlurIndusty() {
    float vW = 2.0/ u_ViewportSize.x;
    float vH = 2.0/ u_ViewportSize.y;
    vec2 vUv = v_texCoord;
    float i11 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i12 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i13 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y + 1.0 * vH) ).r;

    float i21 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y) ).r;
    float i22 = texture(SAMPLER_2D(u_texture), vec2( vUv.x , vUv.y) ).r;
    float i23 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y) ).r;

    float i31 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y-1.0*vH) ).r;
    float i32 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y-1.0*vH) ).r;
    float i33 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y-1.0*vH) ).r;

    return(
        i11 + 
        i12 + 
        i13 + 
        i21 + 
        i21 + 
        i22 + 
        i23 + 
        i31 + 
        i32 + 
        i33
        )/9.0;
}


void main(){
    // float intensity = texture(u_texture, v_texCoord).r;
    float intensity = getBlurIndusty();
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));
    outputColor = color;
    outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,NM=`
layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

#pragma include "scene_uniforms"

out vec2 v_texCoord;
void main() {
  v_texCoord = a_Uv;
  #ifdef VIEWPORT_ORIGIN_TL
    v_texCoord.y = 1.0 - v_texCoord.y;
  #endif

  gl_Position = vec4(a_Position.xy, 0, 1.);
}
`,DM=`layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

in vec2 v_extrude;
in float v_weight;
out vec4 outputColor;
#define GAUSS_COEF  0.3989422804014327

void main(){
    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);
    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);
    outputColor = vec4(val, 1., 1., 1.);
}
`,OM=`layout(location = 0) in vec3 a_Position;
layout(location = 9) in float a_Size;
layout(location = 10) in vec2 a_Dir;


layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

out vec2 v_extrude;
out float v_weight;

#define GAUSS_COEF  0.3989422804014327

#pragma include "projection"
#pragma include "picking"

void main(){
    vec3 picking_color_placeholder = u_PickingColor;

    v_weight = a_Size;
    float ZERO = 1.0 / 255.0 / 16.0;
    float extrude_x = a_Dir.x * 2.0 -1.0;
    float extrude_y = a_Dir.y * 2.0 -1.0;
    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));
    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;
    v_extrude = extrude_dir * S;

    vec2 offset = project_pixel(v_extrude * u_radius);
    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

    // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
        gl_Position = u_Mvp * (vec4(project_pos.xy + offset, 0.0, 1.0));
    } else {
        gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));
    }
}
`,{isEqual:LM}=Wi;class w4 extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"colorTexture",void 0),H(this,"heatmapFramerBuffer",void 0),H(this,"heatmapTexture",void 0),H(this,"intensityModel",void 0),H(this,"colorModel",void 0),H(this,"shapeType",void 0),H(this,"preRampColors",void 0),H(this,"colorModelUniformBuffer",[]),H(this,"heat3DModelUniformBuffer",[])}prerender(){const{clear:t,useFramebuffer:r}=this.rendererService;r(this.heatmapFramerBuffer,()=>{t({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode()})}render(t){const{rampColors:r}=this.layer.getLayerConfig();LM(this.preRampColors,r)||this.updateColorTexture(),this.shapeType==="heatmap"?this.drawHeatMap(t):this.draw3DHeatMap(t)}getUninforms(){throw new Error("Method not implemented.")}initModels(){var t=this;return ft(function*(){var r;const{createFramebuffer:n,getViewportSize:s,createTexture2D:u}=t.rendererService,i=t.styleAttributeService.getLayerStyleAttribute("shape"),y=(i==null||(r=i.scale)===null||r===void 0?void 0:r.field)||"heatmap";t.shapeType=y,t.intensityModel=yield t.buildHeatMapIntensity(),t.colorModel=y==="heatmap"?t.buildHeatmap():t.build3dHeatMap();const{width:m,height:g}=s();return t.heatmapTexture=u({width:Math.floor(m/4),height:Math.floor(g/4),wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE,min:L.LINEAR,mag:L.LINEAR,usage:Ey.RENDER_TARGET}),t.heatmapFramerBuffer=n({color:t.heatmapTexture,depth:!0,width:Math.floor(m/4),height:Math.floor(g/4)}),t.updateColorTexture(),[t.intensityModel,t.colorModel]})()}buildModels(){var t=this;return ft(function*(){return t.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:Sr.Attribute,descriptor:{name:"a_Dir",shaderLocation:10,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return[r]}}})}buildHeatMapIntensity(){var t=this;return ft(function*(){return t.uniformBuffers=[t.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],t.layer.triangulation=T4,yield t.layer.buildLayerModel({moduleName:"heatmapIntensity",vertexShader:OM,fragmentShader:DM,triangulation:T4,depth:{enable:!1},cull:{enable:!0,face:Hf(t.mapService.version)}})})()}buildHeatmap(){this.shaderModuleService.registerModule("heatmapColor",{vs:NM,fs:IM}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];const{vs:t,fs:r,uniforms:n}=this.shaderModuleService.getModule("heatmapColor"),{createAttribute:s,createElements:u,createBuffer:i,createModel:y}=this.rendererService;return y({vs:t,fs:r,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:s({shaderLocation:Gr.POSITION,buffer:i({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:L.FLOAT}),size:3}),a_Uv:s({shaderLocation:Gr.UV,buffer:i({data:[0,1,1,1,0,0,1,0],type:L.FLOAT}),size:2})},uniforms:Et({},n),depth:{enable:!1},elements:u({data:[0,2,1,2,3,1],type:L.UNSIGNED_INT,count:6})})}drawIntensityMode(){var t;const{intensity:r=10,radius:n=5}=this.layer.getLayerConfig(),s={u_radius:n,u_intensity:r};this.uniformBuffers[0].subData({offset:0,data:[n,r]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),(t=this.intensityModel)===null||t===void 0||t.draw({uniforms:s,blend:{enable:!0,func:{srcRGB:L.ONE,srcAlpha:1,dstRGB:L.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call()}drawHeatMap(t){var r;const{opacity:n=1}=this.layer.getLayerConfig(),s={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},u=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[n]}),(r=this.colorModel)===null||r===void 0||r.draw({uniforms:s,textures:u,blend:this.getBlend(),stencil:this.getStencil(t)})}draw3DHeatMap(t){var r;const{opacity:n=1}=this.layer.getLayerConfig(),s=Vf();u6(s,this.cameraService.getViewProjectionMatrixUncentered());const u={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...s]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...u.u_ViewProjectionMatrixUncentered,...u.u_InverseViewProjectionMatrix,n]});const i=[this.heatmapTexture,this.colorTexture];(r=this.colorModel)===null||r===void 0||r.draw({uniforms:u,textures:i,blend:{enable:!0,func:{srcRGB:L.SRC_ALPHA,srcAlpha:1,dstRGB:L.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(t)})}build3dHeatMap(){const{getViewportSize:t}=this.rendererService,{width:r,height:n}=t(),s=RM(r/4,n/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:MM,fs:CM}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(16*2+4).fill(0),isUBO:!0})];const{vs:u,fs:i,uniforms:y}=this.shaderModuleService.getModule("heatmap3dColor"),{createAttribute:m,createElements:g,createBuffer:x,createModel:b}=this.rendererService;return b({vs:u,fs:i,attributes:{a_Position:m({shaderLocation:Gr.POSITION,buffer:x({data:s.vertices,type:L.FLOAT}),size:3}),a_Uv:m({shaderLocation:Gr.UV,buffer:x({data:s.uvs,type:L.FLOAT}),size:2})},primitive:L.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:Et({},y),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:L.SRC_ALPHA,srcAlpha:1,dstRGB:L.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:g({data:s.indices,type:L.UNSIGNED_INT,count:s.indices.length})})}updateColorTexture(){const{createTexture2D:t}=this.rendererService;this.texture&&this.texture.destroy();const{rampColors:r}=this.layer.getLayerConfig(),n=e8(r);this.colorTexture=t({data:n.data,usage:Ey.SAMPLED,width:n.width,height:n.height,wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE,min:L.NEAREST,mag:L.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=r}}const BM=`in vec4 v_color;

#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,UM=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 10) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
    vec2 u_radius;
    float u_opacity;
    float u_coverage;
    float u_angle;
};

out vec4 v_color;


#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;
    
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));
  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);
 
  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xy, 0., 1.0));
    // gl_Position = u_Mvp * (vec4(a_Pos.xy + offset, 0., 1.0));
    vec2 customLnglat = customProject(lnglat) - u_sceneCenterMercator;
    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));
    gl_Position = u_Mvp * vec4(project_pos.xy, 0.0, 1.0);
  } else {
    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));
  }
  setPickingColor(a_PickingColor);
}
`;class kM extends Fn{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:n}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:n||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapHexagon",vertexShader:UM,fragmentShader:BM,triangulation:q7,depth:{enable:!1},primitive:L.TRIANGLES})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Sr.Attribute,descriptor:{name:"a_Pos",shaderLocation:10,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const r=t.version==="GAODE2.x"?t.originCoordinates:t.coordinates;return[r[0],r[1],0]}}})}}const zM={heatmap:w4,heatmap3d:w4,grid:AM,grid3d:wM,hexagon:kM};class VM extends S0{constructor(...t){super(...t),H(this,"type","HeatMapLayer")}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new zM[r](t),yield t.initLayerModels()})()}prerender(){this.getModelType()==="heatmap"&&this.layerModel&&this.layerModel.prerender()}renderModels(t={}){return this.getModelType()==="heatmap"?(this.layerModel&&this.layerModel.render(t),this):this.encodeDataLength<=0&&!this.forceRender?this:(this.hooks.beforeRender.call(),this.models.forEach(n=>n.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(t)})),this.hooks.afterRender.call(),this)}updateModelData(t){t.attributes&&t.elements?this.models[0].updateAttributesAndElements(t.attributes,t.elements):console.warn("data error")}getModelType(){var t;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),{shape3d:n}=this.getLayerConfig(),u=this.getSource().data.type,i=(r==null||(t=r.scale)===null||t===void 0?void 0:t.field)||"heatmap";return i==="heatmap"||i==="heatmap3d"?"heatmap":u==="hexagon"?(n==null?void 0:n.indexOf(i))===-1?"hexagon":"grid3d":u==="grid"?(n==null?void 0:n.indexOf(i))===-1?"grid":"grid3d":"heatmap"}getLegend(t){if(this.getModelType()==="heatmap"){if(t!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return K7(r,t)}else return super.getLegend(t)}}const HM=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

in vec2 v_texCoord;
out vec4 outputColor;
vec3 setContrast(vec3 rgb, float contrast) {
  vec3 color = mix(vec3(0.5), rgb, contrast);
  color = clamp(color, 0.0, 1.0);
  return color;
}
vec3 setSaturation(vec3 rgb, float adjustment) {
  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);
  vec3 intensity = vec3(dot(rgb, grayVector));
  vec3 color = mix(intensity, rgb, adjustment);
  color = clamp(color, 0.0, 1.0);
  return color;
}
void main() {
  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
  //brightness
  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);
  //contrast
  color.rgb = setContrast(color.rgb, u_contrast);
  // saturation
  color.rgb = setSaturation(color.rgb, u_saturation);
  // gamma
  color.rgb = pow(color.rgb, vec3(u_gamma));
  outputColor = color;
  outputColor.a *= u_opacity;
  if(outputColor.a < 0.01)
    discard;
}
`,GM=`layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

out vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy,0., 1.0));
 
}
`;let jM=class extends Fn{constructor(...t){super(...t),H(this,"texture",void 0)}getCommonUniformsInfo(){const{opacity:t,brightness:r,contrast:n,saturation:s,gamma:u}=this.layer.getLayerConfig(),i={u_opacity:Md(t,1),u_brightness:Md(r,1),u_contrast:Md(n,1),u_saturation:Md(s,1),u_gamma:Md(u,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(i)}initModels(){var t=this;return ft(function*(){return yield t.loadTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}loadTexture(){var t=this;return ft(function*(){const{createTexture2D:r}=t.rendererService;t.texture=r({height:1,width:1});const s=yield t.layer.getSource().data.images;t.texture=r({data:s[0],width:s[0].width,height:s[0].height,mag:L.LINEAR,min:L.LINEAR})})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:GM,fragmentShader:HM,triangulation:Jf,primitive:L.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_Uv",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}})}};const WM={image:jM};class ZM extends S0{constructor(...t){super(...t),H(this,"type","ImageLayer")}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new WM[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{image:{}}[t]}getModelType(){return"image"}}const XM=`
#define Animate 0.0
#define LineTexture 1.0
uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_lineData;
//dash
in vec4 v_dash_array;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"

void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  outputColor = v_color;
  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;
  }

  // 当存在贴图时在底色上贴上贴图
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = v_lineData.g; // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = v_lineData.a; // 横向 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
    
  } else {
     outputColor = filterColor(outputColor);
  }
}`,YM=`#define Animate 0.0
#define LineTexture 1.0
layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 12) in vec4 a_Instance;
layout(location = 14) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_lineData;
//dash
out vec4 v_dash_array;
out float v_distance_ratio;


#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // 正向
    return mid;
  } else { // 逆向
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    // dash: index / (segmentNumber - 1.);
    // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
    //  return index / (segmentNumber - 1.);
}
vec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  //vs中计算渐变色
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;

  vec2 source = a_Instance.rg;  // 起始点
  vec2 target =  a_Instance.ba; // 终点



  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  //计算dashArray和distanceRatio 输出到片元
  vec2 s = source;
  vec2 t = target;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    s = unProjCustomCoord(source);
    t = unProjCustomCoord(target);
  }
  float total_Distance = pixelDistance(s, t) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  v_distance_ratio = segmentIndex / segmentNumber;

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;
  
  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_lineData.b = d_distance_ratio;

  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, thetaOffset), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, thetaOffset), 0.0, 1.0));

  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
  v_lineData.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // 开启贴图模式

    float arcDistrance = length(source - target); // 起始点和终点的距离
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      arcDistrance *= 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      // arcDistrance *= 8.0;
      arcDistrance = project_pixel_allmap(arcDistrance);
    }
    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // 贴图沿弧线方向的长度 - 随地图缩放改变
    float texCount = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量
    v_lineData.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移
    v_lineData.a = lineOffsetWidth/linePixelSize; // 线图层贴图部分的 v 坐标值
  }

  gl_Position = project_common_position_to_clipspace_v2(vec4(curr.xy + offset, 0, 1.0));

  setPickingColor(a_PickingColor);
}
`,$M={solid:0,dash:1};class qM extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.NEAREST,min:L.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:n="normal",lineType:s="solid",dashArray:u=[10,5],forward:i=!0,lineTexture:y=!1,iconStep:m=100,segmentNumber:g=30}=this.layer.getLayerConfig(),{animateOption:x}=this.layer.getLayerConfig();let b=u;s!=="dash"&&(b=[0,0]),b.length===2&&b.push(0,0);let A=0,w=[0,0,0,0],M=[0,0,0,0];if(t&&r&&(w=Dn(t),M=Dn(r),A=1),this.rendererService.getDirty()){var V;(V=this.texture)===null||V===void 0||V.bind()}const k={u_animate:this.animateOption2Array(x),u_dash_array:b,u_sourceColor:w,u_targetColor:M,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:g,u_lineDir:i?1:-1,u_icon_step:m,u_line_texture:y?1:0,u_textureBlend:n==="normal"?0:1,u_blur:.9,u_line_type:$M[s||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:A};return this.getUniformsBufferInfo(k)}initModels(){var t=this;return ft(function*(){return t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:XM,vert:YM,type:""}}buildModels(){var t=this;return ft(function*(){t.initUniformsBuffer();const{segmentNumber:r=30}=t.layer.getLayerConfig(),{frag:n,vert:s,type:u}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc2d"+u,vertexShader:s,fragmentShader:n,inject:t.getInject(),triangulation:G6,depth:{enable:!1},styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Sr.Attribute,descriptor:{name:"a_Instance",shaderLocation:12,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:14,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:n}=t,{x:s,y:u}=r[n]||{x:0,y:0};return[s,u]}}})}}const KM=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};

// varying vec2 v_normal;
in vec4 v_dash_array;
in vec4 v_color;
in vec4 v_line_data;
in float v_segmentIndex;
in vec2 v_iconMapUV;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_line_data.g; // 当前点位距离占线总长的比例
  outputColor = v_color;

  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    outputColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;

      // u_animate 
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = v_line_data.a;  // 线图层贴图部分的 v 坐标值
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          outputColor = filterColor(pattern);
        }
    }

  } else {
    outputColor = filterColor(outputColor);
  }
}
`,QM=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 12) in vec4 a_Instance;
layout(location = 14) in vec2 a_iconMapUV;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec4 v_dash_array;
out float v_segmentIndex;
out vec2 v_iconMapUV;
out vec4 v_line_data;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 是为了对齐坐标
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // 手动增加一些偏移，减轻面的冲突
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  //vs中计算渐变色
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_line_data.g = d_distance_ratio; // 当前点位距离占线总长的比例

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // 开启贴图模式  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    v_line_data.b = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }


  gl_Position = project_common_position_to_clipspace_v2(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));

  // 地球模式
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // 线的偏移
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // 计算起始点和终止点的距离
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // 计算飞线各个节点相应的高度
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // 地球点位
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,JM={solid:0,dash:1};class R4 extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.NEAREST,min:L.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:n="normal",lineType:s="solid",dashArray:u=[10,5],lineTexture:i=!1,iconStep:y=100,segmentNumber:m=30,globalArcHeight:g=10}=this.layer.getLayerConfig(),{animateOption:x}=this.layer.getLayerConfig();u.length===2&&u.push(0,0);let b=0,A=[0,0,0,0],w=[0,0,0,0];if(t&&r&&(A=Dn(t),w=Dn(r),b=1),this.rendererService.getDirty()){var M;(M=this.texture)===null||M===void 0||M.bind()}const V={u_animate:this.animateOption2Array(x),u_dash_array:u,u_sourceColor:A,u_targetColor:w,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:Z7,u_global_height:g,segmentNumber:m,u_line_type:JM[s]||0,u_icon_step:y,u_line_texture:i?1:0,u_textureBlend:n==="normal"?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:b};return this.getUniformsBufferInfo(V)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:KM,vert:QM,type:""}}buildModels(){var t=this;return ft(function*(){const{segmentNumber:r=30}=t.layer.getLayerConfig(),{frag:n,vert:s,type:u}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc3d"+u,vertexShader:s,fragmentShader:n,inject:t.getInject(),triangulation:G6,styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Sr.Attribute,descriptor:{name:"a_Instance",shaderLocation:12,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:14,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:n}=t,{x:s,y:u}=r[n]||{x:0,y:0};return[s,u]}}})}}const C4={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0},Hs=1/2;function eI(e,t){const{width:r=2,height:n=1}=t;return{vertices:[0,Hs*e,1*e*r,-(n+Hs)*e,1*e*r,(n-Hs)*e,0,Hs*e,1*e*r,-(n+Hs)*e,1*e*r,(n-Hs)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function tI(e,t){const{width:r=2,height:n=3}=t;return{vertices:[0,0,1*e*r,1*n,1*e*r,-1*n,0,0,1*e*r,1*n,1*e*r,-1*n],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function rI(e,t){const{width:r=2,height:n=2}=t;return{vertices:[0,n/2,e*r*1,n/2,e*r*1,-n/2,0,-n/2,0,n/2,e*r*1,n/2,e*r*1,-n/2,0,-n/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function oI(e,t){const{width:r=2,height:n=3}=t;return{vertices:[0,0,1*r*e,.5*n,2*r*e,0,1*r*e,-.5*n,0,0,1*r*e,.5*n,2*r*e,0,1*r*e,-.5*n],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function nI(e,t){const{width:r=2,height:n=3}=t;return{vertices:[0,0,2*e*r,1*n,1.5*e*r,0,2*e*r,-1*n,0,0,2*e*r,1*n,1.5*e*r,0,2*e*r,-1*n],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function iI(e,t){const{width:r=2,height:n=2}=t,s=Y2(),u=Yu.flatten([s]),i=Yu(u.vertices,u.holes,u.dimensions),y=s.map(m=>[m[0]*r*e,m[1]*n]).flat();return{vertices:[...y,...y],dimensions:2,indices:i.map(m=>m+s.length),outLineIndices:i,normals:[...s.map(m=>[m[1]*n,m[0]*r*e,1]).flat(),...new Array(s.length*3).fill(0)]}}function aI(e,t=0,r){const n=typeof r.source=="object"?r.source.type:r.source,s=typeof r.target=="object"?r.target.type:r.target,{width:u=n?C4[n]:0}=typeof r.source=="object"?r.source:{},{width:i=s?C4[s]:0}=typeof r.target=="object"?r.target:{};return{vertices:[0,Hs,1*u,...e,1,Hs,-1*i,...e,1,-Hs,-1*i,...e,0,-Hs,1*u,...e,0,Hs,1*u,...e,1,Hs,-1*i,...e,1,-Hs,-1*i,...e,0,-Hs,1*u,...e],outLineIndices:[0,1,2,0,2,3].map(y=>y+t),indices:[4,5,6,4,6,7].map(y=>y+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}function M4(e,t){const r=typeof e=="object"?e.type:e,n=t==="source"?1:-1,s=typeof e=="object"?e:{};switch(r){case"circle":return iI(n,s);case"triangle":return tI(n,s);case"diamond":return oI(n,s);case"rect":return rI(n,s);case"classic":return nI(n,s);case"halfTriangle":return eI(n,s);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function sI(e){const t=e.coordinates.flat(),r=1,n=1;return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-r,2*n,1,2*n,-n,1,n,-n,1,n,-n,1,-r,-n,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function uI(e,t){return t?pI(e,t):sI(e)}function pI(e,t){const r=e.coordinates.flat(),{target:n="classic",source:s="circle"}=t,u=I4(M4(s,"source"),r,0,0),i=aI(r,u.vertices.length/7,t),y=I4(M4(n,"target"),r,1,u.vertices.length/7+i.vertices.length/7);return{vertices:[...u.vertices,...i.vertices,...y.vertices],indices:[...u.outLineIndices,...i.outLineIndices,...y.outLineIndices,...u.indices,...i.indices,...y.indices],normals:[...u.normals,...i.normals,...y.normals],size:7}}function I4(e,t,r=1,n=0){const s=[],{vertices:u,indices:i,dimensions:y,outLineIndices:m}=e;for(let g=0;g<u.length;g+=y)s.push(r,u[g+1],u[g],...t);return Et(Et({},e),{},{vertices:s,indices:i.map(g=>g+n),outLineIndices:m.map(g=>g+n)})}const cI=`// #extension GL_OES_standard_derivatives : enable

in vec4 v_color;
out vec4 outputColor;


// line texture

#pragma include "picking"

void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,lI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec2 a_Size;
layout(location = 12) in vec4 a_Instance;
layout(location = 13) in vec3 a_Normal;

layout(std140) uniform commonUniorm {
  float u_gap_width: 1.0;
  float u_stroke_width: 1.0;
  float u_stroke_opacity: 1.0;
};

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

out vec4 v_color;

vec2 project_pixel_offset(vec2 offsets) {

   vec2 data = project_pixel(offsets);
   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
    return data;
  }

  return vec2(data.x, -data.y);;
}

vec2 line_dir(vec2 target, vec2 source) {

   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
     return normalize(target - source);
  }
  return normalize(ProjectFlat(target) - ProjectFlat(source));
}

float flag_gap() {
   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
     return 1.;
  }
  return -1.;

}


void main() {

// 透明度计算
  vec2 source = a_Instance.rg;  // 起始点
  vec2 target =  a_Instance.ba; // 终点
  vec2 flowlineDir = line_dir(target,source);
  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x); // mapbox || 高德
   
  vec2 position = mix(source, target, a_Position.x);
  
  float lengthCommon = length(project_position(vec4(target,0,1)) - project_position(vec4(source,0,1)));  //    
  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || 高德
  vec2 limitedOffsetDistances = clamp(   
   offsetDistances,
   project_pixel(-lengthCommon*.2), project_pixel(lengthCommon*.2)
  );


  float startOffsetCommon = project_pixel(offsets[0]);
  float endOffsetCommon = project_pixel(offsets[1]);
  float endpointOffset = mix(
    clamp(startOffsetCommon, 0.0, lengthCommon*.2),
    -clamp(endOffsetCommon, 0.0, lengthCommon*.2),
    a_Position.x
  );

  vec2 normalsCommon =  u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y)); // mapbox || 高德

  float gapCommon = flag_gap() * project_pixel(u_gap_width);
  vec3 offsetCommon = vec3(
    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -
    perpendicularDir *  (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),
    0.0
  );

  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0));

  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);
  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));



  setPickingColor(a_PickingColor);
}
`;class dI extends Fn{getCommonUniformsInfo(){const{gapWidth:t=2,strokeWidth:r=1,strokeOpacity:n=1}=this.layer.getLayerConfig(),s={u_gap_width:t,u_stroke_width:r,u_stroke_opacity:n};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return[yield t.layer.buildLayerModel({moduleName:"flow_line",vertexShader:lI,fragmentShader:cI,inject:t.getInject(),triangulation:uI,styleOption:t.layer.getLayerConfig().symbol,primitive:L.TRIANGLES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Sr.Attribute,descriptor:{name:"a_Instance",shaderLocation:12,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}})}}const yI=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

in vec4 v_line_data;
in vec2 v_iconMapUV;
in vec4 v_dash_array;
in float v_distance_ratio;
in vec4 v_color;

out vec4 outputColor;
#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {

  float animateSpeed = 0.0;
  float d_segmentIndex = v_line_data.g;
  
  // 设置弧线的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
    outputColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // 实线部分
    } else {
      // 虚线部分
      discard;
    };
  }

  // 设置弧线的动画模式
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  // 设置弧线的贴图
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { 
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // 贴图在弧线上重复的数量
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = outputColor.a/v_color.a;
    }

    float v = v_line_data.a; // 线图层贴图部分的 v 坐标值

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);
    
    // 设置贴图和底色的叠加模式
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  } else {
    outputColor = filterColor(outputColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}`,hI=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 12) in vec4 a_Instance;
layout(location = 14) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

out vec4 v_dash_array;
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_line_data;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return index / (segmentNumber - 1.);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
  mix(source, target, segmentRatio),
  sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}
float getAngularDist (vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) *
    sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    vec2 mid = midPoint(source, target);
    vec3 x = vec3(source.x, mid.x, target.x);
    vec3 y = vec3(source.y, mid.y, target.y);
    return vec2(bezier3(x ,t), bezier3(y,t));
  }
  else {
    if(abs(angularDist - PI) < 0.001) {
      return (1.0 - t) * source + t * target;
    }
    float a = sin((1.0 - t) * angularDist) / sin(angularDist);
    float b = sin(t * angularDist) / sin(angularDist);
    vec2 sin_source = sin(source);
    vec2 cos_source = cos(source);
    vec2 sin_target = sin(target);
    vec2 cos_target = cos(target);
    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
    float z = a * sin_source.y + b * sin_target.y;
    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));
  }
}

void main() {
  v_color = a_Color;
  v_color.a = v_color.a * opacity;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if(u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    total_Distance = total_Distance*16.0; // total_Distance*16.0 调整默认的效果
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if(u_animate.x == Animate) {
      v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;
  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_line_data.g = a_Position.x; // 该顶点在弧线上的分段排序
  if(LineTexture == u_line_texture) { // 开启贴图模式  
    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;
    float d_arcDistrance = length(source - target);
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      d_arcDistrance = d_arcDistrance * 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      d_arcDistrance = project_pixel_allmap(d_arcDistrance);
    }
    float d_pixelLen = project_pixel(u_icon_step)/8.0;
    v_line_data.b = floor(d_arcDistrance/d_pixelLen); // 贴图在弧线上重复的数量

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }

  gl_Position = project_common_position_to_clipspace_v2(vec4(curr.xy + offset, 0, 1.0));
  setPickingColor(a_PickingColor);
}

`,fI={solid:0,dash:1};class mI extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.NEAREST,min:L.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:n="normal",lineType:s="solid",dashArray:u=[10,5],lineTexture:i=!1,iconStep:y=100,segmentNumber:m=30}=this.layer.getLayerConfig(),{animateOption:g}=this.layer.getLayerConfig();if(u.length===2&&u.push(0,0),this.rendererService.getDirty()){var x;(x=this.texture)===null||x===void 0||x.bind()}let b=0,A=[0,0,0,0],w=[0,0,0,0];t&&r&&(A=Dn(t),w=Dn(r),b=1);let M=this.layer.getLayerAnimateTime();isNaN(M)&&(M=0);const V={u_animate:this.animateOption2Array(g),u_dash_array:u,u_sourceColor:A,u_targetColor:w,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:m,u_line_type:fI[s]||0,u_icon_step:y,u_line_texture:i?1:0,u_textureBlend:n==="normal"?0:1,u_time:M,u_linearColor:b};return this.getUniformsBufferInfo(V)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return ft(function*(){const{segmentNumber:r=30}=t.layer.getLayerConfig();return[yield t.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:hI,fragmentShader:yI,triangulation:G6,styleOption:{segmentNumber:r},inject:t.getInject(),depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Sr.Attribute,descriptor:{name:"a_Instance",shaderLocation:12,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:14,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:n}=t,{x:s,y:u}=r[n]||{x:0,y:0};return[s,u]}}})}}const _I=`// #extension GL_OES_standard_derivatives : enable
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

in vec4 v_color;
in vec4 v_stroke;
// dash
in vec4 v_dash_array;
in float v_d_distance_ratio;
in vec2 v_iconMapUV;
in vec4 v_texture_data;

out vec4 outputColor;
#pragma include "picking"

// [animate, duration, interval, trailLength],
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_texture_data.r; // 当前点位距离占线总长的比例
  if(u_linearDir < 1.0) {
    d_distance_ratio = v_texture_data.a;
  }
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_texture_data.g;      // 当前顶点的距离
    float d_texPixelLen = v_texture_data.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_texture_data.a;  // 线图层贴图部分的 v 坐标值

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor += pattern;
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = pattern;
    }
  } 

  float v = v_texture_data.a;
  float strokeWidth = min(0.5, u_strokeWidth);
  // 绘制 border
  if(strokeWidth > 0.01) {
    float borderOuterWidth = strokeWidth / 2.0;


    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {
      if(v > strokeWidth) { // 外侧
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);
        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);
        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);
      } else if(v <= strokeWidth) {
        float linear = smoothstep(0.0, 1.0, v/strokeWidth);
        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = v_texture_data.a;
  if(blurV < 0.5) {
    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  outputColor = filterColor(outputColor);
}
`,gI=`
#define Animate 0.0

layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec2 a_Size;
layout(location = 10) in vec3 a_DistanceAndIndexAndMiter;
layout(location = 13) in vec4 a_Normal_Total_Distance;
layout(location = 14) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};


out vec4 v_color;
out vec4 v_stroke;
//dash
out vec4 v_dash_array;
out float v_d_distance_ratio;
// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_texture_data;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;
  float a_Miter = a_DistanceAndIndexAndMiter.z;
  vec3 a_Normal = a_Normal_Total_Distance.xyz;
  float a_Total_Distance = a_Normal_Total_Distance.w;
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;

  // cal style mapping - 数据纹理映射部分的计算
  float d_texPixelLen;    // 贴图的像素长度，根据地图层级缩放
  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  v_color = a_Color;
  v_color.a *= opacity;
  v_stroke = stroke;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);
  
  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;
 

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // 线横向偏移的距离（向两侧偏移的和）
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // 定点位置偏移，按地图等级缩放后的距离 单侧 * 2
  float texV = lineOffsetWidth/linePixelSize; // 线图层贴图部分的 v 坐标值
  
  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);
  // 设置数据集的参数

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况 vertex height
  float lineHeight = a_Size.y; // size 第二个参数代表的高度 [linewidth, lineheight]

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    lineHeight *= 0.2; // 保持和 amap/mapbox 一致的效果
    h *= 0.2;
    if(u_heightfixed < 1.0) {
      lineHeight = project_pixel(a_Size.y);
    }
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h + u_raisingHeight, 1.0));
  } else {
    // 兼容 mapbox 在线高度上的效果表现基本一致
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // mapbox
      // 保持高度相对不变
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      h *= mapboxZoomScale;
      h += u_raisingHeight * mapboxZoomScale;
      if(u_heightfixed > 0.0) {
        lineHeight *= mapboxZoomScale;
      }
      
    } else {
      // amap
      h += u_raisingHeight;
      // lineHeight 顶点偏移高度
      if(u_heightfixed < 1.0) {
        lineHeight *= pow(2.0, 20.0 - u_Zoom);
      }
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`;class Q7 extends Fn{constructor(...t){super(...t),H(this,"textureEventFlag",!1),H(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.textures.length===0&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.NEAREST,min:L.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:n="normal",lineType:s="solid",dashArray:u=[10,5,0,0],lineTexture:i=!1,iconStep:y=100,vertexHeightScale:m=20,strokeWidth:g=0,raisingHeight:x=0,heightfixed:b=!1,linearDir:A=g4.VERTICAL,blur:w=[1,1,1,0]}=this.layer.getLayerConfig();let M=u;if(s!=="dash"&&(M=[0,0,0,0]),M.length===2&&M.push(0,0),this.rendererService.getDirty()&&this.texture){var V;(V=this.texture)===null||V===void 0||V.bind()}const{animateOption:k}=this.layer.getLayerConfig();let Q=0,q=[0,0,0,0],K=[0,0,0,0];t&&r&&(q=Dn(t),K=Dn(r),Q=1);const te={u_animate:this.animateOption2Array(k),u_dash_array:M,u_blur:w,u_sourceColor:q,u_targetColor:K,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:y,u_heightfixed:Number(b),u_vertexScale:m,u_raisingHeight:Number(x),u_strokeWidth:g,u_textureBlend:n===$C.NORMAL?0:1,u_line_texture:i?1:0,u_linearDir:A===g4.VERTICAL?1:0,u_linearColor:Q,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(te)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.textureEventFlag||(t.textureEventFlag=!0,t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture)),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return ft(function*(){const{depth:r=!1}=t.layer.getLayerConfig(),{frag:n,vert:s,type:u}=t.getShaders();return t.layer.triangulation=$2,[yield t.layer.buildLayerModel({moduleName:"line"+u,vertexShader:s,fragmentShader:n,triangulation:$2,inject:t.getInject(),depth:{enable:r}})]})()}getShaders(){return{frag:_I,vert:gI,type:""}}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Sr.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:10,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u,i)=>i===void 0?[n[3],10,n[4]]:[n[3],i,n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:Sr.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n,s,u)=>[...u,n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:n}=t,{x:s,y:u}=r[n]||{x:0,y:0};return[s,u]}}})}}const vI=`
layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};
in float v_distanceScale;
in vec4 v_color;
//dash
in vec4 v_dash_array;

out vec4 outputColor;
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  if(u_linearColor==1.0){
    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);
    outputColor.a *= v_color.a; // 全局透明度
  }
  else{
    outputColor = v_color;
  }
}
`,EI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec4 a_SizeDistanceAndTotalDistance;

layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};

#pragma include "projection"
#pragma include "picking"

out vec4 v_color;
out float v_distanceScale;
out vec4 v_dash_array;

void main() {
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;

  v_color = a_Color; 
  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;
  v_color.a = v_color.a * opacity;
  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xy, project_pixel(a_SizeDistanceAndTotalDistance.y) + h * 0.2, 1.0));
  } else {
    float lineHeight = a_SizeDistanceAndTotalDistance.y;
    // 兼容 mapbox 在线高度上的效果表现基本一致
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // 保持高度相对不变
      h *= 2.0/pow(2.0, 20.0 - u_Zoom);
    }

    // amap1.x
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // 保持高度相对不变
      lineHeight *= pow(2.0, 20.0 - u_Zoom);
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
    gl_PointSize = 10.0;
  }
}
`;class xI extends Fn{getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,lineType:n="solid",dashArray:s=[10,5,0,0],vertexHeightScale:u=20}=this.layer.getLayerConfig();let i=s;n!=="dash"&&(i=[0,0,0,0]),i.length===2&&i.push(0,0);let y=0,m=[0,0,0,0],g=[0,0,0,0];t&&r&&(m=Dn(t),g=Dn(r),y=1);const x={u_sourceColor:m,u_targetColor:g,u_dash_array:i,u_vertexScale:u,u_linearColor:y};return this.getUniformsBufferInfo(x)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}getShaders(){return{frag:vI,vert:EI,type:"lineSimpleNormal"}}buildModels(){var t=this;return ft(function*(){t.initUniformsBuffer();const{frag:r,vert:n,type:s}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:s,vertexShader:n,fragmentShader:r,triangulation:_M,inject:t.getInject(),primitive:L.LINES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:Sr.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:Gr.SIZE,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:4,update:(t,r,n)=>{const{size:s=1}=t,u=Array.isArray(s)?[s[0],s[1]]:[s,0];return[u[0],u[1],n[3],n[5]]}}})}}const PI=`#define Animate 0.0
#define LineTexture 1.0

// line texture

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};
in vec2 v_iconMapUV;
in float v_blur;
in float v_radio;
in vec4 v_color;
in vec4 v_dataset;

out vec4 outputColor;
#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_dataset.r; // 当前点位距离占线总长的比例
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, v);
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }

  outputColor.a *= v_color.a; // 全局透明度
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // 当前顶点的距离
    float d_texPixelLen = v_dataset.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // 线图层贴图部分的 v 坐标值

    // 计算纹理间隔 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // 计算纹理间隔 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // Tip: 判断纹理间隔
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  }
  

  // blur - AA
  if(v < v_blur) {
    outputColor.a = mix(0.0, outputColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  outputColor = filterColor(outputColor);
}
`,bI=`#define Animate 0.0
layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec2 a_Size;
layout(location = 10) in float a_Miter;
layout(location = 11) in float a_Total_Distance;
layout(location = 12) in vec4 a_Instance;
layout(location = 13) in vec3 a_Normal;
layout(location = 14) in vec2 a_iconMapUV;
layout(location = 15) in float a_Distance;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};
#pragma include "projection"
#pragma include "light"
#pragma include "picking"

// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_color;
out float v_blur;
out float v_radio;
out vec4 v_dataset;

void main() {


  float d_distance_ratio; // 当前点位距离占线总长的比例
  float d_texPixelLen;    // 贴图的像素长度，根据地图层级缩放

  v_iconMapUV = a_iconMapUV;
  if(u_heightfixed < 1.0) {     // 高度随 zoom 调整
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  if(u_animate.x == Animate || u_linearColor == 1.0) {
      d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0)/2.0;
  // 设置数据集的参数
  v_dataset[0] = d_distance_ratio; // 当前点位距离占线总长的比例
  v_dataset[1] = a_Distance;       // 当前顶点的距离
  v_dataset[2] = d_texPixelLen;    // 贴图的像素长度，根据地图层级缩放
  v_dataset[3] = miter;          // 线图层贴图部分的 v 坐标值 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  float originSize = a_Size.x;  // 固定高度
  if(u_heightfixed < 1.0) {    
     originSize = project_float_meter(a_Size.x); // 高度随 zoom 调整
  }


  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xy, wallHeight, 1.0));
  } else {
// 兼容 mapbox 在线高度上的效果表现基本一致
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // mapbox
      // 保持高度相对不变
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      if(u_heightfixed > 0.0) {
        wallHeight *= mapboxZoomScale;
      }
      
    } else {
      // lineHeight 顶点偏移高度
      if(u_heightfixed < 1.0) {
        wallHeight *= pow(2.0, 20.0 - u_Zoom);
      }
    }
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`;class FI extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.NEAREST,min:L.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:n="normal",heightfixed:s=!1,lineTexture:u=!1,iconStep:i=100,iconStepCount:y=1}=this.layer.getLayerConfig(),{animateOption:m}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var g;(g=this.texture)===null||g===void 0||g.bind()}let x=0,b=[0,0,0,0],A=[0,0,0,0];t&&r&&(b=Dn(t),A=Dn(r),x=1);const w={u_animate:this.animateOption2Array(m),u_sourceColor:b,u_targetColor:A,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:i,u_heightfixed:Number(s),u_linearColor:x,u_line_texture:u?1:0,u_textureBlend:n==="normal"?0:1,u_iconStepCount:y,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(w)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return ft(function*(){return[yield t.layer.buildLayerModel({moduleName:"lineWall",vertexShader:bI,fragmentShader:PI,triangulation:$2,inject:t.getInject(),depth:{enable:!1},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"distance",type:Sr.Attribute,descriptor:{name:"a_Distance",shaderLocation:15,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:(t,r,n)=>[n[3]]}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Sr.Attribute,descriptor:{name:"a_Total_Distance",shaderLocation:11,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:(t,r,n)=>[n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Sr.Attribute,descriptor:{name:"a_Miter",shaderLocation:10,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:1,update:(t,r,n)=>[n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:14,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:n}=t,{x:s,y:u}=r[n]||{x:0,y:0};return[s,u]}}})}}const AI={arc:qM,arc3d:R4,greatcircle:mI,wall:FI,line:Q7,simple:xI,flowline:dI,earthArc3d:R4};class J7 extends S0{constructor(...t){super(...t),H(this,"type","LineLayer"),H(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),H(this,"arrowInsertCount",0),H(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}})}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new AI[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}}[t]}getModelType(){var t;if(this.layerType)return this.layerType;const r=this.styleAttributeService.getLayerStyleAttribute("shape");return(r==null||(t=r.scale)===null||t===void 0?void 0:t.field)||"line"}processData(t){if(this.getModelType()!=="simple")return t;const r=[];return t.map(n=>{if(Array.isArray(n.coordinates)&&Array.isArray(n.coordinates[0])&&Array.isArray(n.coordinates[0][0])){const s=Et({},n);n.coordinates.map(u=>{r.push(Et(Et({},s),{},{coordinates:u}))})}else r.push(n)}),r}}const SI=`
layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

in vec4 v_color;
in float v_blur;
in float v_innerRadius;

out vec4 outputColor;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  // Tip: 片元到中心点的距离 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: 片元的剪切成圆形
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);


  if(v_innerRadius < 0.99) {
    // 当存在 stroke 且 stroke > 0.01
    float blurWidth = (1.0 - v_blur)/2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if(fragmengTocenter > v_innerRadius + blurWidth) {
      outputColor = stroke;
    } else if(fragmengTocenter > v_innerRadius - blurWidth){
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      outputColor = mix(v_color, stroke, mixR);
    } else {
      outputColor = v_color;
    }
  } else {
    // 当不存在 stroke 或 stroke <= 0.01
    outputColor = v_color;
  }

  outputColor = filterColor(outputColor);
  
  if(u_additive > 0.0) {
    outputColor *= circleClipOpacity;
  } else {
    outputColor.a *= circleClipOpacity;
  }

}
`,TI=`
layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;

layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

out vec4 v_color;
out float v_blur;
out float v_innerRadius;

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_blur = 1.0 - max(2.0/a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);
  
  vec2 offset = project_pixel(u_offsets);
  
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);
  } else { // else
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));
  }
  
  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function N4(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class wI extends Fn{getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const{blend:t,strokeOpacity:r=1,strokeWidth:n=0,stroke:s="#fff"}=this.layer.getLayerConfig(),u={u_stroke_color:Dn(s),u_additive:t==="additive"?1:0,u_stroke_opacity:r,u_stroke_width:n};return this.getUniformsBufferInfo(u)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.layer.triangulation=N4,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:TI,fragmentShader:SI,inject:t.getInject(),triangulation:N4,depth:{enable:!1},primitive:L.POINTS})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const RI=`precision highp float;
in vec4 v_color;

#pragma include "picking"

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};
in float v_lightWeight;
in float v_barLinearZ;
out vec4 outputColor;
void main() {

   outputColor = v_color;

  // 开启透明度渐变
  if(u_opacitylinear > 0.0) {
    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,CI=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec3 a_Size;
layout(location = 11) in vec3 a_Pos;
layout(location = 13) in vec3 a_Normal;


layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};

out vec4 v_color;
out float v_lightWeight;
out float v_barLinearZ;
// 用于将在顶点着色器中计算好的样式值传递给片元


#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - 数据纹理映射部分的计算
  vec3 size = a_Size * a_Position;

  // a_Position.z 是在构建网格的时候传入的标准值 0 - 1，在插值器插值可以获取 0～1 线性渐变的值
  v_barLinearZ =  a_Position.z;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移
  if(u_heightfixed < 1.0) { // 圆柱体不固定高度
    
    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
      offset = offset * pow(2.0, (19.0 - u_Zoom));
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
      // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));
    }
  } else {// 圆柱体固定高度 （ 处理 mapbox ）
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // 圆柱光照效果
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }
  v_lightWeight = lightWeight;
  // 设置圆柱的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);
    v_color.rgb *= lightWeight;
  } else { // 使用 color 方法传入的颜色
     v_color = a_Color;
  }
  v_color.a *= u_opacity;

    
  // 在地球模式下，将原本垂直于 xy 平面的圆柱调整姿态到适应圆的角度
  //旋转矩阵mx，创建绕x轴旋转矩阵
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//求解旋转角度余弦值
  float xsin = sin(xRadian);//求解旋转角度正弦值
  mat4 mx = mat4(
    1,0,0,0,  
    0,xcos,-xsin,0,  
    0,xsin,xcos,0,  
    0,0,0,1);

  //旋转矩阵my，创建绕y轴旋转矩阵
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//求解旋转角度余弦值
  float ysin = sin(yRadian);//求解旋转角度正弦值
  mat4 my = mat4(
    ycos,0,-ysin,0,  
    0,1,0,0,  
    ysin,0,ycos,0,  
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);
  

  setPickingColor(a_PickingColor);
}
`,{isNumber:MI}=Wi;let II=class extends Fn{constructor(...t){super(...t),H(this,"raiseCount",0),H(this,"raiseRepeat",0)}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},opacity:r=1,sourceColor:n,targetColor:s,pickLight:u=!1,heightfixed:i=!0,opacityLinear:y={enable:!1,dir:"up"},lightEnable:m=!0}=this.layer.getLayerConfig();let g=0,x=[0,0,0,0],b=[0,0,0,0];if(n&&s&&(x=Dn(n),b=Dn(s),g=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:M=.01}=t;this.raiseCount+=M,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const A={u_sourceColor:x,u_targetColor:b,u_linearColor:g,u_pickLight:Number(u),u_heightfixed:Number(i),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:MI(r)?r:1,u_opacitylinear:Number(y.enable),u_opacitylinear_dir:y.dir==="up"?1:0,u_lightEnable:Number(m)};return this.getUniformsBufferInfo(A)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{animateOption:{repeat:r=1}}=t.layer.getLayerConfig();return t.raiseRepeat=r,[yield t.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:CI,fragmentShader:RI,triangulation:H6,depth:{enable:!0},inject:t.getInject(),cull:{enable:!0,face:Hf(t.mapService.version)},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const{size:r}=t;if(r){let n=[];return Array.isArray(r)&&(n=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(n=[r,r,r]),n}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Sr.Attribute,descriptor:{name:"a_Pos",shaderLocation:15,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const r=Fl(t.coordinates);return X7([r[0],r[1]])}}})}};const NI=`in vec4 v_data;
in vec4 v_color;
in float v_radius;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(u_stroke_width < 0.01) {
    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);
  } else {
    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor = filterColor(outputColor);
  }
}
`,DI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 10) in float a_Shape;
layout(location = 11) in vec3 a_Extrude;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
out vec4 v_data;
out vec4 v_color;
out float v_radius;

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);

  setPickingColor(a_PickingColor);
}`;let OI=class extends Fn{getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:r=0,blend:n,blur:s=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();const u={u_additive:n==="additive"?1:0,u_stroke_opacity:t,u_stroke_width:r,u_blur:s};return this.getUniformsBufferInfo(u)}initModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.layer.triangulation=A4,[yield t.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:DI,fragmentShader:NI,triangulation:A4,inject:t.getInject(),depth:{enable:!0},blend:t.getBlend()})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Sr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:Gr.EXTRUDE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s)=>{const[u,i,y]=n,m=fp(0,0,1),g=fp(u,0,y),x=u>=0?O3(m,g):Math.PI*2-O3(m,g),b=Math.PI*2-Math.asin(i/100),A=Vf();zg(A,A,x),p6(A,A,b);const w=fp(1,1,0);Sh(w,w,A),Kd(w,w);const M=fp(-1,1,0);Sh(M,M,A),Kd(M,M);const V=fp(-1,-1,0);Sh(V,V,A),Kd(V,V);const k=fp(1,-1,0);Sh(k,k,A),Kd(k,k);const Q=[...w,...M,...V,...k],q=s%4*3;return[Q[q],Q[q+1],Q[q+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Sr.Attribute,descriptor:{name:"a_Shape",shaderLocation:Gr.SHAPE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{shape:r=2}=t;return[this.layer.getLayerConfig().shape2d.indexOf(r)]}}})}};const LI=`
in vec4 v_color;
in float v_lightWeight;
out vec4 outputColor;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {

  outputColor = v_color;
  // 开启透明度渐变
  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,BI=`#define pi 3.1415926535

layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in vec3 a_Size;
layout(location = 11) in vec3 a_Extrude;
layout(location = 13) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};
out vec4 v_color;
out float v_lightWeight;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {


  vec3 size = a_Size * a_Position;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移

  if(u_heightfixed < 1.0) { // 圆柱体不固定高度
    
    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
      offset = offset * pow(2.0, (19.0 - u_Zoom));
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
      // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3
      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));
    }
  } else {// 圆柱体固定高度 （ 处理 mapbox ）
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Extrude.xy, 0., 1.0));

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // // 圆柱光照效果
  float lightWeight = 1.0;

  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }

  v_lightWeight = lightWeight;

  v_color = a_Color;

    // 设置圆柱的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);
    v_color.a =  v_color.a * opacity;
  } else {
    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);
  }

    if(u_opacitylinear > 0.0) {
    v_color.a *= u_opacitylinear_dir > 0.0 ? (1.0 - a_Position.z): a_Position.z;
  }


  gl_Position = project_common_position_to_clipspace_v2(pos);

  setPickingColor(a_PickingColor);
}
`;let e9=class extends Fn{constructor(...t){super(...t),H(this,"raiseCount",0),H(this,"raiseRepeat",0)}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},sourceColor:r,targetColor:n,pickLight:s=!1,heightfixed:u=!1,opacityLinear:i={enable:!1,dir:"up"},lightEnable:y=!0}=this.layer.getLayerConfig();let m=0,g=[0,0,0,0],x=[0,0,0,0];if(r&&n&&(g=Dn(r),x=Dn(n),m=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:w=.01}=t;this.raiseCount+=w,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const b={u_pickLight:Number(s),u_heightfixed:Number(u),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:m,u_sourceColor:g,u_targetColor:x,u_opacitylinear:Number(i.enable),u_opacitylinear_dir:i.dir==="up"?1:0,u_lightEnable:Number(y)};return this.getUniformsBufferInfo(b)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{depth:r=!0,animateOption:{repeat:n=1}}=t.layer.getLayerConfig();return t.raiseRepeat=n,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:BI,fragmentShader:LI,triangulation:H6,inject:t.getInject(),cull:{enable:!0,face:Hf(t.mapService.version)},depth:{enable:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const{size:r}=t;if(r){let n=[];return Array.isArray(r)&&(n=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(n=[r,r,r]),n}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Sr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:Gr.EXTRUDE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:t=>{const r=Fl(t.coordinates);return[r[0],r[1],0]}}})}};const UI=`
layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

in vec4 v_color;
in vec4 v_stroke;
in vec4 v_data;
in float v_radius;

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));
  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  if(u_stroke_width < 0.01) {
    outputColor = v_color;
  } else {
    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);
  }
  float intensity = 1.0;
  if(u_time!=-1.0){
    //wave相关逻辑
    float d = length(v_data.xy);
    if(d > 0.5) {
      discard;
    }
    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor *= intensity;//wave
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor.a *= intensity;//wave 
    outputColor = filterColor(outputColor);
  }
   // 作为 mask 模板时需要丢弃透明的像素
  if(outputColor.a < 0.01) {
    discard;
  } 
}
`,kI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 10) in float a_Shape;
layout(location = 11) in vec3 a_Extrude;

layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;   
};

out vec4 v_color;
out vec4 v_stroke;
out vec4 v_data;
out float v_radius;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // 透明度计算
   v_stroke = stroke;  
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  *  u_meter2coord 在等面积大小的时候设置单位
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;



  // unpack color(vec2)
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);
  vec3 aPosition = a_Position;

  offset = project_pixel(offset);
  offset = rotate_matrix(offset,rotation);
  
  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);


  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));
  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_blur_height_fixed.y;

  if(u_blur_height_fixed.z < 1.0) { // false
    raisingHeight = project_pixel(u_blur_height_fixed.y);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;
    }
  }
  
  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;let t9=class extends Fn{getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:r=0,blend:n,blur:s=0,raisingHeight:u=0,heightfixed:i=!1,unit:y="pixel"}=this.layer.getLayerConfig();let m=this.getAnimateUniforms().u_time;isNaN(m)&&(m=-1);const g={u_blur_height_fixed:[s,Number(u),Number(i)],u_stroke_width:r,u_additive:n==="additive"?1:0,u_stroke_opacity:t,u_size_unit:z6[y],u_time:m,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(g)}getAnimateUniforms(){const{animateOption:t={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),m0)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{frag:r,vert:n,type:s}=t.getShaders();return t.layer.triangulation=m0,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:n,fragmentShader:r,inject:t.getInject(),triangulation:m0,depth:{enable:!1}})]})()}getShaders(){return{frag:UI,vert:kI,type:"pointFill"}}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){const t=this.layer.getLayerConfig().shape2d;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Sr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:Gr.EXTRUDE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:(r,n,s,u)=>{const i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],y=u%4*3;return[i[y],i[y+1],i[y+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:r=>{const{size:n=5}=r;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Sr.Attribute,descriptor:{name:"a_Shape",shaderLocation:Gr.SHAPE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:r=>{const{shape:n=2}=r;return[t.indexOf(n)]}}})}};const zI=`in vec2 v_uv;// 本身的 uv 坐标
in vec2 v_Iconuv;
in float v_opacity;
out vec4 outputColor;

uniform sampler2D u_texture;
layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

void main() {
  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  outputColor = texture(SAMPLER_2D(u_texture), pos);
  outputColor.a *= v_opacity;
  outputColor = filterColor(outputColor);
}
`,VI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 11) in vec3 a_Extrude;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

out vec2 v_uv;
out vec2 v_Iconuv;
out float v_opacity;


#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  vec3 extrude = a_Extrude;
  v_uv = (a_Extrude.xy + 1.0)/2.0;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;
  v_opacity = opacity;
  float newSize = a_Size;
  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  
  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = (extrude.xy * (newSize) + offsets);

  offset = rotate_matrix(offset,rotation);

  vec3 aPosition = a_Position;

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));
  float raisingHeight = u_raisingHeight;
  if(u_heightfixed < 1.0) { // height fixed
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class HI extends Fn{constructor(...t){super(...t),H(this,"meter2coord",1),H(this,"texture",void 0),H(this,"isMeter",!1),H(this,"radian",0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=r({data:this.iconService.getCanvas(),mag:L.LINEAR,min:L.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:r=!1,unit:n="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var s;(s=this.texture)===null||s===void 0||s.bind()}const u={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(r),u_raisingHeight:Number(t),u_size_unit:z6[n]};return this.getUniformsBufferInfo(u)}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),m0)}initModels(){var t=this;return ft(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:VI,fragmentShader:zI,triangulation:m0,depth:{enable:!1},inject:t.getInject(),cull:{enable:!0,face:Hf(t.mapService.version)}})]})()}clearModels(){var t;this.iconService.off("imageUpdate",this.updateTexture),(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_Uv",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{shape:n}=t,{x:s,y:u}=r[n]||{x:-64,y:-64};return[s,u]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Sr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:Gr.EXTRUDE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s)=>{const u=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=s%4*3;return[u[i],u[i+1],u[i+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const GI=`layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

uniform sampler2D u_texture;

in vec4 v_color;
in vec2 v_uv;
in float v_opacity;

#pragma include "picking"

out vec4 outputColor;

void main(){
  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
  vec4 textureColor;

  // Y = 0.299R + 0.587G + 0.114B // 亮度提取
  
  textureColor = texture(SAMPLER_2D(u_texture), pos);

  // Tip: 去除边缘部分 mipmap 导致的混合变暗
  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
  if(fragmengTocenter >= 0.5) {
        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
        textureColor.a *= luma;
  }
  
  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
        outputColor= textureColor;
  }else {
        outputColor= step(0.01, textureColor.z) * v_color;
  }
  outputColor.a *= v_opacity;
  if (outputColor.a < 0.01) {
      discard;
  }
  outputColor = filterColor(outputColor);
}
`,jI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

out vec4 v_color;
out vec2 v_uv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"

void main() {

  // cal style mapping - 数据纹理映射部分的计算
  v_color = a_Color;
  v_opacity = opacity;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  vec2 offset = project_pixel(offsets);

  float raisingHeight = u_raisingHeight;
  if(u_heightfixed < 1.0) { // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }


  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;class r9 extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=r({data:this.iconService.getCanvas(),mag:L.LINEAR,min:L.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}getUninforms(){if(this.rendererService.getDirty()){var t;(t=this.texture)===null||t===void 0||t.bind()}const r=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},r.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:r=!1}=this.layer.getLayerConfig(),n={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(t),u_heightfixed:Number(r),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(n)}initModels(){var t=this;return ft(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointImage",vertexShader:jI,fragmentShader:GI,triangulation:mM,inject:t.getInject(),depth:{enable:!1},primitive:L.POINTS})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_Uv",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{shape:n}=t,{x:s,y:u}=r[n]||{x:-64,y:-64};return[s,u]}}})}}const WI=`in vec4 v_color;
out vec4 outputColor;
void main() {
  outputColor = v_color;
}`,ZI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;

layout(std140) uniform u_Common {
  float u_size_scale;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(a_Position, 1.0);
  } else {
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2., -a_Size /2., 0., 0.);
    gl_Position = project_common_position_to_clipspace(project_pos);
  }

  gl_PointSize = a_Size * u_size_scale *  2.0  * u_DevicePixelRatio;
}
`;function D4(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class o9 extends Fn{getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const t={u_size_scale:.5};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.layer.triangulation=D4,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:ZI,fragmentShader:WI,triangulation:D4,inject:t.getInject(),depth:{enable:!1},primitive:L.POINTS,pick:!1})]})()}clearModels(){}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const XI=`
layout(std140) uniform commonUniorm{
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};
in vec4 v_data;
in vec4 v_color;
in float v_radius;
in vec2 v_extrude;
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  outputColor = vec4(v_color.rgb, v_color.a);

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
  } else {
    outputColor.a *= opacity_t;
  }

  if(outputColor.a > 0.0) {
    outputColor = filterColor(outputColor);
  }

  vec2 extrude =  v_extrude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  outputColor.a *= radar_v;
}
`,YI=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 11) in vec3 a_Extrude;

layout(std140) uniform commonUniorm {
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};

out vec4 v_data;
out vec4 v_color;
out float v_radius;
out vec2 v_extrude;

#pragma include "projection"
#pragma include "picking"

void main() {
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2( 
    cos(time), sin(time), 
    -sin(time), cos(time)
  );
  v_extrude = rotateMatrix * a_Extrude.xy;

  v_color = a_Color;
  v_color.a *= opacity;

  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_size_unit == 1.) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  v_radius = newSize;

  vec2 offset = (a_Extrude.xy * (newSize));
  vec3 aPosition = a_Position;
  
  offset = project_pixel(offset);
  
  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));
  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  setPickingColor(a_PickingColor);
}
`;class $I extends Fn{getCommonUniformsInfo(){const{blend:t,speed:r=1,unit:n="pixel"}=this.layer.getLayerConfig(),s={u_additive:t==="additive"?1:0,u_size_unit:z6[n],u_speed:r,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(s)}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),m0)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:YI,fragmentShader:XI,triangulation:m0,inject:t.getInject(),depth:{enable:!1}})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Sr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:Gr.EXTRUDE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s)=>{const u=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=s%4*3;return[u[i],u[i+1],u[i+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{shaderLocation:Gr.SIZE,name:"a_Size",buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}class qI{constructor(t,r,n){H(this,"boxCells",[]),H(this,"xCellCount",void 0),H(this,"yCellCount",void 0),H(this,"boxKeys",void 0),H(this,"bboxes",void 0),H(this,"width",void 0),H(this,"height",void 0),H(this,"xScale",void 0),H(this,"yScale",void 0),H(this,"boxUid",void 0);const s=this.boxCells;this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(r/n);for(let u=0;u<this.xCellCount*this.yCellCount;u++)s.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=r,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/r,this.boxUid=0}insert(t,r,n,s,u){this.forEachCell(r,n,s,u,this.insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(s),this.bboxes.push(u)}query(t,r,n,s,u){return this.queryHitTest(t,r,n,s,!1,u)}hitTest(t,r,n,s,u){return this.queryHitTest(t,r,n,s,!0,u)}insertBoxCell(t,r,n,s,u,i){this.boxCells[u].push(i)}queryHitTest(t,r,n,s,u,i){if(n<0||t>this.width||s<0||r>this.height)return u?!1:[];const y=[];if(t<=0&&r<=0&&this.width<=n&&this.height<=s){if(u)return!0;for(let g=0;g<this.boxKeys.length;g++)y.push({key:this.boxKeys[g],x1:this.bboxes[g*4],y1:this.bboxes[g*4+1],x2:this.bboxes[g*4+2],y2:this.bboxes[g*4+3]});return i?y.filter(i):y}const m={hitTest:u,seenUids:{box:{},circle:{}}};return this.forEachCell(t,r,n,s,this.queryCell,y,m,i),u?y.length>0:y}queryCell(t,r,n,s,u,i,y,m){const g=y.seenUids,x=this.boxCells[u];if(x!==null){const b=this.bboxes;for(const A of x)if(!g.box[A]){g.box[A]=!0;const w=A*4;if(t<=b[w+2]&&r<=b[w+3]&&n>=b[w+0]&&s>=b[w+1]&&(!m||m(this.boxKeys[A]))){if(y.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[A],x1:b[w],y1:b[w+1],x2:b[w+2],y2:b[w+3]})}}}return!1}forEachCell(t,r,n,s,u,i,y,m){const g=this.convertToXCellCoord(t),x=this.convertToYCellCoord(r),b=this.convertToXCellCoord(n),A=this.convertToYCellCoord(s);for(let w=g;w<=b;w++)for(let M=x;M<=A;M++){const V=this.xCellCount*M+w;if(u.call(this,t,r,n,s,V,i,y,m))return}}convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}}class KI{constructor(t,r){H(this,"width",void 0),H(this,"height",void 0),H(this,"grid",void 0),H(this,"viewportPadding",100),H(this,"screenRightBoundary",void 0),H(this,"screenBottomBoundary",void 0),H(this,"gridRightBoundary",void 0),H(this,"gridBottomBoundary",void 0),this.width=t,this.height=r,this.viewportPadding=Math.max(t,r),this.grid=new qI(t+this.viewportPadding,r+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=r+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=r+2*this.viewportPadding}placeCollisionBox(t){const r=t.x1+t.anchorPointX+this.viewportPadding,n=t.y1+t.anchorPointY+this.viewportPadding,s=t.x2+t.anchorPointX+this.viewportPadding,u=t.y2+t.anchorPointY+this.viewportPadding;return!this.isInsideGrid(r,n,s,u)||this.grid.hitTest(r,n,s,u)?{box:[]}:{box:[r,n,s,u]}}insertCollisionBox(t,r){const n={featureIndex:r};this.grid.insert(n,t[0],t[1],t[2],t[3])}project(t,r,n){const s=Bv(r,n,0,1),u=Hg(),i=Dv(...t);return c6(u,s,i),{x:(u[0]/u[3]+1)/2*this.width+this.viewportPadding,y:(-u[1]/u[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(t,r,n,s){return n>=0&&t<this.gridRightBoundary&&s>=0&&r<this.gridBottomBoundary}}function n9(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0;break;default:r=.5}return{horizontalAlign:t,verticalAlign:r}}function i9(e,t,r,n,s,u,i){const y=(t-r)*s,m=(-n*i+.5)*u;for(const g of e)g.x+=y,g.y+=m}function QI(e,t,r,n,s,u,i){let m=0,g=-8,x=0;const b=e.positionedGlyphs,A=0,w=b.length;r.forEach(Q=>{if(Q.split("").forEach(q=>{const K=t[q];K&&(b.push({glyph:q,x:m,y:g+0,vertical:!1,scale:1,metrics:K}),m+=K.advance+i)}),b.length!==w){const q=m-i;x=Math.max(q,x),b.length-1}m=0,g-=n+5});const{horizontalAlign:M,verticalAlign:V}=n9(s);i9(b,A,M,V,x,n,r.length);const k=g- -8;e.top+=-V*k,e.bottom=e.top-k,e.left+=-M*x,e.right=e.left+x}function JI(e,t,r,n,s,u,i){let m=0,g=-8,x=0;const b=e.positionedGlyphs,A=0,w=b.length;r.forEach(Q=>{const q=t[Q];if(q&&(b.push({glyph:Q,x:q.advance/2,y:g+0,vertical:!1,scale:1,metrics:q}),m+=q.advance+i),b.length!==w){const te=m-i;x=Math.max(te,x),b.length-1}m=0,g-=n+5});const{horizontalAlign:M,verticalAlign:V}=n9(s);i9(b,A,M,V,x,n,r.length);const k=g- -8;e.top+=-V*k,e.bottom=e.top-k,e.left+=-M*x,e.right=e.left+x}function eN(e,t,r,n,s,u,i=[0,0],y){const m=e.split(`
`),g=[],x={positionedGlyphs:g,top:i[1],bottom:i[1],left:i[0],right:i[0],lineCount:m.length,text:e};return y?JI(x,t,m,r,n,s,u):QI(x,t,m,r,n,s,u),g.length?x:!1}function tN(e,t=[0,0],r){const{positionedGlyphs:n=[]}=e,s=[];for(const u of n){const i=u.metrics,y=4,m=i.advance*u.scale/2,g=[0,0],x=[u.x+m+t[0],u.y+t[1]],b=(0-y)*u.scale-m+x[0],A=(0-y)*u.scale+x[1],w=b+i.width*u.scale,M=A+i.height*u.scale,V={x:b,y:A},k={x:w,y:A},Q={x:b,y:M},q={x:w,y:M};s.push({tl:V,tr:k,bl:Q,br:q,tex:i,glyphOffset:g})}return s}const O4=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0

uniform sampler2D u_sdf_map;
layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

in vec2 v_uv;
in float v_gamma_scale;
in vec4 v_color;
in vec4 v_stroke_color;
in float v_fontScale;

out vec4 outputColor;

#pragma include "picking"
void main() {
  // get style data mapping

  // get sdf from atlas
  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;

  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);

  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));

  outputColor.a *= alpha;
   // 作为 mask 模板时需要丢弃透明的像素
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,L4=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0

layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 10) in vec2 a_textOffsets;
layout(location = 14) in vec2 a_tex;

layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

out vec2 v_uv;
out float v_gamma_scale;
out vec4 v_color;
out vec4 v_stroke_color;
out float v_fontScale;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // cal style mapping - 数据纹理映射部分的计算
  
  v_uv = a_tex / u_sdf_map_size;



  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);

  // 文本缩放比例
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  vec2 offset = rotate_matrix(a_textOffsets,rotation);
  
  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));

  gl_Position = vec4(
    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`,{isEqual:Hd}=Wi;function B4(e){const t=this,r=e.id,n=[],s=[];if(!t.glyphInfoMap||!t.glyphInfoMap[r])return{vertices:[],indices:[],size:7};const u=t.glyphInfoMap[r].centroid,i=u.length===2?[u[0],u[1],0]:u;return t.glyphInfoMap[r].glyphQuads.forEach((y,m)=>{n.push(...i,y.tex.x,y.tex.y+y.tex.height,y.tl.x,y.tl.y,...i,y.tex.x+y.tex.width,y.tex.y+y.tex.height,y.tr.x,y.tr.y,...i,y.tex.x+y.tex.width,y.tex.y,y.br.x,y.br.y,...i,y.tex.x,y.tex.y,y.bl.x,y.bl.y),s.push(0+m*4,1+m*4,2+m*4,2+m*4,3+m*4,0+m*4)}),{vertices:n,indices:s,size:7}}class a9 extends Fn{constructor(...t){var r;super(...t),r=this,H(this,"glyphInfo",void 0),H(this,"glyphInfoMap",{}),H(this,"rawEncodeData",void 0),H(this,"texture",void 0),H(this,"currentZoom",-1),H(this,"extent",void 0),H(this,"textureHeight",0),H(this,"textCount",0),H(this,"preTextStyle",{}),H(this,"mapping",ft(function*(){r.initGlyph(),r.updateTexture(),yield r.reBuildModel()}))}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et(Et({},t.uniformsOption),r.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){const{stroke:t="#fff",strokeWidth:r=0,halo:n=.5,gamma:s=2,raisingHeight:u=0}=this.layer.getLayerConfig(),i=this.getFontServiceMapping(),y=this.getFontServiceCanvas();i&&Object.keys(i).length!==this.textCount&&y&&(this.updateTexture(),this.textCount=Object.keys(i).length),this.preTextStyle=this.getTextStyle();const m={u_stroke_color:Dn(t),u_sdf_map_size:[(y==null?void 0:y.width)||1,(y==null?void 0:y.height)||1],u_raisingHeight:Number(u),u_stroke_width:r,u_gamma_scale:s,u_halo_blur:n};return this.getUniformsBufferInfo(m)}initModels(){var t=this;return ft(function*(){return t.bindEvent(),t.extent=t.textExtent(),t.rawEncodeData=t.layer.getEncodedData(),t.preTextStyle=t.getTextStyle(),t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{textAllowOverlap:r=!1}=t.layer.getLayerConfig();return t.initGlyph(),t.updateTexture(),r||t.filterGlyphs(),[yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:L4,fragmentShader:O4,inject:t.getInject(),triangulation:B4.bind(t),depth:{enable:!1}})]})()}needUpdate(){var t=this;return ft(function*(){const{textAllowOverlap:r=!1,textAnchor:n="center",textOffset:s,padding:u,fontFamily:i,fontWeight:y}=t.getTextStyle();if(!Hd(u,t.preTextStyle.padding)||!Hd(s,t.preTextStyle.textOffset)||!Hd(n,t.preTextStyle.textAnchor)||!Hd(i,t.preTextStyle.fontFamily)||!Hd(y,t.preTextStyle.fontWeight))return yield t.mapping(),!0;if(r)return!1;const m=t.mapService.getZoom(),g=t.mapService.getBounds(),x=a8(t.extent,g);return Math.abs(t.currentZoom-m)>.5||!x||r!==t.preTextStyle.textAllowOverlap?(yield t.reBuildModel(),!0):!1})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.layer.off("remapping",this.mapping)}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Sr.Attribute,descriptor:{shaderLocation:10,name:"a_textOffsets",buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Sr.Attribute,descriptor:{name:"a_tex",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=12}=t;return Array.isArray(r)?[r[0]]:[r]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}textExtent(){const t=this.mapService.getBounds();return x6(t,.5)}initTextFont(){const{fontWeight:t,fontFamily:r}=this.getTextStyle(),n=this.rawEncodeData,s=[];n.forEach(u=>{let{shape:i=""}=u;i=i.toString();for(const y of i)s.indexOf(y)===-1&&s.push(y)}),this.fontService.setFontOptions({characterSet:s,fontWeight:t,fontFamily:r,iconfont:!1})}initIconFontTex(){const{fontWeight:t,fontFamily:r}=this.getTextStyle(),n=this.rawEncodeData,s=[];n.forEach(u=>{let{shape:i=""}=u;i=`${i}`,s.indexOf(i)===-1&&s.push(i)}),this.fontService.setFontOptions({characterSet:s,fontWeight:t,fontFamily:r,iconfont:!0})}getTextStyle(){const{fontWeight:t="400",fontFamily:r="sans-serif",textAllowOverlap:n=!1,padding:s=[0,0],textAnchor:u="center",textOffset:i=[0,0],opacity:y=1,strokeOpacity:m=1,strokeWidth:g=0,stroke:x="#000"}=this.layer.getLayerConfig();return{fontWeight:t,fontFamily:r,textAllowOverlap:n,padding:s,textAnchor:u,textOffset:i,opacity:y,strokeOpacity:m,strokeWidth:g,stroke:x}}generateGlyphLayout(t){const r=this.getFontServiceMapping(),{spacing:n=2,textAnchor:s="center",textOffset:u}=this.layer.getLayerConfig(),i=this.rawEncodeData;this.glyphInfo=i.map(y=>{const{shape:m="",id:g,size:x=1}=y,b=y.textOffset?y.textOffset:u||[0,0],A=y.textAnchor?y.textAnchor:s||"center",w=eN(m.toString(),r,x,A,"left",n,b,t),M=tN(w,b);return y.shaping=w,y.glyphQuads=M,y.centroid=Fl(y.coordinates),y.originCentroid=y.version==="GAODE2.x"?Fl(y.originCoordinates):y.originCentroid=y.centroid,this.glyphInfoMap[g]={shaping:w,glyphQuads:M,centroid:Fl(y.coordinates)},y})}getFontServiceMapping(){const{fontWeight:t="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${r}_${t}`)}getFontServiceCanvas(){const{fontWeight:t="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${r}_${t}`)}filterGlyphs(){const{padding:t=[0,0],textAllowOverlap:r=!1}=this.layer.getLayerConfig();if(r)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();const{width:n,height:s}=this.rendererService.getViewportSize(),u=new KI(n,s);this.glyphInfo.filter(y=>{const{shaping:m,id:g=0}=y,x=y.version==="GAODE2.x"?y.originCentroid:y.centroid,A=y.size/16,w=this.mapService.lngLatToContainer(x),{box:M}=u.placeCollisionBox({x1:m.left*A-t[0],x2:m.right*A+t[0],y1:m.top*A-t[1],y2:m.bottom*A+t[1],anchorPointX:w.x,anchorPointY:w.y});return M&&M.length?(u.insertCollisionBox(M,g),!0):!1}).forEach(y=>{this.glyphInfoMap[y.id]=y})}initGlyph(){const{iconfont:t=!1}=this.layer.getLayerConfig();t?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(t)}updateTexture(){const{createTexture2D:t}=this.rendererService,r=this.getFontServiceCanvas();this.textureHeight=r.height,this.texture&&this.texture.destroy(),this.texture=t({data:r,mag:L.LINEAR,min:L.LINEAR,width:r.width,height:r.height}),this.textures=[this.texture]}reBuildModel(){var t=this;return ft(function*(){t.filterGlyphs();const r=yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:L4,fragmentShader:O4,triangulation:B4.bind(t),inject:t.getInject(),depth:{enable:!1}});t.layer.models=[r]})()}}const rN={fillImage:HI,fill:t9,radar:$I,image:r9,normal:o9,simplePoint:wI,extrude:e9,text:a9,earthFill:OI,earthExtrude:II};class My extends S0{constructor(...t){super(...t),H(this,"type","PointLayer"),H(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),H(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),H(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}})}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel&&t.layerModel.clearModels(),t.layerModel=new rN[r](t),yield t.initLayerModels()})()}rebuildModels(){var t=this;return ft(function*(){yield t.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){const{field:t,values:r}=this.shapeOption,{shape2d:n}=this.getLayerConfig(),s=this.iconService.getIconMap();if(t&&(n==null?void 0:n.indexOf(t))!==-1)return"fill";if(r==="text")return"text";if(r&&r instanceof Array){for(const u of r)if(typeof u=="string"&&s.hasOwnProperty(u))return"image"}}return"normal"}getDefaultConfig(){const t=this.getModelType();return{fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}}[t]}getModelType(){const t=this.getEncodedData(),{shape2d:r,shape3d:n,billboard:s=!0}=this.getLayerConfig(),u=this.iconService.getIconMap(),i=t.find(y=>y.hasOwnProperty("shape"));if(i){const y=i.shape;return y==="dot"?"normal":y==="simple"?"simplePoint":y==="radar"?"radar":this.layerType==="fillImage"||s===!1?"fillImage":(r==null?void 0:r.indexOf(y))!==-1?this.mapService.version==="GLOBEL"?"earthFill":"fill":(n==null?void 0:n.indexOf(y))!==-1?this.mapService.version==="GLOBEL"?"earthExtrude":"extrude":u.hasOwnProperty(y)?"image":"text"}else return this.getModelTypeWillEmptyData()}}function oN(e){return q2.apply(this,arguments)}function q2(){return q2=ft(function*(e){if(window.createImageBitmap){const t=yield fetch(e);return yield createImageBitmap(yield t.blob())}else{const t=new window.Image;return new Promise(r=>{t.onload=()=>r(t),t.src=e,t.crossOrigin="Anonymous"})}}),q2.apply(this,arguments)}const nN=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    outputColor = v_Color;
  
  outputColor = filterColor(outputColor);
}
`,iN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 13) in vec3 a_Normal;
layout(location = 14) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
 
float isSide = a_Position.z;
 float topU = a_uvs[0];
 float topV = 1.0 - a_uvs[1];
 float sidey = a_uvs[2];

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  float lightWeight = calc_lighting(pos);

  vec4 project_pos = project_position(pos);

  if(u_heightfixed > 0.0) { // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }


 gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));

  // Tip: 部分机型 GPU 计算精度兼容
  if(isSide < 0.999) {
    // side face
    // if(u_sidesurface < 1.0) {
    //   discard;
    // }

    if(u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      v_Color = linearColor;
    } else {
      v_Color = a_Color;
    }

  } else {
    v_Color = a_Color;
  }

  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);


  setPickingColor(a_PickingColor);
}
`,aN=`uniform sampler2D u_texture;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;

void main() {
  float opacity = u_opacity;
  float isSide = v_texture_data.x;
  float lightWeight = v_texture_data.y;
  float topU = v_uvs[0];
  float topV = 1.0 - v_uvs[1];
  float sidey = v_uvs[2];

  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));
  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {// 是否是边缘
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      outputColor = v_Color;
    }
  } else {
     // top face
    if (u_topsurface < 1.0) {
      discard;
    }
  }
  
  outputColor.a *= opacity;
  outputColor = filterColor(outputColor);
}
`,sN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 13) in vec3 a_Normal;
layout(location = 14) in vec3 a_uvs;


layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
 
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  float lightWeight = calc_lighting(pos);
  vec4 project_pos = project_position(pos);
  v_uvs = a_uvs;
  v_Color = a_Color;
  v_Color.a *= opacity;
   
  v_texture_data = vec2(a_Position.z, lightWeight);

  if(u_heightfixed > 0.0) { // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }


    gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));



  setPickingColor(a_PickingColor);
}
`,uN=`
layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;
out vec4 outputColor;

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  float isSide =  v_texture_data.x;
  float sidey = v_uvs[2];
  float lightWeight = v_texture_data.y;

  // Tip: 部分机型 GPU 计算精度兼容
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }
    
    if( u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      // side notuse linear
       outputColor = v_Color;
    }
  } else {
    // top face
    if(u_topsurface < 1.0) {
      discard;
    }
    outputColor = v_Color;
  }

  outputColor = filterColorAlpha(outputColor, lightWeight);
}
`,pN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 13) in vec3 a_Normal;
layout(location = 14) in vec3 a_uvs;


layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {


  v_uvs = a_uvs;
  // cal style mapping - 数据纹理映射部分的计算
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  if(u_heightfixed > 0.0) { // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));
  float lightWeight = calc_lighting(pos);
  v_texture_data = vec2(a_Position.z,lightWeight);

  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`;class cN extends Fn{constructor(...t){super(...t),H(this,"texture",void 0)}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{mapTexture:t,heightfixed:r=!1,raisingHeight:n=0,topsurface:s=!0,sidesurface:u=!0,sourceColor:i,targetColor:y}=this.layer.getLayerConfig();let m=0,g=[1,1,1,1],x=[1,1,1,1];i&&y&&(g=Dn(i),x=Dn(y),m=1);const b={u_sourceColor:g,u_targetColor:x,u_linearColor:m,u_topsurface:Number(s),u_sidesurface:Number(u),u_heightfixed:Number(r),u_raisingHeight:Number(n)};return t&&this.texture&&(b.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(b)}initModels(){var t=this;return ft(function*(){return yield t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{frag:r,vert:n,type:s}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:n,fragmentShader:r,depth:{enable:!0},inject:t.getInject(),triangulation:$7})]})()}getShaders(){const{pickLight:t,mapTexture:r}=this.layer.getLayerConfig();return r?{frag:aN,vert:sN,type:"polygonExtrudeTexture"}:t?{frag:uN,vert:pN,type:"polygonExtrudePickLight"}:{frag:nN,vert:iN,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.textures=[]}registerBuiltinAttributes(){const t=this.layer.getSource().extent;let r=t;const n=this.layer.coordCenter||this.layer.getSource().center;let s=r[2]-r[0],u=r[3]-r[1];if(this.mapService.version==="GAODE2.x"){const[i,y]=this.mapService.coordToAMap2RelativeCoordinates([t[0],t[1]],n),[m,g]=this.mapService.coordToAMap2RelativeCoordinates([t[2],t[3]],n);s=m-i,u=g-y,r=[i,y,m,g]}this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Sr.Attribute,descriptor:{name:"a_uvs",shaderLocation:Gr.UV,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(i,y,m)=>{const g=m[0],x=m[1];return[(g-r[0])/s,(x-r[1])/u,m[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(i,y,m,g,x)=>x}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:i=>{const{size:y=10}=i;return Array.isArray(y)?[y[0]]:[y]}}})}loadTexture(){var t=this;return ft(function*(){const{mapTexture:r}=t.layer.getLayerConfig(),{createTexture2D:n}=t.rendererService;if(t.texture=n({height:1,width:1}),r){const s=yield oN(r);t.texture=n({data:s,width:s.width,height:s.height,wrapS:L.CLAMP_TO_EDGE,wrapT:L.CLAMP_TO_EDGE,min:L.LINEAR,mag:L.LINEAR})}})()}}const lN=`
in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

  outputColor = v_Color;
  outputColor = filterColor(outputColor);
}
`,dN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 9) in float a_Size;
layout(location = 13) in vec3 a_Normal;

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
 
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);

  vec4 project_pos = project_position(pos);
   float lightWeight = calc_lighting(project_pos);
  v_Color = a_Color;
  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class yN extends Fn{constructor(...t){super(...t),H(this,"texture",void 0)}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const t={};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{frag:r,vert:n,type:s}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:n,fragmentShader:r,inject:t.getInject(),triangulation:$7,depth:{enable:!0}})]})()}getShaders(){return{frag:lN,vert:dN,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Sr.Attribute,descriptor:{name:"a_Normal",shaderLocation:Gr.NORMAL,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(t,r,n,s,u)=>u}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Sr.Attribute,descriptor:{name:"a_Size",shaderLocation:Gr.SIZE,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:1,update:t=>{const{size:r=10}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const hN=`in vec4 v_color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,fN=`
layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

in vec4 v_color;
in vec3 v_linear;
in vec2 v_pos;
out vec4 outputColor;
#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  if (u_opacitylinear > 0.0) {
    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;
  }
  outputColor = filterColor(outputColor);
}
`,mN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 15) in vec3 a_linear;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

out vec4 v_color;
out vec3 v_linear;
out vec2 v_pos;

#pragma include "projection"
#pragma include "picking"

void main() {
  if (u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  project_pos.z += u_raisingHeight;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));
  setPickingColor(a_PickingColor);
}`,_N=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
};


out vec4 v_color;


#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  // cal style mapping - 数据纹理映射部分的计算

  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  project_pos.z += u_raisingHeight;

  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

 
  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}

`;class gN extends Fn{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,opacityLinear:r={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),n={u_raisingHeight:Number(t),u_opacitylinear:Number(r.enable),u_dir:r.dir==="in"?1:0};return this.getUniformsBufferInfo(n)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){const{frag:r,vert:n,triangulation:s,type:u}=t.getModelParams();return t.initUniformsBuffer(),t.layer.triangulation=s,[yield t.layer.buildLayerModel({moduleName:u,vertexShader:n,fragmentShader:r,inject:t.getInject(),triangulation:s,primitive:L.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){const{opacityLinear:t={enable:!1,dir:"in"}}=this.layer.getLayerConfig();t.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Sr.Attribute,descriptor:{name:"a_linear",shaderLocation:Gr.LINEAR,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:3,update:(r,n,s)=>[s[3],s[4],s[5]]}})}getModelParams(){const{opacityLinear:t={enable:!1}}=this.layer.getLayerConfig();return t.enable?{frag:fN,vert:mN,type:"polygonLinear",triangulation:vM}:{frag:hN,vert:_N,type:"polygonFill",triangulation:Qf}}}const vN=`
layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

in vec2 v_uv;
in float v_opacity;
out vec4 outputColor;

float coast2water_fadedepth = 0.10;
float large_waveheight      = .750; // change to adjust the "heavy" waves
float large_wavesize        = 3.4;  // factor to adjust the large wave size
float small_waveheight      = 0.6;  // change to adjust the small random waves
float small_wavesize        = 0.5;   // factor to ajust the small wave size
float water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact= 120.; // range [1..200]
float particle_amount       = 70.;

vec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights
#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

  

float hash( float n ) {
    return fract(sin(n)*43758.5453123);
}

// 2d noise function
float noise1( in vec2 x ) {
  vec2 p  = floor(x);
  vec2 f  = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y*57.0;
  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),
    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);
}

float noise(vec2 p) {
    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;
}

vec4 highness(vec2 p) {
    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));
    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;
    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);
}

float height_map( vec2 p ) {
    vec4 height=highness(p);
    /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );
    //p = p*6.;
    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;
    f += 0.2500*noise( p ); p = m*p*1.32;
    f += 0.1666*noise( p ); p = m*p*1.11;
    f += 0.0834*noise( p ); p = m*p*1.12;
    f += 0.0634*noise( p ); p = m*p*1.13;
    f += 0.0444*noise( p ); p = m*p*1.14;
    f += 0.0274*noise( p ); p = m*p*1.15;
    f += 0.0134*noise( p ); p = m*p*1.16;
    f += 0.0104*noise( p ); p = m*p*1.17;
    f += 0.0084*noise( p );
    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;
        const float FLAT_LEVEL = 0.92525;
        //f = f*0.25+height*0.75;
    if (f<FLAT_LEVEL)
        f = f;
    else
        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase
    return clamp(f, 0., 10.);
}

vec3 plasma_quintic( float x ) {
    x = clamp( x, 0.0, 1.0);
    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3
    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
    return vec3(
        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),
        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),
        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );
}

vec4 color(vec2 p){
    vec4 c1 = vec4(1.7,1.6,.9,1);
    vec4 c2 = vec4(.2,.94,.1,1);
    vec4 c3 = vec4(.3,.2,.0,1);
    vec4 c4 = vec4(.99,.99,1.6,1);
    vec4 v = highness(p);
    float los = smoothstep(0.1,1.1,v.b);
    float his = smoothstep(3.5,6.5,v.b);
    float ces = smoothstep(1.,5.,v.a);
    vec4 lo = mix(c1,c2,los);
    vec4 hi = mix(c3,c4,his);
    vec4 ce = mix(lo,hi,ces);

    return vec4(plasma_quintic(ces),1).ragb;
}

vec3 terrain_map( vec2 p )
{
  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );

float water_map( vec2 p, float height ) {
    vec2 p2 = p*large_wavesize;
    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );
    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );

    // coarse crossing 'ocean' waves...
    float f = 0.6000*noise( p );
    f += 0.2500*noise( p*m );
    f += 0.1666*noise( p*m*m );
    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;

    p *= small_wavesize;
    f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<9; i++)
    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }
    
    return wave+f*small_waveheight;
}

float nautic(vec2 p) {
    p *= 18.;
    float f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }
    return pow(1.-f, 5.);
}

float particles(vec2 p) {
    p *= 200.;
    float f = 0.;
    float amp = 1.0, s = 1.5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }
    return pow(f*.35, 7.)*particle_amount;
}

float test_shadow( vec2 xy, float height) {
    vec3 r0 = vec3(xy, height);
    vec3 rd = normalize( light - r0 );
    
    float hit = 1.0;
    float t   = 0.001;
    for (int j=1; j<25; j++)
    {
        vec3 p = r0 + t*rd;
        float h = height_map( p.xy );
        float height_diff = p.z - h;
        if (height_diff<0.0)
        {
            return 0.0;
        }
        t += 0.01+height_diff*.02;
        hit = min(hit, 2.*height_diff/t); // soft shaddow   
    }
    return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
    vec3 col = terrain_map( uv );
    vec2 iResolution = vec2(512.);
    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);
    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);
    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);
    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);
    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));
    vec3 r0 = vec3(uv, height);
    vec3 rd = normalize( light - r0 );
    float grad = dot(norm, rd);
    col *= grad+pow(grad, 8.);
    float terrainshade = test_shadow( uv, height );
    col = mix(col*.25, col, terrainshade);
    return col;
}


void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;
  float height = height_map( uv );
  vec3 col;

    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);
    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);
    if (height > level)
    {
        col = CalcTerrain(uv, height);
    }
    if (height <= level)
    {
        vec2 dif = vec2(.0, .01);
        vec2 pos = uv*15. + vec2(u_time*.01);
        float h1 = water_map(pos-dif,waveheight);
        float h2 = water_map(pos+dif,waveheight);
        float h3 = water_map(pos-dif.yx,waveheight);
        float h4 = water_map(pos+dif.yx,waveheight);
        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane
        uv += normwater.xy*.002*(level-height);
        
        col = CalcTerrain(uv, height);

        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);
        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);
        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;
        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));

        vec3 r0 = vec3(uv, WATER_LEVEL);
        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position
        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction
        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          
        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights
        float gradpos  = dot(vec3(0., 0., 1.), rd);
        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          
        float watershade  = test_shadow( uv, level );
        watercolor *= 2.2+watershade;
        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;
        watercolor /= (1.+specular1*1.25);
        watercolor += watershade*specular2*water_specularcolor;
        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));
        
        col = mix(col, watercolor, coastfade);
    }
    
  outputColor = vec4(col, v_opacity);  
}
`,EN=`layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};


out vec2 v_uv;
out float v_opacity;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_opacity = opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));
}

`;class xN extends Fn{constructor(...t){super(...t),H(this,"texture1",void 0),H(this,"texture2",void 0),H(this,"texture3",void 0)}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{watercolor:t="#6D99A8",watercolor2:r="#0F121C"}=this.layer.getLayerConfig(),n={u_watercolor:Dn(t),u_watercolor2:Dn(r),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(n)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return ft(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:EN,fragmentShader:vN,inject:t.getInject(),triangulation:Qf,primitive:L.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t,r,n;(t=this.texture1)===null||t===void 0||t.destroy(),(r=this.texture2)===null||r===void 0||r.destroy(),(n=this.texture3)===null||n===void 0||n.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[r,n,s,u]=t,i=s-r,y=u-n;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Sr.Attribute,descriptor:{name:"a_uv",shaderLocation:Gr.UV,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:2,update:(m,g,x,b)=>{const A=m.version==="GAODE2.x"?m.originCoordinates[0][b]:x,[w,M]=A;return[(w-r)/i,(M-n)/y]}}})}loadTexture(){const{createTexture2D:t}=this.rendererService,r={height:0,width:0};this.texture1=t(r),this.texture2=t(r),this.texture3=t(r),n(u=>{this.texture1=s(u[0]),this.texture2=s(u[1]),this.texture3=s(u[2]),this.layerService.reRender()});function n(u){let i=0;const y=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(g=>{const x=new Image;x.crossOrigin="",x.src=g,y.push(x),x.onload=()=>{i++,i===3&&u(y)}})}function s(u){return t({data:u,width:u.width,height:u.height,wrapS:L.MIRRORED_REPEAT,wrapT:L.MIRRORED_REPEAT,min:L.LINEAR,mag:L.LINEAR})}}}const PN=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};

out vec4 outputColor;


in vec4 v_Color;
in vec2 v_uv;

float rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.; p.x += t * 2.;
  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 3.; p.x += t * 0.52;
  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 4.; p.x += t * 0.8;
  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.;
  return p.y + z / 4.;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return  d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = .1;
  return normalize(vec3(
    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
  ));
} 

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0,1,0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {

  outputColor = v_Color;
  float spc = calSpc();
  outputColor += spc * 0.4;
}
`,bN=`layout(location = 0) in vec3 a_Position;
layout(location = 1) in vec4 a_Color;
layout(location = 14) in vec2 a_uv;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};
out vec4 v_Color;
out vec2 v_uv;


#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_Color = a_Color;
  v_Color.a *= opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xyz, 1.0));
}

`;class FN extends Fn{constructor(...t){super(...t),H(this,"texture",void 0)}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{speed:t=.5}=this.layer.getLayerConfig(),r={u_speed:t,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(r)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return ft(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:bN,fragmentShader:PN,triangulation:Qf,inject:t.getInject(),primitive:L.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[r,n,s,u]=t,i=s-r,y=u-n;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Sr.Attribute,descriptor:{name:"a_uv",shaderLocation:Gr.UV,buffer:{usage:L.STATIC_DRAW,data:[],type:L.FLOAT},size:2,update:(m,g,x,b)=>{const A=m.version==="GAODE2.x"?m.originCoordinates[0][b]:x,[w,M]=A;return[(w-r)/i,(M-n)/y]}}})}loadTexture(){const{waterTexture:t}=this.layer.getLayerConfig(),{createTexture2D:r}=this.rendererService;this.texture=r({height:1,width:1});const n=new Image;n.crossOrigin="",t?(console.warn("L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),n.src=t):n.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",n.onload=()=>{this.texture=r({data:n,width:n.width,height:n.height,wrapS:L.MIRRORED_REPEAT,wrapT:L.MIRRORED_REPEAT,min:L.LINEAR,mag:L.LINEAR}),this.layerService.reRender()}}}const AN={fill:gN,line:Q7,extrude:cN,text:a9,point_fill:t9,point_image:r9,point_normal:o9,point_extrude:e9,water:FN,ocean:xN,extrusion:yN};class s9 extends S0{constructor(...t){super(...t),H(this,"type","PolygonLayer"),H(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"])}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new AN[r](t),yield t.initLayerModels()})()}getModelType(){var t;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),n=r==null||(t=r.scale)===null||t===void 0?void 0:t.field;return n==="fill"||!n?"fill":n==="extrude"?"extrude":n==="extrusion"?"extrusion":n==="water"?"water":n==="ocean"?"ocean":n==="line"?"line":this.getPointModelType()}getPointModelType(){const t=this.getEncodedData(),{shape2d:r,shape3d:n}=this.getLayerConfig(),s=this.iconService.getIconMap(),u=t.find(i=>i.hasOwnProperty("shape"));if(u){const i=u.shape;return i==="dot"?"point_normal":(r==null?void 0:r.indexOf(i))!==-1?"point_fill":(n==null?void 0:n.indexOf(i))!==-1?"point_extrude":s.hasOwnProperty(i)?"point_image":"text"}else return"fill"}}const SN=`layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

uniform sampler2D u_rasterTexture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;

bool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }

out vec4 outputColor;

void main() {
  // Can use any component here since u_rasterTexture is under luminance format.
  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value)) {
    discard;
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
    discard;
  } else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));
    
    outputColor = color;
    outputColor.a = outputColor.a * u_opacity ;
    if (outputColor.a < 0.01)
      discard;
  }
}
`,TN=`
layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy,0., 1.0));
}
`;let U4=class extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"colorTexture",void 0)}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,clampLow:r=!0,clampHigh:n=!0,noDataValue:s=-9999999,domain:u,rampColors:i}=this.layer.getLayerConfig(),y=u||v6(i);this.colorTexture=this.layer.textureService.getColorTexture(i,y);const m={u_domain:y,u_opacity:t||1,u_noDataValue:s,u_clampLow:r?1:0,u_clampHigh:(typeof n<"u"?n:r)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(m)}getRasterData(t){return ft(function*(){if(Array.isArray(t.data))return{data:t.data,width:t.width,height:t.height};{const{rasterData:r,width:n,height:s}=yield t.data;return{data:Array.from(r),width:n,height:s}}})()}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:n,queryVerdorInfo:s}=t.rendererService,u=r.data.dataArray[0],{data:i,width:y,height:m}=yield t.getRasterData(u);return t.texture=n({data:new Float32Array(i),width:y,height:m,format:s()==="WebGL1"?L.LUMINANCE:L.RED,type:L.FLOAT,alignment:1}),[yield t.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:TN,fragmentShader:SN,triangulation:Jf,primitive:L.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}clearModels(){var t,r;(t=this.texture)===null||t===void 0||t.destroy(),(r=this.colorTexture)===null||r===void 0||r.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{shaderLocation:Gr.UV,name:"a_Uv",buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}})}};const wN=["data"],RN=["rasterData"],CN=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
 vec2 u_rminmax;
 vec2 u_gminmax;
 vec2 u_bminmax;
 float u_opacity;
 float u_noDataValue;
};

in vec2 v_texCoord;

out vec4 outputColor;

void main() {

  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;

  if(rgb == vec3(u_noDataValue)) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);
  }

  if(outputColor.a < 0.01)
    discard;
 
}`,MN=`
layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
 vec2 u_rminmax;
 vec2 u_gminmax;
 vec2 u_bminmax;
 float u_opacity;
 float u_noDataValue;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy,0., 1.0));
}
`;class IN extends Fn{constructor(...t){super(...t),H(this,"texture",void 0),H(this,"dataOption",{})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,noDataValue:r=0}=this.layer.getLayerConfig(),{rMinMax:n=[0,255],gMinMax:s=[0,255],bMinMax:u=[0,255]}=this.dataOption,i={u_rminmax:n,u_gminmax:s,u_bminmax:u,u_opacity:t||1,u_noDataValue:r,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(i)}getRasterData(t){var r=this;return ft(function*(){if(Array.isArray(t.data)){const{data:i}=t,y=Kp(t,wN);return r.dataOption=y,Et({data:i},y)}const n=yield t.data,{rasterData:s}=n,u=Kp(n,RN);return r.dataOption=u,Array.isArray(s)?Et({data:s},u):Et({data:Array.from(s)},u)})()}initModels(){var t=this;return ft(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:n}=t.rendererService,s=r.data.dataArray[0],{data:u,width:i,height:y}=yield t.getRasterData(s);return t.texture=n({data:new Float32Array(u),width:i,height:y,format:L.RGB,type:L.FLOAT}),[yield t.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:MN,fragmentShader:CN,triangulation:Jf,primitive:L.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}buildModels(){var t=this;return ft(function*(){return t.initModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_Uv",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}})}}const NN=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

layout(std140) uniform commonUniforms {
 vec4 u_unpack;
 vec2 u_domain;
 float u_opacity;
 float u_noDataValue;
 float u_clampLow;
 float u_clampHigh;
};

in vec2 v_texCoord;
out vec4 outputColor;


float getElevation(vec2 coord, float bias) {
    // Convert encoded elevation value to meters
    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;
    data.a = -1.0;
    return dot(data, u_unpack);
}

vec4 getColor(float value) {
   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec2 coord = vec2(normalisedValue, 0);
    return  texture(SAMPLER_2D(u_colorTexture), coord);
}

void main() {
  float value = getElevation(v_texCoord,0.0);
  if (value == u_noDataValue) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
     outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
   
    outputColor = getColor(value);
    outputColor.a =  outputColor.a * u_opacity ;
      if(outputColor.a < 0.01)
      discard;
  }
}
`,DN=`layout(location = 0) in vec3 a_Position;
layout(location = 14) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
   vec4 u_unpack;
   vec2 u_domain;
   float u_opacity;
   float u_noDataValue;
   float u_clampLow;
   float u_clampHigh;
};
out vec2 v_texCoord;
#pragma include "projection"

void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   gl_Position = project_common_position_to_clipspace_v2(vec4(project_pos.xy,0., 1.0));
}
`;class ON extends Fn{constructor(...t){super(...t),H(this,"texture",void 0)}getCommonUniformsInfo(){const{opacity:t,clampLow:r=!0,clampHigh:n=!0,noDataValue:s=-9999999,domain:u,rampColors:i,colorTexture:y,rScaler:m=6553.6,gScaler:g=25.6,bScaler:x=.1,offset:b=1e4}=this.layer.getLayerConfig(),A=u||v6(i);let w=y;y?this.layer.textureService.setColorTexture(y,i,A):w=this.layer.textureService.getColorTexture(i,A);const M={u_unpack:[m,g,x,b],u_domain:A,u_opacity:t||1,u_noDataValue:s,u_clampLow:r,u_clampHigh:typeof n<"u"?n:r,u_texture:this.texture,u_colorTexture:w};return this.textures=[this.texture,w],this.getUniformsBufferInfo(M)}initModels(){var t=this;return ft(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:n}=t.rendererService,s=yield r.data.images;return t.texture=n({data:s[0],width:s[0].width,height:s[0].height,min:L.LINEAR,mag:L.LINEAR}),[yield t.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:DN,fragmentShader:NN,triangulation:Jf,primitive:L.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}buildModels(){var t=this;return ft(function*(){return t.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Sr.Attribute,descriptor:{name:"a_Uv",shaderLocation:Gr.UV,buffer:{usage:L.DYNAMIC_DRAW,data:[],type:L.FLOAT},size:2,update:(t,r,n)=>[n[3],n[4]]}})}}const LN={raster:U4,rasterRgb:IN,raster3d:U4,rasterTerrainRgb:ON};class j6 extends S0{constructor(...t){super(...t),H(this,"type","RasterLayer")}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new LN[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}}[t]}getModelType(){switch(this.layerSource.getParserType()){case"raster":return"raster";case"rasterRgb":return"rasterRgb";case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb";default:return"raster"}}getLegend(t){if(t!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return K7(r,t)}}class BN{constructor({rendererService:t,layerService:r,parent:n}){H(this,"tileResource",new Map),H(this,"rendererService",void 0),H(this,"layerService",void 0),H(this,"parent",void 0),H(this,"layerTiles",[]),this.rendererService=t,this.layerService=r,this.parent=n}get tiles(){return this.layerTiles}hasTile(t){return this.layerTiles.some(r=>r.key===t)}addTile(t){this.layerTiles.push(t)}getTile(t){return this.layerTiles.find(r=>r.key===t)}getVisibleTileBylngLat(t){return this.layerTiles.find(r=>r.isLoaded&&r.visible&&r.lnglatInBounds(t))}removeTile(t){const r=this.layerTiles.findIndex(s=>s.key===t),n=this.layerTiles.splice(r,1);n[0]&&n[0].destroy()}updateTileVisible(t){const r=this.getTile(t.key);if(t.isVisible)if(t.parent){const n=this.isChildrenLoaded(t.parent);r==null||r.updateVisible(n)}else r==null||r.updateVisible(!0);else if(t.parent){const n=this.isChildrenLoaded(t.parent);r==null||r.updateVisible(!n)}else r==null||r.updateVisible(!1)}isParentLoaded(t){const r=t.parent;if(!r)return!0;const n=this.getTile(r==null?void 0:r.key);return!!(n!=null&&n.isLoaded)}isChildrenLoaded(t){const r=t==null?void 0:t.children;return r.length===0?!0:r.every(n=>{const s=this.getTile(n==null?void 0:n.key);return s?(s==null?void 0:s.isLoaded)===!0:!0})}render(){var t=this;return ft(function*(){const n=t.getRenderLayers().map(function(){var s=ft(function*(u){yield t.layerService.renderTileLayer(u)});return function(u){return s.apply(this,arguments)}}());yield Promise.all(n)})()}getRenderLayers(){const t=this.layerTiles.filter(n=>n.visible&&n.isLoaded),r=[];return t.map(n=>r.push(...n.getLayers())),r}getLayers(){const t=this.layerTiles.filter(n=>n.isLoaded),r=[];return t.map(n=>r.push(...n.getLayers())),r}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(t=>t.destroy()),this.tileResource.clear()}}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function UN(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,s,u,i;return i={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function y(g){return function(x){return m([g,x])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],s=0}finally{n=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var wl=function(){function e(t,r){this.next=null,this.key=t,this.data=r,this.left=null,this.right=null}return e}();function kN(e,t){return e>t?1:e<t?-1:0}function xl(e,t,r){for(var n=new wl(null,null),s=n,u=n;;){var i=r(e,t.key);if(i<0){if(t.left===null)break;if(r(e,t.left.key)<0){var y=t.left;if(t.left=y.right,y.right=t,t=y,t.left===null)break}u.left=t,u=t,t=t.left}else if(i>0){if(t.right===null)break;if(r(e,t.right.key)>0){var y=t.right;if(t.right=y.left,y.left=t,t=y,t.right===null)break}s.right=t,s=t,t=t.right}else break}return s.right=t.left,u.left=t.right,t.left=n.right,t.right=n.left,t}function a2(e,t,r,n){var s=new wl(e,t);if(r===null)return s.left=s.right=null,s;r=xl(e,r,n);var u=n(e,r.key);return u<0?(s.left=r.left,s.right=r,r.left=null):u>=0&&(s.right=r.right,s.left=r,r.right=null),s}function k4(e,t,r){var n=null,s=null;if(t){t=xl(e,t,r);var u=r(t.key,e);u===0?(n=t.left,s=t.right):u<0?(s=t.right,t.right=null,n=t):(n=t.left,t.left=null,s=t)}return{left:n,right:s}}function zN(e,t,r){return t===null?e:(e===null||(t=xl(e.key,t,r),t.left=e),t)}function K2(e,t,r,n,s){if(e){n(""+t+(r?"└── ":"├── ")+s(e)+`
`);var u=t+(r?"    ":"│   ");e.left&&K2(e.left,u,!1,n,s),e.right&&K2(e.right,u,!0,n,s)}}var W6=function(){function e(t){t===void 0&&(t=kN),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,r){return this._size++,this._root=a2(t,r,this._root,this._comparator)},e.prototype.add=function(t,r){var n=new wl(t,r);this._root===null&&(n.left=n.right=null,this._size++,this._root=n);var s=this._comparator,u=xl(t,this._root,s),i=s(t,u.key);return i===0?this._root=u:(i<0?(n.left=u.left,n.right=u,u.left=null):i>0&&(n.right=u.right,n.left=u,u.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,r,n){var s;if(r===null)return null;r=xl(t,r,n);var u=n(t,r.key);return u===0?(r.left===null?s=r.right:(s=xl(t,r.left,n),s.right=r.right),this._size--,s):r},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=xl(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var r=this._root,n=this._comparator;r;){var s=n(t,r.key);if(s===0)return r;s<0?r=r.left:r=r.right}return null},e.prototype.find=function(t){return this._root&&(this._root=xl(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var r=this._root,n=this._comparator;r;){var s=n(t,r.key);if(s===0)return!0;s<0?r=r.left:r=r.right}return!1},e.prototype.forEach=function(t,r){for(var n=this._root,s=[],u=!1;!u;)n!==null?(s.push(n),n=n.left):s.length!==0?(n=s.pop(),t.call(r,n),n=n.right):u=!0;return this},e.prototype.range=function(t,r,n,s){for(var u=[],i=this._comparator,y=this._root,m;u.length!==0||y;)if(y)u.push(y),y=y.left;else{if(y=u.pop(),m=i(y.key,r),m>0)break;if(i(y.key,t)>=0&&n.call(s,y))return this;y=y.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(r){var n=r.key;return t.push(n)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(r){var n=r.data;return t.push(n)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var r=this._root,n=!1,s=0,u=[];!n;)if(r)u.push(r),r=r.left;else if(u.length>0){if(r=u.pop(),s===t)return r;s++,r=r.right}else n=!0;return null},e.prototype.next=function(t){var r=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var s=this._comparator;r;){var u=s(t.key,r.key);if(u===0)break;u<0?(n=r,r=r.left):r=r.right}return n},e.prototype.prev=function(t){var r=this._root,n=null;if(t.left!==null){for(n=t.left;n.right;)n=n.right;return n}for(var s=this._comparator;r;){var u=s(t.key,r.key);if(u===0)break;u<0?r=r.left:(n=r,r=r.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return HN(this._root)},e.prototype.load=function(t,r,n){r===void 0&&(r=[]),n===void 0&&(n=!1);var s=t.length,u=this._comparator;if(n&&e6(t,r,0,s-1,u),this._root===null)this._root=Q2(t,r,0,s),this._size=s;else{var i=GN(this.toList(),VN(t,r),u);s=this._size+s,this._root=J2({head:i},0,s)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(n){return String(n.key)});var r=[];return K2(this._root,"",!0,function(n){return r.push(n)},t),r.join("")},e.prototype.update=function(t,r,n){var s=this._comparator,u=k4(t,this._root,s),i=u.left,y=u.right;s(t,r)<0?y=a2(r,n,y,s):i=a2(r,n,i,s),this._root=zN(i,y,s)},e.prototype.split=function(t){return k4(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,r,n;return UN(this,function(s){switch(s.label){case 0:t=this._root,r=[],n=!1,s.label=1;case 1:return n?[3,6]:t===null?[3,2]:(r.push(t),t=t.left,[3,5]);case 2:return r.length===0?[3,4]:(t=r.pop(),[4,t]);case 3:return s.sent(),t=t.right,[3,5];case 4:n=!0,s.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function Q2(e,t,r,n){var s=n-r;if(s>0){var u=r+Math.floor(s/2),i=e[u],y=t[u],m=new wl(i,y);return m.left=Q2(e,t,r,u),m.right=Q2(e,t,u+1,n),m}return null}function VN(e,t){for(var r=new wl(null,null),n=r,s=0;s<e.length;s++)n=n.next=new wl(e[s],t[s]);return n.next=null,r.next}function HN(e){for(var t=e,r=[],n=!1,s=new wl(null,null),u=s;!n;)t?(r.push(t),t=t.left):r.length>0?(t=u=u.next=r.pop(),t=t.right):n=!0;return u.next=null,s.next}function J2(e,t,r){var n=r-t;if(n>0){var s=t+Math.floor(n/2),u=J2(e,t,s),i=e.head;return i.left=u,e.head=e.head.next,i.right=J2(e,s+1,r),i}return null}function GN(e,t,r){for(var n=new wl(null,null),s=n,u=e,i=t;u!==null&&i!==null;)r(u.key,i.key)<0?(s.next=u,u=u.next):(s.next=i,i=i.next),s=s.next;return u!==null?s.next=u:i!==null&&(s.next=i),n.next}function e6(e,t,r,n,s){if(!(r>=n)){for(var u=e[r+n>>1],i=r-1,y=n+1;;){do i++;while(s(e[i],u)<0);do y--;while(s(e[y],u)>0);if(i>=y)break;var m=e[i];e[i]=e[y],e[y]=m,m=t[i],t[i]=t[y],t[y]=m}e6(e,t,r,y,s),e6(e,t,y+1,n,s)}}const Nc=11102230246251565e-32,is=134217729,jN=(3+8*Nc)*Nc;function s2(e,t,r,n,s){let u,i,y,m,g=t[0],x=n[0],b=0,A=0;x>g==x>-g?(u=g,g=t[++b]):(u=x,x=n[++A]);let w=0;if(b<e&&A<r)for(x>g==x>-g?(i=g+u,y=u-(i-g),g=t[++b]):(i=x+u,y=u-(i-x),x=n[++A]),u=i,y!==0&&(s[w++]=y);b<e&&A<r;)x>g==x>-g?(i=u+g,m=i-u,y=u-(i-m)+(g-m),g=t[++b]):(i=u+x,m=i-u,y=u-(i-m)+(x-m),x=n[++A]),u=i,y!==0&&(s[w++]=y);for(;b<e;)i=u+g,m=i-u,y=u-(i-m)+(g-m),g=t[++b],u=i,y!==0&&(s[w++]=y);for(;A<r;)i=u+x,m=i-u,y=u-(i-m)+(x-m),x=n[++A],u=i,y!==0&&(s[w++]=y);return(u!==0||w===0)&&(s[w++]=u),w}function WN(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function Vy(e){return new Float64Array(e)}const ZN=(3+16*Nc)*Nc,XN=(2+12*Nc)*Nc,YN=(9+64*Nc)*Nc*Nc,g1=Vy(4),z4=Vy(8),V4=Vy(12),H4=Vy(16),_s=Vy(4);function $N(e,t,r,n,s,u,i){let y,m,g,x,b,A,w,M,V,k,Q,q,K,te,se,ke,Ee,je;const mt=e-s,He=r-s,Fe=t-u,Le=n-u;te=mt*Le,A=is*mt,w=A-(A-mt),M=mt-w,A=is*Le,V=A-(A-Le),k=Le-V,se=M*k-(te-w*V-M*V-w*k),ke=Fe*He,A=is*Fe,w=A-(A-Fe),M=Fe-w,A=is*He,V=A-(A-He),k=He-V,Ee=M*k-(ke-w*V-M*V-w*k),Q=se-Ee,b=se-Q,g1[0]=se-(Q+b)+(b-Ee),q=te+Q,b=q-te,K=te-(q-b)+(Q-b),Q=K-ke,b=K-Q,g1[1]=K-(Q+b)+(b-ke),je=q+Q,b=je-q,g1[2]=q-(je-b)+(Q-b),g1[3]=je;let ze=WN(4,g1),st=XN*i;if(ze>=st||-ze>=st||(b=e-mt,y=e-(mt+b)+(b-s),b=r-He,g=r-(He+b)+(b-s),b=t-Fe,m=t-(Fe+b)+(b-u),b=n-Le,x=n-(Le+b)+(b-u),y===0&&m===0&&g===0&&x===0)||(st=YN*i+jN*Math.abs(ze),ze+=mt*x+Le*y-(Fe*g+He*m),ze>=st||-ze>=st))return ze;te=y*Le,A=is*y,w=A-(A-y),M=y-w,A=is*Le,V=A-(A-Le),k=Le-V,se=M*k-(te-w*V-M*V-w*k),ke=m*He,A=is*m,w=A-(A-m),M=m-w,A=is*He,V=A-(A-He),k=He-V,Ee=M*k-(ke-w*V-M*V-w*k),Q=se-Ee,b=se-Q,_s[0]=se-(Q+b)+(b-Ee),q=te+Q,b=q-te,K=te-(q-b)+(Q-b),Q=K-ke,b=K-Q,_s[1]=K-(Q+b)+(b-ke),je=q+Q,b=je-q,_s[2]=q-(je-b)+(Q-b),_s[3]=je;const Vt=s2(4,g1,4,_s,z4);te=mt*x,A=is*mt,w=A-(A-mt),M=mt-w,A=is*x,V=A-(A-x),k=x-V,se=M*k-(te-w*V-M*V-w*k),ke=Fe*g,A=is*Fe,w=A-(A-Fe),M=Fe-w,A=is*g,V=A-(A-g),k=g-V,Ee=M*k-(ke-w*V-M*V-w*k),Q=se-Ee,b=se-Q,_s[0]=se-(Q+b)+(b-Ee),q=te+Q,b=q-te,K=te-(q-b)+(Q-b),Q=K-ke,b=K-Q,_s[1]=K-(Q+b)+(b-ke),je=q+Q,b=je-q,_s[2]=q-(je-b)+(Q-b),_s[3]=je;const nr=s2(Vt,z4,4,_s,V4);te=y*x,A=is*y,w=A-(A-y),M=y-w,A=is*x,V=A-(A-x),k=x-V,se=M*k-(te-w*V-M*V-w*k),ke=m*g,A=is*m,w=A-(A-m),M=m-w,A=is*g,V=A-(A-g),k=g-V,Ee=M*k-(ke-w*V-M*V-w*k),Q=se-Ee,b=se-Q,_s[0]=se-(Q+b)+(b-Ee),q=te+Q,b=q-te,K=te-(q-b)+(Q-b),Q=K-ke,b=K-Q,_s[1]=K-(Q+b)+(b-ke),je=q+Q,b=je-q,_s[2]=q-(je-b)+(Q-b),_s[3]=je;const Fr=s2(nr,V4,4,_s,H4);return H4[Fr-1]}function qN(e,t,r,n,s,u){const i=(t-u)*(r-s),y=(e-s)*(n-u),m=i-y,g=Math.abs(i+y);return Math.abs(m)>=ZN*g?m:-$N(e,t,r,n,s,u,g)}var u9={};const Gd=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,t6=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,n=e.ur.x<t.ur.x?e.ur.x:t.ur.x,s=e.ll.y<t.ll.y?t.ll.y:e.ll.y,u=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:r,y:s},ur:{x:n,y:u}}};let Pl=Number.EPSILON;Pl===void 0&&(Pl=Math.pow(2,-52));const KN=Pl*Pl,G4=(e,t)=>{if(-Pl<e&&e<Pl&&-Pl<t&&t<Pl)return 0;const r=e-t;return r*r<KN*e*t?0:e<t?-1:1};class QN{constructor(){this.reset()}reset(){this.xRounder=new j4,this.yRounder=new j4}round(t,r){return{x:this.xRounder.round(t),y:this.yRounder.round(r)}}}class j4{constructor(){this.tree=new W6,this.round(0)}round(t){const r=this.tree.add(t),n=this.tree.prev(r);if(n!==null&&G4(r.key,n.key)===0)return this.tree.remove(t),n.key;const s=this.tree.next(r);return s!==null&&G4(r.key,s.key)===0?(this.tree.remove(t),s.key):t}}const Iy=new QN,Qh=(e,t)=>e.x*t.y-e.y*t.x,p9=(e,t)=>e.x*t.x+e.y*t.y,W4=(e,t,r)=>{const n=qN(e.x,e.y,t.x,t.y,r.x,r.y);return n>0?-1:n<0?1:0},Rf=e=>Math.sqrt(p9(e,e)),JN=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return Qh(s,n)/Rf(s)/Rf(n)},eD=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return p9(s,n)/Rf(s)/Rf(n)},Z4=(e,t,r)=>t.y===0?null:{x:e.x+t.x/t.y*(r-e.y),y:r},X4=(e,t,r)=>t.x===0?null:{x:r,y:e.y+t.y/t.x*(r-e.x)},tD=(e,t,r,n)=>{if(t.x===0)return X4(r,n,e.x);if(n.x===0)return X4(e,t,r.x);if(t.y===0)return Z4(r,n,e.y);if(n.y===0)return Z4(e,t,r.y);const s=Qh(t,n);if(s==0)return null;const u={x:r.x-e.x,y:r.y-e.y},i=Qh(u,t)/s,y=Qh(u,n)/s,m=e.x+y*t.x,g=r.x+i*n.x,x=e.y+y*t.y,b=r.y+i*n.y,A=(m+g)/2,w=(x+b)/2;return{x:A,y:w}};class Wu{static compare(t,r){const n=Wu.comparePoints(t.point,r.point);return n!==0?n:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:Al.compare(t.segment,r.segment))}static comparePoints(t,r){return t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0}constructor(t,r){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=r}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const r=t.point.events;for(let n=0,s=r.length;n<s;n++){const u=r[n];this.point.events.push(u),u.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let r=0;r<t;r++){const n=this.point.events[r];if(n.segment.consumedBy===void 0)for(let s=r+1;s<t;s++){const u=this.point.events[s];u.consumedBy===void 0&&n.otherSE.point.events===u.otherSE.point.events&&n.segment.consume(u.segment)}}}getAvailableLinkedEvents(){const t=[];for(let r=0,n=this.point.events.length;r<n;r++){const s=this.point.events[r];s!==this&&!s.segment.ringOut&&s.segment.isInResult()&&t.push(s)}return t}getLeftmostComparator(t){const r=new Map,n=s=>{const u=s.otherSE;r.set(s,{sine:JN(this.point,t.point,u.point),cosine:eD(this.point,t.point,u.point)})};return(s,u)=>{r.has(s)||n(s),r.has(u)||n(u);const{sine:i,cosine:y}=r.get(s),{sine:m,cosine:g}=r.get(u);return i>=0&&m>=0?y<g?1:y>g?-1:0:i<0&&m<0?y<g?-1:y>g?1:0:m<i?-1:m>i?1:0}}}let rD=0;class Al{static compare(t,r){const n=t.leftSE.point.x,s=r.leftSE.point.x,u=t.rightSE.point.x,i=r.rightSE.point.x;if(i<n)return 1;if(u<s)return-1;const y=t.leftSE.point.y,m=r.leftSE.point.y,g=t.rightSE.point.y,x=r.rightSE.point.y;if(n<s){if(m<y&&m<g)return 1;if(m>y&&m>g)return-1;const b=t.comparePoint(r.leftSE.point);if(b<0)return 1;if(b>0)return-1;const A=r.comparePoint(t.rightSE.point);return A!==0?A:-1}if(n>s){if(y<m&&y<x)return-1;if(y>m&&y>x)return 1;const b=r.comparePoint(t.leftSE.point);if(b!==0)return b;const A=t.comparePoint(r.rightSE.point);return A<0?1:A>0?-1:1}if(y<m)return-1;if(y>m)return 1;if(u<i){const b=r.comparePoint(t.rightSE.point);if(b!==0)return b}if(u>i){const b=t.comparePoint(r.rightSE.point);if(b<0)return 1;if(b>0)return-1}if(u!==i){const b=g-y,A=u-n,w=x-m,M=i-s;if(b>A&&w<M)return 1;if(b<A&&w>M)return-1}return u>i?1:u<i||g<x?-1:g>x?1:t.id<r.id?-1:t.id>r.id?1:0}constructor(t,r,n,s){this.id=++rD,this.leftSE=t,t.segment=this,t.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=t,this.rings=n,this.windings=s}static fromRing(t,r,n){let s,u,i;const y=Wu.comparePoints(t,r);if(y<0)s=t,u=r,i=1;else if(y>0)s=r,u=t,i=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const m=new Wu(s,!0),g=new Wu(u,!1);return new Al(m,g,[n],[i])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,r=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<r?t:r},ur:{x:this.rightSE.point.x,y:t>r?t:r}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const r=this.leftSE.point,n=this.rightSE.point,s=this.vector();if(r.x===n.x)return t.x===r.x?0:t.x<r.x?1:-1;const u=(t.y-r.y)/s.y,i=r.x+u*s.x;if(t.x===i)return 0;const y=(t.x-r.x)/s.x,m=r.y+y*s.y;return t.y===m?0:t.y<m?-1:1}getIntersection(t){const r=this.bbox(),n=t.bbox(),s=t6(r,n);if(s===null)return null;const u=this.leftSE.point,i=this.rightSE.point,y=t.leftSE.point,m=t.rightSE.point,g=Gd(r,y)&&this.comparePoint(y)===0,x=Gd(n,u)&&t.comparePoint(u)===0,b=Gd(r,m)&&this.comparePoint(m)===0,A=Gd(n,i)&&t.comparePoint(i)===0;if(x&&g)return A&&!b?i:!A&&b?m:null;if(x)return b&&u.x===m.x&&u.y===m.y?null:u;if(g)return A&&i.x===y.x&&i.y===y.y?null:y;if(A&&b)return null;if(A)return i;if(b)return m;const w=tD(u,this.vector(),y,t.vector());return w===null||!Gd(s,w)?null:Iy.round(w.x,w.y)}split(t){const r=[],n=t.events!==void 0,s=new Wu(t,!0),u=new Wu(t,!1),i=this.rightSE;this.replaceRightSE(u),r.push(u),r.push(s);const y=new Al(s,i,this.rings.slice(),this.windings.slice());return Wu.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),Wu.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(s.checkForConsuming(),u.checkForConsuming()),r}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let r=0,n=this.windings.length;r<n;r++)this.windings[r]*=-1}consume(t){let r=this,n=t;for(;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const s=Al.compare(r,n);if(s!==0){if(s>0){const u=r;r=n,n=u}if(r.prev===n){const u=r;r=n,n=u}for(let u=0,i=n.rings.length;u<i;u++){const y=n.rings[u],m=n.windings[u],g=r.rings.indexOf(y);g===-1?(r.rings.push(y),r.windings.push(m)):r.windings[g]+=m}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const r=this._afterState.rings,n=this._afterState.windings,s=this._afterState.multiPolys;for(let y=0,m=this.rings.length;y<m;y++){const g=this.rings[y],x=this.windings[y],b=r.indexOf(g);b===-1?(r.push(g),n.push(x)):n[b]+=x}const u=[],i=[];for(let y=0,m=r.length;y<m;y++){if(n[y]===0)continue;const g=r[y],x=g.poly;if(i.indexOf(x)===-1)if(g.isExterior)u.push(x);else{i.indexOf(x)===-1&&i.push(x);const b=u.indexOf(g.poly);b!==-1&&u.splice(b,1)}}for(let y=0,m=u.length;y<m;y++){const g=u[y].multiPoly;s.indexOf(g)===-1&&s.push(g)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,r=this.afterState().multiPolys;switch(mp.type){case"union":{const n=t.length===0,s=r.length===0;this._isInResult=n!==s;break}case"intersection":{let n,s;t.length<r.length?(n=t.length,s=r.length):(n=r.length,s=t.length),this._isInResult=s===mp.numMultiPolys&&n<s;break}case"xor":{const n=Math.abs(t.length-r.length);this._isInResult=n%2===1;break}case"difference":{const n=s=>s.length===1&&s[0].isSubject;this._isInResult=n(t)!==n(r);break}default:throw new Error(`Unrecognized operation type found ${mp.type}`)}return this._isInResult}}class Y4{constructor(t,r,n){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=n,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const s=Iy.round(t[0][0],t[0][1]);this.bbox={ll:{x:s.x,y:s.y},ur:{x:s.x,y:s.y}};let u=s;for(let i=1,y=t.length;i<y;i++){if(typeof t[i][0]!="number"||typeof t[i][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let m=Iy.round(t[i][0],t[i][1]);m.x===u.x&&m.y===u.y||(this.segments.push(Al.fromRing(u,m,this)),m.x<this.bbox.ll.x&&(this.bbox.ll.x=m.x),m.y<this.bbox.ll.y&&(this.bbox.ll.y=m.y),m.x>this.bbox.ur.x&&(this.bbox.ur.x=m.x),m.y>this.bbox.ur.y&&(this.bbox.ur.y=m.y),u=m)}(s.x!==u.x||s.y!==u.y)&&this.segments.push(Al.fromRing(u,s,this))}getSweepEvents(){const t=[];for(let r=0,n=this.segments.length;r<n;r++){const s=this.segments[r];t.push(s.leftSE),t.push(s.rightSE)}return t}}class oD{constructor(t,r){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Y4(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,s=t.length;n<s;n++){const u=new Y4(t[n],this,!1);u.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=u.bbox.ll.x),u.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=u.bbox.ll.y),u.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=u.bbox.ur.x),u.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=u.bbox.ur.y),this.interiorRings.push(u)}this.multiPoly=r}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let r=0,n=this.interiorRings.length;r<n;r++){const s=this.interiorRings[r].getSweepEvents();for(let u=0,i=s.length;u<i;u++)t.push(s[u])}return t}}class $4{constructor(t,r){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let n=0,s=t.length;n<s;n++){const u=new oD(t[n],this);u.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=u.bbox.ll.x),u.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=u.bbox.ll.y),u.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=u.bbox.ur.x),u.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=u.bbox.ur.y),this.polys.push(u)}this.isSubject=r}getSweepEvents(){const t=[];for(let r=0,n=this.polys.length;r<n;r++){const s=this.polys[r].getSweepEvents();for(let u=0,i=s.length;u<i;u++)t.push(s[u])}return t}}class Cf{static factory(t){const r=[];for(let n=0,s=t.length;n<s;n++){const u=t[n];if(!u.isInResult()||u.ringOut)continue;let i=null,y=u.leftSE,m=u.rightSE;const g=[y],x=y.point,b=[];for(;i=y,y=m,g.push(y),y.point!==x;)for(;;){const A=y.getAvailableLinkedEvents();if(A.length===0){const V=g[0].point,k=g[g.length-1].point;throw new Error(`Unable to complete output ring starting at [${V.x}, ${V.y}]. Last matching segment found ends at [${k.x}, ${k.y}].`)}if(A.length===1){m=A[0].otherSE;break}let w=null;for(let V=0,k=b.length;V<k;V++)if(b[V].point===y.point){w=V;break}if(w!==null){const V=b.splice(w)[0],k=g.splice(V.index);k.unshift(k[0].otherSE),r.push(new Cf(k.reverse()));continue}b.push({index:g.length,point:y.point});const M=y.getLeftmostComparator(i);m=A.sort(M)[0].otherSE;break}r.push(new Cf(g))}return r}constructor(t){this.events=t;for(let r=0,n=t.length;r<n;r++)t[r].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const r=[t];for(let g=1,x=this.events.length-1;g<x;g++){const b=this.events[g].point,A=this.events[g+1].point;W4(b,t,A)!==0&&(r.push(b),t=b)}if(r.length===1)return null;const n=r[0],s=r[1];W4(n,t,s)===0&&r.shift(),r.push(r[0]);const u=this.isExteriorRing()?1:-1,i=this.isExteriorRing()?0:r.length-1,y=this.isExteriorRing()?r.length:-1,m=[];for(let g=i;g!=y;g+=u)m.push([r[g].x,r[g].y]);return m}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let s=1,u=this.events.length;s<u;s++){const i=this.events[s];Wu.compare(t,i)>0&&(t=i)}let r=t.segment.prevInResult(),n=r?r.prevInResult():null;for(;;){if(!r)return null;if(!n)return r.ringOut;if(n.ringOut!==r.ringOut)return n.ringOut.enclosingRing()!==r.ringOut?r.ringOut:r.ringOut.enclosingRing();r=n.prevInResult(),n=r?r.prevInResult():null}}}class q4{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let r=0,n=this.interiorRings.length;r<n;r++){const s=this.interiorRings[r].getGeom();s!==null&&t.push(s)}return t}}class nD{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let r=0,n=this.polys.length;r<n;r++){const s=this.polys[r].getGeom();s!==null&&t.push(s)}return t}_composePolys(t){const r=[];for(let n=0,s=t.length;n<s;n++){const u=t[n];if(!u.poly)if(u.isExteriorRing())r.push(new q4(u));else{const i=u.enclosingRing();i.poly||r.push(new q4(i)),i.poly.addInterior(u)}}return r}}class iD{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Al.compare;this.queue=t,this.tree=new W6(r),this.segments=[]}process(t){const r=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(r),n;const s=t.isLeft?this.tree.add(r):this.tree.find(r);if(!s)throw new Error(`Unable to find segment #${r.id} [${r.leftSE.point.x}, ${r.leftSE.point.y}] -> [${r.rightSE.point.x}, ${r.rightSE.point.y}] in SweepLine tree.`);let u=s,i=s,y,m;for(;y===void 0;)u=this.tree.prev(u),u===null?y=null:u.key.consumedBy===void 0&&(y=u.key);for(;m===void 0;)i=this.tree.next(i),i===null?m=null:i.key.consumedBy===void 0&&(m=i.key);if(t.isLeft){let g=null;if(y){const b=y.getIntersection(r);if(b!==null&&(r.isAnEndpoint(b)||(g=b),!y.isAnEndpoint(b))){const A=this._splitSafely(y,b);for(let w=0,M=A.length;w<M;w++)n.push(A[w])}}let x=null;if(m){const b=m.getIntersection(r);if(b!==null&&(r.isAnEndpoint(b)||(x=b),!m.isAnEndpoint(b))){const A=this._splitSafely(m,b);for(let w=0,M=A.length;w<M;w++)n.push(A[w])}}if(g!==null||x!==null){let b=null;g===null?b=x:x===null?b=g:b=Wu.comparePoints(g,x)<=0?g:x,this.queue.remove(r.rightSE),n.push(r.rightSE);const A=r.split(b);for(let w=0,M=A.length;w<M;w++)n.push(A[w])}n.length>0?(this.tree.remove(r),n.push(t)):(this.segments.push(r),r.prev=y)}else{if(y&&m){const g=y.getIntersection(m);if(g!==null){if(!y.isAnEndpoint(g)){const x=this._splitSafely(y,g);for(let b=0,A=x.length;b<A;b++)n.push(x[b])}if(!m.isAnEndpoint(g)){const x=this._splitSafely(m,g);for(let b=0,A=x.length;b<A;b++)n.push(x[b])}}}this.tree.remove(r)}return n}_splitSafely(t,r){this.tree.remove(t);const n=t.rightSE;this.queue.remove(n);const s=t.split(r);return s.push(n),t.consumedBy===void 0&&this.tree.add(t),s}}const K4=typeof process<"u"&&u9.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,aD=typeof process<"u"&&u9.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class sD{run(t,r,n){mp.type=t,Iy.reset();const s=[new $4(r,!0)];for(let b=0,A=n.length;b<A;b++)s.push(new $4(n[b],!1));if(mp.numMultiPolys=s.length,mp.type==="difference"){const b=s[0];let A=1;for(;A<s.length;)t6(s[A].bbox,b.bbox)!==null?A++:s.splice(A,1)}if(mp.type==="intersection")for(let b=0,A=s.length;b<A;b++){const w=s[b];for(let M=b+1,V=s.length;M<V;M++)if(t6(w.bbox,s[M].bbox)===null)return[]}const u=new W6(Wu.compare);for(let b=0,A=s.length;b<A;b++){const w=s[b].getSweepEvents();for(let M=0,V=w.length;M<V;M++)if(u.insert(w[M]),u.size>K4)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const i=new iD(u);let y=u.size,m=u.pop();for(;m;){const b=m.key;if(u.size===y){const w=b.segment;throw new Error(`Unable to pop() ${b.isLeft?"left":"right"} SweepEvent [${b.point.x}, ${b.point.y}] from segment #${w.id} [${w.leftSE.point.x}, ${w.leftSE.point.y}] -> [${w.rightSE.point.x}, ${w.rightSE.point.y}] from queue.`)}if(u.size>K4)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(i.segments.length>aD)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const A=i.process(b);for(let w=0,M=A.length;w<M;w++){const V=A[w];V.consumedBy===void 0&&u.insert(V)}y=u.size,m=u.pop()}Iy.reset();const g=Cf.factory(i.segments);return new nD(g).getGeom()}}const mp=new sD,uD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return mp.run("union",e,r)},pD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return mp.run("intersection",e,r)},cD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return mp.run("xor",e,r)},lD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return mp.run("difference",e,r)};var dD={union:uD,intersection:pD,xor:cD,difference:lD};function yD(e,t,r){r===void 0&&(r={});var n=z3(e),s=z3(t),u=dD.union(n.coordinates,s.coordinates);return u.length===0?null:u.length===1?l6(u[0],r.properties):Yv(u,r.properties)}class hD{getCombineFeature(t){let r=null;const n=t[0];return t.map(s=>{const u=l6(s.coordinates);r===null?r=u:r=yD(r,u)}),n&&(r.properties=Et({},n)),r}}const jd="select",Wd="active";class fD{constructor({layerService:t,tileLayerService:r,parent:n}){H(this,"layerService",void 0),H(this,"tileLayerService",void 0),H(this,"tileSourceService",void 0),H(this,"parent",void 0),H(this,"tilePickID",new Map),this.layerService=t,this.tileLayerService=r,this.parent=n,this.tileSourceService=new hD}pickRender(t){const r=this.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(r){const n=r.getMainLayer();n==null||n.layerPickService.pickRender(t)}}pick(t,r){var n=this;return ft(function*(){const u=n.parent.getContainer().pickingService;if(t.type==="RasterLayer"){const i=n.tileLayerService.getVisibleTileBylngLat(r.lngLat);if(i&&i.getMainLayer()!==void 0){const y=i.getMainLayer();return y.layerPickService.pickRasterLayer(y,r,n.parent)}return!1}return n.pickRender(r),u.pickFromPickingFBO(t,r)})()}selectFeature(t){const[r,n,s]=t,u=this.color2PickId(r,n,s);this.tilePickID.set(jd,u),this.updateHighLight(r,n,s,jd)}highlightPickedFeature(t){const[r,n,s]=t,u=this.color2PickId(r,n,s);this.tilePickID.set(Wd,u),this.updateHighLight(r,n,s,Wd)}updateHighLight(t,r,n,s){this.tileLayerService.tiles.map(u=>{const i=u.getMainLayer();switch(s){case jd:i==null||i.hooks.beforeSelect.call([t,r,n]);break;case Wd:i==null||i.hooks.beforeHighlight.call([t,r,n]);break}})}setPickState(){const t=this.tilePickID.get(jd),r=this.tilePickID.get(Wd);if(t){const[n,s,u]=this.pickId2Color(t);this.updateHighLight(n,s,u,jd);return}if(r){const[n,s,u]=this.pickId2Color(r);this.updateHighLight(n,s,u,Wd);return}}color2PickId(t,r,n){return f0(new Uint8Array([t,r,n]))}pickId2Color(t){return V1(t)}getFeatureById(t){const r=this.tileLayerService.getTiles().filter(s=>s.visible),n=[];return r.forEach(s=>{n.push(...s.getFeatureById(t))}),n}pickRasterLayer(){return!1}}function mD(e){return e==="PolygonLayer"?s9:e==="LineLayer"?J7:My}function _D(e){return["PolygonLayer","LineLayer"].indexOf(e)!==-1}class T0 extends fu.EventEmitter{constructor(t,r){super(),H(this,"x",void 0),H(this,"y",void 0),H(this,"z",void 0),H(this,"key",void 0),H(this,"parent",void 0),H(this,"sourceTile",void 0),H(this,"visible",!0),H(this,"layers",[]),H(this,"isLoaded",!1),H(this,"tileMaskLayers",[]),H(this,"tileMask",void 0),this.parent=r,this.sourceTile=t,this.x=t.x,this.y=t.y,this.z=t.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...t){}lnglatInBounds(t){const[r,n,s,u]=this.sourceTile.bounds,{lng:i,lat:y}=t;return i>=r&&i<=s&&y>=n&&y<=u}getLayerOptions(){var t;const r=this.parent.getLayerConfig();return Et(Et({},r),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:_D(this.parent.type),mask:r.mask||((t=r.maskLayers)===null||t===void 0?void 0:t.length)!==0&&r.enableMask})}getMaskLayer(){const{maskLayers:t}=this.parent.getLayerConfig(),r=[];return t==null||t.forEach(n=>{if(!n.tileLayer)return r.push(n),n;const u=n.tileLayer.getTile(this.sourceTile.key),i=u==null?void 0:u.getLayers()[0];i&&r.push(i)}),r}addTileMask(){var t=this;return ft(function*(){const r=new s9({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[t.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),n=dy(t.parent.container);r.setContainer(n),yield r.init(),t.tileMask=r;const s=t.getMainLayer();return s!==void 0&&(s.tileMask=r),r})()}addMask(t,r){var n=this;return ft(function*(){const s=dy(n.parent.container);r.setContainer(s),yield r.init(),t.addMask(r),n.tileMaskLayers.push(r)})()}addLayer(t){var r=this;return ft(function*(){t.isTileLayer=!0;const n=dy(r.parent.container);t.setContainer(n),r.layers.push(t),yield t.init()})()}updateVisible(t){this.visible=t,this.updateOptions("visible",t)}updateOptions(t,r){this.layers.forEach(n=>{n.updateLayerConfig({[t]:r})})}getMainLayer(){return this.layers[0]}getFeatures(t){return[]}getFeatureById(t){return[]}destroy(){var t;(t=this.tileMask)===null||t===void 0||t.destroy(),this.layers.forEach(r=>r.destroy())}}class gD extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.getSourceOption(),n=r.data.features[0].properties,s=new J7().source(r.data,r.options).size(1).shape("line").color("red"),u=new My({minZoom:t.z-1,maxZoom:t.z+1,textAllowOverlap:!0}).source([n],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(t.key).style({stroke:"#fff",strokeWidth:2});yield t.addLayer(s),yield t.addLayer(u),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:{type:"FeatureCollection",features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:"geojson"},transforms:t.transforms}}}}class vD extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=t.getSourceOption(),u=new ZM(Et({},n)).source(s.data,s.options);r&&Object.keys(r).forEach(i=>{var y,m;const g=i;u[g]((y=r[g])===null||y===void 0?void 0:y.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(u),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const ED=`layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

out vec4 outputColor;

void main() {
  outputColor = u_color;
  outputColor.a *= u_opacity;
}
`,xD=`layout(location = 0) in vec3 a_Position;

layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }
}

`;class PD extends Fn{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Et(Et({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,color:r="#000"}=this.layer.getLayerConfig(),n={u_color:Dn(r),u_opacity:t||1};return this.getUniformsBufferInfo(n)}initModels(){var t=this;return ft(function*(){return t.buildModels()})()}buildModels(){var t=this;return ft(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"mask",vertexShader:xD,fragmentShader:ED,triangulation:Qf,depth:{enable:!1},pick:!1})]})()}clearModels(t=!0){t&&this.layerService.clear()}registerBuiltinAttributes(){return""}}const bD={fill:PD};class c9 extends S0{constructor(...t){super(...t),H(this,"type","MaskLayer")}buildModels(){var t=this;return ft(function*(){const r=t.getModelType();t.layerModel=new bD[r](t),yield t.initLayerModels()})()}getModelType(){return"fill"}}class FD extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=t.getSourceOption(),u=new c9(Et({},n)).source(s.data,s.options);r&&Object.keys(r).forEach(i=>{var y,m;const g=i;u[g]((y=r[g])===null||y===void 0?void 0:y.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(u),t.isLoaded=!0})()}getFeatures(t){return t?this.sourceTile.data.getTileData(t):[]}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:r,featureId:n}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:n},transforms:t.transforms}}}}const AD=["rasterData"];let SD=class extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=t.getSourceOption(),u=new j6(Et({},n)).source(s.data,s.options);r&&Object.keys(r).forEach(i=>{var y,m;const g=i;u[g]((y=r[g])===null||y===void 0?void 0:y.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(u),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:n}=r,s=Kp(r,AD);return{data:n,options:{parser:Et({type:"rasterRgb",extent:this.sourceTile.bounds},s),transforms:t.transforms}}}};class TD extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=t.getSourceOption(),u=new j6(Et({},n)).source(s.data,s.options);r&&Object.keys(r).forEach(i=>{var y,m;const g=i;u[g]((y=r[g])===null||y===void 0?void 0:y.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(u),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const wD=["rasterData"],RD={positions:[0,1],colors:["#000","#fff"]};class CD extends T0{constructor(...t){super(...t),H(this,"colorTexture",void 0)}initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=t.getSourceOption(),{rampColors:u,domain:i}=t.getLayerOptions();t.colorTexture=t.parent.textureService.getColorTexture(u,i);const y=new j6(Et(Et({},n),{},{colorTexture:t.colorTexture})).source(s.data,s.options);r&&Object.keys(r).forEach(m=>{var g,x;const b=m;y[b]((g=r[b])===null||g===void 0?void 0:g.field,(x=r[b])===null||x===void 0?void 0:x.values)}),yield t.addLayer(y),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:n}=r,s=Kp(r,wD);return{data:n,options:{parser:Et({type:"raster",extent:this.sourceTile.bounds},s),transforms:t.transforms}}}styleUpdate(...t){const{rampColors:r=RD,domain:n}=t;this.colorTexture=this.parent.textureService.getColorTexture(r,n||v6(r)),this.layers.forEach(s=>s.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(t=>t.destroy())}}class Uh extends T0{initTileLayer(){var t=this;return ft(function*(){const r=t.parent.getLayerAttributeConfig(),n=t.getLayerOptions(),s=mD(t.parent.type),u=t.getSourceOption();if(!u){t.isLoaded=!0,t.emit("loaded");return}const i=new s(Et({},n)).source(u.data,u.options);Object.keys(r).forEach(y=>{var m,g;const x=y;i[x]((m=r[x])===null||m===void 0?void 0:m.field,(g=r[x])===null||g===void 0?void 0:g.values)}),yield t.addLayer(i),n.tileMask&&(yield t.addTileMask()),t.setLayerMinMaxZoom(i),t.isLoaded=!0,t.emit("loaded")})()}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:r="defaultLayer",featureId:n="id"}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:n},transforms:t.transforms}}}setLayerMinMaxZoom(t){t.getModelType()==="text"&&t.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(t){return this.sourceTile.data.getTileData(t)}getFeatureById(t){const r=this.getMainLayer();return r?r.getSource().data.dataArray.filter(s=>s._id===t):[]}}function MD(e){switch(e.type){case"PolygonLayer":return Uh;case"LineLayer":return Uh;case"PointLayer":return Uh;case"TileDebugLayer":return gD;case"MaskLayer":return FD;case"RasterLayer":const{dataType:r}=e.getSource().parser;switch(r){case ja.RGB:case ja.CUSTOMRGB:return SD;case ja.ARRAYBUFFER:case ja.CUSTOMARRAYBUFFER:return CD;case ja.TERRAINRGB:case ja.CUSTOMTERRAINRGB:return TD;default:return vD}default:return Uh}}const ID=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"],{debounce:ND}=Wi;class DD{constructor(t){H(this,"parent",void 0),H(this,"tileLayerService",void 0),H(this,"mapService",void 0),H(this,"layerService",void 0),H(this,"rendererService",void 0),H(this,"pickingService",void 0),H(this,"tilePickService",void 0),H(this,"tilesetManager",void 0),H(this,"initedTileset",!1),H(this,"lastViewStates",void 0),H(this,"mapchange",()=>{var n;if(this.parent.isVisible()===!1)return;const{latLonBounds:s,zoom:u}=this.getCurrentView();if(this.mapService.version==="GAODE1.x"){const{visible:i}=this.parent.getLayerConfig();u<2&&i?(this.parent.updateLayerConfig({visible:!1}),this.layerService.reRender()):u>=2&&!i&&(this.parent.updateLayerConfig({visible:!0}),this.layerService.reRender())}this.lastViewStates&&this.lastViewStates.zoom===u&&this.lastViewStates.latLonBounds.toString()===s.toString()||(this.lastViewStates={zoom:u,latLonBounds:s},(n=this.tilesetManager)===null||n===void 0||n.throttleUpdate(u,s))}),H(this,"viewchange",ND(this.mapchange,24)),this.parent=t;const r=this.parent.getContainer();this.rendererService=r.rendererService,this.layerService=r.layerService,this.mapService=r.mapService,this.pickingService=r.pickingService,this.tileLayerService=new BN({rendererService:this.rendererService,layerService:this.layerService,parent:t}),this.tilePickService=new fD({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:t}),this.parent.setLayerPickService(this.tilePickService),this.proxy(t),this.initTileSetManager()}initTileSetManager(){var t;const r=this.parent.getSource();if(this.tilesetManager=r.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),this.parent.isVisible()===!1)return;const{latLonBounds:n,zoom:s}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(s,n)}getCurrentView(){const t=this.mapService.getBounds(),r=[t[0][0],t[0][1],t[1][0],t[1][1]],n=this.mapService.getZoom();return{latLonBounds:r,zoom:n}}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",t=>{}),this.tilesetManager.on("tile-unload",t=>{this.tileUnLoad(t)}),this.tilesetManager.on("tile-error",(t,r)=>{this.tileError(t)}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate()}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(t){return this.tileLayerService.getTile(t)}tileLoaded(t){}tileError(t){console.warn("error:",t)}destroy(){var t;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),(t=this.tilesetManager)===null||t===void 0||t.destroy(),this.tileLayerService.destroy()}reload(){var t;this.tilesetManager.clear();const{latLonBounds:r,zoom:n}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(n,r)}tileUnLoad(t){this.tileLayerService.removeTile(t.key)}tileUpdate(){var t=this;return ft(function*(){if(!t.tilesetManager)return;const r=t.parent.getMinZoom(),n=t.parent.getMaxZoom(),s=t.tilesetManager.tiles.filter(u=>u.isLoaded).filter(u=>u.isVisibleChange).filter(u=>u.data).filter(u=>u.z>=r&&u.z<n);yield Promise.all(s.map(function(){var u=ft(function*(i){if(t.tileLayerService.hasTile(i.key))t.tileLayerService.updateTileVisible(i),t.tilePickService.setPickState(),t.layerService.reRender();else{const y=MD(t.parent),m=new y(i,t.parent);yield m.initTileLayer(),t.tilePickService.setPickState(),m.getLayers().length!==0&&(t.tileLayerService.addTile(m),t.tileLayerService.updateTileVisible(i),t.layerService.reRender())}});return function(i){return u.apply(this,arguments)}}())),t.tilesetManager.isLoaded&&t.parent.emit("tiles-loaded",t.tilesetManager.currentTiles)})()}setPickState(t){}pickRender(t){this.tilePickService.pickRender(t)}selectFeature(t){this.tilePickService.selectFeature(t)}highlightPickedFeature(t){this.tilePickService.highlightPickedFeature(t)}proxy(t){ID.forEach(r=>{const n=t[r].bind(t);t[r]=(...s)=>(n(...s),this.getLayers().map(u=>{u[r](...s)}),r==="style"&&this.getTiles().forEach(u=>u.styleUpdate(...s)),t)})}}function OD(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||n)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var u=t.body||t.getElementsByTagName("body")[0];u?u.parentNode.insertBefore(s,u):t.documentElement.appendChild(s)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),s.appendChild(i),i}}OD(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}
.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}
.l7-control-container .l7-column {
  flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  align-items: flex-start;
}
.l7-popper.l7-popper-end {
  align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow-x: hidden;
  overflow-y: auto;
}
.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}
.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}
.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}
.l7-control-scale {
  display: flex;
  flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}
.l7-control-swipe_hide {
  display: none;
}
.l7-control-swipe:before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}
.l7-control-swipe.horizontal:before {
  top: 50%;
  right: -5000px;
  bottom: auto;
  left: -5000px;
  width: auto;
  height: 4px;
}
.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}
.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}
.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}
.l7-control-swipe:after,
.l7-control-swipe__button:before,
.l7-control-swipe__button:after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentColor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}
.l7-control-swipe__button:after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}
.l7-control-swipe__button:before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);class LD{constructor(t){H(this,"configService",void 0),H(this,"config",void 0),this.config=t}setContainer(t,r,n){this.configService=t.globalConfigService,t.mapConfig=Et(Et({},this.config),{},{id:r,canvas:n}),t.mapService=new(this.getServiceConstructor())(t)}getServiceConstructor(){throw new Error("Method not implemented.")}}function l9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ev(n.key),n)}}function d9(e,t,r){return t&&BD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(e,t){if(t&&(xv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(e)}function r6(e){return r6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r6(e)}function o6(e,t){return o6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},o6(e,t)}function kD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o6(e,t)}function zD(e){if(Array.isArray(e))return e}function VD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,u,i,y=[],m=!0,g=!1;try{if(u=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;m=!1}else for(;!(m=(n=u.call(r)).done)&&(y.push(n.value),y.length!==t);m=!0);}catch(x){g=!0,s=x}finally{try{if(!m&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(g)throw s}}return y}}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HD(e,t){if(e){if(typeof e=="string")return Q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q4(e,t)}}function GD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zu(e,t){return zD(e)||VD(e,t)||HD(e,t)||GD()}function yy(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Jh(e,t){var r=c6([],t,e);return Uv(r,r,1/r[3]),r}function P0(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var _p=Math.PI,y9=_p/4,Sl=_p/180,J4=180/_p,Z6=512,eg=4003e4,jD=1.5;function h9(e){return Math.pow(2,e)}function u2(e,t){var r=Zu(e,2),n=r[0],s=r[1];P0(Number.isFinite(n)&&Number.isFinite(t)),P0(Number.isFinite(s)&&s>=-90&&s<=90,"invalid latitude"),t*=Z6;var u=n*Sl,i=s*Sl,y=t*(u+_p)/(2*_p),m=t*(_p-Math.log(Math.tan(y9+i*.5)))/(2*_p);return[y,m]}function tg(e,t){var r=Zu(e,2),n=r[0],s=r[1];t*=Z6;var u=n/t*(2*_p)-_p,i=2*(Math.atan(Math.exp(_p-s/t*(2*_p)))-y9);return[u*J4,i*J4]}function WD(e){var t=e.latitude,r=e.longitude,n=e.zoom,s=e.scale,u=e.highPrecision,i=u===void 0?!1:u;s=s!==void 0?s:h9(n),P0(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(s));var y={},m=Z6*s,g=Math.cos(t*Sl),x=m/360,b=x/g,A=m/eg/g;if(y.pixelsPerMeter=[A,-A,A],y.metersPerPixel=[1/A,-1/A,1/A],y.pixelsPerDegree=[x,-b,A],y.degreesPerPixel=[1/x,-1/b,1/A],i){var w=Sl*Math.tan(t*Sl)/g,M=x*w/2,V=m/eg*w,k=V/b*A;y.pixelsPerDegree2=[0,-M,V],y.pixelsPerMeter2=[k,0,k]}return y}function ZD(e){var t=e.height,r=e.pitch,n=e.bearing,s=e.altitude,u=e.center,i=u===void 0?null:u,y=e.flipY,m=y===void 0?!1:y,g=yy();return nf(g,g,[0,0,-s]),af(g,g,[1,1,1/t]),p6(g,g,-r*Sl),Vg(g,g,n*Sl),m&&af(g,g,[1,-1,1]),i&&nf(g,g,Fv([],i)),g}function XD(e){var t=e.width,r=e.height,n=e.altitude,s=n===void 0?jD:n,u=e.pitch,i=u===void 0?0:u,y=e.nearZMultiplier,m=y===void 0?1:y,g=e.farZMultiplier,x=g===void 0?1:g,b=i*Sl,A=Math.atan(.5/s),w=Math.sin(A)*s/Math.sin(Math.PI/2-b-A),M=Math.cos(Math.PI/2-b)*w+s;return{fov:2*Math.atan(r/2/s),aspect:t/r,focalDistance:s,near:m,far:M*x}}function YD(e){var t=e.width,r=e.height,n=e.pitch,s=e.altitude,u=e.nearZMultiplier,i=e.farZMultiplier,y=XD({width:t,height:r,altitude:s,pitch:n,nearZMultiplier:u,farZMultiplier:i}),m=y.fov,g=y.aspect,x=y.near,b=y.far,A=Lv([],m,g,x,b);return A}function $D(e,t){var r=Zu(e,3),n=r[0],s=r[1],u=r[2],i=u===void 0?0:u;return P0(Number.isFinite(n)&&Number.isFinite(s)&&Number.isFinite(i)),Jh(t,[n,s,i,1])}function f9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Zu(e,3),s=n[0],u=n[1],i=n[2];if(P0(Number.isFinite(s)&&Number.isFinite(u),"invalid pixel coordinate"),Number.isFinite(i)){var y=Jh(t,[s,u,i,1]);return y}var m=Jh(t,[s,u,0,1]),g=Jh(t,[s,u,1,1]),x=m[2],b=g[2],A=x===b?0:((r||0)-x)/(b-x);return Av([],m,g,A)}var rg=yy(),qD=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width,n=t.height,s=t.viewMatrix,u=s===void 0?rg:s,i=t.projectionMatrix,y=i===void 0?rg:i;l9(this,e),this.width=r||1,this.height=n||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=u,this.projectionMatrix=y;var m=yy();M1(m,m,this.projectionMatrix),M1(m,m,this.viewMatrix),this.viewProjectionMatrix=m;var g=yy();af(g,g,[this.width/2,-this.height/2,1]),nf(g,g,[1,-1,0]),M1(g,g,this.viewProjectionMatrix);var x=u6(yy(),g);if(!x)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=g,this.pixelUnprojectionMatrix=x,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return d9(e,[{key:"equals",value:function(r){return r instanceof e?r.width===this.width&&r.height===this.height&&L3(r.projectionMatrix,this.projectionMatrix)&&L3(r.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.topLeft,u=s===void 0?!0:s,i=this.projectPosition(r),y=$D(i,this.pixelProjectionMatrix),m=Zu(y,2),g=m[0],x=m[1],b=u?x:this.height-x;return r.length===2?[g,b]:[g,b,y[2]]}},{key:"unproject",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.topLeft,u=s===void 0?!0:s,i=n.targetZ,y=Zu(r,3),m=y[0],g=y[1],x=y[2],b=u?g:this.height-g,A=i&&i*this.pixelsPerMeter,w=f9([m,b,x],this.pixelUnprojectionMatrix,A),M=this.unprojectPosition(w),V=Zu(M,3),k=V[0],Q=V[1],q=V[2];return Number.isFinite(x)?[k,Q,q]:Number.isFinite(i)?[k,Q,i]:[k,Q]}},{key:"projectPosition",value:function(r){var n=this.projectFlat(r),s=Zu(n,2),u=s[0],i=s[1],y=(r[2]||0)*this.pixelsPerMeter;return[u,i,y]}},{key:"unprojectPosition",value:function(r){var n=this.unprojectFlat(r),s=Zu(n,2),u=s[0],i=s[1],y=(r[2]||0)/this.pixelsPerMeter;return[u,i,y]}},{key:"projectFlat",value:function(r){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,r}},{key:"unprojectFlat",value:function(r){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,r}}]),e}();function KD(e){var t=e.width,r=e.height,n=e.bounds,s=e.minExtent,u=s===void 0?0:s,i=e.maxZoom,y=i===void 0?24:i,m=e.padding,g=m===void 0?0:m,x=e.offset,b=x===void 0?[0,0]:x,A=Zu(n,2),w=Zu(A[0],2),M=w[0],V=w[1],k=Zu(A[1],2),Q=k[0],q=k[1];if(Number.isFinite(g)){var K=g;g={top:K,bottom:K,left:K,right:K}}else P0(Number.isFinite(g.top)&&Number.isFinite(g.bottom)&&Number.isFinite(g.left)&&Number.isFinite(g.right));var te=new m9({width:t,height:r,longitude:0,latitude:0,zoom:0}),se=te.project([M,q]),ke=te.project([Q,V]),Ee=[Math.max(Math.abs(ke[0]-se[0]),u),Math.max(Math.abs(ke[1]-se[1]),u)],je=[t-g.left-g.right-Math.abs(b[0])*2,r-g.top-g.bottom-Math.abs(b[1])*2];P0(je[0]>0&&je[1]>0);var mt=je[0]/Ee[0],He=je[1]/Ee[1],Fe=(g.right-g.left)/2/mt,Le=(g.bottom-g.top)/2/He,ze=[(ke[0]+se[0])/2+Fe,(ke[1]+se[1])/2+Le],st=te.unproject(ze),Vt=te.zoom+Math.log2(Math.abs(Math.min(mt,He)));return{longitude:st[0],latitude:st[1],zoom:Math.min(Vt,y)}}var m9=function(e){kD(t,e);function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=n.width,u=n.height,i=n.latitude,y=i===void 0?0:i,m=n.longitude,g=m===void 0?0:m,x=n.zoom,b=x===void 0?0:x,A=n.pitch,w=A===void 0?0:A,M=n.bearing,V=M===void 0?0:M,k=n.altitude,Q=k===void 0?1.5:k,q=n.nearZMultiplier,K=n.farZMultiplier;l9(this,t),s=s||1,u=u||1;var te=h9(b);Q=Math.max(.75,Q);var se=u2([g,y],te);se[2]=0;var ke=YD({width:s,height:u,pitch:w,bearing:V,altitude:Q,nearZMultiplier:q||1/u,farZMultiplier:K||1.01}),Ee=ZD({height:u,center:se,pitch:w,bearing:V,altitude:Q,flipY:!0});return r=UD(this,r6(t).call(this,{width:s,height:u,viewMatrix:Ee,projectionMatrix:ke})),r.latitude=y,r.longitude=g,r.zoom=b,r.pitch=w,r.bearing=V,r.altitude=Q,r.scale=te,r.center=se,r.pixelsPerMeter=WD(ny(ny(r))).pixelsPerMeter[2],Object.freeze(ny(ny(r))),r}return d9(t,[{key:"projectFlat",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return u2(n,s)}},{key:"unprojectFlat",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return tg(n,s)}},{key:"getMapCenterByLngLatPosition",value:function(n){var s=n.lngLat,u=n.pos,i=f9(u,this.pixelUnprojectionMatrix),y=u2(s,this.scale),m=ju([],y,Sv([],i)),g=ju([],this.center,m);return tg(g,this.scale)}},{key:"getLocationAtPoint",value:function(n){var s=n.lngLat,u=n.pos;return this.getMapCenterByLngLatPosition({lngLat:s,pos:u})}},{key:"fitBounds",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.width,i=this.height,y=KD(Object.assign({width:u,height:i,bounds:n},s)),m=y.longitude,g=y.latitude,x=y.zoom;return new t({width:u,height:i,longitude:m,latitude:g,zoom:x})}}]),t}(qD);class QD{constructor(t){H(this,"size",1e4),this.size=t||1e4}setSize(t){this.size=t}getSize(){return[this.size,this.size]}mercatorXfromLng(t){return(180+t)/360*this.size}mercatorYfromLat(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}lngFromMercatorX(t){return t/this.size*360-180}latFromMercatorY(t){const r=180-(1-t/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}project(t){const r=this.mercatorXfromLng(t[0]),n=this.mercatorYfromLat(t[1]);return[r,n]}unproject(t){const r=this.lngFromMercatorX(t[0]),n=this.latFromMercatorY(t[1]);return[r,n]}}const JD={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},og={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},eO=12;class tO{constructor(t){H(this,"version","DEFAUlTMAP"),H(this,"map",void 0),H(this,"simpleMapCoord",new QD),H(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),H(this,"config",void 0),H(this,"configService",void 0),H(this,"coordinateSystemService",void 0),H(this,"eventEmitter",void 0),H(this,"markerContainer",void 0),H(this,"cameraChangedCallback",void 0),H(this,"$mapContainer",void 0),H(this,"handleCameraChanged",r=>{const{lat:n,lng:s}=this.map.getCenter();this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:this.map.getBearing(),center:[s,n],viewportHeight:this.map.transform.height,pitch:this.map.getPitch(),viewportWidth:this.map.transform.width,zoom:this.map.getZoom(),cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}),this.config=t.mapConfig,this.configService=t.globalConfigService,this.coordinateSystemService=t.coordinateSystemService,this.eventEmitter=new fu.EventEmitter}setBgColor(t){this.bgColor=t}addMarkerContainer(){const t=this.map.getCanvasContainer();this.markerContainer=yu("div","l7-marker-container",t),this.markerContainer.setAttribute("tabindex","-1")}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}on(t,r){Lb.indexOf(t)!==-1?this.eventEmitter.on(t,r):this.map.on(og[t]||t,r)}off(t,r){this.map.off(og[t]||t,r),this.eventEmitter.off(t,r)}getContainer(){return this.map.getContainer()}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){if(this.version==="SIMPLE")return this.simpleMapCoord.getSize();const t=this.map.transform;return[t.width,t.height]}getType(){return"default"}getZoom(){return this.map.getZoom()}setZoom(t){return this.map.setZoom(t)}getCenter(){return this.map.getCenter()}setCenter(t){this.map.setCenter(t)}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getBearing()}getBounds(){return this.map.getBounds().toArray()}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}setRotation(t){this.map.setBearing(t)}zoomIn(t,r){this.map.zoomIn(t,r)}zoomOut(t,r){this.map.zoomOut(t,r)}setPitch(t){return this.map.setPitch(t)}panTo(t){this.map.panTo(t)}panBy(t=0,r=0){this.map.panBy([t,r])}fitBounds(t,r){this.map.fitBounds(t,r)}setMaxZoom(t){this.map.setMaxZoom(t)}setMinZoom(t){this.map.setMinZoom(t)}setMapStatus(t){t.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),t.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),t.dragEnable===!1&&this.map.dragPan.disable(),t.dragEnable===!0&&this.map.dragPan.enable(),t.rotateEnable===!1&&this.map.dragRotate.disable(),t.dragEnable===!0&&this.map.dragRotate.enable(),t.keyboardEnable===!1&&this.map.keyboard.disable(),t.keyboardEnable===!0&&this.map.keyboard.enable(),t.zoomEnable===!1&&this.map.scrollZoom.disable(),t.zoomEnable===!0&&this.map.scrollZoom.enable()}setZoomAndCenter(t,r){this.map.flyTo({zoom:t,center:r})}setMapStyle(t){this.map.setStyle(this.getMapStyleValue(t))}meterToCoord(t,r){return 1}pixelToLngLat(t){return this.map.unproject(t)}lngLatToPixel(t){return this.map.project(t)}containerToLngLat(t){return this.map.unproject(t)}lngLatToContainer(t){return this.map.project(t)}getMapStyle(){try{var t;const r=(t=this.map.getStyle().sprite)!==null&&t!==void 0?t:"";return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(r)?r==null?void 0:r.replace(/\/\w+$/,"").replace(/sprites/,"styles"):r}catch{return""}}getMapStyleConfig(){return JD}getMapStyleValue(t){var r;return(r=this.getMapStyleConfig()[t])!==null&&r!==void 0?r:t}destroy(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(t,...r){this.eventEmitter.emit(t,...r)}once(t,...r){this.eventEmitter.once(t,...r)}getMapContainer(){return this.$mapContainer}exportMap(t){const r=this.map.getCanvas();return t==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}onCameraChanged(t){this.cameraChangedCallback=t}creatMapContainer(t){let r=t;return typeof t=="string"&&(r=document.getElementById(t)),r}updateView(t){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:t.bearing,center:t.center,viewportHeight:t.viewportHeight,pitch:t.pitch,viewportWidth:t.viewportWidth,zoom:t.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}updateCoordinateSystemService(){const{offsetCoordinate:t=!0}=this.config;this.viewport.getZoom()>eO&&t?this.coordinateSystemService.setCoordinateSystem(F1.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(F1.LNGLAT)}}var _9={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(s6,function(){var r,n,s;function u(i,y){if(!r)r=y;else if(!n)n=y;else{var m="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",g={};r(g),s=y(g),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([m],{type:"text/javascript"})))}}return u(["exports"],function(i){function y(o,a){return o(a={exports:{}},a.exports),a.exports}var m=g;function g(o,a,p,h){this.cx=3*o,this.bx=3*(p-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(h-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=h,this.p2x=p,this.p2y=h}g.prototype.sampleCurveX=function(o){return((this.ax*o+this.bx)*o+this.cx)*o},g.prototype.sampleCurveY=function(o){return((this.ay*o+this.by)*o+this.cy)*o},g.prototype.sampleCurveDerivativeX=function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},g.prototype.solveCurveX=function(o,a){var p,h,_,v,P;for(a===void 0&&(a=1e-6),_=o,P=0;P<8;P++){if(v=this.sampleCurveX(_)-o,Math.abs(v)<a)return _;var T=this.sampleCurveDerivativeX(_);if(Math.abs(T)<1e-6)break;_-=v/T}if((_=o)<(p=0))return p;if(_>(h=1))return h;for(;p<h;){if(v=this.sampleCurveX(_),Math.abs(v-o)<a)return _;o>v?p=_:h=_,_=.5*(h-p)+p}return _},g.prototype.solve=function(o,a){return this.sampleCurveY(this.solveCurveX(o,a))};var x=b;function b(o,a){this.x=o,this.y=a}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,a){return this.clone()._rotateAround(o,a)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var a=o.x-this.x,p=o.y-this.y;return a*a+p*p},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,a){return Math.atan2(this.x*a-this.y*o,this.x*o+this.y*a)},_matMult:function(o){var a=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=a,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var a=Math.cos(o),p=Math.sin(o),h=p*this.x+a*this.y;return this.x=a*this.x-p*this.y,this.y=h,this},_rotateAround:function(o,a){var p=Math.cos(o),h=Math.sin(o),_=a.y+h*(this.x-a.x)+p*(this.y-a.y);return this.x=a.x+p*(this.x-a.x)-h*(this.y-a.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(o){return o instanceof b?o:Array.isArray(o)?new b(o[0],o[1]):o};var A=typeof self<"u"?self:{},w=Math.pow(2,53)-1;function M(o,a,p,h){var _=new m(o,a,p,h);return function(v){return _.solve(v)}}var V=M(.25,.1,.25,1);function k(o,a,p){return Math.min(p,Math.max(a,o))}function Q(o,a,p){var h=p-a,_=((o-a)%h+h)%h+a;return _===a?p:_}function q(o){for(var a=[],p=arguments.length-1;p-- >0;)a[p]=arguments[p+1];for(var h=0,_=a;h<_.length;h+=1){var v=_[h];for(var P in v)o[P]=v[P]}return o}var K=1;function te(){return K++}function se(){return function o(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function ke(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function Ee(o,a){o.forEach(function(p){a[p]&&(a[p]=a[p].bind(a))})}function je(o,a){return o.indexOf(a,o.length-a.length)!==-1}function mt(o,a,p){var h={};for(var _ in o)h[_]=a.call(p||this,o[_],_,o);return h}function He(o,a,p){var h={};for(var _ in o)a.call(p||this,o[_],_,o)&&(h[_]=o[_]);return h}function Fe(o){return Array.isArray(o)?o.map(Fe):typeof o=="object"&&o?mt(o,Fe):o}var Le={};function ze(o){Le[o]||(typeof console<"u"&&console.warn(o),Le[o]=!0)}function st(o,a,p){return(p.y-o.y)*(a.x-o.x)>(a.y-o.y)*(p.x-o.x)}function Vt(o){for(var a=0,p=0,h=o.length,_=h-1,v=void 0,P=void 0;p<h;_=p++)a+=((P=o[_]).x-(v=o[p]).x)*(v.y+P.y);return a}function nr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Fr(o){var a={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(h,_,v,P){var T=v||P;return a[_]=!T||T.toLowerCase(),""}),a["max-age"]){var p=parseInt(a["max-age"],10);isNaN(p)?delete a["max-age"]:a["max-age"]=p}return a}var $r=null;function mr(o){if($r==null){var a=o.navigator?o.navigator.userAgent:null;$r=!!o.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return $r}function Er(o){try{var a=A[o];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}var Kr,eo,go,wo,no=A.performance&&A.performance.now?A.performance.now.bind(A.performance):Date.now.bind(Date),Xn=A.requestAnimationFrame||A.mozRequestAnimationFrame||A.webkitRequestAnimationFrame||A.msRequestAnimationFrame,Fo=A.cancelAnimationFrame||A.mozCancelAnimationFrame||A.webkitCancelAnimationFrame||A.msCancelAnimationFrame,On={now:no,frame:function(o){var a=Xn(o);return{cancel:function(){return Fo(a)}}},getImageData:function(o,a){a===void 0&&(a=0);var p=A.document.createElement("canvas"),h=p.getContext("2d");if(!h)throw new Error("failed to create canvas 2d context");return p.width=o.width,p.height=o.height,h.drawImage(o,0,0,o.width,o.height),h.getImageData(-a,-a,o.width+2*a,o.height+2*a)},resolveURL:function(o){return Kr||(Kr=A.document.createElement("a")),Kr.href=o,Kr.href},hardwareConcurrency:A.navigator&&A.navigator.hardwareConcurrency||4,get devicePixelRatio(){return A.devicePixelRatio},get prefersReducedMotion(){return!!A.matchMedia&&(eo==null&&(eo=A.matchMedia("(prefers-reduced-motion: reduce)")),eo.matches)}},$e={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Yt={supported:!1,testSupport:function(o){!Tr&&wo&&(At?xr(o):go=o)}},Tr=!1,At=!1;function xr(o){var a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,wo),o.isContextLost())return;Yt.supported=!0}catch{}o.deleteTexture(a),Tr=!0}A.document&&((wo=A.document.createElement("img")).onload=function(){go&&xr(go),go=null,At=!0},wo.onerror=function(){Tr=!0,go=null},wo.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var io="01",vo=function(o,a){this._transformRequestFn=o,this._customAccessToken=a,this._createSkuToken()};function ro(o){return o.indexOf("mapbox:")===0}vo.prototype._createSkuToken=function(){var o=function(){for(var a="",p=0;p<10;p++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",io,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt},vo.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},vo.prototype.transformRequest=function(o,a){return this._transformRequestFn&&this._transformRequestFn(o,a)||{url:o}},vo.prototype.normalizeStyleURL=function(o,a){if(!ro(o))return o;var p=Jo(o);return p.path="/styles/v1"+p.path,this._makeAPIURL(p,this._customAccessToken||a)},vo.prototype.normalizeGlyphsURL=function(o,a){if(!ro(o))return o;var p=Jo(o);return p.path="/fonts/v1"+p.path,this._makeAPIURL(p,this._customAccessToken||a)},vo.prototype.normalizeSourceURL=function(o,a){if(!ro(o))return o;var p=Jo(o);return p.path="/v4/"+p.authority+".json",p.params.push("secure"),this._makeAPIURL(p,this._customAccessToken||a)},vo.prototype.normalizeSpriteURL=function(o,a,p,h){var _=Jo(o);return ro(o)?(_.path="/styles/v1"+_.path+"/sprite"+a+p,this._makeAPIURL(_,this._customAccessToken||h)):(_.path+=""+a+p,rn(_))},vo.prototype.normalizeTileURL=function(o,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!ro(o))return o;var p=Jo(o);p.path=p.path.replace(/(\.(png|jpg)\d*)(?=$)/,(On.devicePixelRatio>=2||a===512?"@2x":"")+(Yt.supported?".webp":"$1")),p.path=p.path.replace(/^.+\/v4\//,"/"),p.path="/v4"+p.path;var h=this._customAccessToken||function(_){for(var v=0,P=_;v<P.length;v+=1){var T=P[v].match(/^access_token=(.*)$/);if(T)return T[1]}return null}(p.params)||$e.ACCESS_TOKEN;return $e.REQUIRE_ACCESS_TOKEN&&h&&this._skuToken&&p.params.push("sku="+this._skuToken),this._makeAPIURL(p,h)},vo.prototype.canonicalizeTileURL=function(o,a){var p=Jo(o);if(!p.path.match(/(^\/v4\/)/)||!p.path.match(/\.[\w]+$/))return o;var h="mapbox://tiles/";h+=p.path.replace("/v4/","");var _=p.params;return a&&(_=_.filter(function(v){return!v.match(/^access_token=/)})),_.length&&(h+="?"+_.join("&")),h},vo.prototype.canonicalizeTileset=function(o,a){for(var p=!!a&&ro(a),h=[],_=0,v=o.tiles||[];_<v.length;_+=1){var P=v[_];Ao(P)?h.push(this.canonicalizeTileURL(P,p)):h.push(P)}return h},vo.prototype._makeAPIURL=function(o,a){var p="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",h=Jo($e.API_URL);if(o.protocol=h.protocol,o.authority=h.authority,o.protocol==="http"){var _=o.params.indexOf("secure");_>=0&&o.params.splice(_,1)}if(h.path!=="/"&&(o.path=""+h.path+o.path),!$e.REQUIRE_ACCESS_TOKEN)return rn(o);if(!(a=a||$e.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+p);if(a[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+p);return o.params=o.params.filter(function(v){return v.indexOf("access_token")===-1}),o.params.push("access_token="+a),rn(o)};var Qr=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ao(o){return Qr.test(o)}var Kn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Jo(o){var a=o.match(Kn);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function rn(o){var a=o.params.length?"?"+o.params.join("&"):"";return o.protocol+"://"+o.authority+o.path+a}function bi(o){if(!o)return null;var a=o.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(A.atob(a[1]).split("").map(function(p){return"%"+("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var ue=function(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ue.prototype.getStorageKey=function(o){var a,p=bi($e.ACCESS_TOKEN);return a=p&&p.u?A.btoa(encodeURIComponent(p.u).replace(/%([0-9A-F]{2})/g,function(h,_){return String.fromCharCode(+("0x"+_))})):$e.ACCESS_TOKEN||"",o?"mapbox.eventData."+o+":"+a:"mapbox.eventData:"+a},ue.prototype.fetchEventData=function(){var o=Er("localStorage"),a=this.getStorageKey(),p=this.getStorageKey("uuid");if(o)try{var h=A.localStorage.getItem(a);h&&(this.eventData=JSON.parse(h));var _=A.localStorage.getItem(p);_&&(this.anonId=_)}catch{ze("Unable to read from LocalStorage")}},ue.prototype.saveEventData=function(){var o=Er("localStorage"),a=this.getStorageKey(),p=this.getStorageKey("uuid");if(o)try{A.localStorage.setItem(p,this.anonId),Object.keys(this.eventData).length>=1&&A.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{ze("Unable to write to LocalStorage")}},ue.prototype.processRequests=function(o){},ue.prototype.postEvent=function(o,a,p,h){var _=this;if($e.EVENTS_URL){var v=Jo($e.EVENTS_URL);v.params.push("access_token="+(h||$e.ACCESS_TOKEN||""));var P={event:this.type,created:new Date(o).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:io,userId:this.anonId},T=a?q(P,a):P,C={url:rn(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([T])};this.pendingRequest=jo(C,function(I){_.pendingRequest=null,p(I),_.saveEventData(),_.processRequests(h)})}},ue.prototype.queueRequest=function(o,a){this.queue.push(o),this.processRequests(a)};var Fi,Za,Ai=function(o){function a(){o.call(this,"map.load"),this.success={},this.skuToken=""}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.postMapLoadEvent=function(p,h,_,v){this.skuToken=_;var P=!(!v&&!$e.ACCESS_TOKEN),T=Array.isArray(p)&&p.some(function(C){return ro(C)||Ao(C)});$e.EVENTS_URL&&P&&T&&this.queueRequest({id:h,timestamp:Date.now()},v)},a.prototype.processRequests=function(p){var h=this;if(!this.pendingRequest&&this.queue.length!==0){var _=this.queue.shift(),v=_.id,P=_.timestamp;v&&this.success[v]||(this.anonId||this.fetchEventData(),ke(this.anonId)||(this.anonId=se()),this.postEvent(P,{skuToken:this.skuToken},function(T){T||v&&(h.success[v]=!0)},p))}},a}(ue),ps=new(function(o){function a(p){o.call(this,"appUserTurnstile"),this._customAccessToken=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.postTurnstileEvent=function(p,h){$e.EVENTS_URL&&$e.ACCESS_TOKEN&&Array.isArray(p)&&p.some(function(_){return ro(_)||Ao(_)})&&this.queueRequest(Date.now(),h)},a.prototype.processRequests=function(p){var h=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var _=bi($e.ACCESS_TOKEN),v=_?_.u:$e.ACCESS_TOKEN,P=v!==this.eventData.tokenU;ke(this.anonId)||(this.anonId=se(),P=!0);var T=this.queue.shift();if(this.eventData.lastSuccess){var C=new Date(this.eventData.lastSuccess),I=new Date(T),O=(T-this.eventData.lastSuccess)/864e5;P=P||O>=1||O<-1||C.getDate()!==I.getDate()}else P=!0;if(!P)return this.processRequests();this.postEvent(T,{"enabled.telemetry":!1},function(B){B||(h.eventData.lastSuccess=T,h.eventData.tokenU=v)},p)}},a}(ue)),pn=ps.postTurnstileEvent.bind(ps),Si=new Ai,ca=Si.postMapLoadEvent.bind(Si),Ti=500,xs=50;function Hn(){A.caches&&!Fi&&(Fi=A.caches.open("mapbox-tiles"))}function cs(o){var a=o.indexOf("?");return a<0?o:o.slice(0,a)}var ba,Ws=1/0;function qu(){return ba==null&&(ba=A.OffscreenCanvas&&new A.OffscreenCanvas(1,1).getContext("2d")&&typeof A.createImageBitmap=="function"),ba}var Zs={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Zs);var xp=function(o){function a(p,h,_){h===401&&Ao(_)&&(p+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),o.call(this,p),this.status=h,this.url=_,this.name=this.constructor.name,this.message=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},a}(Error),Xs=nr()?function(){return self.worker&&self.worker.referrer}:function(){return(A.location.protocol==="blob:"?A.parent:A).location.href},Da,Oa,Ps=function(o,a){if(!(/^file:/.test(p=o.url)||/^file:/.test(Xs())&&!/^\w+:/.test(p))){if(A.fetch&&A.Request&&A.AbortController&&A.Request.prototype.hasOwnProperty("signal"))return function(h,_){var v,P=new A.AbortController,T=new A.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Xs(),signal:P.signal}),C=!1,I=!1,O=(v=T.url).indexOf("sku=")>0&&Ao(v);h.type==="json"&&T.headers.set("Accept","application/json");var B=function(Y,le,he){if(!I){if(Y&&Y.message!=="SecurityError"&&ze(Y),le&&he)return j(le);var Re=Date.now();A.fetch(T).then(function(be){if(be.ok){var Ve=O?be.clone():null;return j(be,Ve,Re)}return _(new xp(be.statusText,be.status,h.url))}).catch(function(be){be.code!==20&&_(new Error(be.message))})}},j=function(Y,le,he){(h.type==="arrayBuffer"?Y.arrayBuffer():h.type==="json"?Y.json():Y.text()).then(function(Re){I||(le&&he&&function(be,Ve,Xe){if(Hn(),Fi){var nt={status:Ve.status,statusText:Ve.statusText,headers:new A.Headers};Ve.headers.forEach(function(vt,kt){return nt.headers.set(kt,vt)});var ut=Fr(Ve.headers.get("Cache-Control")||"");ut["no-store"]||(ut["max-age"]&&nt.headers.set("Expires",new Date(Xe+1e3*ut["max-age"]).toUTCString()),new Date(nt.headers.get("Expires")).getTime()-Xe<42e4||function(vt,kt){if(Za===void 0)try{new Response(new ReadableStream),Za=!0}catch{Za=!1}Za?kt(vt.body):vt.blob().then(kt)}(Ve,function(vt){var kt=new A.Response(vt,nt);Hn(),Fi&&Fi.then(function(qt){return qt.put(cs(be.url),kt)}).catch(function(qt){return ze(qt.message)})}))}}(T,le,he),C=!0,_(null,Re,Y.headers.get("Cache-Control"),Y.headers.get("Expires")))}).catch(function(Re){I||_(new Error(Re.message))})};return O?function(Y,le){if(Hn(),!Fi)return le(null);var he=cs(Y.url);Fi.then(function(Re){Re.match(he).then(function(be){var Ve=function(Xe){if(!Xe)return!1;var nt=new Date(Xe.headers.get("Expires")||0),ut=Fr(Xe.headers.get("Cache-Control")||"");return nt>Date.now()&&!ut["no-cache"]}(be);Re.delete(he),Ve&&Re.put(he,be.clone()),le(null,be,Ve)}).catch(le)}).catch(le)}(T,B):B(null,null),{cancel:function(){I=!0,C||P.abort()}}}(o,a);if(nr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,a,void 0,!0)}var p;return function(h,_){var v=new A.XMLHttpRequest;for(var P in v.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(v.responseType="arraybuffer"),h.headers)v.setRequestHeader(P,h.headers[P]);return h.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=h.credentials==="include",v.onerror=function(){_(new Error(v.statusText))},v.onload=function(){if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){var T=v.response;if(h.type==="json")try{T=JSON.parse(v.response)}catch(C){return _(C)}_(null,T,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else _(new xp(v.statusText,v.status,h.url))},v.send(h.body),{cancel:function(){return v.abort()}}}(o,a)},Ku=function(o,a){return Ps(q(o,{type:"arrayBuffer"}),a)},jo=function(o,a){return Ps(q(o,{method:"POST"}),a)},U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Da=[],Oa=0;var G=function(o,a){if(Yt.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),Oa>=$e.MAX_PARALLEL_IMAGE_REQUESTS){var p={requestParameters:o,callback:a,cancelled:!1,cancel:function(){this.cancelled=!0}};return Da.push(p),p}Oa++;var h=!1,_=function(){if(!h)for(h=!0,Oa--;Da.length&&Oa<$e.MAX_PARALLEL_IMAGE_REQUESTS;){var P=Da.shift();P.cancelled||(P.cancel=G(P.requestParameters,P.callback).cancel)}},v=Ku(o,function(P,T,C,I){_(),P?a(P):T&&(qu()?function(O,B){var j=new A.Blob([new Uint8Array(O)],{type:"image/png"});A.createImageBitmap(j).then(function(Y){B(null,Y)}).catch(function(Y){B(new Error("Could not load image because of "+Y.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(T,a):function(O,B,j,Y){var le=new A.Image,he=A.URL;le.onload=function(){B(null,le),he.revokeObjectURL(le.src),le.onload=null,A.requestAnimationFrame(function(){le.src=U})},le.onerror=function(){return B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new A.Blob([new Uint8Array(O)],{type:"image/png"});le.cacheControl=j,le.expires=Y,le.src=O.byteLength?he.createObjectURL(Re):U}(T,a,C,I))});return{cancel:function(){v.cancel(),_()}}};function W(o,a,p){p[o]&&p[o].indexOf(a)!==-1||(p[o]=p[o]||[],p[o].push(a))}function ne(o,a,p){if(p&&p[o]){var h=p[o].indexOf(a);h!==-1&&p[o].splice(h,1)}}var ye=function(o,a){a===void 0&&(a={}),q(this,a),this.type=o},Me=function(o){function a(p,h){h===void 0&&(h={}),o.call(this,"error",q({error:p},h))}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(ye),Oe=function(){};Oe.prototype.on=function(o,a){return this._listeners=this._listeners||{},W(o,a,this._listeners),this},Oe.prototype.off=function(o,a){return ne(o,a,this._listeners),ne(o,a,this._oneTimeListeners),this},Oe.prototype.once=function(o,a){return this._oneTimeListeners=this._oneTimeListeners||{},W(o,a,this._oneTimeListeners),this},Oe.prototype.fire=function(o,a){typeof o=="string"&&(o=new ye(o,a||{}));var p=o.type;if(this.listens(p)){o.target=this;for(var h=0,_=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];h<_.length;h+=1)_[h].call(this,o);for(var v=0,P=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];v<P.length;v+=1){var T=P[v];ne(p,T,this._oneTimeListeners),T.call(this,o)}var C=this._eventedParent;C&&(q(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(o))}else o instanceof Me&&console.error(o.error);return this},Oe.prototype.listens=function(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)},Oe.prototype.setEventedParent=function(o,a){return this._eventedParent=o,this._eventedParentData=a,this};var J={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ge=function(o,a,p,h){this.message=(o?o+": ":"")+p,h&&(this.identifier=h),a!=null&&a.__line__&&(this.line=a.__line__)};function We(o){var a=o.value;return a?[new ge(o.key,a,"constants have been deprecated as of v8")]:[]}function ht(o){for(var a=[],p=arguments.length-1;p-- >0;)a[p]=arguments[p+1];for(var h=0,_=a;h<_.length;h+=1){var v=_[h];for(var P in v)o[P]=v[P]}return o}function Nt(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function ct(o){if(Array.isArray(o))return o.map(ct);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){var a={};for(var p in o)a[p]=ct(o[p]);return a}return Nt(o)}var wt=function(o){function a(p,h){o.call(this,h),this.message=h,this.key=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),_r=function(o,a){a===void 0&&(a=[]),this.parent=o,this.bindings={};for(var p=0,h=a;p<h.length;p+=1){var _=h[p];this.bindings[_[0]]=_[1]}};_r.prototype.concat=function(o){return new _r(this,o)},_r.prototype.get=function(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(o+" not found in scope.")},_r.prototype.has=function(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)};var yr={kind:"null"},dt={kind:"number"},or={kind:"string"},Wt={kind:"boolean"},Xt={kind:"color"},ao={kind:"object"},er={kind:"value"},So={kind:"collator"},en={kind:"formatted"},Eo={kind:"resolvedImage"};function No(o,a){return{kind:"array",itemType:o,N:a}}function so(o){if(o.kind==="array"){var a=so(o.itemType);return typeof o.N=="number"?"array<"+a+", "+o.N+">":o.itemType.kind==="value"?"array":"array<"+a+">"}return o.kind}var Gn=[yr,dt,or,Wt,Xt,en,ao,No(er),Eo];function Ro(o,a){if(a.kind==="error")return null;if(o.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Ro(o.itemType,a.itemType))&&(typeof o.N!="number"||o.N===a.N))return null}else{if(o.kind===a.kind)return null;if(o.kind==="value"){for(var p=0,h=Gn;p<h.length;p+=1)if(!Ro(h[p],a))return null}}return"Expected "+so(o)+" but found "+so(a)+" instead."}function tn(o,a){return a.some(function(p){return p.kind===o.kind})}function zo(o,a){return a.some(function(p){return p==="null"?o===null:p==="array"?Array.isArray(o):p==="object"?o&&!Array.isArray(o)&&typeof o=="object":p===typeof o})}var uo=y(function(o,a){var p={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function h(T){return(T=Math.round(T))<0?0:T>255?255:T}function _(T){return h(T[T.length-1]==="%"?parseFloat(T)/100*255:parseInt(T))}function v(T){return(C=T[T.length-1]==="%"?parseFloat(T)/100:parseFloat(T))<0?0:C>1?1:C;var C}function P(T,C,I){return I<0?I+=1:I>1&&(I-=1),6*I<1?T+(C-T)*I*6:2*I<1?C:3*I<2?T+(C-T)*(2/3-I)*6:T}try{a.parseCSSColor=function(T){var C,I=T.replace(/ /g,"").toLowerCase();if(I in p)return p[I].slice();if(I[0]==="#")return I.length===4?(C=parseInt(I.substr(1),16))>=0&&C<=4095?[(3840&C)>>4|(3840&C)>>8,240&C|(240&C)>>4,15&C|(15&C)<<4,1]:null:I.length===7&&(C=parseInt(I.substr(1),16))>=0&&C<=16777215?[(16711680&C)>>16,(65280&C)>>8,255&C,1]:null;var O=I.indexOf("("),B=I.indexOf(")");if(O!==-1&&B+1===I.length){var j=I.substr(0,O),Y=I.substr(O+1,B-(O+1)).split(","),le=1;switch(j){case"rgba":if(Y.length!==4)return null;le=v(Y.pop());case"rgb":return Y.length!==3?null:[_(Y[0]),_(Y[1]),_(Y[2]),le];case"hsla":if(Y.length!==4)return null;le=v(Y.pop());case"hsl":if(Y.length!==3)return null;var he=(parseFloat(Y[0])%360+360)%360/360,Re=v(Y[1]),be=v(Y[2]),Ve=be<=.5?be*(Re+1):be+Re-be*Re,Xe=2*be-Ve;return[h(255*P(Xe,Ve,he+1/3)),h(255*P(Xe,Ve,he)),h(255*P(Xe,Ve,he-1/3)),le];default:return null}}return null}}catch{}}).parseCSSColor,xo=function(o,a,p,h){h===void 0&&(h=1),this.r=o,this.g=a,this.b=p,this.a=h};xo.parse=function(o){if(o){if(o instanceof xo)return o;if(typeof o=="string"){var a=uo(o);if(a)return new xo(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3])}}},xo.prototype.toString=function(){var o=this.toArray(),a=o[1],p=o[2],h=o[3];return"rgba("+Math.round(o[0])+","+Math.round(a)+","+Math.round(p)+","+h+")"},xo.prototype.toArray=function(){var o=this.a;return o===0?[0,0,0,0]:[255*this.r/o,255*this.g/o,255*this.b/o,o]},xo.black=new xo(0,0,0,1),xo.white=new xo(1,1,1,1),xo.transparent=new xo(0,0,0,0),xo.red=new xo(1,0,0,1);var Bi=function(o,a,p){this.sensitivity=o?a?"variant":"case":a?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Bi.prototype.compare=function(o,a){return this.collator.compare(o,a)},Bi.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var mu=function(o,a,p,h,_){this.text=o,this.image=a,this.scale=p,this.fontStack=h,this.textColor=_},Ln=function(o){this.sections=o};Ln.fromString=function(o){return new Ln([new mu(o,null,null,null,null)])},Ln.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(o){return o.text.length!==0||o.image&&o.image.name.length!==0})},Ln.factory=function(o){return o instanceof Ln?o:Ln.fromString(o)},Ln.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(o){return o.text}).join("")},Ln.prototype.serialize=function(){for(var o=["format"],a=0,p=this.sections;a<p.length;a+=1){var h=p[a];if(h.image)o.push(["image",h.image.name]);else{o.push(h.text);var _={};h.fontStack&&(_["text-font"]=["literal",h.fontStack.split(",")]),h.scale&&(_["font-scale"]=h.scale),h.textColor&&(_["text-color"]=["rgba"].concat(h.textColor.toArray())),o.push(_)}}return o};var En=function(o){this.name=o.name,this.available=o.available};function _u(o,a,p,h){return typeof o=="number"&&o>=0&&o<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof p=="number"&&p>=0&&p<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:"Invalid rgba value ["+[o,a,p,h].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof h=="number"?[o,a,p,h]:[o,a,p]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Xa(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof xo||o instanceof Bi||o instanceof Ln||o instanceof En)return!0;if(Array.isArray(o)){for(var a=0,p=o;a<p.length;a+=1)if(!Xa(p[a]))return!1;return!0}if(typeof o=="object"){for(var h in o)if(!Xa(o[h]))return!1;return!0}return!1}function mn(o){if(o===null)return yr;if(typeof o=="string")return or;if(typeof o=="boolean")return Wt;if(typeof o=="number")return dt;if(o instanceof xo)return Xt;if(o instanceof Bi)return So;if(o instanceof Ln)return en;if(o instanceof En)return Eo;if(Array.isArray(o)){for(var a,p=o.length,h=0,_=o;h<_.length;h+=1){var v=mn(_[h]);if(a){if(a===v)continue;a=er;break}a=v}return No(a||er,p)}return ao}function Ys(o){var a=typeof o;return o===null?"":a==="string"||a==="number"||a==="boolean"?String(o):o instanceof xo||o instanceof Ln||o instanceof En?o.toString():JSON.stringify(o)}En.prototype.toString=function(){return this.name},En.fromString=function(o){return o?new En({name:o,available:!1}):null},En.prototype.serialize=function(){return["image",this.name]};var li=function(o,a){this.type=o,this.value=a};li.parse=function(o,a){if(o.length!==2)return a.error("'literal' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(!Xa(o[1]))return a.error("invalid value");var p=o[1],h=mn(p),_=a.expectedType;return h.kind!=="array"||h.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(h=_),new li(h,p)},li.prototype.evaluate=function(){return this.value},li.prototype.eachChild=function(){},li.prototype.outputDefined=function(){return!0},li.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xo?["rgba"].concat(this.value.toArray()):this.value instanceof Ln?this.value.serialize():this.value};var _n=function(o){this.name="ExpressionEvaluationError",this.message=o};_n.prototype.toJSON=function(){return this.message};var jn={string:or,number:dt,boolean:Wt,object:ao},cn=function(o,a){this.type=o,this.args=a};cn.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var p,h=1,_=o[0];if(_==="array"){var v,P;if(o.length>2){var T=o[1];if(typeof T!="string"||!(T in jn)||T==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);v=jn[T],h++}else v=er;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return a.error('The length argument to "array" must be a positive integer literal',2);P=o[2],h++}p=No(v,P)}else p=jn[_];for(var C=[];h<o.length;h++){var I=a.parse(o[h],h,er);if(!I)return null;C.push(I)}return new cn(p,C)},cn.prototype.evaluate=function(o){for(var a=0;a<this.args.length;a++){var p=this.args[a].evaluate(o);if(!Ro(this.type,mn(p)))return p;if(a===this.args.length-1)throw new _n("Expected value to be of type "+so(this.type)+", but found "+so(mn(p))+" instead.")}return null},cn.prototype.eachChild=function(o){this.args.forEach(o)},cn.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},cn.prototype.serialize=function(){var o=this.type,a=[o.kind];if(o.kind==="array"){var p=o.itemType;if(p.kind==="string"||p.kind==="number"||p.kind==="boolean"){a.push(p.kind);var h=o.N;(typeof h=="number"||this.args.length>1)&&a.push(h)}}return a.concat(this.args.map(function(_){return _.serialize()}))};var ea=function(o){this.type=en,this.sections=o};ea.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var p=o[1];if(!Array.isArray(p)&&typeof p=="object")return a.error("First argument must be an image or text section.");for(var h=[],_=!1,v=1;v<=o.length-1;++v){var P=o[v];if(_&&typeof P=="object"&&!Array.isArray(P)){_=!1;var T=null;if(P["font-scale"]&&!(T=a.parse(P["font-scale"],1,dt)))return null;var C=null;if(P["text-font"]&&!(C=a.parse(P["text-font"],1,No(or))))return null;var I=null;if(P["text-color"]&&!(I=a.parse(P["text-color"],1,Xt)))return null;var O=h[h.length-1];O.scale=T,O.font=C,O.textColor=I}else{var B=a.parse(o[v],1,er);if(!B)return null;var j=B.type.kind;if(j!=="string"&&j!=="value"&&j!=="null"&&j!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,h.push({content:B,scale:null,font:null,textColor:null})}}return new ea(h)},ea.prototype.evaluate=function(o){return new Ln(this.sections.map(function(a){var p=a.content.evaluate(o);return mn(p)===Eo?new mu("",p,null,null,null):new mu(Ys(p),null,a.scale?a.scale.evaluate(o):null,a.font?a.font.evaluate(o).join(","):null,a.textColor?a.textColor.evaluate(o):null)}))},ea.prototype.eachChild=function(o){for(var a=0,p=this.sections;a<p.length;a+=1){var h=p[a];o(h.content),h.scale&&o(h.scale),h.font&&o(h.font),h.textColor&&o(h.textColor)}},ea.prototype.outputDefined=function(){return!1},ea.prototype.serialize=function(){for(var o=["format"],a=0,p=this.sections;a<p.length;a+=1){var h=p[a];o.push(h.content.serialize());var _={};h.scale&&(_["font-scale"]=h.scale.serialize()),h.font&&(_["text-font"]=h.font.serialize()),h.textColor&&(_["text-color"]=h.textColor.serialize()),o.push(_)}return o};var Zi=function(o){this.type=Eo,this.input=o};Zi.parse=function(o,a){if(o.length!==2)return a.error("Expected two arguments.");var p=a.parse(o[1],1,or);return p?new Zi(p):a.error("No image name provided.")},Zi.prototype.evaluate=function(o){var a=this.input.evaluate(o),p=En.fromString(a);return p&&o.availableImages&&(p.available=o.availableImages.indexOf(a)>-1),p},Zi.prototype.eachChild=function(o){o(this.input)},Zi.prototype.outputDefined=function(){return!1},Zi.prototype.serialize=function(){return["image",this.input.serialize()]};var Jp={"to-boolean":Wt,"to-color":Xt,"to-number":dt,"to-string":or},Fa=function(o,a){this.type=o,this.args=a};Fa.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var p=o[0];if((p==="to-boolean"||p==="to-string")&&o.length!==2)return a.error("Expected one argument.");for(var h=Jp[p],_=[],v=1;v<o.length;v++){var P=a.parse(o[v],v,er);if(!P)return null;_.push(P)}return new Fa(h,_)},Fa.prototype.evaluate=function(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){for(var a,p,h=0,_=this.args;h<_.length;h+=1){if(p=null,(a=_[h].evaluate(o))instanceof xo)return a;if(typeof a=="string"){var v=o.parseColor(a);if(v)return v}else if(Array.isArray(a)&&!(p=a.length<3||a.length>4?"Invalid rbga value "+JSON.stringify(a)+": expected an array containing either three or four numeric values.":_u(a[0],a[1],a[2],a[3])))return new xo(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new _n(p||"Could not parse color from value '"+(typeof a=="string"?a:String(JSON.stringify(a)))+"'")}if(this.type.kind==="number"){for(var P=null,T=0,C=this.args;T<C.length;T+=1){if((P=C[T].evaluate(o))===null)return 0;var I=Number(P);if(!isNaN(I))return I}throw new _n("Could not convert "+JSON.stringify(P)+" to number.")}return this.type.kind==="formatted"?Ln.fromString(Ys(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?En.fromString(Ys(this.args[0].evaluate(o))):Ys(this.args[0].evaluate(o))},Fa.prototype.eachChild=function(o){this.args.forEach(o)},Fa.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},Fa.prototype.serialize=function(){if(this.type.kind==="formatted")return new ea([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Zi(this.args[0]).serialize();var o=["to-"+this.type.kind];return this.eachChild(function(a){o.push(a.serialize())}),o};var Ml=["Unknown","Point","LineString","Polygon"],Z=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Z.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Z.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ml[this.feature.type]:this.feature.type:null},Z.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Z.prototype.canonicalID=function(){return this.canonical},Z.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Z.prototype.parseColor=function(o){var a=this._parseColorCache[o];return a||(a=this._parseColorCache[o]=xo.parse(o)),a};var oe=function(o,a,p,h){this.name=o,this.type=a,this._evaluate=p,this.args=h};oe.prototype.evaluate=function(o){return this._evaluate(o,this.args)},oe.prototype.eachChild=function(o){this.args.forEach(o)},oe.prototype.outputDefined=function(){return!1},oe.prototype.serialize=function(){return[this.name].concat(this.args.map(function(o){return o.serialize()}))},oe.parse=function(o,a){var p,h=o[0],_=oe.definitions[h];if(!_)return a.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0);for(var v=Array.isArray(_)?_[0]:_.type,P=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,T=P.filter(function(Br){var dr=Br[0];return!Array.isArray(dr)||dr.length===o.length-1}),C=null,I=0,O=T;I<O.length;I+=1){var B=O[I],j=B[0],Y=B[1];C=new $s(a.registry,a.path,null,a.scope);for(var le=[],he=!1,Re=1;Re<o.length;Re++){var be=o[Re],Ve=Array.isArray(j)?j[Re-1]:j.type,Xe=C.parse(be,1+le.length,Ve);if(!Xe){he=!0;break}le.push(Xe)}if(!he)if(Array.isArray(j)&&j.length!==le.length)C.error("Expected "+j.length+" arguments, but found "+le.length+" instead.");else{for(var nt=0;nt<le.length;nt++){var ut=Array.isArray(j)?j[nt]:j.type,vt=le[nt];C.concat(nt+1).checkSubtype(ut,vt.type)}if(C.errors.length===0)return new oe(h,v,Y,le)}}if(T.length===1)(p=a.errors).push.apply(p,C.errors);else{for(var kt=(T.length?T:P).map(function(Br){var dr;return dr=Br[0],Array.isArray(dr)?"("+dr.map(so).join(", ")+")":"("+so(dr.type)+"...)"}).join(" | "),qt=[],Mr=1;Mr<o.length;Mr++){var pr=a.parse(o[Mr],1+qt.length);if(!pr)return null;qt.push(so(pr.type))}a.error("Expected arguments of type "+kt+", but found ("+qt.join(", ")+") instead.")}return null},oe.register=function(o,a){for(var p in oe.definitions=a,a)o[p]=oe};var we=function(o,a,p){this.type=So,this.locale=p,this.caseSensitive=o,this.diacriticSensitive=a};function rt(o,a){o[0]=Math.min(o[0],a[0]),o[1]=Math.min(o[1],a[1]),o[2]=Math.max(o[2],a[0]),o[3]=Math.max(o[3],a[1])}function zt(o,a){return!(o[0]<=a[0]||o[2]>=a[2]||o[1]<=a[1]||o[3]>=a[3])}function wr(o,a){var p=(180+o[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,_=Math.pow(2,a.z);return[Math.round(p*_*8192),Math.round(h*_*8192)]}function Lo(o,a,p){return a[1]>o[1]!=p[1]>o[1]&&o[0]<(p[0]-a[0])*(o[1]-a[1])/(p[1]-a[1])+a[0]}function Yn(o,a){for(var p,h,_,v,P,T,C,I=!1,O=0,B=a.length;O<B;O++)for(var j=a[O],Y=0,le=j.length;Y<le-1;Y++){if((v=(p=o)[0]-(h=j[Y])[0])*(C=p[1]-(_=j[Y+1])[1])-(T=p[0]-_[0])*(P=p[1]-h[1])==0&&v*T<=0&&P*C<=0)return!1;Lo(o,j[Y],j[Y+1])&&(I=!I)}return I}function wi(o,a){for(var p=0;p<a.length;p++)if(Yn(o,a[p]))return!0;return!1}function di(o,a,p,h){var _=h[0]-p[0],v=h[1]-p[1],P=(o[0]-p[0])*v-_*(o[1]-p[1]),T=(a[0]-p[0])*v-_*(a[1]-p[1]);return P>0&&T<0||P<0&&T>0}function Ya(o,a,p){for(var h=0,_=p;h<_.length;h+=1)for(var v=_[h],P=0;P<v.length-1;++P)if((B=[(O=v[P+1])[0]-(I=v[P])[0],O[1]-I[1]])[0]*(j=[(C=a)[0]-(T=o)[0],C[1]-T[1]])[1]-B[1]*j[0]!=0&&di(T,C,I,O)&&di(I,O,T,C))return!0;var T,C,I,O,B,j;return!1}function w0(o,a){for(var p=0;p<o.length;++p)if(!Yn(o[p],a))return!1;for(var h=0;h<o.length-1;++h)if(Ya(o[h],o[h+1],a))return!1;return!0}function R0(o,a){for(var p=0;p<a.length;p++)if(w0(o,a[p]))return!0;return!1}function Pp(o,a,p){for(var h=[],_=0;_<o.length;_++){for(var v=[],P=0;P<o[_].length;P++){var T=wr(o[_][P],p);rt(a,T),v.push(T)}h.push(v)}return h}function Il(o,a,p){for(var h=[],_=0;_<o.length;_++){var v=Pp(o[_],a,p);h.push(v)}return h}function ec(o,a,p,h){if(o[0]<p[0]||o[0]>p[2]){var _=.5*h,v=o[0]-p[0]>_?-h:p[0]-o[0]>_?h:0;v===0&&(v=o[0]-p[2]>_?-h:p[2]-o[0]>_?h:0),o[0]+=v}rt(a,o)}function C0(o,a,p,h){for(var _=8192*Math.pow(2,h.z),v=[8192*h.x,8192*h.y],P=[],T=0,C=o;T<C.length;T+=1)for(var I=0,O=C[T];I<O.length;I+=1){var B=O[I],j=[B.x+v[0],B.y+v[1]];ec(j,a,p,_),P.push(j)}return P}function Oc(o,a,p,h){for(var _,v=8192*Math.pow(2,h.z),P=[8192*h.x,8192*h.y],T=[],C=0,I=o;C<I.length;C+=1){for(var O=[],B=0,j=I[C];B<j.length;B+=1){var Y=j[B],le=[Y.x+P[0],Y.y+P[1]];rt(a,le),O.push(le)}T.push(O)}if(a[2]-a[0]<=v/2){(_=a)[0]=_[1]=1/0,_[2]=_[3]=-1/0;for(var he=0,Re=T;he<Re.length;he+=1)for(var be=0,Ve=Re[he];be<Ve.length;be+=1)ec(Ve[be],a,p,v)}return T}we.parse=function(o,a){if(o.length!==2)return a.error("Expected one argument.");var p=o[1];if(typeof p!="object"||Array.isArray(p))return a.error("Collator options argument must be an object.");var h=a.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,Wt);if(!h)return null;var _=a.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,Wt);if(!_)return null;var v=null;return p.locale&&!(v=a.parse(p.locale,1,or))?null:new we(h,_,v)},we.prototype.evaluate=function(o){return new Bi(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)},we.prototype.eachChild=function(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)},we.prototype.outputDefined=function(){return!1},we.prototype.serialize=function(){var o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]};var Ui=function(o,a){this.type=Wt,this.geojson=o,this.geometries=a};function gu(o){if(o instanceof oe&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof Ui)return!1;var a=!0;return o.eachChild(function(p){a&&!gu(p)&&(a=!1)}),a}function vu(o){if(o instanceof oe&&o.name==="feature-state")return!1;var a=!0;return o.eachChild(function(p){a&&!vu(p)&&(a=!1)}),a}function bs(o,a){if(o instanceof oe&&a.indexOf(o.name)>=0)return!1;var p=!0;return o.eachChild(function(h){p&&!bs(h,a)&&(p=!1)}),p}Ui.parse=function(o,a){if(o.length!==2)return a.error("'within' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(Xa(o[1])){var p=o[1];if(p.type==="FeatureCollection")for(var h=0;h<p.features.length;++h){var _=p.features[h].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Ui(p,p.features[h].geometry)}else if(p.type==="Feature"){var v=p.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Ui(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new Ui(p,p)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ui.prototype.evaluate=function(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(a,p){var h=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(p.type==="Polygon"){var P=Pp(p.coordinates,_,v),T=C0(a.geometry(),h,_,v);if(!zt(h,_))return!1;for(var C=0,I=T;C<I.length;C+=1)if(!Yn(I[C],P))return!1}if(p.type==="MultiPolygon"){var O=Il(p.coordinates,_,v),B=C0(a.geometry(),h,_,v);if(!zt(h,_))return!1;for(var j=0,Y=B;j<Y.length;j+=1)if(!wi(Y[j],O))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(a,p){var h=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(p.type==="Polygon"){var P=Pp(p.coordinates,_,v),T=Oc(a.geometry(),h,_,v);if(!zt(h,_))return!1;for(var C=0,I=T;C<I.length;C+=1)if(!w0(I[C],P))return!1}if(p.type==="MultiPolygon"){var O=Il(p.coordinates,_,v),B=Oc(a.geometry(),h,_,v);if(!zt(h,_))return!1;for(var j=0,Y=B;j<Y.length;j+=1)if(!R0(Y[j],O))return!1}return!0}(o,this.geometries)}return!1},Ui.prototype.eachChild=function(){},Ui.prototype.outputDefined=function(){return!0},Ui.prototype.serialize=function(){return["within",this.geojson]};var Fs=function(o,a){this.type=a.type,this.name=o,this.boundExpression=a};Fs.parse=function(o,a){if(o.length!==2||typeof o[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");var p=o[1];return a.scope.has(p)?new Fs(p,a.scope.get(p)):a.error('Unknown variable "'+p+'". Make sure "'+p+'" has been bound in an enclosing "let" expression before using it.',1)},Fs.prototype.evaluate=function(o){return this.boundExpression.evaluate(o)},Fs.prototype.eachChild=function(){},Fs.prototype.outputDefined=function(){return!1},Fs.prototype.serialize=function(){return["var",this.name]};var $s=function(o,a,p,h,_){a===void 0&&(a=[]),h===void 0&&(h=new _r),_===void 0&&(_=[]),this.registry=o,this.path=a,this.key=a.map(function(v){return"["+v+"]"}).join(""),this.scope=h,this.errors=_,this.expectedType=p};function tc(o,a){for(var p,h=o.length-1,_=0,v=h,P=0;_<=v;)if((p=o[P=Math.floor((_+v)/2)])<=a){if(P===h||a<o[P+1])return P;_=P+1}else{if(!(p>a))throw new _n("Input is not a number.");v=P-1}return 0}$s.prototype.parse=function(o,a,p,h,_){return _===void 0&&(_={}),a?this.concat(a,p,h)._parse(o,_):this._parse(o,_)},$s.prototype._parse=function(o,a){function p(I,O,B){return B==="assert"?new cn(O,[I]):B==="coerce"?new Fa(O,[I]):I}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var h=o[0];if(typeof h!="string")return this.error("Expression name must be a string, but found "+typeof h+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var _=this.registry[h];if(_){var v=_.parse(o,this);if(!v)return null;if(this.expectedType){var P=this.expectedType,T=v.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||T.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||T.kind!=="value"&&T.kind!=="string"){if(this.checkSubtype(P,T))return null}else v=p(v,P,a.typeAnnotation||"coerce");else v=p(v,P,a.typeAnnotation||"assert")}if(!(v instanceof li)&&v.type.kind!=="resolvedImage"&&function I(O){if(O instanceof Fs)return I(O.boundExpression);if(O instanceof oe&&O.name==="error"||O instanceof we||O instanceof Ui)return!1;var B=O instanceof Fa||O instanceof cn,j=!0;return O.eachChild(function(Y){j=B?j&&I(Y):j&&Y instanceof li}),!!j&&gu(O)&&bs(O,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(v)){var C=new Z;try{v=new li(v.type,v.evaluate(C))}catch(I){return this.error(I.message),null}}return v}return this.error('Unknown expression "'+h+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof o+" instead.")},$s.prototype.concat=function(o,a,p){var h=typeof o=="number"?this.path.concat(o):this.path,_=p?this.scope.concat(p):this.scope;return new $s(this.registry,h,a||null,_,this.errors)},$s.prototype.error=function(o){for(var a=[],p=arguments.length-1;p-- >0;)a[p]=arguments[p+1];var h=""+this.key+a.map(function(_){return"["+_+"]"}).join("");this.errors.push(new wt(h,o))},$s.prototype.checkSubtype=function(o,a){var p=Ro(o,a);return p&&this.error(p),p};var Aa=function(o,a,p){this.type=o,this.input=a,this.labels=[],this.outputs=[];for(var h=0,_=p;h<_.length;h+=1){var v=_[h],P=v[1];this.labels.push(v[0]),this.outputs.push(P)}};function Bn(o,a,p){return o*(1-p)+a*p}Aa.parse=function(o,a){if(o.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return a.error("Expected an even number of arguments.");var p=a.parse(o[1],1,dt);if(!p)return null;var h=[],_=null;a.expectedType&&a.expectedType.kind!=="value"&&(_=a.expectedType);for(var v=1;v<o.length;v+=2){var P=v===1?-1/0:o[v],T=o[v+1],C=v,I=v+1;if(typeof P!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',C);if(h.length&&h[h.length-1][0]>=P)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',C);var O=a.parse(T,I,_);if(!O)return null;_=_||O.type,h.push([P,O])}return new Aa(_,p,h)},Aa.prototype.evaluate=function(o){var a=this.labels,p=this.outputs;if(a.length===1)return p[0].evaluate(o);var h=this.input.evaluate(o);if(h<=a[0])return p[0].evaluate(o);var _=a.length;return h>=a[_-1]?p[_-1].evaluate(o):p[tc(a,h)].evaluate(o)},Aa.prototype.eachChild=function(o){o(this.input);for(var a=0,p=this.outputs;a<p.length;a+=1)o(p[a])},Aa.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},Aa.prototype.serialize=function(){for(var o=["step",this.input.serialize()],a=0;a<this.labels.length;a++)a>0&&o.push(this.labels[a]),o.push(this.outputs[a].serialize());return o};var Eu=Object.freeze({__proto__:null,number:Bn,color:function(o,a,p){return new xo(Bn(o.r,a.r,p),Bn(o.g,a.g,p),Bn(o.b,a.b,p),Bn(o.a,a.a,p))},array:function(o,a,p){return o.map(function(h,_){return Bn(h,a[_],p)})}}),qs=6/29*3*(6/29),Lc=Math.PI/180,M0=180/Math.PI;function Bc(o){return o>.008856451679035631?Math.pow(o,1/3):o/qs+4/29}function Nl(o){return o>6/29?o*o*o:qs*(o-4/29)}function Dl(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Ol(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function I0(o){var a=Ol(o.r),p=Ol(o.g),h=Ol(o.b),_=Bc((.4124564*a+.3575761*p+.1804375*h)/.95047),v=Bc((.2126729*a+.7151522*p+.072175*h)/1);return{l:116*v-16,a:500*(_-v),b:200*(v-Bc((.0193339*a+.119192*p+.9503041*h)/1.08883)),alpha:o.a}}function N0(o){var a=(o.l+16)/116,p=isNaN(o.a)?a:a+o.a/500,h=isNaN(o.b)?a:a-o.b/200;return a=1*Nl(a),p=.95047*Nl(p),h=1.08883*Nl(h),new xo(Dl(3.2404542*p-1.5371385*a-.4985314*h),Dl(-.969266*p+1.8760108*a+.041556*h),Dl(.0556434*p-.2040259*a+1.0572252*h),o.alpha)}function J1(o,a,p){var h=a-o;return o+p*(h>180||h<-180?h-360*Math.round(h/360):h)}var rc={forward:I0,reverse:N0,interpolate:function(o,a,p){return{l:Bn(o.l,a.l,p),a:Bn(o.a,a.a,p),b:Bn(o.b,a.b,p),alpha:Bn(o.alpha,a.alpha,p)}}},As={forward:function(o){var a=I0(o),p=a.l,h=a.a,_=a.b,v=Math.atan2(_,h)*M0;return{h:v<0?v+360:v,c:Math.sqrt(h*h+_*_),l:p,alpha:o.a}},reverse:function(o){var a=o.h*Lc,p=o.c;return N0({l:o.l,a:Math.cos(a)*p,b:Math.sin(a)*p,alpha:o.alpha})},interpolate:function(o,a,p){return{h:J1(o.h,a.h,p),c:Bn(o.c,a.c,p),l:Bn(o.l,a.l,p),alpha:Bn(o.alpha,a.alpha,p)}}},D0=Object.freeze({__proto__:null,lab:rc,hcl:As}),ki=function(o,a,p,h,_){this.type=o,this.operator=a,this.interpolation=p,this.input=h,this.labels=[],this.outputs=[];for(var v=0,P=_;v<P.length;v+=1){var T=P[v],C=T[1];this.labels.push(T[0]),this.outputs.push(C)}};function Qu(o,a,p,h){var _=h-p,v=o-p;return _===0?0:a===1?v/_:(Math.pow(a,v)-1)/(Math.pow(a,_)-1)}ki.interpolationFactor=function(o,a,p,h){var _=0;if(o.name==="exponential")_=Qu(a,o.base,p,h);else if(o.name==="linear")_=Qu(a,1,p,h);else if(o.name==="cubic-bezier"){var v=o.controlPoints;_=new m(v[0],v[1],v[2],v[3]).solve(Qu(a,1,p,h))}return _},ki.parse=function(o,a){var p=o[0],h=o[1],_=o[2],v=o.slice(3);if(!Array.isArray(h)||h.length===0)return a.error("Expected an interpolation type expression.",1);if(h[0]==="linear")h={name:"linear"};else if(h[0]==="exponential"){var P=h[1];if(typeof P!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);h={name:"exponential",base:P}}else{if(h[0]!=="cubic-bezier")return a.error("Unknown interpolation type "+String(h[0]),1,0);var T=h.slice(1);if(T.length!==4||T.some(function(Re){return typeof Re!="number"||Re<0||Re>1}))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);h={name:"cubic-bezier",controlPoints:T}}if(o.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(!(_=a.parse(_,2,dt)))return null;var C=[],I=null;p==="interpolate-hcl"||p==="interpolate-lab"?I=Xt:a.expectedType&&a.expectedType.kind!=="value"&&(I=a.expectedType);for(var O=0;O<v.length;O+=2){var B=v[O],j=v[O+1],Y=O+3,le=O+4;if(typeof B!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Y);if(C.length&&C[C.length-1][0]>=B)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Y);var he=a.parse(j,le,I);if(!he)return null;I=I||he.type,C.push([B,he])}return I.kind==="number"||I.kind==="color"||I.kind==="array"&&I.itemType.kind==="number"&&typeof I.N=="number"?new ki(I,p,h,_,C):a.error("Type "+so(I)+" is not interpolatable.")},ki.prototype.evaluate=function(o){var a=this.labels,p=this.outputs;if(a.length===1)return p[0].evaluate(o);var h=this.input.evaluate(o);if(h<=a[0])return p[0].evaluate(o);var _=a.length;if(h>=a[_-1])return p[_-1].evaluate(o);var v=tc(a,h),P=ki.interpolationFactor(this.interpolation,h,a[v],a[v+1]),T=p[v].evaluate(o),C=p[v+1].evaluate(o);return this.operator==="interpolate"?Eu[this.type.kind.toLowerCase()](T,C,P):this.operator==="interpolate-hcl"?As.reverse(As.interpolate(As.forward(T),As.forward(C),P)):rc.reverse(rc.interpolate(rc.forward(T),rc.forward(C),P))},ki.prototype.eachChild=function(o){o(this.input);for(var a=0,p=this.outputs;a<p.length;a+=1)o(p[a])},ki.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},ki.prototype.serialize=function(){var o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var a=[this.operator,o,this.input.serialize()],p=0;p<this.labels.length;p++)a.push(this.labels[p],this.outputs[p].serialize());return a};var xu=function(o,a){this.type=o,this.args=a};xu.parse=function(o,a){if(o.length<2)return a.error("Expectected at least one argument.");var p=null,h=a.expectedType;h&&h.kind!=="value"&&(p=h);for(var _=[],v=0,P=o.slice(1);v<P.length;v+=1){var T=a.parse(P[v],1+_.length,p,void 0,{typeAnnotation:"omit"});if(!T)return null;p=p||T.type,_.push(T)}var C=h&&_.some(function(I){return Ro(h,I.type)});return new xu(C?er:p,_)},xu.prototype.evaluate=function(o){for(var a,p=null,h=0,_=0,v=this.args;_<v.length&&(h++,(p=v[_].evaluate(o))&&p instanceof En&&!p.available&&(a||(a=p.name),p=null,h===this.args.length&&(p=a)),p===null);_+=1);return p},xu.prototype.eachChild=function(o){this.args.forEach(o)},xu.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},xu.prototype.serialize=function(){var o=["coalesce"];return this.eachChild(function(a){o.push(a.serialize())}),o};var La=function(o,a){this.type=a.type,this.bindings=[].concat(o),this.result=a};La.prototype.evaluate=function(o){return this.result.evaluate(o)},La.prototype.eachChild=function(o){for(var a=0,p=this.bindings;a<p.length;a+=1)o(p[a][1]);o(this.result)},La.parse=function(o,a){if(o.length<4)return a.error("Expected at least 3 arguments, but found "+(o.length-1)+" instead.");for(var p=[],h=1;h<o.length-1;h+=2){var _=o[h];if(typeof _!="string")return a.error("Expected string, but found "+typeof _+" instead.",h);if(/[^a-zA-Z0-9_]/.test(_))return a.error("Variable names must contain only alphanumeric characters or '_'.",h);var v=a.parse(o[h+1],h+1);if(!v)return null;p.push([_,v])}var P=a.parse(o[o.length-1],o.length-1,a.expectedType,p);return P?new La(p,P):null},La.prototype.outputDefined=function(){return this.result.outputDefined()},La.prototype.serialize=function(){for(var o=["let"],a=0,p=this.bindings;a<p.length;a+=1){var h=p[a];o.push(h[0],h[1].serialize())}return o.push(this.result.serialize()),o};var Pu=function(o,a,p){this.type=o,this.index=a,this.input=p};Pu.parse=function(o,a){if(o.length!==3)return a.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var p=a.parse(o[1],1,dt),h=a.parse(o[2],2,No(a.expectedType||er));return p&&h?new Pu(h.type.itemType,p,h):null},Pu.prototype.evaluate=function(o){var a=this.index.evaluate(o),p=this.input.evaluate(o);if(a<0)throw new _n("Array index out of bounds: "+a+" < 0.");if(a>=p.length)throw new _n("Array index out of bounds: "+a+" > "+(p.length-1)+".");if(a!==Math.floor(a))throw new _n("Array index must be an integer, but found "+a+" instead.");return p[a]},Pu.prototype.eachChild=function(o){o(this.index),o(this.input)},Pu.prototype.outputDefined=function(){return!1},Pu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var $a=function(o,a){this.type=Wt,this.needle=o,this.haystack=a};$a.parse=function(o,a){if(o.length!==3)return a.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var p=a.parse(o[1],1,er),h=a.parse(o[2],2,er);return p&&h?tn(p.type,[Wt,or,dt,yr,er])?new $a(p,h):a.error("Expected first argument to be of type boolean, string, number or null, but found "+so(p.type)+" instead"):null},$a.prototype.evaluate=function(o){var a=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!p)return!1;if(!zo(a,["boolean","string","number","null"]))throw new _n("Expected first argument to be of type boolean, string, number or null, but found "+so(mn(a))+" instead.");if(!zo(p,["string","array"]))throw new _n("Expected second argument to be of type array or string, but found "+so(mn(p))+" instead.");return p.indexOf(a)>=0},$a.prototype.eachChild=function(o){o(this.needle),o(this.haystack)},$a.prototype.outputDefined=function(){return!0},$a.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ks=function(o,a,p){this.type=dt,this.needle=o,this.haystack=a,this.fromIndex=p};Ks.parse=function(o,a){if(o.length<=2||o.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var p=a.parse(o[1],1,er),h=a.parse(o[2],2,er);if(!p||!h)return null;if(!tn(p.type,[Wt,or,dt,yr,er]))return a.error("Expected first argument to be of type boolean, string, number or null, but found "+so(p.type)+" instead");if(o.length===4){var _=a.parse(o[3],3,dt);return _?new Ks(p,h,_):null}return new Ks(p,h)},Ks.prototype.evaluate=function(o){var a=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!zo(a,["boolean","string","number","null"]))throw new _n("Expected first argument to be of type boolean, string, number or null, but found "+so(mn(a))+" instead.");if(!zo(p,["string","array"]))throw new _n("Expected second argument to be of type array or string, but found "+so(mn(p))+" instead.");if(this.fromIndex){var h=this.fromIndex.evaluate(o);return p.indexOf(a,h)}return p.indexOf(a)},Ks.prototype.eachChild=function(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)},Ks.prototype.outputDefined=function(){return!1},Ks.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ba=function(o,a,p,h,_,v){this.inputType=o,this.type=a,this.input=p,this.cases=h,this.outputs=_,this.otherwise=v};Ba.parse=function(o,a){if(o.length<5)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if(o.length%2!=1)return a.error("Expected an even number of arguments.");var p,h;a.expectedType&&a.expectedType.kind!=="value"&&(h=a.expectedType);for(var _={},v=[],P=2;P<o.length-1;P+=2){var T=o[P],C=o[P+1];Array.isArray(T)||(T=[T]);var I=a.concat(P);if(T.length===0)return I.error("Expected at least one branch label.");for(var O=0,B=T;O<B.length;O+=1){var j=B[O];if(typeof j!="number"&&typeof j!="string")return I.error("Branch labels must be numbers or strings.");if(typeof j=="number"&&Math.abs(j)>Number.MAX_SAFE_INTEGER)return I.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof j=="number"&&Math.floor(j)!==j)return I.error("Numeric branch labels must be integer values.");if(p){if(I.checkSubtype(p,mn(j)))return null}else p=mn(j);if(_[String(j)]!==void 0)return I.error("Branch labels must be unique.");_[String(j)]=v.length}var Y=a.parse(C,P,h);if(!Y)return null;h=h||Y.type,v.push(Y)}var le=a.parse(o[1],1,er);if(!le)return null;var he=a.parse(o[o.length-1],o.length-1,h);return he?le.type.kind!=="value"&&a.concat(1).checkSubtype(p,le.type)?null:new Ba(p,h,le,_,v,he):null},Ba.prototype.evaluate=function(o){var a=this.input.evaluate(o);return(mn(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(o)},Ba.prototype.eachChild=function(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)},Ba.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})&&this.otherwise.outputDefined()},Ba.prototype.serialize=function(){for(var o=this,a=["match",this.input.serialize()],p=[],h={},_=0,v=Object.keys(this.cases).sort();_<v.length;_+=1){var P=v[_];(B=h[this.cases[P]])===void 0?(h[this.cases[P]]=p.length,p.push([this.cases[P],[P]])):p[B][1].push(P)}for(var T=function(Y){return o.inputType.kind==="number"?Number(Y):Y},C=0,I=p;C<I.length;C+=1){var O=I[C],B=O[0],j=O[1];a.push(j.length===1?T(j[0]):j.map(T)),a.push(this.outputs[outputIndex$1].serialize())}return a.push(this.otherwise.serialize()),a};var Qs=function(o,a,p){this.type=o,this.branches=a,this.otherwise=p};Qs.parse=function(o,a){if(o.length<4)return a.error("Expected at least 3 arguments, but found only "+(o.length-1)+".");if(o.length%2!=0)return a.error("Expected an odd number of arguments.");var p;a.expectedType&&a.expectedType.kind!=="value"&&(p=a.expectedType);for(var h=[],_=1;_<o.length-1;_+=2){var v=a.parse(o[_],_,Wt);if(!v)return null;var P=a.parse(o[_+1],_+1,p);if(!P)return null;h.push([v,P]),p=p||P.type}var T=a.parse(o[o.length-1],o.length-1,p);return T?new Qs(p,h,T):null},Qs.prototype.evaluate=function(o){for(var a=0,p=this.branches;a<p.length;a+=1){var h=p[a],_=h[1];if(h[0].evaluate(o))return _.evaluate(o)}return this.otherwise.evaluate(o)},Qs.prototype.eachChild=function(o){for(var a=0,p=this.branches;a<p.length;a+=1){var h=p[a],_=h[1];o(h[0]),o(_)}o(this.otherwise)},Qs.prototype.outputDefined=function(){return this.branches.every(function(o){return o[1].outputDefined()})&&this.otherwise.outputDefined()},Qs.prototype.serialize=function(){var o=["case"];return this.eachChild(function(a){o.push(a.serialize())}),o};var bu=function(o,a,p,h){this.type=o,this.input=a,this.beginIndex=p,this.endIndex=h};function O0(o,a){return o==="=="||o==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function L0(o,a,p,h){return h.compare(a,p)===0}function on(o,a,p){var h=o!=="=="&&o!=="!=";return function(){function _(v,P,T){this.type=Wt,this.lhs=v,this.rhs=P,this.collator=T,this.hasUntypedArgument=v.type.kind==="value"||P.type.kind==="value"}return _.parse=function(v,P){if(v.length!==3&&v.length!==4)return P.error("Expected two or three arguments.");var T=v[0],C=P.parse(v[1],1,er);if(!C)return null;if(!O0(T,C.type))return P.concat(1).error('"'+T+`" comparisons are not supported for type '`+so(C.type)+"'.");var I=P.parse(v[2],2,er);if(!I)return null;if(!O0(T,I.type))return P.concat(2).error('"'+T+`" comparisons are not supported for type '`+so(I.type)+"'.");if(C.type.kind!==I.type.kind&&C.type.kind!=="value"&&I.type.kind!=="value")return P.error("Cannot compare types '"+so(C.type)+"' and '"+so(I.type)+"'.");h&&(C.type.kind==="value"&&I.type.kind!=="value"?C=new cn(I.type,[C]):C.type.kind!=="value"&&I.type.kind==="value"&&(I=new cn(C.type,[I])));var O=null;if(v.length===4){if(C.type.kind!=="string"&&I.type.kind!=="string"&&C.type.kind!=="value"&&I.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(!(O=P.parse(v[3],3,So)))return null}return new _(C,I,O)},_.prototype.evaluate=function(v){var P=this.lhs.evaluate(v),T=this.rhs.evaluate(v);if(h&&this.hasUntypedArgument){var C=mn(P),I=mn(T);if(C.kind!==I.kind||C.kind!=="string"&&C.kind!=="number")throw new _n('Expected arguments for "'+o+'" to be (string, string) or (number, number), but found ('+C.kind+", "+I.kind+") instead.")}if(this.collator&&!h&&this.hasUntypedArgument){var O=mn(P),B=mn(T);if(O.kind!=="string"||B.kind!=="string")return a(v,P,T)}return this.collator?p(v,P,T,this.collator.evaluate(v)):a(v,P,T)},_.prototype.eachChild=function(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)},_.prototype.outputDefined=function(){return!0},_.prototype.serialize=function(){var v=[o];return this.eachChild(function(P){v.push(P.serialize())}),v},_}()}bu.parse=function(o,a){if(o.length<=2||o.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var p=a.parse(o[1],1,er),h=a.parse(o[2],2,dt);if(!p||!h)return null;if(!tn(p.type,[No(er),or,er]))return a.error("Expected first argument to be of type array or string, but found "+so(p.type)+" instead");if(o.length===4){var _=a.parse(o[3],3,dt);return _?new bu(p.type,p,h,_):null}return new bu(p.type,p,h)},bu.prototype.evaluate=function(o){var a=this.input.evaluate(o),p=this.beginIndex.evaluate(o);if(!zo(a,["string","array"]))throw new _n("Expected first argument to be of type array or string, but found "+so(mn(a))+" instead.");if(this.endIndex){var h=this.endIndex.evaluate(o);return a.slice(p,h)}return a.slice(p)},bu.prototype.eachChild=function(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)},bu.prototype.outputDefined=function(){return!1},bu.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var ed=on("==",function(o,a,p){return a===p},L0),Uc=on("!=",function(o,a,p){return a!==p},function(o,a,p,h){return!L0(0,a,p,h)}),Ll=on("<",function(o,a,p){return a<p},function(o,a,p,h){return h.compare(a,p)<0}),Un=on(">",function(o,a,p){return a>p},function(o,a,p,h){return h.compare(a,p)>0}),Bl=on("<=",function(o,a,p){return a<=p},function(o,a,p,h){return h.compare(a,p)<=0}),B0=on(">=",function(o,a,p){return a>=p},function(o,a,p,h){return h.compare(a,p)>=0}),la=function(o,a,p,h,_){this.type=or,this.number=o,this.locale=a,this.currency=p,this.minFractionDigits=h,this.maxFractionDigits=_};la.parse=function(o,a){if(o.length!==3)return a.error("Expected two arguments.");var p=a.parse(o[1],1,dt);if(!p)return null;var h=o[2];if(typeof h!="object"||Array.isArray(h))return a.error("NumberFormat options argument must be an object.");var _=null;if(h.locale&&!(_=a.parse(h.locale,1,or)))return null;var v=null;if(h.currency&&!(v=a.parse(h.currency,1,or)))return null;var P=null;if(h["min-fraction-digits"]&&!(P=a.parse(h["min-fraction-digits"],1,dt)))return null;var T=null;return h["max-fraction-digits"]&&!(T=a.parse(h["max-fraction-digits"],1,dt))?null:new la(p,_,v,P,T)},la.prototype.evaluate=function(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))},la.prototype.eachChild=function(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)},la.prototype.outputDefined=function(){return!1},la.prototype.serialize=function(){var o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]};var Js=function(o){this.type=dt,this.input=o};Js.parse=function(o,a){if(o.length!==2)return a.error("Expected 1 argument, but found "+(o.length-1)+" instead.");var p=a.parse(o[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?a.error("Expected argument of type string or array, but found "+so(p.type)+" instead."):new Js(p):null},Js.prototype.evaluate=function(o){var a=this.input.evaluate(o);if(typeof a=="string"||Array.isArray(a))return a.length;throw new _n("Expected value to be of type string or array, but found "+so(mn(a))+" instead.")},Js.prototype.eachChild=function(o){o(this.input)},Js.prototype.outputDefined=function(){return!1},Js.prototype.serialize=function(){var o=["length"];return this.eachChild(function(a){o.push(a.serialize())}),o};var Ss={"==":ed,"!=":Uc,">":Un,"<":Ll,">=":B0,"<=":Bl,array:cn,at:Pu,boolean:cn,case:Qs,coalesce:xu,collator:we,format:ea,image:Zi,in:$a,"index-of":Ks,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Js,let:La,literal:li,match:Ba,number:cn,"number-format":la,object:cn,slice:bu,step:Aa,string:cn,"to-boolean":Fa,"to-color":Fa,"to-number":Fa,"to-string":Fa,var:Fs,within:Ui};function Fu(o,a){var p=a[0],h=a[1],_=a[2],v=a[3];p=p.evaluate(o),h=h.evaluate(o),_=_.evaluate(o);var P=v?v.evaluate(o):1,T=_u(p,h,_,P);if(T)throw new _n(T);return new xo(p/255*P,h/255*P,_/255*P,P)}function kc(o,a){return o in a}function bp(o,a){var p=a[o];return p===void 0?null:p}function ls(o){return{type:o}}function oc(o){return{result:"success",value:o}}function Au(o){return{result:"error",value:o}}function eu(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function Ul(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function nc(o){return!!o.expression&&o.expression.interpolated}function dn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function zc(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function td(o){return o}function Su(o,a,p){return o!==void 0?o:a!==void 0?a:p!==void 0?p:void 0}function ic(o,a,p,h,_){return Su(typeof p===_?h[p]:void 0,o.default,a.default)}function kl(o,a,p){if(dn(p)!=="number")return Su(o.default,a.default);var h=o.stops.length;if(h===1||p<=o.stops[0][0])return o.stops[0][1];if(p>=o.stops[h-1][0])return o.stops[h-1][1];var _=tc(o.stops.map(function(v){return v[0]}),p);return o.stops[_][1]}function Vc(o,a,p){var h=o.base!==void 0?o.base:1;if(dn(p)!=="number")return Su(o.default,a.default);var _=o.stops.length;if(_===1||p<=o.stops[0][0])return o.stops[0][1];if(p>=o.stops[_-1][0])return o.stops[_-1][1];var v=tc(o.stops.map(function(B){return B[0]}),p),P=function(B,j,Y,le){var he=le-Y,Re=B-Y;return he===0?0:j===1?Re/he:(Math.pow(j,Re)-1)/(Math.pow(j,he)-1)}(p,h,o.stops[v][0],o.stops[v+1][0]),T=o.stops[v][1],C=o.stops[v+1][1],I=Eu[a.type]||td;if(o.colorSpace&&o.colorSpace!=="rgb"){var O=D0[o.colorSpace];I=function(B,j){return O.reverse(O.interpolate(O.forward(B),O.forward(j),P))}}return typeof T.evaluate=="function"?{evaluate:function(){for(var B=[],j=arguments.length;j--;)B[j]=arguments[j];var Y=T.evaluate.apply(void 0,B),le=C.evaluate.apply(void 0,B);if(Y!==void 0&&le!==void 0)return I(Y,le,P)}}:I(T,C,P)}function tu(o,a,p){return a.type==="color"?p=xo.parse(p):a.type==="formatted"?p=Ln.fromString(p.toString()):a.type==="resolvedImage"?p=En.fromString(p.toString()):dn(p)===a.type||a.type==="enum"&&a.values[p]||(p=void 0),Su(p,o.default,a.default)}oe.register(Ss,{error:[{kind:"error"},[or],function(o,a){throw new _n(a[0].evaluate(o))}],typeof:[or,[er],function(o,a){return so(mn(a[0].evaluate(o)))}],"to-rgba":[No(dt,4),[Xt],function(o,a){return a[0].evaluate(o).toArray()}],rgb:[Xt,[dt,dt,dt],Fu],rgba:[Xt,[dt,dt,dt,dt],Fu],has:{type:Wt,overloads:[[[or],function(o,a){return kc(a[0].evaluate(o),o.properties())}],[[or,ao],function(o,a){var p=a[1];return kc(a[0].evaluate(o),p.evaluate(o))}]]},get:{type:er,overloads:[[[or],function(o,a){return bp(a[0].evaluate(o),o.properties())}],[[or,ao],function(o,a){var p=a[1];return bp(a[0].evaluate(o),p.evaluate(o))}]]},"feature-state":[er,[or],function(o,a){return bp(a[0].evaluate(o),o.featureState||{})}],properties:[ao,[],function(o){return o.properties()}],"geometry-type":[or,[],function(o){return o.geometryType()}],id:[er,[],function(o){return o.id()}],zoom:[dt,[],function(o){return o.globals.zoom}],"heatmap-density":[dt,[],function(o){return o.globals.heatmapDensity||0}],"line-progress":[dt,[],function(o){return o.globals.lineProgress||0}],accumulated:[er,[],function(o){return o.globals.accumulated===void 0?null:o.globals.accumulated}],"+":[dt,ls(dt),function(o,a){for(var p=0,h=0,_=a;h<_.length;h+=1)p+=_[h].evaluate(o);return p}],"*":[dt,ls(dt),function(o,a){for(var p=1,h=0,_=a;h<_.length;h+=1)p*=_[h].evaluate(o);return p}],"-":{type:dt,overloads:[[[dt,dt],function(o,a){var p=a[1];return a[0].evaluate(o)-p.evaluate(o)}],[[dt],function(o,a){return-a[0].evaluate(o)}]]},"/":[dt,[dt,dt],function(o,a){var p=a[1];return a[0].evaluate(o)/p.evaluate(o)}],"%":[dt,[dt,dt],function(o,a){var p=a[1];return a[0].evaluate(o)%p.evaluate(o)}],ln2:[dt,[],function(){return Math.LN2}],pi:[dt,[],function(){return Math.PI}],e:[dt,[],function(){return Math.E}],"^":[dt,[dt,dt],function(o,a){var p=a[1];return Math.pow(a[0].evaluate(o),p.evaluate(o))}],sqrt:[dt,[dt],function(o,a){return Math.sqrt(a[0].evaluate(o))}],log10:[dt,[dt],function(o,a){return Math.log(a[0].evaluate(o))/Math.LN10}],ln:[dt,[dt],function(o,a){return Math.log(a[0].evaluate(o))}],log2:[dt,[dt],function(o,a){return Math.log(a[0].evaluate(o))/Math.LN2}],sin:[dt,[dt],function(o,a){return Math.sin(a[0].evaluate(o))}],cos:[dt,[dt],function(o,a){return Math.cos(a[0].evaluate(o))}],tan:[dt,[dt],function(o,a){return Math.tan(a[0].evaluate(o))}],asin:[dt,[dt],function(o,a){return Math.asin(a[0].evaluate(o))}],acos:[dt,[dt],function(o,a){return Math.acos(a[0].evaluate(o))}],atan:[dt,[dt],function(o,a){return Math.atan(a[0].evaluate(o))}],min:[dt,ls(dt),function(o,a){return Math.min.apply(Math,a.map(function(p){return p.evaluate(o)}))}],max:[dt,ls(dt),function(o,a){return Math.max.apply(Math,a.map(function(p){return p.evaluate(o)}))}],abs:[dt,[dt],function(o,a){return Math.abs(a[0].evaluate(o))}],round:[dt,[dt],function(o,a){var p=a[0].evaluate(o);return p<0?-Math.round(-p):Math.round(p)}],floor:[dt,[dt],function(o,a){return Math.floor(a[0].evaluate(o))}],ceil:[dt,[dt],function(o,a){return Math.ceil(a[0].evaluate(o))}],"filter-==":[Wt,[or,er],function(o,a){var p=a[0],h=a[1];return o.properties()[p.value]===h.value}],"filter-id-==":[Wt,[er],function(o,a){var p=a[0];return o.id()===p.value}],"filter-type-==":[Wt,[or],function(o,a){var p=a[0];return o.geometryType()===p.value}],"filter-<":[Wt,[or,er],function(o,a){var p=a[0],h=a[1],_=o.properties()[p.value],v=h.value;return typeof _==typeof v&&_<v}],"filter-id-<":[Wt,[er],function(o,a){var p=a[0],h=o.id(),_=p.value;return typeof h==typeof _&&h<_}],"filter->":[Wt,[or,er],function(o,a){var p=a[0],h=a[1],_=o.properties()[p.value],v=h.value;return typeof _==typeof v&&_>v}],"filter-id->":[Wt,[er],function(o,a){var p=a[0],h=o.id(),_=p.value;return typeof h==typeof _&&h>_}],"filter-<=":[Wt,[or,er],function(o,a){var p=a[0],h=a[1],_=o.properties()[p.value],v=h.value;return typeof _==typeof v&&_<=v}],"filter-id-<=":[Wt,[er],function(o,a){var p=a[0],h=o.id(),_=p.value;return typeof h==typeof _&&h<=_}],"filter->=":[Wt,[or,er],function(o,a){var p=a[0],h=a[1],_=o.properties()[p.value],v=h.value;return typeof _==typeof v&&_>=v}],"filter-id->=":[Wt,[er],function(o,a){var p=a[0],h=o.id(),_=p.value;return typeof h==typeof _&&h>=_}],"filter-has":[Wt,[er],function(o,a){return a[0].value in o.properties()}],"filter-has-id":[Wt,[],function(o){return o.id()!==null&&o.id()!==void 0}],"filter-type-in":[Wt,[No(or)],function(o,a){return a[0].value.indexOf(o.geometryType())>=0}],"filter-id-in":[Wt,[No(er)],function(o,a){return a[0].value.indexOf(o.id())>=0}],"filter-in-small":[Wt,[or,No(er)],function(o,a){var p=a[0];return a[1].value.indexOf(o.properties()[p.value])>=0}],"filter-in-large":[Wt,[or,No(er)],function(o,a){var p=a[0],h=a[1];return function(_,v,P,T){for(;P<=T;){var C=P+T>>1;if(v[C]===_)return!0;v[C]>_?T=C-1:P=C+1}return!1}(o.properties()[p.value],h.value,0,h.value.length-1)}],all:{type:Wt,overloads:[[[Wt,Wt],function(o,a){var p=a[1];return a[0].evaluate(o)&&p.evaluate(o)}],[ls(Wt),function(o,a){for(var p=0,h=a;p<h.length;p+=1)if(!h[p].evaluate(o))return!1;return!0}]]},any:{type:Wt,overloads:[[[Wt,Wt],function(o,a){var p=a[1];return a[0].evaluate(o)||p.evaluate(o)}],[ls(Wt),function(o,a){for(var p=0,h=a;p<h.length;p+=1)if(h[p].evaluate(o))return!0;return!1}]]},"!":[Wt,[Wt],function(o,a){return!a[0].evaluate(o)}],"is-supported-script":[Wt,[or],function(o,a){var p=o.globals&&o.globals.isSupportedScript;return!p||p(a[0].evaluate(o))}],upcase:[or,[or],function(o,a){return a[0].evaluate(o).toUpperCase()}],downcase:[or,[or],function(o,a){return a[0].evaluate(o).toLowerCase()}],concat:[or,ls(er),function(o,a){return a.map(function(p){return Ys(p.evaluate(o))}).join("")}],"resolved-locale":[or,[So],function(o,a){return a[0].evaluate(o).resolvedLocale()}]});var Tu=function(o,a){this.expression=o,this._warningHistory={},this._evaluator=new Z,this._defaultValue=a?function(p){return p.type==="color"&&zc(p.default)?new xo(0,0,0,0):p.type==="color"?xo.parse(p.default)||null:p.default===void 0?null:p.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null};function Ju(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in Ss}function Fp(o,a){var p=new $s(Ss,[],a?function(_){var v={color:Xt,string:or,number:dt,enum:or,boolean:Wt,formatted:en,resolvedImage:Eo};return _.type==="array"?No(v[_.value]||er,_.length):v[_.type]}(a):void 0),h=p.parse(o,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?oc(new Tu(h,a)):Au(p.errors)}Tu.prototype.evaluateWithoutErrorHandling=function(o,a,p,h,_,v){return this._evaluator.globals=o,this._evaluator.feature=a,this._evaluator.featureState=p,this._evaluator.canonical=h,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v,this.expression.evaluate(this._evaluator)},Tu.prototype.evaluate=function(o,a,p,h,_,v){this._evaluator.globals=o,this._evaluator.feature=a||null,this._evaluator.featureState=p||null,this._evaluator.canonical=h,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v||null;try{var P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new _n("Expected value to be one of "+Object.keys(this._enumValues).map(function(T){return JSON.stringify(T)}).join(", ")+", but found "+JSON.stringify(P)+" instead.");return P}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,typeof console<"u"&&console.warn(T.message)),this._defaultValue}};var ep=function(o,a){this.kind=o,this._styleExpression=a,this.isStateDependent=o!=="constant"&&!vu(a.expression)};ep.prototype.evaluateWithoutErrorHandling=function(o,a,p,h,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,a,p,h,_,v)},ep.prototype.evaluate=function(o,a,p,h,_,v){return this._styleExpression.evaluate(o,a,p,h,_,v)};var tp=function(o,a,p,h){this.kind=o,this.zoomStops=p,this._styleExpression=a,this.isStateDependent=o!=="camera"&&!vu(a.expression),this.interpolationType=h};function zl(o,a){if((o=Fp(o,a)).result==="error")return o;var p=o.value.expression,h=gu(p);if(!h&&!eu(a))return Au([new wt("","data expressions not supported")]);var _=bs(p,["zoom"]);if(!_&&!Ul(a))return Au([new wt("","zoom expressions not supported")]);var v=function P(T){var C=null;if(T instanceof La)C=P(T.result);else if(T instanceof xu)for(var I=0,O=T.args;I<O.length&&!(C=P(O[I]));I+=1);else(T instanceof Aa||T instanceof ki)&&T.input instanceof oe&&T.input.name==="zoom"&&(C=T);return C instanceof wt||T.eachChild(function(B){var j=P(B);j instanceof wt?C=j:!C&&j?C=new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):C&&j&&C!==j&&(C=new wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),C}(p);return v||_?v instanceof wt?Au([v]):v instanceof ki&&!nc(a)?Au([new wt("",'"interpolate" expressions cannot be used with this property')]):oc(v?new tp(h?"camera":"composite",o.value,v.labels,v instanceof ki?v.interpolation:void 0):new ep(h?"constant":"source",o.value)):Au([new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}tp.prototype.evaluateWithoutErrorHandling=function(o,a,p,h,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,a,p,h,_,v)},tp.prototype.evaluate=function(o,a,p,h,_,v){return this._styleExpression.evaluate(o,a,p,h,_,v)},tp.prototype.interpolationFactor=function(o,a,p){return this.interpolationType?ki.interpolationFactor(this.interpolationType,o,a,p):0};var rp=function(o,a){this._parameters=o,this._specification=a,ht(this,function p(h,_){var v,P,T,C=_.type==="color",I=h.stops&&typeof h.stops[0][0]=="object",O=I||!(I||h.property!==void 0),B=h.type||(nc(_)?"exponential":"interval");if(C&&((h=ht({},h)).stops&&(h.stops=h.stops.map(function(pr){return[pr[0],xo.parse(pr[1])]})),h.default=xo.parse(h.default?h.default:_.default)),h.colorSpace&&h.colorSpace!=="rgb"&&!D0[h.colorSpace])throw new Error("Unknown color space: "+h.colorSpace);if(B==="exponential")v=Vc;else if(B==="interval")v=kl;else if(B==="categorical"){v=ic,P=Object.create(null);for(var j=0,Y=h.stops;j<Y.length;j+=1){var le=Y[j];P[le[0]]=le[1]}T=typeof h.stops[0][0]}else{if(B!=="identity")throw new Error('Unknown function type "'+B+'"');v=tu}if(I){for(var he={},Re=[],be=0;be<h.stops.length;be++){var Ve=h.stops[be],Xe=Ve[0].zoom;he[Xe]===void 0&&(he[Xe]={zoom:Xe,type:h.type,property:h.property,default:h.default,stops:[]},Re.push(Xe)),he[Xe].stops.push([Ve[0].value,Ve[1]])}for(var nt=[],ut=0,vt=Re;ut<vt.length;ut+=1){var kt=vt[ut];nt.push([he[kt].zoom,p(he[kt],_)])}var qt={name:"linear"};return{kind:"composite",interpolationType:qt,interpolationFactor:ki.interpolationFactor.bind(void 0,qt),zoomStops:nt.map(function(pr){return pr[0]}),evaluate:function(pr,Br){var dr=pr.zoom;return Vc({stops:nt,base:h.base},_,dr).evaluate(dr,Br)}}}if(O){var Mr=B==="exponential"?{name:"exponential",base:h.base!==void 0?h.base:1}:null;return{kind:"camera",interpolationType:Mr,interpolationFactor:ki.interpolationFactor.bind(void 0,Mr),zoomStops:h.stops.map(function(pr){return pr[0]}),evaluate:function(pr){return v(h,_,pr.zoom,P,T)}}}return{kind:"source",evaluate:function(pr,Br){var dr=Br&&Br.properties?Br.properties[h.property]:void 0;return dr===void 0?Su(h.default,_.default):v(h,_,dr,P,T)}}}(this._parameters,this._specification))};function qa(o){var a=o.key,p=o.value,h=o.valueSpec||{},_=o.objectElementValidators||{},v=o.style,P=o.styleSpec,T=[],C=dn(p);if(C!=="object")return[new ge(a,p,"object expected, "+C+" found")];for(var I in p){var O=I.split(".")[0],B=h[O]||h["*"],j=void 0;if(_[O])j=_[O];else if(h[O])j=Do;else if(_["*"])j=_["*"];else{if(!h["*"]){T.push(new ge(a,p[I],'unknown property "'+I+'"'));continue}j=Do}T=T.concat(j({key:(a&&a+".")+I,value:p[I],valueSpec:B,style:v,styleSpec:P,object:p,objectKey:I},p))}for(var Y in h)_[Y]||h[Y].required&&h[Y].default===void 0&&p[Y]===void 0&&T.push(new ge(a,p,'missing required property "'+Y+'"'));return T}function Vl(o){var a=o.value,p=o.valueSpec,h=o.style,_=o.styleSpec,v=o.key,P=o.arrayElementValidator||Do;if(dn(a)!=="array")return[new ge(v,a,"array expected, "+dn(a)+" found")];if(p.length&&a.length!==p.length)return[new ge(v,a,"array length "+p.length+" expected, length "+a.length+" found")];if(p["min-length"]&&a.length<p["min-length"])return[new ge(v,a,"array length at least "+p["min-length"]+" expected, length "+a.length+" found")];var T={type:p.value,values:p.values};_.$version<7&&(T.function=p.function),dn(p.value)==="object"&&(T=p.value);for(var C=[],I=0;I<a.length;I++)C=C.concat(P({array:a,arrayIndex:I,value:a[I],valueSpec:T,style:h,styleSpec:_,key:v+"["+I+"]"}));return C}function Hl(o){var a=o.key,p=o.value,h=o.valueSpec,_=dn(p);return _==="number"&&p!=p&&(_="NaN"),_!=="number"?[new ge(a,p,"number expected, "+_+" found")]:"minimum"in h&&p<h.minimum?[new ge(a,p,p+" is less than the minimum value "+h.minimum)]:"maximum"in h&&p>h.maximum?[new ge(a,p,p+" is greater than the maximum value "+h.maximum)]:[]}function Gl(o){var a,p,h,_=o.valueSpec,v=Nt(o.value.type),P={},T=v!=="categorical"&&o.value.property===void 0,C=!T,I=dn(o.value.stops)==="array"&&dn(o.value.stops[0])==="array"&&dn(o.value.stops[0][0])==="object",O=qa({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(Y){if(v==="identity")return[new ge(Y.key,Y.value,'identity function may not have a "stops" property')];var le=[],he=Y.value;return le=le.concat(Vl({key:Y.key,value:he,valueSpec:Y.valueSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:B})),dn(he)==="array"&&he.length===0&&le.push(new ge(Y.key,he,"array must have at least one stop")),le},default:function(Y){return Do({key:Y.key,value:Y.value,valueSpec:_,style:Y.style,styleSpec:Y.styleSpec})}}});return v==="identity"&&T&&O.push(new ge(o.key,o.value,'missing required property "property"')),v==="identity"||o.value.stops||O.push(new ge(o.key,o.value,'missing required property "stops"')),v==="exponential"&&o.valueSpec.expression&&!nc(o.valueSpec)&&O.push(new ge(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(C&&!eu(o.valueSpec)?O.push(new ge(o.key,o.value,"property functions not supported")):T&&!Ul(o.valueSpec)&&O.push(new ge(o.key,o.value,"zoom functions not supported"))),v!=="categorical"&&!I||o.value.property!==void 0||O.push(new ge(o.key,o.value,'"property" property is required')),O;function B(Y){var le=[],he=Y.value,Re=Y.key;if(dn(he)!=="array")return[new ge(Re,he,"array expected, "+dn(he)+" found")];if(he.length!==2)return[new ge(Re,he,"array length 2 expected, length "+he.length+" found")];if(I){if(dn(he[0])!=="object")return[new ge(Re,he,"object expected, "+dn(he[0])+" found")];if(he[0].zoom===void 0)return[new ge(Re,he,"object stop key must have zoom")];if(he[0].value===void 0)return[new ge(Re,he,"object stop key must have value")];if(h&&h>Nt(he[0].zoom))return[new ge(Re,he[0].zoom,"stop zoom values must appear in ascending order")];Nt(he[0].zoom)!==h&&(h=Nt(he[0].zoom),p=void 0,P={}),le=le.concat(qa({key:Re+"[0]",value:he[0],valueSpec:{zoom:{}},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Hl,value:j}}))}else le=le.concat(j({key:Re+"[0]",value:he[0],valueSpec:{},style:Y.style,styleSpec:Y.styleSpec},he));return Ju(ct(he[1]))?le.concat([new ge(Re+"[1]",he[1],"expressions are not allowed in function stops.")]):le.concat(Do({key:Re+"[1]",value:he[1],valueSpec:_,style:Y.style,styleSpec:Y.styleSpec}))}function j(Y,le){var he=dn(Y.value),Re=Nt(Y.value),be=Y.value!==null?Y.value:le;if(a){if(he!==a)return[new ge(Y.key,be,he+" stop domain type must match previous stop domain type "+a)]}else a=he;if(he!=="number"&&he!=="string"&&he!=="boolean")return[new ge(Y.key,be,"stop domain value must be a number, string, or boolean")];if(he!=="number"&&v!=="categorical"){var Ve="number expected, "+he+" found";return eu(_)&&v===void 0&&(Ve+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ge(Y.key,be,Ve)]}return v!=="categorical"||he!=="number"||isFinite(Re)&&Math.floor(Re)===Re?v!=="categorical"&&he==="number"&&p!==void 0&&Re<p?[new ge(Y.key,be,"stop domain values must appear in ascending order")]:(p=Re,v==="categorical"&&Re in P?[new ge(Y.key,be,"stop domain values must be unique")]:(P[Re]=!0,[])):[new ge(Y.key,be,"integer expected, found "+Re)]}}function wu(o){var a=(o.expressionContext==="property"?zl:Fp)(ct(o.value),o.valueSpec);if(a.result==="error")return a.value.map(function(h){return new ge(""+o.key+h.key,o.value,h.message)});var p=a.value.expression||a.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!p.outputDefined())return[new ge(o.key,o.value,'Invalid data expression for "'+o.propertyKey+'". Output values must be contained as literals within the expression.')];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!vu(p))return[new ge(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!vu(p))return[new ge(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!bs(p,["zoom","feature-state"]))return[new ge(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!gu(p))return[new ge(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ts(o){var a=o.key,p=o.value,h=o.valueSpec,_=[];return Array.isArray(h.values)?h.values.indexOf(Nt(p))===-1&&_.push(new ge(a,p,"expected one of ["+h.values.join(", ")+"], "+JSON.stringify(p)+" found")):Object.keys(h.values).indexOf(Nt(p))===-1&&_.push(new ge(a,p,"expected one of ["+Object.keys(h.values).join(", ")+"], "+JSON.stringify(p)+" found")),_}function Ap(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(var a=0,p=o.slice(1);a<p.length;a+=1){var h=p[a];if(!Ap(h)&&typeof h!="boolean")return!1}return!0;default:return!0}}rp.deserialize=function(o){return new rp(o._parameters,o._specification)},rp.serialize=function(o){return{_parameters:o._parameters,_specification:o._specification}};var ac={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ru(o){if(o==null)return{filter:function(){return!0},needGeometry:!1};Ap(o)||(o=Hc(o));var a=Fp(o,ac);if(a.result==="error")throw new Error(a.value.map(function(p){return p.key+": "+p.message}).join(", "));return{filter:function(p,h,_){return a.value.evaluate(p,h,{},_)},needGeometry:function p(h){if(!Array.isArray(h))return!1;if(h[0]==="within")return!0;for(var _=1;_<h.length;_++)if(p(h[_]))return!0;return!1}(o)}}function rd(o,a){return o<a?-1:o>a?1:0}function Hc(o){if(!o)return!0;var a,p=o[0];return o.length<=1?p!=="any":p==="=="?jl(o[1],o[2],"=="):p==="!="?jc(jl(o[1],o[2],"==")):p==="<"||p===">"||p==="<="||p===">="?jl(o[1],o[2],p):p==="any"?(a=o.slice(1),["any"].concat(a.map(Hc))):p==="all"?["all"].concat(o.slice(1).map(Hc)):p==="none"?["all"].concat(o.slice(1).map(Hc).map(jc)):p==="in"?Gc(o[1],o.slice(2)):p==="!in"?jc(Gc(o[1],o.slice(2))):p==="has"?U0(o[1]):p==="!has"?jc(U0(o[1])):p!=="within"||o}function jl(o,a,p){switch(o){case"$type":return["filter-type-"+p,a];case"$id":return["filter-id-"+p,a];default:return["filter-"+p,o,a]}}function Gc(o,a){if(a.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(function(p){return typeof p!=typeof a[0]})?["filter-in-large",o,["literal",a.sort(rd)]]:["filter-in-small",o,["literal",a]]}}function U0(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function jc(o){return["!",o]}function Wl(o){return Ap(ct(o.value))?wu(ht({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function a(p){var h=p.value,_=p.key;if(dn(h)!=="array")return[new ge(_,h,"array expected, "+dn(h)+" found")];var v,P=p.styleSpec,T=[];if(h.length<1)return[new ge(_,h,"filter array must have at least 1 element")];switch(T=T.concat(Ts({key:_+"[0]",value:h[0],valueSpec:P.filter_operator,style:p.style,styleSpec:p.styleSpec})),Nt(h[0])){case"<":case"<=":case">":case">=":h.length>=2&&Nt(h[1])==="$type"&&T.push(new ge(_,h,'"$type" cannot be use with operator "'+h[0]+'"'));case"==":case"!=":h.length!==3&&T.push(new ge(_,h,'filter array for operator "'+h[0]+'" must have 3 elements'));case"in":case"!in":h.length>=2&&(v=dn(h[1]))!=="string"&&T.push(new ge(_+"[1]",h[1],"string expected, "+v+" found"));for(var C=2;C<h.length;C++)v=dn(h[C]),Nt(h[1])==="$type"?T=T.concat(Ts({key:_+"["+C+"]",value:h[C],valueSpec:P.geometry_type,style:p.style,styleSpec:p.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&T.push(new ge(_+"["+C+"]",h[C],"string, number, or boolean expected, "+v+" found"));break;case"any":case"all":case"none":for(var I=1;I<h.length;I++)T=T.concat(a({key:_+"["+I+"]",value:h[I],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":v=dn(h[1]),h.length!==2?T.push(new ge(_,h,'filter array for "'+h[0]+'" operator must have 2 elements')):v!=="string"&&T.push(new ge(_+"[1]",h[1],"string expected, "+v+" found"));break;case"within":v=dn(h[1]),h.length!==2?T.push(new ge(_,h,'filter array for "'+h[0]+'" operator must have 2 elements')):v!=="object"&&T.push(new ge(_+"[1]",h[1],"object expected, "+v+" found"))}return T}(o)}function sc(o,a){var p=o.key,h=o.style,_=o.styleSpec,v=o.value,P=o.objectKey,T=_[a+"_"+o.layerType];if(!T)return[];var C=P.match(/^(.*)-transition$/);if(a==="paint"&&C&&T[C[1]]&&T[C[1]].transition)return Do({key:p,value:v,valueSpec:_.transition,style:h,styleSpec:_});var I,O=o.valueSpec||T[P];if(!O)return[new ge(p,v,'unknown property "'+P+'"')];if(dn(v)==="string"&&eu(O)&&!O.tokens&&(I=/^{([^}]+)}$/.exec(v)))return[new ge(p,v,'"'+P+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(I[1])+" }`.")];var B=[];return o.layerType==="symbol"&&(P==="text-field"&&h&&!h.glyphs&&B.push(new ge(p,v,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&zc(ct(v))&&Nt(v.type)==="identity"&&B.push(new ge(p,v,'"text-font" does not support identity functions'))),B.concat(Do({key:o.key,value:v,valueSpec:O,style:h,styleSpec:_,expressionContext:"property",propertyType:a,propertyKey:P}))}function Zl(o){return sc(o,"paint")}function op(o){return sc(o,"layout")}function Xl(o){var a=[],p=o.value,h=o.key,_=o.style,v=o.styleSpec;p.type||p.ref||a.push(new ge(h,p,'either "type" or "ref" is required'));var P,T=Nt(p.type),C=Nt(p.ref);if(p.id)for(var I=Nt(p.id),O=0;O<o.arrayIndex;O++){var B=_.layers[O];Nt(B.id)===I&&a.push(new ge(h,p.id,'duplicate layer id "'+p.id+'", previously used at line '+B.id.__line__))}if("ref"in p)["type","source","source-layer","filter","layout"].forEach(function(le){le in p&&a.push(new ge(h,p[le],'"'+le+'" is prohibited for ref layers'))}),_.layers.forEach(function(le){Nt(le.id)===C&&(P=le)}),P?P.ref?a.push(new ge(h,p.ref,"ref cannot reference another ref layer")):T=Nt(P.type):a.push(new ge(h,p.ref,'ref layer "'+C+'" not found'));else if(T!=="background")if(p.source){var j=_.sources&&_.sources[p.source],Y=j&&Nt(j.type);j?Y==="vector"&&T==="raster"?a.push(new ge(h,p.source,'layer "'+p.id+'" requires a raster source')):Y==="raster"&&T!=="raster"?a.push(new ge(h,p.source,'layer "'+p.id+'" requires a vector source')):Y!=="vector"||p["source-layer"]?Y==="raster-dem"&&T!=="hillshade"?a.push(new ge(h,p.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!p.paint||!p.paint["line-gradient"]||Y==="geojson"&&j.lineMetrics||a.push(new ge(h,p,'layer "'+p.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):a.push(new ge(h,p,'layer "'+p.id+'" must specify a "source-layer"')):a.push(new ge(h,p.source,'source "'+p.source+'" not found'))}else a.push(new ge(h,p,'missing required property "source"'));return a=a.concat(qa({key:h,value:p,valueSpec:v.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Do({key:h+".type",value:p.type,valueSpec:v.layer.type,style:o.style,styleSpec:o.styleSpec,object:p,objectKey:"type"})},filter:Wl,layout:function(le){return qa({layer:p,key:le.key,value:le.value,style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":function(he){return op(ht({layerType:T},he))}}})},paint:function(le){return qa({layer:p,key:le.key,value:le.value,style:le.style,styleSpec:le.styleSpec,objectElementValidators:{"*":function(he){return Zl(ht({layerType:T},he))}}})}}}))}function Cu(o){var a=o.value,p=o.key,h=dn(a);return h!=="string"?[new ge(p,a,"string expected, "+h+" found")]:[]}var yn={promoteId:function(o){var a=o.key,p=o.value;if(dn(p)==="string")return Cu({key:a,value:p});var h=[];for(var _ in p)h.push.apply(h,Cu({key:a+"."+_,value:p[_]}));return h}};function Wc(o){var a=o.value,p=o.key,h=o.styleSpec,_=o.style;if(!a.type)return[new ge(p,a,'"type" is required')];var v,P=Nt(a.type);switch(P){case"vector":case"raster":case"raster-dem":return qa({key:p,value:a,valueSpec:h["source_"+P.replace("-","_")],style:o.style,styleSpec:h,objectElementValidators:yn});case"geojson":if(v=qa({key:p,value:a,valueSpec:h.source_geojson,style:_,styleSpec:h,objectElementValidators:yn}),a.cluster)for(var T in a.clusterProperties){var C=a.clusterProperties[T],I=C[0],O=typeof I=="string"?[I,["accumulated"],["get",T]]:I;v.push.apply(v,wu({key:p+"."+T+".map",value:C[1],expressionContext:"cluster-map"})),v.push.apply(v,wu({key:p+"."+T+".reduce",value:O,expressionContext:"cluster-reduce"}))}return v;case"video":return qa({key:p,value:a,valueSpec:h.source_video,style:_,styleSpec:h});case"image":return qa({key:p,value:a,valueSpec:h.source_image,style:_,styleSpec:h});case"canvas":return[new ge(p,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ts({key:p+".type",value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,styleSpec:h})}}function ws(o){var a=o.value,p=o.styleSpec,h=p.light,_=o.style,v=[],P=dn(a);if(a===void 0)return v;if(P!=="object")return v.concat([new ge("light",a,"object expected, "+P+" found")]);for(var T in a){var C=T.match(/^(.*)-transition$/);v=v.concat(C&&h[C[1]]&&h[C[1]].transition?Do({key:T,value:a[T],valueSpec:p.transition,style:_,styleSpec:p}):h[T]?Do({key:T,value:a[T],valueSpec:h[T],style:_,styleSpec:p}):[new ge(T,a[T],'unknown property "'+T+'"')])}return v}var Mu={"*":function(){return[]},array:Vl,boolean:function(o){var a=o.value,p=o.key,h=dn(a);return h!=="boolean"?[new ge(p,a,"boolean expected, "+h+" found")]:[]},number:Hl,color:function(o){var a=o.key,p=o.value,h=dn(p);return h!=="string"?[new ge(a,p,"color expected, "+h+" found")]:uo(p)===null?[new ge(a,p,'color expected, "'+p+'" found')]:[]},constants:We,enum:Ts,filter:Wl,function:Gl,layer:Xl,object:qa,source:Wc,light:ws,string:Cu,formatted:function(o){return Cu(o).length===0?[]:wu(o)},resolvedImage:function(o){return Cu(o).length===0?[]:wu(o)}};function Do(o){var a=o.value,p=o.valueSpec,h=o.styleSpec;return p.expression&&zc(Nt(a))?Gl(o):p.expression&&Ju(ct(a))?wu(o):p.type&&Mu[p.type]?Mu[p.type](o):qa(ht({},o,{valueSpec:p.type?h[p.type]:p}))}function hn(o){var a=o.value,p=o.key,h=Cu(o);return h.length||(a.indexOf("{fontstack}")===-1&&h.push(new ge(p,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&h.push(new ge(p,a,'"glyphs" url must include a "{range}" token'))),h}function Ua(o,a){a===void 0&&(a=J);var p=[];return p=p.concat(Do({key:"",value:o,valueSpec:a.$root,styleSpec:a,style:o,objectElementValidators:{glyphs:hn,"*":function(){return[]}}})),o.constants&&(p=p.concat(We({key:"constants",value:o.constants,style:o,styleSpec:a}))),uc(p)}function uc(o){return[].concat(o).sort(function(a,p){return a.line-p.line})}function Sp(o){return function(){for(var a=[],p=arguments.length;p--;)a[p]=arguments[p];return uc(o.apply(this,a))}}Ua.source=Sp(Wc),Ua.light=Sp(ws),Ua.layer=Sp(Xl),Ua.filter=Sp(Wl),Ua.paintProperty=Sp(Zl),Ua.layoutProperty=Sp(op);var pc=Ua,k0=pc.light,Zc=pc.paintProperty,cc=pc.layoutProperty;function Iu(o,a){var p=!1;if(a&&a.length)for(var h=0,_=a;h<_.length;h+=1)o.fire(new Me(new Error(_[h].message))),p=!0;return p}var yi=An;function An(o,a,p){var h=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var _=new Int32Array(this.arrayBuffer);o=_[0],this.d=(a=_[1])+2*(p=_[2]);for(var v=0;v<this.d*this.d;v++){var P=_[3+v],T=_[3+v+1];h.push(P===T?null:_.subarray(P,T))}var C=_[3+h.length+1];this.keys=_.subarray(_[3+h.length],C),this.bboxes=_.subarray(C),this.insert=this._insertReadonly}else{this.d=a+2*p;for(var I=0;I<this.d*this.d;I++)h.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=o,this.padding=p,this.scale=a/o,this.uid=0;var O=p/a*o;this.min=-O,this.max=o+O}An.prototype.insert=function(o,a,p,h,_){this._forEachCell(a,p,h,_,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(a),this.bboxes.push(p),this.bboxes.push(h),this.bboxes.push(_)},An.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},An.prototype._insertCell=function(o,a,p,h,_,v){this.cells[_].push(v)},An.prototype.query=function(o,a,p,h,_){var v=this.min,P=this.max;if(o<=v&&a<=v&&P<=p&&P<=h&&!_)return Array.prototype.slice.call(this.keys);var T=[];return this._forEachCell(o,a,p,h,this._queryCell,T,{},_),T},An.prototype._queryCell=function(o,a,p,h,_,v,P,T){var C=this.cells[_];if(C!==null)for(var I=this.keys,O=this.bboxes,B=0;B<C.length;B++){var j=C[B];if(P[j]===void 0){var Y=4*j;(T?T(O[Y+0],O[Y+1],O[Y+2],O[Y+3]):o<=O[Y+2]&&a<=O[Y+3]&&p>=O[Y+0]&&h>=O[Y+1])?(P[j]=!0,v.push(I[j])):P[j]=!1}}},An.prototype._forEachCell=function(o,a,p,h,_,v,P,T){for(var C=this._convertToCellCoord(o),I=this._convertToCellCoord(a),O=this._convertToCellCoord(p),B=this._convertToCellCoord(h),j=C;j<=O;j++)for(var Y=I;Y<=B;Y++){var le=this.d*Y+j;if((!T||T(this._convertFromCellCoord(j),this._convertFromCellCoord(Y),this._convertFromCellCoord(j+1),this._convertFromCellCoord(Y+1)))&&_.call(this,o,a,p,h,le,v,P,T))return}},An.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},An.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},An.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,a=3+this.cells.length+1+1,p=0,h=0;h<this.cells.length;h++)p+=this.cells[h].length;var _=new Int32Array(a+p+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;for(var v=a,P=0;P<o.length;P++){var T=o[P];_[3+P]=v,_.set(T,v),v+=T.length}return _[3+o.length]=v,_.set(this.keys,v),_[3+o.length+1]=v+=this.keys.length,_.set(this.bboxes,v),v+=this.bboxes.length,_.buffer};var Tp=A.ImageData,Yl=A.ImageBitmap,Wn={};function hr(o,a,p){p===void 0&&(p={}),Object.defineProperty(a,"_classRegistryKey",{value:o,writeable:!1}),Wn[o]={klass:a,omit:p.omit||[],shallow:p.shallow||[]}}for(var da in hr("Object",Object),yi.serialize=function(o,a){var p=o.toArrayBuffer();return a&&a.push(p),{buffer:p}},yi.deserialize=function(o){return new yi(o.buffer)},hr("Grid",yi),hr("Color",xo),hr("Error",Error),hr("ResolvedImage",En),hr("StylePropertyFunction",rp),hr("StyleExpression",Tu,{omit:["_evaluator"]}),hr("ZoomDependentExpression",tp),hr("ZoomConstantExpression",ep),hr("CompoundExpression",oe,{omit:["_evaluate"]}),Ss)Ss[da]._classRegistryKey||hr("Expression_"+da,Ss[da]);function lc(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function wp(o){return Yl&&o instanceof Yl}function ta(o,a){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(lc(o)||wp(o))return a&&a.push(o),o;if(ArrayBuffer.isView(o)){var p=o;return a&&a.push(p.buffer),p}if(o instanceof Tp)return a&&a.push(o.data.buffer),o;if(Array.isArray(o)){for(var h=[],_=0,v=o;_<v.length;_+=1)h.push(ta(v[_],a));return h}if(typeof o=="object"){var P=o.constructor,T=P._classRegistryKey;if(!T)throw new Error("can't serialize object of unregistered class");var C=P.serialize?P.serialize(o,a):{};if(!P.serialize){for(var I in o)if(o.hasOwnProperty(I)&&!(Wn[T].omit.indexOf(I)>=0)){var O=o[I];C[I]=Wn[T].shallow.indexOf(I)>=0?O:ta(O,a)}o instanceof Error&&(C.message=o.message)}if(C.$name)throw new Error("$name property is reserved for worker serialization logic.");return T!=="Object"&&(C.$name=T),C}throw new Error("can't serialize object of type "+typeof o)}function nn(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||lc(o)||wp(o)||ArrayBuffer.isView(o)||o instanceof Tp)return o;if(Array.isArray(o))return o.map(nn);if(typeof o=="object"){var a=o.$name||"Object",p=Wn[a].klass;if(!p)throw new Error("can't deserialize unregistered class "+a);if(p.deserialize)return p.deserialize(o);for(var h=Object.create(p.prototype),_=0,v=Object.keys(o);_<v.length;_+=1){var P=v[_];if(P!=="$name"){var T=o[P];h[P]=Wn[a].shallow.indexOf(P)>=0?T:nn(T)}}return h}throw new Error("can't deserialize object of type "+typeof o)}var Xc=function(){this.first=!0};Xc.prototype.update=function(o,a){var p=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=a),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=p,!0))};var Kt={"Latin-1 Supplement":function(o){return o>=128&&o<=255},Arabic:function(o){return o>=1536&&o<=1791},"Arabic Supplement":function(o){return o>=1872&&o<=1919},"Arabic Extended-A":function(o){return o>=2208&&o<=2303},"Hangul Jamo":function(o){return o>=4352&&o<=4607},"Unified Canadian Aboriginal Syllabics":function(o){return o>=5120&&o<=5759},Khmer:function(o){return o>=6016&&o<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(o){return o>=6320&&o<=6399},"General Punctuation":function(o){return o>=8192&&o<=8303},"Letterlike Symbols":function(o){return o>=8448&&o<=8527},"Number Forms":function(o){return o>=8528&&o<=8591},"Miscellaneous Technical":function(o){return o>=8960&&o<=9215},"Control Pictures":function(o){return o>=9216&&o<=9279},"Optical Character Recognition":function(o){return o>=9280&&o<=9311},"Enclosed Alphanumerics":function(o){return o>=9312&&o<=9471},"Geometric Shapes":function(o){return o>=9632&&o<=9727},"Miscellaneous Symbols":function(o){return o>=9728&&o<=9983},"Miscellaneous Symbols and Arrows":function(o){return o>=11008&&o<=11263},"CJK Radicals Supplement":function(o){return o>=11904&&o<=12031},"Kangxi Radicals":function(o){return o>=12032&&o<=12255},"Ideographic Description Characters":function(o){return o>=12272&&o<=12287},"CJK Symbols and Punctuation":function(o){return o>=12288&&o<=12351},Hiragana:function(o){return o>=12352&&o<=12447},Katakana:function(o){return o>=12448&&o<=12543},Bopomofo:function(o){return o>=12544&&o<=12591},"Hangul Compatibility Jamo":function(o){return o>=12592&&o<=12687},Kanbun:function(o){return o>=12688&&o<=12703},"Bopomofo Extended":function(o){return o>=12704&&o<=12735},"CJK Strokes":function(o){return o>=12736&&o<=12783},"Katakana Phonetic Extensions":function(o){return o>=12784&&o<=12799},"Enclosed CJK Letters and Months":function(o){return o>=12800&&o<=13055},"CJK Compatibility":function(o){return o>=13056&&o<=13311},"CJK Unified Ideographs Extension A":function(o){return o>=13312&&o<=19903},"Yijing Hexagram Symbols":function(o){return o>=19904&&o<=19967},"CJK Unified Ideographs":function(o){return o>=19968&&o<=40959},"Yi Syllables":function(o){return o>=40960&&o<=42127},"Yi Radicals":function(o){return o>=42128&&o<=42191},"Hangul Jamo Extended-A":function(o){return o>=43360&&o<=43391},"Hangul Syllables":function(o){return o>=44032&&o<=55215},"Hangul Jamo Extended-B":function(o){return o>=55216&&o<=55295},"Private Use Area":function(o){return o>=57344&&o<=63743},"CJK Compatibility Ideographs":function(o){return o>=63744&&o<=64255},"Arabic Presentation Forms-A":function(o){return o>=64336&&o<=65023},"Vertical Forms":function(o){return o>=65040&&o<=65055},"CJK Compatibility Forms":function(o){return o>=65072&&o<=65103},"Small Form Variants":function(o){return o>=65104&&o<=65135},"Arabic Presentation Forms-B":function(o){return o>=65136&&o<=65279},"Halfwidth and Fullwidth Forms":function(o){return o>=65280&&o<=65519}};function ru(o){for(var a=0,p=o;a<p.length;a+=1)if(dc(p[a].charCodeAt(0)))return!0;return!1}function dc(o){return!(o!==746&&o!==747&&(o<4352||!(Kt["Bopomofo Extended"](o)||Kt.Bopomofo(o)||Kt["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||Kt["CJK Compatibility Ideographs"](o)||Kt["CJK Compatibility"](o)||Kt["CJK Radicals Supplement"](o)||Kt["CJK Strokes"](o)||!(!Kt["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||Kt["CJK Unified Ideographs Extension A"](o)||Kt["CJK Unified Ideographs"](o)||Kt["Enclosed CJK Letters and Months"](o)||Kt["Hangul Compatibility Jamo"](o)||Kt["Hangul Jamo Extended-A"](o)||Kt["Hangul Jamo Extended-B"](o)||Kt["Hangul Jamo"](o)||Kt["Hangul Syllables"](o)||Kt.Hiragana(o)||Kt["Ideographic Description Characters"](o)||Kt.Kanbun(o)||Kt["Kangxi Radicals"](o)||Kt["Katakana Phonetic Extensions"](o)||Kt.Katakana(o)&&o!==12540||!(!Kt["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!Kt["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||Kt["Unified Canadian Aboriginal Syllabics"](o)||Kt["Unified Canadian Aboriginal Syllabics Extended"](o)||Kt["Vertical Forms"](o)||Kt["Yijing Hexagram Symbols"](o)||Kt["Yi Syllables"](o)||Kt["Yi Radicals"](o))))}function Yc(o){return!(dc(o)||function(a){return!!(Kt["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Kt["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Kt["Letterlike Symbols"](a)||Kt["Number Forms"](a)||Kt["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Kt["Control Pictures"](a)&&a!==9251||Kt["Optical Character Recognition"](a)||Kt["Enclosed Alphanumerics"](a)||Kt["Geometric Shapes"](a)||Kt["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Kt["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Kt["CJK Symbols and Punctuation"](a)||Kt.Katakana(a)||Kt["Private Use Area"](a)||Kt["CJK Compatibility Forms"](a)||Kt["Small Form Variants"](a)||Kt["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(o))}function Ka(o){return o>=1424&&o<=2303||Kt["Arabic Presentation Forms-A"](o)||Kt["Arabic Presentation Forms-B"](o)}function Sa(o,a){return!(!a&&Ka(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||Kt.Khmer(o))}function $c(o){for(var a=0,p=o;a<p.length;a+=1)if(Ka(p[a].charCodeAt(0)))return!0;return!1}var qc=null,ra="unavailable",Rs=null,z0=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(ra="error"),qc&&qc(o)};function Rp(){Kc.fire(new ye("pluginStateChange",{pluginStatus:ra,pluginURL:Rs}))}var Kc=new Oe,$l=function(){return ra},Ta=function(){if(ra!=="deferred"||!Rs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ra="loading",Rp(),Rs&&Ku({url:Rs},function(o){o?z0(o):(ra="loaded",Rp())})},ka={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ra==="loaded"||ka.applyArabicShaping!=null},isLoading:function(){return ra==="loading"},setState:function(o){ra=o.pluginStatus,Rs=o.pluginURL},isParsed:function(){return ka.applyArabicShaping!=null&&ka.processBidirectionalText!=null&&ka.processStyledBidirectionalText!=null},getPluginURL:function(){return Rs}},co=function(o,a){this.zoom=o,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xc,this.transition={})};co.prototype.isSupportedScript=function(o){return function(a,p){for(var h=0,_=a;h<_.length;h+=1)if(!Sa(_[h].charCodeAt(0),p))return!1;return!0}(o,ka.isLoaded())},co.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},co.prototype.getCrossfadeParameters=function(){var o=this.zoom,a=o-Math.floor(o),p=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*a}};var za=function(o,a){this.property=o,this.value=a,this.expression=function(p,h){if(zc(p))return new rp(p,h);if(Ju(p)){var _=zl(p,h);if(_.result==="error")throw new Error(_.value.map(function(P){return P.key+": "+P.message}).join(", "));return _.value}var v=p;return typeof p=="string"&&h.type==="color"&&(v=xo.parse(p)),{kind:"constant",evaluate:function(){return v}}}(a===void 0?o.specification.default:a,o.specification)};za.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},za.prototype.possiblyEvaluate=function(o,a,p){return this.property.possiblyEvaluate(this,o,a,p)};var Va=function(o){this.property=o,this.value=new za(o,void 0)};Va.prototype.transitioned=function(o,a){return new Nu(this.property,this.value,a,q({},o.transition,this.transition),o.now)},Va.prototype.untransitioned=function(){return new Nu(this.property,this.value,null,{},0)};var Ri=function(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)};Ri.prototype.getValue=function(o){return Fe(this._values[o].value.value)},Ri.prototype.setValue=function(o,a){this._values.hasOwnProperty(o)||(this._values[o]=new Va(this._values[o].property)),this._values[o].value=new za(this._values[o].property,a===null?void 0:Fe(a))},Ri.prototype.getTransition=function(o){return Fe(this._values[o].transition)},Ri.prototype.setTransition=function(o,a){this._values.hasOwnProperty(o)||(this._values[o]=new Va(this._values[o].property)),this._values[o].transition=Fe(a)||void 0},Ri.prototype.serialize=function(){for(var o={},a=0,p=Object.keys(this._values);a<p.length;a+=1){var h=p[a],_=this.getValue(h);_!==void 0&&(o[h]=_);var v=this.getTransition(h);v!==void 0&&(o[h+"-transition"]=v)}return o},Ri.prototype.transitioned=function(o,a){for(var p=new ou(this._properties),h=0,_=Object.keys(this._values);h<_.length;h+=1){var v=_[h];p._values[v]=this._values[v].transitioned(o,a._values[v])}return p},Ri.prototype.untransitioned=function(){for(var o=new ou(this._properties),a=0,p=Object.keys(this._values);a<p.length;a+=1){var h=p[a];o._values[h]=this._values[h].untransitioned()}return o};var Nu=function(o,a,p,h,_){this.property=o,this.value=a,this.begin=_+h.delay||0,this.end=this.begin+h.duration||0,o.specification.transition&&(h.delay||h.duration)&&(this.prior=p)};Nu.prototype.possiblyEvaluate=function(o,a,p){var h=o.now||0,_=this.value.possiblyEvaluate(o,a,p),v=this.prior;if(v){if(h>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(h<this.begin)return v.possiblyEvaluate(o,a,p);var P=(h-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(o,a,p),_,function(T){if(T<=0)return 0;if(T>=1)return 1;var C=T*T,I=C*T;return 4*(T<.5?I:3*(T-C)+I-.75)}(P))}return _};var ou=function(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)};ou.prototype.possiblyEvaluate=function(o,a,p){for(var h=new Cp(this._properties),_=0,v=Object.keys(this._values);_<v.length;_+=1){var P=v[_];h._values[P]=this._values[P].possiblyEvaluate(o,a,p)}return h},ou.prototype.hasTransition=function(){for(var o=0,a=Object.keys(this._values);o<a.length;o+=1)if(this._values[a[o]].prior)return!0;return!1};var Qa=function(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)};Qa.prototype.getValue=function(o){return Fe(this._values[o].value)},Qa.prototype.setValue=function(o,a){this._values[o]=new za(this._values[o].property,a===null?void 0:Fe(a))},Qa.prototype.serialize=function(){for(var o={},a=0,p=Object.keys(this._values);a<p.length;a+=1){var h=p[a],_=this.getValue(h);_!==void 0&&(o[h]=_)}return o},Qa.prototype.possiblyEvaluate=function(o,a,p){for(var h=new Cp(this._properties),_=0,v=Object.keys(this._values);_<v.length;_+=1){var P=v[_];h._values[P]=this._values[P].possiblyEvaluate(o,a,p)}return h};var Xi=function(o,a,p){this.property=o,this.value=a,this.parameters=p};Xi.prototype.isConstant=function(){return this.value.kind==="constant"},Xi.prototype.constantOr=function(o){return this.value.kind==="constant"?this.value.value:o},Xi.prototype.evaluate=function(o,a,p,h){return this.property.evaluate(this.value,this.parameters,o,a,p,h)};var Cp=function(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)};Cp.prototype.get=function(o){return this._values[o]};var Rr=function(o){this.specification=o};Rr.prototype.possiblyEvaluate=function(o,a){return o.expression.evaluate(a)},Rr.prototype.interpolate=function(o,a,p){var h=Eu[this.specification.type];return h?h(o,a,p):o};var gr=function(o,a){this.specification=o,this.overrides=a};gr.prototype.possiblyEvaluate=function(o,a,p,h){return new Xi(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(a,null,{},p,h)}:o.expression,a)},gr.prototype.interpolate=function(o,a,p){if(o.value.kind!=="constant"||a.value.kind!=="constant")return o;if(o.value.value===void 0||a.value.value===void 0)return new Xi(this,{kind:"constant",value:void 0},o.parameters);var h=Eu[this.specification.type];return h?new Xi(this,{kind:"constant",value:h(o.value.value,a.value.value,p)},o.parameters):o},gr.prototype.evaluate=function(o,a,p,h,_,v){return o.kind==="constant"?o.value:o.evaluate(a,p,h,_,v)};var wa=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(p,h,_,v){if(p.value===void 0)return new Xi(this,{kind:"constant",value:void 0},h);if(p.expression.kind==="constant"){var P=p.expression.evaluate(h,null,{},_,v),T=p.property.specification.type==="resolvedImage"&&typeof P!="string"?P.name:P,C=this._calculate(T,T,T,h);return new Xi(this,{kind:"constant",value:C},h)}if(p.expression.kind==="camera"){var I=this._calculate(p.expression.evaluate({zoom:h.zoom-1}),p.expression.evaluate({zoom:h.zoom}),p.expression.evaluate({zoom:h.zoom+1}),h);return new Xi(this,{kind:"constant",value:I},h)}return new Xi(this,p.expression,h)},a.prototype.evaluate=function(p,h,_,v,P,T){if(p.kind==="source"){var C=p.evaluate(h,_,v,P,T);return this._calculate(C,C,C,h)}return p.kind==="composite"?this._calculate(p.evaluate({zoom:Math.floor(h.zoom)-1},_,v),p.evaluate({zoom:Math.floor(h.zoom)},_,v),p.evaluate({zoom:Math.floor(h.zoom)+1},_,v),h):p.value},a.prototype._calculate=function(p,h,_,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:p,to:h}:{from:_,to:h}},a.prototype.interpolate=function(p){return p},a}(gr),Yi=function(o){this.specification=o};Yi.prototype.possiblyEvaluate=function(o,a,p,h){if(o.value!==void 0){if(o.expression.kind==="constant"){var _=o.expression.evaluate(a,null,{},p,h);return this._calculate(_,_,_,a)}return this._calculate(o.expression.evaluate(new co(Math.floor(a.zoom-1),a)),o.expression.evaluate(new co(Math.floor(a.zoom),a)),o.expression.evaluate(new co(Math.floor(a.zoom+1),a)),a)}},Yi.prototype._calculate=function(o,a,p,h){return h.zoom>h.zoomHistory.lastIntegerZoom?{from:o,to:a}:{from:p,to:a}},Yi.prototype.interpolate=function(o){return o};var ds=function(o){this.specification=o};ds.prototype.possiblyEvaluate=function(o,a,p,h){return!!o.expression.evaluate(a,null,{},p,h)},ds.prototype.interpolate=function(){return!1};var Sn=function(o){for(var a in this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],o){var p=o[a];p.specification.overridable&&this.overridableProperties.push(a);var h=this.defaultPropertyValues[a]=new za(p,void 0),_=this.defaultTransitionablePropertyValues[a]=new Va(p);this.defaultTransitioningPropertyValues[a]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=h.possiblyEvaluate({})}};hr("DataDrivenProperty",gr),hr("DataConstantProperty",Rr),hr("CrossFadedDataDrivenProperty",wa),hr("CrossFadedProperty",Yi),hr("ColorRampProperty",ds);var Ja=function(o){function a(p,h){if(o.call(this),this.id=p.id,this.type=p.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},p.type!=="custom"&&(this.metadata=(p=p).metadata,this.minzoom=p.minzoom,this.maxzoom=p.maxzoom,p.type!=="background"&&(this.source=p.source,this.sourceLayer=p["source-layer"],this.filter=p.filter),h.layout&&(this._unevaluatedLayout=new Qa(h.layout)),h.paint)){for(var _ in this._transitionablePaint=new Ri(h.paint),p.paint)this.setPaintProperty(_,p.paint[_],{validate:!1});for(var v in p.layout)this.setLayoutProperty(v,p.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Cp(h.paint)}}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},a.prototype.getLayoutProperty=function(p){return p==="visibility"?this.visibility:this._unevaluatedLayout.getValue(p)},a.prototype.setLayoutProperty=function(p,h,_){_===void 0&&(_={}),h!=null&&this._validate(cc,"layers."+this.id+".layout."+p,p,h,_)||(p!=="visibility"?this._unevaluatedLayout.setValue(p,h):this.visibility=h)},a.prototype.getPaintProperty=function(p){return je(p,"-transition")?this._transitionablePaint.getTransition(p.slice(0,-11)):this._transitionablePaint.getValue(p)},a.prototype.setPaintProperty=function(p,h,_){if(_===void 0&&(_={}),h!=null&&this._validate(Zc,"layers."+this.id+".paint."+p,p,h,_))return!1;if(je(p,"-transition"))return this._transitionablePaint.setTransition(p.slice(0,-11),h||void 0),!1;var v=this._transitionablePaint._values[p],P=v.property.specification["property-type"]==="cross-faded-data-driven",T=v.value.isDataDriven(),C=v.value;this._transitionablePaint.setValue(p,h),this._handleSpecialPaintPropertyUpdate(p);var I=this._transitionablePaint._values[p].value;return I.isDataDriven()||T||P||this._handleOverridablePaintPropertyUpdate(p,C,I)},a.prototype._handleSpecialPaintPropertyUpdate=function(p){},a.prototype._handleOverridablePaintPropertyUpdate=function(p,h,_){return!1},a.prototype.isHidden=function(p){return!!(this.minzoom&&p<this.minzoom)||!!(this.maxzoom&&p>=this.maxzoom)||this.visibility==="none"},a.prototype.updateTransitions=function(p){this._transitioningPaint=this._transitionablePaint.transitioned(p,this._transitioningPaint)},a.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},a.prototype.recalculate=function(p,h){p.getCrossfadeParameters&&(this._crossfadeParameters=p.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(p,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(p,void 0,h)},a.prototype.serialize=function(){var p={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(p.layout=p.layout||{},p.layout.visibility=this.visibility),He(p,function(h,_){return!(h===void 0||_==="layout"&&!Object.keys(h).length||_==="paint"&&!Object.keys(h).length)})},a.prototype._validate=function(p,h,_,v,P){return P===void 0&&(P={}),(!P||P.validate!==!1)&&Iu(this,p.call(pc,{key:h,layerType:this.type,objectKey:_,value:v,styleSpec:J,style:{glyphs:!0,sprite:!0}}))},a.prototype.is3D=function(){return!1},a.prototype.isTileClipped=function(){return!1},a.prototype.hasOffscreenPass=function(){return!1},a.prototype.resize=function(){},a.prototype.isStateDependent=function(){for(var p in this.paint._values){var h=this.paint.get(p);if(h instanceof Xi&&eu(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1},a}(Oe),nu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},np=function(o,a){this._structArray=o,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Xo=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function hi(o,a){a===void 0&&(a=1);var p=0,h=0;return{members:o.map(function(_){var v=nu[_.type].BYTES_PER_ELEMENT,P=p=ql(p,Math.max(a,v)),T=_.components||1;return h=Math.max(h,v),p+=v*T,{name:_.name,type:_.type,components:T,offset:P}}),size:ql(p,Math.max(h,a)),alignment:a}}function ql(o,a){return Math.ceil(o/a)*a}Xo.serialize=function(o,a){return o._trim(),a&&(o.isTransferred=!0,a.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}},Xo.deserialize=function(o){var a=Object.create(this.prototype);return a.arrayBuffer=o.arrayBuffer,a.length=o.length,a.capacity=o.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a},Xo.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Xo.prototype.clear=function(){this.length=0},Xo.prototype.resize=function(o){this.reserve(o),this.length=o},Xo.prototype.reserve=function(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}},Xo.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Du=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h){var _=this.length;return this.resize(_+1),this.emplace(_,p,h)},a.prototype.emplace=function(p,h,_){var v=2*p;return this.int16[v+0]=h,this.int16[v+1]=_,p},a}(Xo);Du.prototype.bytesPerElement=4,hr("StructArrayLayout2i4",Du);var Qc=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,p,h,_,v)},a.prototype.emplace=function(p,h,_,v,P){var T=4*p;return this.int16[T+0]=h,this.int16[T+1]=_,this.int16[T+2]=v,this.int16[T+3]=P,p},a}(Xo);Qc.prototype.bytesPerElement=8,hr("StructArrayLayout4i8",Qc);var iu=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T){var C=this.length;return this.resize(C+1),this.emplace(C,p,h,_,v,P,T)},a.prototype.emplace=function(p,h,_,v,P,T,C){var I=6*p;return this.int16[I+0]=h,this.int16[I+1]=_,this.int16[I+2]=v,this.int16[I+3]=P,this.int16[I+4]=T,this.int16[I+5]=C,p},a}(Xo);iu.prototype.bytesPerElement=12,hr("StructArrayLayout2i4i12",iu);var Ra=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T){var C=this.length;return this.resize(C+1),this.emplace(C,p,h,_,v,P,T)},a.prototype.emplace=function(p,h,_,v,P,T,C){var I=4*p,O=8*p;return this.int16[I+0]=h,this.int16[I+1]=_,this.uint8[O+4]=v,this.uint8[O+5]=P,this.uint8[O+6]=T,this.uint8[O+7]=C,p},a}(Xo);Ra.prototype.bytesPerElement=8,hr("StructArrayLayout2i4ub8",Ra);var Mp=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h){var _=this.length;return this.resize(_+1),this.emplace(_,p,h)},a.prototype.emplace=function(p,h,_){var v=2*p;return this.float32[v+0]=h,this.float32[v+1]=_,p},a}(Xo);Mp.prototype.bytesPerElement=8,hr("StructArrayLayout2f8",Mp);var Cs=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T,C,I,O,B){var j=this.length;return this.resize(j+1),this.emplace(j,p,h,_,v,P,T,C,I,O,B)},a.prototype.emplace=function(p,h,_,v,P,T,C,I,O,B,j){var Y=10*p;return this.uint16[Y+0]=h,this.uint16[Y+1]=_,this.uint16[Y+2]=v,this.uint16[Y+3]=P,this.uint16[Y+4]=T,this.uint16[Y+5]=C,this.uint16[Y+6]=I,this.uint16[Y+7]=O,this.uint16[Y+8]=B,this.uint16[Y+9]=j,p},a}(Xo);Cs.prototype.bytesPerElement=20,hr("StructArrayLayout10ui20",Cs);var Jc=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T,C,I,O,B,j,Y){var le=this.length;return this.resize(le+1),this.emplace(le,p,h,_,v,P,T,C,I,O,B,j,Y)},a.prototype.emplace=function(p,h,_,v,P,T,C,I,O,B,j,Y,le){var he=12*p;return this.int16[he+0]=h,this.int16[he+1]=_,this.int16[he+2]=v,this.int16[he+3]=P,this.uint16[he+4]=T,this.uint16[he+5]=C,this.uint16[he+6]=I,this.uint16[he+7]=O,this.int16[he+8]=B,this.int16[he+9]=j,this.int16[he+10]=Y,this.int16[he+11]=le,p},a}(Xo);Jc.prototype.bytesPerElement=24,hr("StructArrayLayout4i4ui4i24",Jc);var Ip=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_){var v=this.length;return this.resize(v+1),this.emplace(v,p,h,_)},a.prototype.emplace=function(p,h,_,v){var P=3*p;return this.float32[P+0]=h,this.float32[P+1]=_,this.float32[P+2]=v,p},a}(Xo);Ip.prototype.bytesPerElement=12,hr("StructArrayLayout3f12",Ip);var yc=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p){var h=this.length;return this.resize(h+1),this.emplace(h,p)},a.prototype.emplace=function(p,h){return this.uint32[1*p+0]=h,p},a}(Xo);yc.prototype.bytesPerElement=4,hr("StructArrayLayout1ul4",yc);var el=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T,C,I,O){var B=this.length;return this.resize(B+1),this.emplace(B,p,h,_,v,P,T,C,I,O)},a.prototype.emplace=function(p,h,_,v,P,T,C,I,O,B){var j=10*p,Y=5*p;return this.int16[j+0]=h,this.int16[j+1]=_,this.int16[j+2]=v,this.int16[j+3]=P,this.int16[j+4]=T,this.int16[j+5]=C,this.uint32[Y+3]=I,this.uint16[j+8]=O,this.uint16[j+9]=B,p},a}(Xo);el.prototype.bytesPerElement=20,hr("StructArrayLayout6i1ul2ui20",el);var ip=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T){var C=this.length;return this.resize(C+1),this.emplace(C,p,h,_,v,P,T)},a.prototype.emplace=function(p,h,_,v,P,T,C){var I=6*p;return this.int16[I+0]=h,this.int16[I+1]=_,this.int16[I+2]=v,this.int16[I+3]=P,this.int16[I+4]=T,this.int16[I+5]=C,p},a}(Xo);ip.prototype.bytesPerElement=12,hr("StructArrayLayout2i2i2i12",ip);var ap=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P){var T=this.length;return this.resize(T+1),this.emplace(T,p,h,_,v,P)},a.prototype.emplace=function(p,h,_,v,P,T){var C=4*p,I=8*p;return this.float32[C+0]=h,this.float32[C+1]=_,this.float32[C+2]=v,this.int16[I+6]=P,this.int16[I+7]=T,p},a}(Xo);ap.prototype.bytesPerElement=16,hr("StructArrayLayout2f1f2i16",ap);var Kl=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,p,h,_,v)},a.prototype.emplace=function(p,h,_,v,P){var T=12*p,C=3*p;return this.uint8[T+0]=h,this.uint8[T+1]=_,this.float32[C+1]=v,this.float32[C+2]=P,p},a}(Xo);Kl.prototype.bytesPerElement=12,hr("StructArrayLayout2ub2f12",Kl);var Ms=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_){var v=this.length;return this.resize(v+1),this.emplace(v,p,h,_)},a.prototype.emplace=function(p,h,_,v){var P=3*p;return this.uint16[P+0]=h,this.uint16[P+1]=_,this.uint16[P+2]=v,p},a}(Xo);Ms.prototype.bytesPerElement=6,hr("StructArrayLayout3ui6",Ms);var ys=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve){var Xe=this.length;return this.resize(Xe+1),this.emplace(Xe,p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve)},a.prototype.emplace=function(p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve,Xe){var nt=24*p,ut=12*p,vt=48*p;return this.int16[nt+0]=h,this.int16[nt+1]=_,this.uint16[nt+2]=v,this.uint16[nt+3]=P,this.uint32[ut+2]=T,this.uint32[ut+3]=C,this.uint32[ut+4]=I,this.uint16[nt+10]=O,this.uint16[nt+11]=B,this.uint16[nt+12]=j,this.float32[ut+7]=Y,this.float32[ut+8]=le,this.uint8[vt+36]=he,this.uint8[vt+37]=Re,this.uint8[vt+38]=be,this.uint32[ut+10]=Ve,this.int16[nt+22]=Xe,p},a}(Xo);ys.prototype.bytesPerElement=48,hr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ys);var tl=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve,Xe,nt,ut,vt,kt,qt,Mr,pr,Br,dr,bo){var Yr=this.length;return this.resize(Yr+1),this.emplace(Yr,p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve,Xe,nt,ut,vt,kt,qt,Mr,pr,Br,dr,bo)},a.prototype.emplace=function(p,h,_,v,P,T,C,I,O,B,j,Y,le,he,Re,be,Ve,Xe,nt,ut,vt,kt,qt,Mr,pr,Br,dr,bo,Yr){var Pr=34*p,Mo=17*p;return this.int16[Pr+0]=h,this.int16[Pr+1]=_,this.int16[Pr+2]=v,this.int16[Pr+3]=P,this.int16[Pr+4]=T,this.int16[Pr+5]=C,this.int16[Pr+6]=I,this.int16[Pr+7]=O,this.uint16[Pr+8]=B,this.uint16[Pr+9]=j,this.uint16[Pr+10]=Y,this.uint16[Pr+11]=le,this.uint16[Pr+12]=he,this.uint16[Pr+13]=Re,this.uint16[Pr+14]=be,this.uint16[Pr+15]=Ve,this.uint16[Pr+16]=Xe,this.uint16[Pr+17]=nt,this.uint16[Pr+18]=ut,this.uint16[Pr+19]=vt,this.uint16[Pr+20]=kt,this.uint16[Pr+21]=qt,this.uint16[Pr+22]=Mr,this.uint32[Mo+12]=pr,this.float32[Mo+13]=Br,this.float32[Mo+14]=dr,this.float32[Mo+15]=bo,this.float32[Mo+16]=Yr,p},a}(Xo);tl.prototype.bytesPerElement=68,hr("StructArrayLayout8i15ui1ul4f68",tl);var Ou=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p){var h=this.length;return this.resize(h+1),this.emplace(h,p)},a.prototype.emplace=function(p,h){return this.float32[1*p+0]=h,p},a}(Xo);Ou.prototype.bytesPerElement=4,hr("StructArrayLayout1f4",Ou);var es=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_){var v=this.length;return this.resize(v+1),this.emplace(v,p,h,_)},a.prototype.emplace=function(p,h,_,v){var P=3*p;return this.int16[P+0]=h,this.int16[P+1]=_,this.int16[P+2]=v,p},a}(Xo);es.prototype.bytesPerElement=6,hr("StructArrayLayout3i6",es);var Ql=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_){var v=this.length;return this.resize(v+1),this.emplace(v,p,h,_)},a.prototype.emplace=function(p,h,_,v){var P=4*p;return this.uint32[2*p+0]=h,this.uint16[P+2]=_,this.uint16[P+3]=v,p},a}(Xo);Ql.prototype.bytesPerElement=8,hr("StructArrayLayout1ul2ui8",Ql);var hc=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h){var _=this.length;return this.resize(_+1),this.emplace(_,p,h)},a.prototype.emplace=function(p,h,_){var v=2*p;return this.uint16[v+0]=h,this.uint16[v+1]=_,p},a}(Xo);hc.prototype.bytesPerElement=4,hr("StructArrayLayout2ui4",hc);var rl=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p){var h=this.length;return this.resize(h+1),this.emplace(h,p)},a.prototype.emplace=function(p,h){return this.uint16[1*p+0]=h,p},a}(Xo);rl.prototype.bytesPerElement=2,hr("StructArrayLayout1ui2",rl);var ol=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(p,h,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,p,h,_,v)},a.prototype.emplace=function(p,h,_,v,P){var T=4*p;return this.float32[T+0]=h,this.float32[T+1]=_,this.float32[T+2]=v,this.float32[T+3]=P,p},a}(Xo);ol.prototype.bytesPerElement=16,hr("StructArrayLayout4f16",ol);var c=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var p={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return p.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},p.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},p.x1.get=function(){return this._structArray.int16[this._pos2+2]},p.y1.get=function(){return this._structArray.int16[this._pos2+3]},p.x2.get=function(){return this._structArray.int16[this._pos2+4]},p.y2.get=function(){return this._structArray.int16[this._pos2+5]},p.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},p.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},p.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},p.anchorPoint.get=function(){return new x(this.anchorPointX,this.anchorPointY)},Object.defineProperties(a.prototype,p),a}(np);c.prototype.size=20;var d=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(p){return new c(this,p)},a}(el);hr("CollisionBoxArray",d);var l=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var p={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return p.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},p.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},p.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},p.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},p.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},p.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},p.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},p.segment.get=function(){return this._structArray.uint16[this._pos2+10]},p.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},p.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},p.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},p.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},p.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},p.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},p.placedOrientation.set=function(h){this._structArray.uint8[this._pos1+37]=h},p.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},p.hidden.set=function(h){this._structArray.uint8[this._pos1+38]=h},p.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},p.crossTileID.set=function(h){this._structArray.uint32[this._pos4+10]=h},p.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(a.prototype,p),a}(np);l.prototype.size=48;var f=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(p){return new l(this,p)},a}(ys);hr("PlacedSymbolArray",f);var E=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var p={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return p.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},p.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},p.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},p.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},p.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},p.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},p.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},p.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},p.key.get=function(){return this._structArray.uint16[this._pos2+8]},p.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},p.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},p.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},p.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},p.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},p.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},p.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},p.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},p.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},p.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},p.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},p.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},p.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},p.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},p.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},p.crossTileID.set=function(h){this._structArray.uint32[this._pos4+12]=h},p.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},p.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},p.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},p.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(a.prototype,p),a}(np);E.prototype.size=68;var F=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(p){return new E(this,p)},a}(tl);hr("SymbolInstanceArray",F);var S=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getoffsetX=function(p){return this.float32[1*p+0]},a}(Ou);hr("GlyphOffsetArray",S);var R=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getx=function(p){return this.int16[3*p+0]},a.prototype.gety=function(p){return this.int16[3*p+1]},a.prototype.gettileUnitDistanceFromAnchor=function(p){return this.int16[3*p+2]},a}(es);hr("SymbolLineVertexArray",R);var D=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var p={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return p.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},p.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},p.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(a.prototype,p),a}(np);D.prototype.size=8;var z=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(p){return new D(this,p)},a}(Ql);hr("FeatureIndexArray",z);var $=hi([{name:"a_pos",components:2,type:"Int16"}],4).members,ee=function(o){o===void 0&&(o=[]),this.segments=o};function re(o,a){return 256*(o=k(Math.floor(o),0,255))+k(Math.floor(a),0,255)}ee.prototype.prepareSegment=function(o,a,p,h){var _=this.segments[this.segments.length-1];return o>ee.MAX_VERTEX_ARRAY_LENGTH&&ze("Max vertices per segment is "+ee.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+o),(!_||_.vertexLength+o>ee.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==h)&&(_={vertexOffset:a.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0},h!==void 0&&(_.sortKey=h),this.segments.push(_)),_},ee.prototype.get=function(){return this.segments},ee.prototype.destroy=function(){for(var o=0,a=this.segments;o<a.length;o+=1){var p=a[o];for(var h in p.vaos)p.vaos[h].destroy()}},ee.simpleSegment=function(o,a,p,h){return new ee([{vertexOffset:o,primitiveOffset:a,vertexLength:p,primitiveLength:h,vaos:{},sortKey:0}])},ee.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hr("SegmentVector",ee);var _e=hi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=y(function(o){o.exports=function(a,p){var h,_,v,P,T,C,I,O;for(_=a.length-(h=3&a.length),v=p,T=3432918353,C=461845907,O=0;O<_;)I=255&a.charCodeAt(O)|(255&a.charCodeAt(++O))<<8|(255&a.charCodeAt(++O))<<16|(255&a.charCodeAt(++O))<<24,++O,v=27492+(65535&(P=5*(65535&(v=(v^=I=(65535&(I=(I=(65535&I)*T+(((I>>>16)*T&65535)<<16)&4294967295)<<15|I>>>17))*C+(((I>>>16)*C&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(P>>>16)&65535)<<16);switch(I=0,h){case 3:I^=(255&a.charCodeAt(O+2))<<16;case 2:I^=(255&a.charCodeAt(O+1))<<8;case 1:v^=I=(65535&(I=(I=(65535&(I^=255&a.charCodeAt(O)))*T+(((I>>>16)*T&65535)<<16)&4294967295)<<15|I>>>17))*C+(((I>>>16)*C&65535)<<16)&4294967295}return v^=a.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}}),Se=y(function(o){o.exports=function(a,p){for(var h,_=a.length,v=p^_,P=0;_>=4;)h=1540483477*(65535&(h=255&a.charCodeAt(P)|(255&a.charCodeAt(++P))<<8|(255&a.charCodeAt(++P))<<16|(255&a.charCodeAt(++P))<<24))+((1540483477*(h>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(h=1540483477*(65535&(h^=h>>>24))+((1540483477*(h>>>16)&65535)<<16)),_-=4,++P;switch(_){case 3:v^=(255&a.charCodeAt(P+2))<<16;case 2:v^=(255&a.charCodeAt(P+1))<<8;case 1:v=1540483477*(65535&(v^=255&a.charCodeAt(P)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}}),ce=de,Ae=Se;ce.murmur3=de,ce.murmur2=Ae;var De=function(){this.ids=[],this.positions=[],this.indexed=!1};De.prototype.add=function(o,a,p,h){this.ids.push(at(o)),this.positions.push(a,p,h)},De.prototype.getPositions=function(o){for(var a=at(o),p=0,h=this.ids.length-1;p<h;){var _=p+h>>1;this.ids[_]>=a?h=_:p=_+1}for(var v=[];this.ids[p]===a;)v.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return v},De.serialize=function(o,a){var p=new Float64Array(o.ids),h=new Uint32Array(o.positions);return function _(v,P,T,C){for(;T<C;){for(var I=v[T+C>>1],O=T-1,B=C+1;;){do O++;while(v[O]<I);do B--;while(v[B]>I);if(O>=B)break;Je(v,O,B),Je(P,3*O,3*B),Je(P,3*O+1,3*B+1),Je(P,3*O+2,3*B+2)}B-T<C-B?(_(v,P,T,B),T=B+1):(_(v,P,B+1,C),C=B)}}(p,h,0,p.length-1),a&&a.push(p.buffer,h.buffer),{ids:p,positions:h}},De.deserialize=function(o){var a=new De;return a.ids=o.ids,a.positions=o.positions,a.indexed=!0,a};var Ze=Math.pow(2,53)-1;function at(o){var a=+o;return!isNaN(a)&&a<=Ze?a:ce(String(o))}function Je(o,a,p){var h=o[a];o[a]=o[p],o[p]=h}hr("FeaturePositionMap",De);var lt=function(o,a){this.gl=o.gl,this.location=a},Pt=function(o){function a(p,h){o.call(this,p,h),this.current=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))},a}(lt),Ht=function(o){function a(p,h){o.call(this,p,h),this.current=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){this.current!==p&&(this.current=p,this.gl.uniform1f(this.location,p))},a}(lt),Bt=function(o){function a(p,h){o.call(this,p,h),this.current=[0,0]}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1]))},a}(lt),ir=function(o){function a(p,h){o.call(this,p,h),this.current=[0,0,0]}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2]))},a}(lt),Cr=function(o){function a(p,h){o.call(this,p,h),this.current=[0,0,0,0]}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]&&p[3]===this.current[3]||(this.current=p,this.gl.uniform4f(this.location,p[0],p[1],p[2],p[3]))},a}(lt),Dr=function(o){function a(p,h){o.call(this,p,h),this.current=xo.transparent}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){p.r===this.current.r&&p.g===this.current.g&&p.b===this.current.b&&p.a===this.current.a||(this.current=p,this.gl.uniform4f(this.location,p.r,p.g,p.b,p.a))},a}(lt),Nr=new Float32Array(16),Bo=function(o){function a(p,h){o.call(this,p,h),this.current=Nr}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.set=function(p){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(var h=1;h<16;h++)if(p[h]!==this.current[h]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}},a}(lt);function lr(o){return[re(255*o.r,255*o.g),re(255*o.b,255*o.a)]}var qr=function(o,a,p){this.value=o,this.uniformNames=a.map(function(h){return"u_"+h}),this.type=p};qr.prototype.setUniform=function(o,a,p){o.set(p.constantOr(this.value))},qr.prototype.getBinding=function(o,a,p){return this.type==="color"?new Dr(o,a):new Ht(o,a)};var lo=function(o,a){this.uniformNames=a.map(function(p){return"u_"+p}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};lo.prototype.setConstantPatternPositions=function(o,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=o.tlbr},lo.prototype.setUniform=function(o,a,p,h){var _=h==="u_pattern_to"?this.patternTo:h==="u_pattern_from"?this.patternFrom:h==="u_pixel_ratio_to"?this.pixelRatioTo:h==="u_pixel_ratio_from"?this.pixelRatioFrom:null;_&&o.set(_)},lo.prototype.getBinding=function(o,a,p){return p.substr(0,9)==="u_pattern"?new Cr(o,a):new Ht(o,a)};var Xr=function(o,a,p,h){this.expression=o,this.type=p,this.maxValue=0,this.paintVertexAttributes=a.map(function(_){return{name:"a_"+_,type:"Float32",components:p==="color"?2:1,offset:0}}),this.paintVertexArray=new h};Xr.prototype.populatePaintArray=function(o,a,p,h,_){var v=this.paintVertexArray.length,P=this.expression.evaluate(new co(0),a,{},h,[],_);this.paintVertexArray.resize(o),this._setPaintValue(v,o,P)},Xr.prototype.updatePaintArray=function(o,a,p,h){var _=this.expression.evaluate({zoom:0},p,h);this._setPaintValue(o,a,_)},Xr.prototype._setPaintValue=function(o,a,p){if(this.type==="color")for(var h=lr(p),_=o;_<a;_++)this.paintVertexArray.emplace(_,h[0],h[1]);else{for(var v=o;v<a;v++)this.paintVertexArray.emplace(v,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}},Xr.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Xr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var jr=function(o,a,p,h,_,v){this.expression=o,this.uniformNames=a.map(function(P){return"u_"+P+"_t"}),this.type=p,this.useIntegerZoom=h,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=a.map(function(P){return{name:"a_"+P,type:"Float32",components:p==="color"?4:2,offset:0}}),this.paintVertexArray=new v};jr.prototype.populatePaintArray=function(o,a,p,h,_){var v=this.expression.evaluate(new co(this.zoom),a,{},h,[],_),P=this.expression.evaluate(new co(this.zoom+1),a,{},h,[],_),T=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(T,o,v,P)},jr.prototype.updatePaintArray=function(o,a,p,h){var _=this.expression.evaluate({zoom:this.zoom},p,h),v=this.expression.evaluate({zoom:this.zoom+1},p,h);this._setPaintValue(o,a,_,v)},jr.prototype._setPaintValue=function(o,a,p,h){if(this.type==="color")for(var _=lr(p),v=lr(h),P=o;P<a;P++)this.paintVertexArray.emplace(P,_[0],_[1],v[0],v[1]);else{for(var T=o;T<a;T++)this.paintVertexArray.emplace(T,p,h);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(h))}},jr.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},jr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},jr.prototype.setUniform=function(o,a){var p=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,h=k(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);o.set(h)},jr.prototype.getBinding=function(o,a,p){return new Ht(o,a)};var po=function(o,a,p,h,_,v){this.expression=o,this.type=a,this.useIntegerZoom=p,this.zoom=h,this.layerId=v,this.zoomInPaintVertexArray=new _,this.zoomOutPaintVertexArray=new _};po.prototype.populatePaintArray=function(o,a,p){var h=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(h,o,a.patterns&&a.patterns[this.layerId],p)},po.prototype.updatePaintArray=function(o,a,p,h,_){this._setPaintValues(o,a,p.patterns&&p.patterns[this.layerId],_)},po.prototype._setPaintValues=function(o,a,p,h){if(h&&p){var _=h[p.min],v=h[p.mid],P=h[p.max];if(_&&v&&P)for(var T=o;T<a;T++)this.zoomInPaintVertexArray.emplace(T,v.tl[0],v.tl[1],v.br[0],v.br[1],_.tl[0],_.tl[1],_.br[0],_.br[1],v.pixelRatio,_.pixelRatio),this.zoomOutPaintVertexArray.emplace(T,v.tl[0],v.tl[1],v.br[0],v.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],v.pixelRatio,P.pixelRatio)}},po.prototype.upload=function(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,_e.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,_e.members,this.expression.isStateDependent))},po.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Wr=function(o,a,p){this.binders={},this._buffers=[];var h=[];for(var _ in o.paint._values)if(p(_)){var v=o.paint.get(_);if(v instanceof Xi&&eu(v.property.specification)){var P=Qn(_,o.type),T=v.value,C=v.property.specification.type,I=v.property.useIntegerZoom,O=v.property.specification["property-type"],B=O==="cross-faded"||O==="cross-faded-data-driven";if(T.kind==="constant")this.binders[_]=B?new lo(T.value,P):new qr(T.value,P,C),h.push("/u_"+_);else if(T.kind==="source"||B){var j=Rn(_,C,"source");this.binders[_]=B?new po(T,C,I,a,j,o.id):new Xr(T,P,C,j),h.push("/a_"+_)}else{var Y=Rn(_,C,"composite");this.binders[_]=new jr(T,P,C,I,a,Y),h.push("/z_"+_)}}}this.cacheKey=h.sort().join("")};Wr.prototype.getMaxValue=function(o){var a=this.binders[o];return a instanceof Xr||a instanceof jr?a.maxValue:0},Wr.prototype.populatePaintArrays=function(o,a,p,h,_){for(var v in this.binders){var P=this.binders[v];(P instanceof Xr||P instanceof jr||P instanceof po)&&P.populatePaintArray(o,a,p,h,_)}},Wr.prototype.setConstantPatternPositions=function(o,a){for(var p in this.binders){var h=this.binders[p];h instanceof lo&&h.setConstantPatternPositions(o,a)}},Wr.prototype.updatePaintArrays=function(o,a,p,h,_){var v=!1;for(var P in o)for(var T=0,C=a.getPositions(P);T<C.length;T+=1){var I=C[T],O=p.feature(I.index);for(var B in this.binders){var j=this.binders[B];if((j instanceof Xr||j instanceof jr||j instanceof po)&&j.expression.isStateDependent===!0){var Y=h.paint.get(B);j.expression=Y.value,j.updatePaintArray(I.start,I.end,O,o[P],_),v=!0}}}return v},Wr.prototype.defines=function(){var o=[];for(var a in this.binders){var p=this.binders[a];(p instanceof qr||p instanceof lo)&&o.push.apply(o,p.uniformNames.map(function(h){return"#define HAS_UNIFORM_"+h}))}return o},Wr.prototype.getBinderAttributes=function(){var o=[];for(var a in this.binders){var p=this.binders[a];if(p instanceof Xr||p instanceof jr)for(var h=0;h<p.paintVertexAttributes.length;h++)o.push(p.paintVertexAttributes[h].name);else if(p instanceof po)for(var _=0;_<_e.members.length;_++)o.push(_e.members[_].name)}return o},Wr.prototype.getBinderUniforms=function(){var o=[];for(var a in this.binders){var p=this.binders[a];if(p instanceof qr||p instanceof lo||p instanceof jr)for(var h=0,_=p.uniformNames;h<_.length;h+=1)o.push(_[h])}return o},Wr.prototype.getPaintVertexBuffers=function(){return this._buffers},Wr.prototype.getUniforms=function(o,a){var p=[];for(var h in this.binders){var _=this.binders[h];if(_ instanceof qr||_ instanceof lo||_ instanceof jr)for(var v=0,P=_.uniformNames;v<P.length;v+=1){var T=P[v];if(a[T]){var C=_.getBinding(o,a[T],T);p.push({name:T,property:h,binding:C})}}}return p},Wr.prototype.setUniforms=function(o,a,p,h){for(var _=0,v=a;_<v.length;_+=1){var P=v[_],T=P.name,C=P.property;this.binders[C].setUniform(P.binding,h,p.get(C),T)}},Wr.prototype.updatePaintBuffers=function(o){for(var a in this._buffers=[],this.binders){var p=this.binders[a];if(o&&p instanceof po){var h=o.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;h&&this._buffers.push(h)}else(p instanceof Xr||p instanceof jr)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}},Wr.prototype.upload=function(o){for(var a in this.binders){var p=this.binders[a];(p instanceof Xr||p instanceof jr||p instanceof po)&&p.upload(o)}this.updatePaintBuffers()},Wr.prototype.destroy=function(){for(var o in this.binders){var a=this.binders[o];(a instanceof Xr||a instanceof jr||a instanceof po)&&a.destroy()}};var zr=function(o,a,p){p===void 0&&(p=function(){return!0}),this.programConfigurations={};for(var h=0,_=o;h<_.length;h+=1){var v=_[h];this.programConfigurations[v.id]=new Wr(v,a,p)}this.needsUpload=!1,this._featureMap=new De,this._bufferOffset=0};function Qn(o,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(a+"-","").replace(/-/g,"_")]}function Rn(o,a,p){var h={color:{source:Mp,composite:ol},number:{source:Ou,composite:Mp}},_=function(v){return{"line-pattern":{source:Cs,composite:Cs},"fill-pattern":{source:Cs,composite:Cs},"fill-extrusion-pattern":{source:Cs,composite:Cs}}[v]}(o);return _&&_[p]||h[a][p]}zr.prototype.populatePaintArrays=function(o,a,p,h,_,v){for(var P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(o,a,h,_,v);a.id!==void 0&&this._featureMap.add(a.id,p,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0},zr.prototype.updatePaintArrays=function(o,a,p,h){for(var _=0,v=p;_<v.length;_+=1){var P=v[_];this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(o,this._featureMap,a,P,h)||this.needsUpload}},zr.prototype.get=function(o){return this.programConfigurations[o]},zr.prototype.upload=function(o){if(this.needsUpload){for(var a in this.programConfigurations)this.programConfigurations[a].upload(o);this.needsUpload=!1}},zr.prototype.destroy=function(){for(var o in this.programConfigurations)this.programConfigurations[o].destroy()},hr("ConstantBinder",qr),hr("CrossFadedConstantBinder",lo),hr("SourceExpressionBinder",Xr),hr("CrossFadedCompositeBinder",po),hr("CompositeExpressionBinder",jr),hr("ProgramConfiguration",Wr,{omit:["_buffers"]}),hr("ProgramConfigurationSet",zr);var Ci=Math.pow(2,14)-1,fi=-Ci-1;function Tn(o){for(var a=8192/o.extent,p=o.loadGeometry(),h=0;h<p.length;h++)for(var _=p[h],v=0;v<_.length;v++){var P=_[v],T=Math.round(P.x*a),C=Math.round(P.y*a);P.x=k(T,fi,Ci),P.y=k(C,fi,Ci),(T<P.x||T>P.x+1||C<P.y||C>P.y+1)&&ze("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return p}function Cn(o,a){return{type:o.type,id:o.id,properties:o.properties,geometry:a?Tn(o):[]}}function oa(o,a,p,h,_){o.emplaceBack(2*a+(h+1)/2,2*p+(_+1)/2)}var $i=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new Du,this.indexArray=new Ms,this.segments=new ee,this.programConfigurations=new zr(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Is(o,a){for(var p=0;p<o.length;p++)if(hs(a,o[p]))return!0;for(var h=0;h<a.length;h++)if(hs(o,a[h]))return!0;return!!Np(o,a)}function na(o,a,p){return!!hs(o,a)||!!Ns(a,o,p)}function ts(o,a){if(o.length===1)return au(a,o[0]);for(var p=0;p<a.length;p++)for(var h=a[p],_=0;_<h.length;_++)if(hs(o,h[_]))return!0;for(var v=0;v<o.length;v++)if(au(a,o[v]))return!0;for(var P=0;P<a.length;P++)if(Np(o,a[P]))return!0;return!1}function Ca(o,a,p){if(o.length>1){if(Np(o,a))return!0;for(var h=0;h<a.length;h++)if(Ns(a[h],o,p))return!0}for(var _=0;_<o.length;_++)if(Ns(o[_],a,p))return!0;return!1}function Np(o,a){if(o.length===0||a.length===0)return!1;for(var p=0;p<o.length-1;p++)for(var h=o[p],_=o[p+1],v=0;v<a.length-1;v++)if(sp(h,_,a[v],a[v+1]))return!0;return!1}function sp(o,a,p,h){return st(o,p,h)!==st(a,p,h)&&st(o,a,p)!==st(o,a,h)}function Ns(o,a,p){var h=p*p;if(a.length===1)return o.distSqr(a[0])<h;for(var _=1;_<a.length;_++)if(Lu(o,a[_-1],a[_])<h)return!0;return!1}function Lu(o,a,p){var h=a.distSqr(p);if(h===0)return o.distSqr(a);var _=((o.x-a.x)*(p.x-a.x)+(o.y-a.y)*(p.y-a.y))/h;return o.distSqr(_<0?a:_>1?p:p.sub(a)._mult(_)._add(a))}function au(o,a){for(var p,h,_,v=!1,P=0;P<o.length;P++)for(var T=0,C=(p=o[P]).length-1;T<p.length;C=T++)(h=p[T]).y>a.y!=(_=p[C]).y>a.y&&a.x<(_.x-h.x)*(a.y-h.y)/(_.y-h.y)+h.x&&(v=!v);return v}function hs(o,a){for(var p=!1,h=0,_=o.length-1;h<o.length;_=h++){var v=o[h],P=o[_];v.y>a.y!=P.y>a.y&&a.x<(P.x-v.x)*(a.y-v.y)/(P.y-v.y)+v.x&&(p=!p)}return p}function Bu(o,a,p){var h=p[0],_=p[2];if(o.x<h.x&&a.x<h.x||o.x>_.x&&a.x>_.x||o.y<h.y&&a.y<h.y||o.y>_.y&&a.y>_.y)return!1;var v=st(o,a,p[0]);return v!==st(o,a,p[1])||v!==st(o,a,p[2])||v!==st(o,a,p[3])}function zi(o,a,p){var h=a.paint.get(o).value;return h.kind==="constant"?h.value:p.programConfigurations.get(a.id).getMaxValue(o)}function kn(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function ya(o,a,p,h,_){if(!a[0]&&!a[1])return o;var v=x.convert(a)._mult(_);p==="viewport"&&v._rotate(-h);for(var P=[],T=0;T<o.length;T++)P.push(o[T].sub(v));return P}$i.prototype.populate=function(o,a,p){var h=this.layers[0],_=[],v=null;h.type==="circle"&&(v=h.layout.get("circle-sort-key"));for(var P=0,T=o;P<T.length;P+=1){var C=T[P],I=C.feature,O=C.id,B=C.index,j=C.sourceLayerIndex,Y=this.layers[0]._featureFilter.needGeometry,le=Cn(I,Y);if(this.layers[0]._featureFilter.filter(new co(this.zoom),le,p)){var he=v?v.evaluate(le,{},p):void 0,Re={id:O,properties:I.properties,type:I.type,sourceLayerIndex:j,index:B,geometry:Y?le.geometry:Tn(I),patterns:{},sortKey:he};_.push(Re)}}v&&_.sort(function(qt,Mr){return qt.sortKey-Mr.sortKey});for(var be=0,Ve=_;be<Ve.length;be+=1){var Xe=Ve[be],nt=Xe.geometry,ut=Xe.index,vt=Xe.sourceLayerIndex,kt=o[ut].feature;this.addFeature(Xe,nt,ut,p),a.featureIndex.insert(kt,nt,ut,vt,this.index)}},$i.prototype.update=function(o,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,p)},$i.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$i.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$i.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,$),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},$i.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$i.prototype.addFeature=function(o,a,p,h){for(var _=0,v=a;_<v.length;_+=1)for(var P=0,T=v[_];P<T.length;P+=1){var C=T[P],I=C.x,O=C.y;if(!(I<0||I>=8192||O<0||O>=8192)){var B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),j=B.vertexLength;oa(this.layoutVertexArray,I,O,-1,-1),oa(this.layoutVertexArray,I,O,1,-1),oa(this.layoutVertexArray,I,O,1,1),oa(this.layoutVertexArray,I,O,-1,1),this.indexArray.emplaceBack(j,j+1,j+2),this.indexArray.emplaceBack(j,j+3,j+2),B.vertexLength+=4,B.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{},h)},hr("CircleBucket",$i,{omit:["layers"]});var rs=new Sn({"circle-sort-key":new gr(J.layout_circle["circle-sort-key"])}),fs={paint:new Sn({"circle-radius":new gr(J.paint_circle["circle-radius"]),"circle-color":new gr(J.paint_circle["circle-color"]),"circle-blur":new gr(J.paint_circle["circle-blur"]),"circle-opacity":new gr(J.paint_circle["circle-opacity"]),"circle-translate":new Rr(J.paint_circle["circle-translate"]),"circle-translate-anchor":new Rr(J.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Rr(J.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Rr(J.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gr(J.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gr(J.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gr(J.paint_circle["circle-stroke-opacity"])}),layout:rs},Io=typeof Float32Array<"u"?Float32Array:Array;function Mi(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Jn(o,a,p){var h=a[0],_=a[1],v=a[2],P=a[3],T=a[4],C=a[5],I=a[6],O=a[7],B=a[8],j=a[9],Y=a[10],le=a[11],he=a[12],Re=a[13],be=a[14],Ve=a[15],Xe=p[0],nt=p[1],ut=p[2],vt=p[3];return o[0]=Xe*h+nt*T+ut*B+vt*he,o[1]=Xe*_+nt*C+ut*j+vt*Re,o[2]=Xe*v+nt*I+ut*Y+vt*be,o[3]=Xe*P+nt*O+ut*le+vt*Ve,o[4]=(Xe=p[4])*h+(nt=p[5])*T+(ut=p[6])*B+(vt=p[7])*he,o[5]=Xe*_+nt*C+ut*j+vt*Re,o[6]=Xe*v+nt*I+ut*Y+vt*be,o[7]=Xe*P+nt*O+ut*le+vt*Ve,o[8]=(Xe=p[8])*h+(nt=p[9])*T+(ut=p[10])*B+(vt=p[11])*he,o[9]=Xe*_+nt*C+ut*j+vt*Re,o[10]=Xe*v+nt*I+ut*Y+vt*be,o[11]=Xe*P+nt*O+ut*le+vt*Ve,o[12]=(Xe=p[12])*h+(nt=p[13])*T+(ut=p[14])*B+(vt=p[15])*he,o[13]=Xe*_+nt*C+ut*j+vt*Re,o[14]=Xe*v+nt*I+ut*Y+vt*be,o[15]=Xe*P+nt*O+ut*le+vt*Ve,o}Math.hypot||(Math.hypot=function(){for(var o=arguments,a=0,p=arguments.length;p--;)a+=o[p]*o[p];return Math.sqrt(a)});var Ds,nl=Jn;function Uu(o,a,p){var h=a[0],_=a[1],v=a[2],P=a[3];return o[0]=p[0]*h+p[4]*_+p[8]*v+p[12]*P,o[1]=p[1]*h+p[5]*_+p[9]*v+p[13]*P,o[2]=p[2]*h+p[6]*_+p[10]*v+p[14]*P,o[3]=p[3]*h+p[7]*_+p[11]*v+p[15]*P,o}Ds=new Io(3),Io!=Float32Array&&(Ds[0]=0,Ds[1]=0,Ds[2]=0),function(){var o=new Io(4);Io!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0)}();var Jl=(function(){var o=new Io(2);Io!=Float32Array&&(o[0]=0,o[1]=0)}(),function(o){function a(p){o.call(this,p,fs)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.createBucket=function(p){return new $i(p)},a.prototype.queryRadius=function(p){var h=p;return zi("circle-radius",this,h)+zi("circle-stroke-width",this,h)+kn(this.paint.get("circle-translate"))},a.prototype.queryIntersectsFeature=function(p,h,_,v,P,T,C,I){for(var O=ya(p,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,C),B=this.paint.get("circle-radius").evaluate(h,_)+this.paint.get("circle-stroke-width").evaluate(h,_),j=this.paint.get("circle-pitch-alignment")==="map",Y=j?O:function(kt,qt){return kt.map(function(Mr){return up(Mr,qt)})}(O,I),le=j?B*C:B,he=0,Re=v;he<Re.length;he+=1)for(var be=0,Ve=Re[he];be<Ve.length;be+=1){var Xe=Ve[be],nt=j?Xe:up(Xe,I),ut=le,vt=Uu([],[Xe.x,Xe.y,0,1],I);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ut*=vt[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ut*=T.cameraToCenterDistance/vt[3]),na(Y,nt,ut))return!0}return!1},a}(Ja));function up(o,a){var p=Uu([],[o.x,o.y,0,1],a);return new x(p[0]/p[3],p[1]/p[3])}var pp=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}($i);function ms(o,a,p,h){var _=a.width,v=a.height;if(h){if(h instanceof Uint8ClampedArray)h=new Uint8Array(h.buffer);else if(h.length!==_*v*p)throw new RangeError("mismatched image size")}else h=new Uint8Array(_*v*p);return o.width=_,o.height=v,o.data=h,o}function il(o,a,p){var h=a.width,_=a.height;if(h!==o.width||_!==o.height){var v=ms({},{width:h,height:_},p);od(o,v,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,h),height:Math.min(o.height,_)},p),o.width=h,o.height=_,o.data=v.data}}function od(o,a,p,h,_,v){if(_.width===0||_.height===0)return a;if(_.width>o.width||_.height>o.height||p.x>o.width-_.width||p.y>o.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>a.width||_.height>a.height||h.x>a.width-_.width||h.y>a.height-_.height)throw new RangeError("out of range destination coordinates for image copy");for(var P=o.data,T=a.data,C=0;C<_.height;C++)for(var I=((p.y+C)*o.width+p.x)*v,O=((h.y+C)*a.width+h.x)*v,B=0;B<_.width*v;B++)T[O+B]=P[I+B];return a}hr("HeatmapBucket",pp,{omit:["layers"]});var Dp=function(o,a){ms(this,o,1,a)};Dp.prototype.resize=function(o){il(this,o,1)},Dp.prototype.clone=function(){return new Dp({width:this.width,height:this.height},new Uint8Array(this.data))},Dp.copy=function(o,a,p,h,_){od(o,a,p,h,_,1)};var ha=function(o,a){ms(this,o,4,a)};ha.prototype.resize=function(o){il(this,o,4)},ha.prototype.replace=function(o,a){a?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o},ha.prototype.clone=function(){return new ha({width:this.width,height:this.height},new Uint8Array(this.data))},ha.copy=function(o,a,p,h,_){od(o,a,p,h,_,4)},hr("AlphaImage",Dp),hr("RGBAImage",ha);var Gy={paint:new Sn({"heatmap-radius":new gr(J.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gr(J.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Rr(J.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ds(J.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Rr(J.paint_heatmap["heatmap-opacity"])})};function jy(o){var a={},p=o.resolution||256,h=o.clips?o.clips.length:1,_=o.image||new ha({width:p,height:h}),v=function(le,he,Re){a[o.evaluationKey]=Re;var be=o.expression.evaluate(a);_.data[le+he+0]=Math.floor(255*be.r/be.a),_.data[le+he+1]=Math.floor(255*be.g/be.a),_.data[le+he+2]=Math.floor(255*be.b/be.a),_.data[le+he+3]=Math.floor(255*be.a)};if(o.clips)for(var P=0,T=0;P<h;++P,T+=4*p)for(var C=0,I=0;C<p;C++,I+=4){var O=C/(p-1),B=o.clips[P];v(T,I,B.start*(1-O)+B.end*O)}else for(var j=0,Y=0;j<p;j++,Y+=4)v(0,Y,j/(p-1));return _}var al=function(o){function a(p){o.call(this,p,Gy),this._updateColorRamp()}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.createBucket=function(p){return new pp(p)},a.prototype._handleSpecialPaintPropertyUpdate=function(p){p==="heatmap-color"&&this._updateColorRamp()},a.prototype._updateColorRamp=function(){this.colorRamp=jy({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},a.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},a}(Ja),tm={paint:new Sn({"hillshade-illumination-direction":new Rr(J.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Rr(J.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Rr(J.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Rr(J.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Rr(J.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Rr(J.paint_hillshade["hillshade-accent-color"])})},rm=function(o){function a(p){o.call(this,p,tm)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},a}(Ja),om=hi([{name:"a_pos",components:2,type:"Int16"}],4).members,V0=H0,nm=H0;function H0(o,a,p){p=p||2;var h,_,v,P,T,C,I,O=a&&a.length,B=O?a[0]*p:o.length,j=Wy(o,0,B,p,!0),Y=[];if(!j||j.next===j.prev)return Y;if(O&&(j=function(he,Re,be,Ve){var Xe,nt,ut,vt=[];for(Xe=0,nt=Re.length;Xe<nt;Xe++)(ut=Wy(he,Re[Xe]*Ve,Xe<nt-1?Re[Xe+1]*Ve:he.length,Ve,!1))===ut.next&&(ut.steiner=!0),vt.push(j0(ut));for(vt.sort(pm),Xe=0;Xe<vt.length;Xe++)nd(vt[Xe],be),be=Op(be,be.next);return be}(o,a,j,p)),o.length>80*p){h=v=o[0],_=P=o[1];for(var le=p;le<B;le+=p)(T=o[le])<h&&(h=T),(C=o[le+1])<_&&(_=C),T>v&&(v=T),C>P&&(P=C);I=(I=Math.max(v-h,P-_))!==0?1/I:0}return e0(j,Y,p,h,_,I),Y}function Wy(o,a,p,h,_){var v,P;if(_===vc(o,a,p,h)>0)for(v=a;v<p;v+=h)P=pl(v,o[v],o[v+1],P);else for(v=p-h;v>=a;v-=h)P=pl(v,o[v],o[v+1],P);return P&&fc(P,P.next)&&(cp(P),P=P.next),P}function Op(o,a){if(!o)return o;a||(a=o);var p,h=o;do if(p=!1,h.steiner||!fc(h,h.next)&&zn(h.prev,h,h.next)!==0)h=h.next;else{if(cp(h),(h=a=h.prev)===h.next)break;p=!0}while(p||h!==a);return a}function e0(o,a,p,h,_,v,P){if(o){!P&&v&&function(O,B,j,Y){var le=O;do le.z===null&&(le.z=sl(le.x,le.y,B,j,Y)),le.prevZ=le.prev,le.nextZ=le.next,le=le.next;while(le!==O);le.prevZ.nextZ=null,le.prevZ=null,function(he){var Re,be,Ve,Xe,nt,ut,vt,kt,qt=1;do{for(be=he,he=null,nt=null,ut=0;be;){for(ut++,Ve=be,vt=0,Re=0;Re<qt&&(vt++,Ve=Ve.nextZ);Re++);for(kt=qt;vt>0||kt>0&&Ve;)vt!==0&&(kt===0||!Ve||be.z<=Ve.z)?(Xe=be,be=be.nextZ,vt--):(Xe=Ve,Ve=Ve.nextZ,kt--),nt?nt.nextZ=Xe:he=Xe,Xe.prevZ=nt,nt=Xe;be=Ve}nt.nextZ=null,qt*=2}while(ut>1)}(le)}(o,h,_,v);for(var T,C,I=o;o.prev!==o.next;)if(T=o.prev,C=o.next,v?am(o,h,_,v):im(o))a.push(T.i/p),a.push(o.i/p),a.push(C.i/p),cp(o),o=C.next,I=C.next;else if((o=C)===I){P?P===1?e0(o=sm(Op(o),a,p),a,p,h,_,v,2):P===2&&um(o,a,p,h,_,v):e0(Op(o),a,p,h,_,v,1);break}}}function im(o){var a=o.prev,p=o,h=o.next;if(zn(a,p,h)>=0)return!1;for(var _=o.next.next;_!==o.prev;){if(Lp(a.x,a.y,p.x,p.y,h.x,h.y,_.x,_.y)&&zn(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function am(o,a,p,h){var _=o.prev,v=o,P=o.next;if(zn(_,v,P)>=0)return!1;for(var T=_.x>v.x?_.x>P.x?_.x:P.x:v.x>P.x?v.x:P.x,C=_.y>v.y?_.y>P.y?_.y:P.y:v.y>P.y?v.y:P.y,I=sl(_.x<v.x?_.x<P.x?_.x:P.x:v.x<P.x?v.x:P.x,_.y<v.y?_.y<P.y?_.y:P.y:v.y<P.y?v.y:P.y,a,p,h),O=sl(T,C,a,p,h),B=o.prevZ,j=o.nextZ;B&&B.z>=I&&j&&j.z<=O;){if(B!==o.prev&&B!==o.next&&Lp(_.x,_.y,v.x,v.y,P.x,P.y,B.x,B.y)&&zn(B.prev,B,B.next)>=0||(B=B.prevZ,j!==o.prev&&j!==o.next&&Lp(_.x,_.y,v.x,v.y,P.x,P.y,j.x,j.y)&&zn(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;B&&B.z>=I;){if(B!==o.prev&&B!==o.next&&Lp(_.x,_.y,v.x,v.y,P.x,P.y,B.x,B.y)&&zn(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;j&&j.z<=O;){if(j!==o.prev&&j!==o.next&&Lp(_.x,_.y,v.x,v.y,P.x,P.y,j.x,j.y)&&zn(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function sm(o,a,p){var h=o;do{var _=h.prev,v=h.next.next;!fc(_,v)&&Z0(_,h,h.next,v)&&Bp(_,v)&&Bp(v,_)&&(a.push(_.i/p),a.push(h.i/p),a.push(v.i/p),cp(h),cp(h.next),h=o=v),h=h.next}while(h!==o);return Op(h)}function um(o,a,p,h,_,v){var P=o;do{for(var T=P.next.next;T!==P.prev;){if(P.i!==T.i&&W0(P,T)){var C=ul(P,T);return P=Op(P,P.next),C=Op(C,C.next),e0(P,a,p,h,_,v),void e0(C,a,p,h,_,v)}T=T.next}P=P.next}while(P!==o)}function pm(o,a){return o.x-a.x}function nd(o,a){if(a=function(h,_){var v,P=_,T=h.x,C=h.y,I=-1/0;do{if(C<=P.y&&C>=P.next.y&&P.next.y!==P.y){var O=P.x+(C-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(O<=T&&O>I){if(I=O,O===T){if(C===P.y)return P;if(C===P.next.y)return P.next}v=P.x<P.next.x?P:P.next}}P=P.next}while(P!==_);if(!v)return null;if(T===I)return v;var B,j=v,Y=v.x,le=v.y,he=1/0;P=v;do T>=P.x&&P.x>=Y&&T!==P.x&&Lp(C<le?T:I,C,Y,le,C<le?I:T,C,P.x,P.y)&&(B=Math.abs(C-P.y)/(T-P.x),Bp(P,h)&&(B<he||B===he&&(P.x>v.x||P.x===v.x&&G0(v,P)))&&(v=P,he=B)),P=P.next;while(P!==j);return v}(o,a)){var p=ul(a,o);Op(a,a.next),Op(p,p.next)}}function G0(o,a){return zn(o.prev,o,a.prev)<0&&zn(a.next,o,o.next)<0}function sl(o,a,p,h,_){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-p)*_)|o<<8))|o<<4))|o<<2))|o<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-h)*_)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function j0(o){var a=o,p=o;do(a.x<p.x||a.x===p.x&&a.y<p.y)&&(p=a),a=a.next;while(a!==o);return p}function Lp(o,a,p,h,_,v,P,T){return(_-P)*(a-T)-(o-P)*(v-T)>=0&&(o-P)*(h-T)-(p-P)*(a-T)>=0&&(p-P)*(v-T)-(_-P)*(h-T)>=0}function W0(o,a){return o.next.i!==a.i&&o.prev.i!==a.i&&!function(p,h){var _=p;do{if(_.i!==p.i&&_.next.i!==p.i&&_.i!==h.i&&_.next.i!==h.i&&Z0(_,_.next,p,h))return!0;_=_.next}while(_!==p);return!1}(o,a)&&(Bp(o,a)&&Bp(a,o)&&function(p,h){var _=p,v=!1,P=(p.x+h.x)/2,T=(p.y+h.y)/2;do _.y>T!=_.next.y>T&&_.next.y!==_.y&&P<(_.next.x-_.x)*(T-_.y)/(_.next.y-_.y)+_.x&&(v=!v),_=_.next;while(_!==p);return v}(o,a)&&(zn(o.prev,o,a.prev)||zn(o,a.prev,a))||fc(o,a)&&zn(o.prev,o,o.next)>0&&zn(a.prev,a,a.next)>0)}function zn(o,a,p){return(a.y-o.y)*(p.x-a.x)-(a.x-o.x)*(p.y-a.y)}function fc(o,a){return o.x===a.x&&o.y===a.y}function Z0(o,a,p,h){var _=_c(zn(o,a,p)),v=_c(zn(o,a,h)),P=_c(zn(p,h,o)),T=_c(zn(p,h,a));return _!==v&&P!==T||!(_!==0||!mc(o,p,a))||!(v!==0||!mc(o,h,a))||!(P!==0||!mc(p,o,h))||!(T!==0||!mc(p,a,h))}function mc(o,a,p){return a.x<=Math.max(o.x,p.x)&&a.x>=Math.min(o.x,p.x)&&a.y<=Math.max(o.y,p.y)&&a.y>=Math.min(o.y,p.y)}function _c(o){return o>0?1:o<0?-1:0}function Bp(o,a){return zn(o.prev,o,o.next)<0?zn(o,a,o.next)>=0&&zn(o,o.prev,a)>=0:zn(o,a,o.prev)<0||zn(o,o.next,a)<0}function ul(o,a){var p=new gc(o.i,o.x,o.y),h=new gc(a.i,a.x,a.y),_=o.next,v=a.prev;return o.next=a,a.prev=o,p.next=_,_.prev=p,h.next=p,p.prev=h,v.next=h,h.prev=v,h}function pl(o,a,p,h){var _=new gc(o,a,p);return h?(_.next=h.next,_.prev=h,h.next.prev=_,h.next=_):(_.prev=_,_.next=_),_}function cp(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function gc(o,a,p){this.i=o,this.x=a,this.y=p,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vc(o,a,p,h){for(var _=0,v=a,P=p-h;v<p;v+=h)_+=(o[P]-o[v])*(o[v+1]+o[P+1]),P=v;return _}function Zy(o,a,p,h,_){(function v(P,T,C,I,O){for(;I>C;){if(I-C>600){var B=I-C+1,j=T-C+1,Y=Math.log(B),le=.5*Math.exp(2*Y/3),he=.5*Math.sqrt(Y*le*(B-le)/B)*(j-B/2<0?-1:1);v(P,T,Math.max(C,Math.floor(T-j*le/B+he)),Math.min(I,Math.floor(T+(B-j)*le/B+he)),O)}var Re=P[T],be=C,Ve=I;for(lp(P,C,T),O(P[I],Re)>0&&lp(P,C,I);be<Ve;){for(lp(P,be,Ve),be++,Ve--;O(P[be],Re)<0;)be++;for(;O(P[Ve],Re)>0;)Ve--}O(P[C],Re)===0?lp(P,C,Ve):lp(P,++Ve,I),Ve<=T&&(C=Ve+1),T<=Ve&&(I=Ve-1)}})(o,a,p,h||o.length-1,_||Ec)}function lp(o,a,p){var h=o[a];o[a]=o[p],o[p]=h}function Ec(o,a){return o<a?-1:o>a?1:0}function X0(o,a){var p=o.length;if(p<=1)return[o];for(var h,_,v=[],P=0;P<p;P++){var T=Vt(o[P]);T!==0&&(o[P].area=Math.abs(T),_===void 0&&(_=T<0),_===T<0?(h&&v.push(h),h=[o[P]]):h.push(o[P]))}if(h&&v.push(h),a>1)for(var C=0;C<v.length;C++)v[C].length<=a||(Zy(v[C],a,1,v[C].length-1,id),v[C]=v[C].slice(0,a));return v}function id(o,a){return a.area-o.area}function ad(o,a,p){for(var h=p.patternDependencies,_=!1,v=0,P=a;v<P.length;v+=1){var T=P[v].paint.get(o+"-pattern");T.isConstant()||(_=!0);var C=T.constantOr(null);C&&(_=!0,h[C.to]=!0,h[C.from]=!0)}return _}function sd(o,a,p,h,_){for(var v=_.patternDependencies,P=0,T=a;P<T.length;P+=1){var C=T[P],I=C.paint.get(o+"-pattern").value;if(I.kind!=="constant"){var O=I.evaluate({zoom:h-1},p,{},_.availableImages),B=I.evaluate({zoom:h},p,{},_.availableImages),j=I.evaluate({zoom:h+1},p,{},_.availableImages);B=B&&B.name?B.name:B,j=j&&j.name?j.name:j,v[O=O&&O.name?O.name:O]=!0,v[B]=!0,v[j]=!0,p.patterns[C.id]={min:O,mid:B,max:j}}}return p}H0.deviation=function(o,a,p,h){var _=a&&a.length,v=Math.abs(vc(o,0,_?a[0]*p:o.length,p));if(_)for(var P=0,T=a.length;P<T;P++)v-=Math.abs(vc(o,a[P]*p,P<T-1?a[P+1]*p:o.length,p));var C=0;for(P=0;P<h.length;P+=3){var I=h[P]*p,O=h[P+1]*p,B=h[P+2]*p;C+=Math.abs((o[I]-o[B])*(o[O+1]-o[I+1])-(o[I]-o[O])*(o[B+1]-o[I+1]))}return v===0&&C===0?0:Math.abs((C-v)/v)},H0.flatten=function(o){for(var a=o[0][0].length,p={vertices:[],holes:[],dimensions:a},h=0,_=0;_<o.length;_++){for(var v=0;v<o[_].length;v++)for(var P=0;P<a;P++)p.vertices.push(o[_][v][P]);_>0&&p.holes.push(h+=o[_-1].length)}return p},V0.default=nm;var su=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Du,this.indexArray=new Ms,this.indexArray2=new hc,this.programConfigurations=new zr(o.layers,o.zoom),this.segments=new ee,this.segments2=new ee,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};su.prototype.populate=function(o,a,p){this.hasPattern=ad("fill",this.layers,a);for(var h=this.layers[0].layout.get("fill-sort-key"),_=[],v=0,P=o;v<P.length;v+=1){var T=P[v],C=T.feature,I=T.id,O=T.index,B=T.sourceLayerIndex,j=this.layers[0]._featureFilter.needGeometry,Y=Cn(C,j);if(this.layers[0]._featureFilter.filter(new co(this.zoom),Y,p)){var le=h?h.evaluate(Y,{},p,a.availableImages):void 0,he={id:I,properties:C.properties,type:C.type,sourceLayerIndex:B,index:O,geometry:j?Y.geometry:Tn(C),patterns:{},sortKey:le};_.push(he)}}h&&_.sort(function(kt,qt){return kt.sortKey-qt.sortKey});for(var Re=0,be=_;Re<be.length;Re+=1){var Ve=be[Re],Xe=Ve.geometry,nt=Ve.index,ut=Ve.sourceLayerIndex;if(this.hasPattern){var vt=sd("fill",this.layers,Ve,this.zoom,a);this.patternFeatures.push(vt)}else this.addFeature(Ve,Xe,nt,p,{});a.featureIndex.insert(o[nt].feature,Xe,nt,ut,this.index)}},su.prototype.update=function(o,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,p)},su.prototype.addFeatures=function(o,a,p){for(var h=0,_=this.patternFeatures;h<_.length;h+=1){var v=_[h];this.addFeature(v,v.geometry,v.index,a,p)}},su.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},su.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},su.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,om),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0},su.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},su.prototype.addFeature=function(o,a,p,h,_){for(var v=0,P=X0(a,500);v<P.length;v+=1){for(var T=P[v],C=0,I=0,O=T;I<O.length;I+=1)C+=O[I].length;for(var B=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),j=B.vertexLength,Y=[],le=[],he=0,Re=T;he<Re.length;he+=1){var be=Re[he];if(be.length!==0){be!==T[0]&&le.push(Y.length/2);var Ve=this.segments2.prepareSegment(be.length,this.layoutVertexArray,this.indexArray2),Xe=Ve.vertexLength;this.layoutVertexArray.emplaceBack(be[0].x,be[0].y),this.indexArray2.emplaceBack(Xe+be.length-1,Xe),Y.push(be[0].x),Y.push(be[0].y);for(var nt=1;nt<be.length;nt++)this.layoutVertexArray.emplaceBack(be[nt].x,be[nt].y),this.indexArray2.emplaceBack(Xe+nt-1,Xe+nt),Y.push(be[nt].x),Y.push(be[nt].y);Ve.vertexLength+=be.length,Ve.primitiveLength+=be.length}}for(var ut=V0(Y,le),vt=0;vt<ut.length;vt+=3)this.indexArray.emplaceBack(j+ut[vt],j+ut[vt+1],j+ut[vt+2]);B.vertexLength+=C,B.primitiveLength+=ut.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,_,h)},hr("FillBucket",su,{omit:["layers","patternFeatures"]});var Up=new Sn({"fill-sort-key":new gr(J.layout_fill["fill-sort-key"])}),Xy={paint:new Sn({"fill-antialias":new Rr(J.paint_fill["fill-antialias"]),"fill-opacity":new gr(J.paint_fill["fill-opacity"]),"fill-color":new gr(J.paint_fill["fill-color"]),"fill-outline-color":new gr(J.paint_fill["fill-outline-color"]),"fill-translate":new Rr(J.paint_fill["fill-translate"]),"fill-translate-anchor":new Rr(J.paint_fill["fill-translate-anchor"]),"fill-pattern":new wa(J.paint_fill["fill-pattern"])}),layout:Up},Yy=function(o){function a(p){o.call(this,p,Xy)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.recalculate=function(p,h){o.prototype.recalculate.call(this,p,h);var _=this.paint._values["fill-outline-color"];_.value.kind==="constant"&&_.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},a.prototype.createBucket=function(p){return new su(p)},a.prototype.queryRadius=function(){return kn(this.paint.get("fill-translate"))},a.prototype.queryIntersectsFeature=function(p,h,_,v,P,T,C){return ts(ya(p,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,C),v)},a.prototype.isTileClipped=function(){return!0},a}(Ja),$y=hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,qy=xc;function xc(o,a,p,h,_){this.properties={},this.extent=p,this.type=0,this._pbf=o,this._geometry=-1,this._keys=h,this._values=_,o.readFields(cm,this,a)}function cm(o,a,p){o==1?a.id=p.readVarint():o==2?function(h,_){for(var v=h.readVarint()+h.pos;h.pos<v;){var P=_._keys[h.readVarint()],T=_._values[h.readVarint()];_.properties[P]=T}}(p,a):o==3?a.type=p.readVarint():o==4&&(a._geometry=p.pos)}function ku(o){for(var a,p,h=0,_=0,v=o.length,P=v-1;_<v;P=_++)h+=((p=o[P]).x-(a=o[_]).x)*(a.y+p.y);return h}xc.types=["Unknown","Point","LineString","Polygon"],xc.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var a,p=o.readVarint()+o.pos,h=1,_=0,v=0,P=0,T=[];o.pos<p;){if(_<=0){var C=o.readVarint();h=7&C,_=C>>3}if(_--,h===1||h===2)v+=o.readSVarint(),P+=o.readSVarint(),h===1&&(a&&T.push(a),a=[]),a.push(new x(v,P));else{if(h!==7)throw new Error("unknown command "+h);a&&a.push(a[0].clone())}}return a&&T.push(a),T},xc.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var a=o.readVarint()+o.pos,p=1,h=0,_=0,v=0,P=1/0,T=-1/0,C=1/0,I=-1/0;o.pos<a;){if(h<=0){var O=o.readVarint();p=7&O,h=O>>3}if(h--,p===1||p===2)(_+=o.readSVarint())<P&&(P=_),_>T&&(T=_),(v+=o.readSVarint())<C&&(C=v),v>I&&(I=v);else if(p!==7)throw new Error("unknown command "+p)}return[P,C,T,I]},xc.prototype.toGeoJSON=function(o,a,p){var h,_,v=this.extent*Math.pow(2,p),P=this.extent*o,T=this.extent*a,C=this.loadGeometry(),I=xc.types[this.type];function O(Y){for(var le=0;le<Y.length;le++){var he=Y[le];Y[le]=[360*(he.x+P)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(he.y+T)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(h=0;h<C.length;h++)B[h]=C[h][0];O(C=B);break;case 2:for(h=0;h<C.length;h++)O(C[h]);break;case 3:for(C=function(Y){var le=Y.length;if(le<=1)return[Y];for(var he,Re,be=[],Ve=0;Ve<le;Ve++){var Xe=ku(Y[Ve]);Xe!==0&&(Re===void 0&&(Re=Xe<0),Re===Xe<0?(he&&be.push(he),he=[Y[Ve]]):he.push(Y[Ve]))}return he&&be.push(he),be}(C),h=0;h<C.length;h++)for(_=0;_<C[h].length;_++)O(C[h][_])}C.length===1?C=C[0]:I="Multi"+I;var j={type:"Feature",geometry:{type:I,coordinates:C},properties:this.properties};return"id"in this&&(j.id=this.id),j};var ud=Pc;function Pc(o,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(kp,this,a),this.length=this._features.length}function kp(o,a,p){o===15?a.version=p.readVarint():o===1?a.name=p.readString():o===5?a.extent=p.readVarint():o===2?a._features.push(p.pos):o===3?a._keys.push(p.readString()):o===4&&a._values.push(function(h){for(var _=null,v=h.readVarint()+h.pos;h.pos<v;){var P=h.readVarint()>>3;_=P===1?h.readString():P===2?h.readFloat():P===3?h.readDouble():P===4?h.readVarint64():P===5?h.readVarint():P===6?h.readSVarint():P===7?h.readBoolean():null}return _}(p))}function Ky(o,a,p){if(o===3){var h=new ud(p,p.readVarint()+p.pos);h.length&&(a[h.name]=h)}}Pc.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var a=this._pbf.readVarint()+this._pbf.pos;return new qy(this._pbf,a,this.extent,this._keys,this._values)};var zp={VectorTile:function(o,a){this.layers=o.readFields(Ky,{},a)},VectorTileFeature:qy,VectorTileLayer:ud},Y0=zp.VectorTileFeature.types,$0=Math.pow(2,13);function fa(o,a,p,h,_,v,P,T){o.emplaceBack(a,p,2*Math.floor(h*$0)+P,_*$0*2,v*$0*2,Math.round(T))}var ia=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new iu,this.indexArray=new Ms,this.programConfigurations=new zr(o.layers,o.zoom),this.segments=new ee,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function mi(o,a){return o.x===a.x&&(o.x<0||o.x>8192)||o.y===a.y&&(o.y<0||o.y>8192)}ia.prototype.populate=function(o,a,p){this.features=[],this.hasPattern=ad("fill-extrusion",this.layers,a);for(var h=0,_=o;h<_.length;h+=1){var v=_[h],P=v.feature,T=v.id,C=v.index,I=v.sourceLayerIndex,O=this.layers[0]._featureFilter.needGeometry,B=Cn(P,O);if(this.layers[0]._featureFilter.filter(new co(this.zoom),B,p)){var j={id:T,sourceLayerIndex:I,index:C,geometry:O?B.geometry:Tn(P),properties:P.properties,type:P.type,patterns:{}};this.hasPattern?this.features.push(sd("fill-extrusion",this.layers,j,this.zoom,a)):this.addFeature(j,j.geometry,C,p,{}),a.featureIndex.insert(P,j.geometry,C,I,this.index,!0)}}},ia.prototype.addFeatures=function(o,a,p){for(var h=0,_=this.features;h<_.length;h+=1){var v=_[h];this.addFeature(v,v.geometry,v.index,a,p)}},ia.prototype.update=function(o,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,p)},ia.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ia.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ia.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,$y),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},ia.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ia.prototype.addFeature=function(o,a,p,h,_){for(var v=0,P=X0(a,500);v<P.length;v+=1){for(var T=P[v],C=0,I=0,O=T;I<O.length;I+=1)C+=O[I].length;for(var B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),j=0,Y=T;j<Y.length;j+=1){var le=Y[j];if(le.length!==0&&!((Mo=le).every(function(yo){return yo.x<0})||Mo.every(function(yo){return yo.x>8192})||Mo.every(function(yo){return yo.y<0})||Mo.every(function(yo){return yo.y>8192})))for(var he=0,Re=0;Re<le.length;Re++){var be=le[Re];if(Re>=1){var Ve=le[Re-1];if(!mi(be,Ve)){B.vertexLength+4>ee.MAX_VERTEX_ARRAY_LENGTH&&(B=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Xe=be.sub(Ve)._perp()._unit(),nt=Ve.dist(be);he+nt>32768&&(he=0),fa(this.layoutVertexArray,be.x,be.y,Xe.x,Xe.y,0,0,he),fa(this.layoutVertexArray,be.x,be.y,Xe.x,Xe.y,0,1,he),fa(this.layoutVertexArray,Ve.x,Ve.y,Xe.x,Xe.y,0,0,he+=nt),fa(this.layoutVertexArray,Ve.x,Ve.y,Xe.x,Xe.y,0,1,he);var ut=B.vertexLength;this.indexArray.emplaceBack(ut,ut+2,ut+1),this.indexArray.emplaceBack(ut+1,ut+2,ut+3),B.vertexLength+=4,B.primitiveLength+=2}}}}if(B.vertexLength+C>ee.MAX_VERTEX_ARRAY_LENGTH&&(B=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray)),Y0[o.type]==="Polygon"){for(var vt=[],kt=[],qt=B.vertexLength,Mr=0,pr=T;Mr<pr.length;Mr+=1){var Br=pr[Mr];if(Br.length!==0){Br!==T[0]&&kt.push(vt.length/2);for(var dr=0;dr<Br.length;dr++){var bo=Br[dr];fa(this.layoutVertexArray,bo.x,bo.y,0,0,1,1,0),vt.push(bo.x),vt.push(bo.y)}}}for(var Yr=V0(vt,kt),Pr=0;Pr<Yr.length;Pr+=3)this.indexArray.emplaceBack(qt+Yr[Pr],qt+Yr[Pr+2],qt+Yr[Pr+1]);B.primitiveLength+=Yr.length/3,B.vertexLength+=C}}var Mo;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,_,h)},hr("FillExtrusionBucket",ia,{omit:["layers","features"]});var os={paint:new Sn({"fill-extrusion-opacity":new Rr(J["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gr(J["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Rr(J["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Rr(J["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new wa(J["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gr(J["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gr(J["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Rr(J["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Qy=function(o){function a(p){o.call(this,p,os)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.createBucket=function(p){return new ia(p)},a.prototype.queryRadius=function(){return kn(this.paint.get("fill-extrusion-translate"))},a.prototype.is3D=function(){return!0},a.prototype.queryIntersectsFeature=function(p,h,_,v,P,T,C,I){var O=ya(p,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,C),B=this.paint.get("fill-extrusion-height").evaluate(h,_),j=this.paint.get("fill-extrusion-base").evaluate(h,_),Y=function(he,Re,be,Ve){for(var Xe=[],nt=0,ut=he;nt<ut.length;nt+=1){var vt=ut[nt],kt=[vt.x,vt.y,0,1];Uu(kt,kt,Re),Xe.push(new x(kt[0]/kt[3],kt[1]/kt[3]))}return Xe}(O,I),le=function(he,Re,be,Ve){for(var Xe=[],nt=[],ut=Ve[8]*Re,vt=Ve[9]*Re,kt=Ve[10]*Re,qt=Ve[11]*Re,Mr=Ve[8]*be,pr=Ve[9]*be,Br=Ve[10]*be,dr=Ve[11]*be,bo=0,Yr=he;bo<Yr.length;bo+=1){for(var Pr=[],Mo=[],yo=0,Ho=Yr[bo];yo<Ho.length;yo+=1){var Ur=Ho[yo],qo=Ur.x,In=Ur.y,$n=Ve[0]*qo+Ve[4]*In+Ve[12],Zn=Ve[1]*qo+Ve[5]*In+Ve[13],Nn=Ve[2]*qo+Ve[6]*In+Ve[14],qn=Ve[3]*qo+Ve[7]*In+Ve[15],Hi=Nn+kt,Gi=qn+qt,Ma=$n+Mr,Qi=Zn+pr,Ia=Nn+Br,oi=qn+dr,Ji=new x(($n+ut)/Gi,(Zn+vt)/Gi);Ji.z=Hi/Gi,Pr.push(Ji);var Oo=new x(Ma/oi,Qi/oi);Oo.z=Ia/oi,Mo.push(Oo)}Xe.push(Pr),nt.push(Mo)}return[Xe,nt]}(v,j,B,I);return function(he,Re,be){var Ve=1/0;ts(be,Re)&&(Ve=Jy(be,Re[0]));for(var Xe=0;Xe<Re.length;Xe++)for(var nt=Re[Xe],ut=he[Xe],vt=0;vt<nt.length-1;vt++){var kt=nt[vt],qt=[kt,nt[vt+1],ut[vt+1],ut[vt],kt];Is(be,qt)&&(Ve=Math.min(Ve,Jy(be,qt)))}return Ve!==1/0&&Ve}(le[0],le[1],Y)},a}(Ja);function t0(o,a){return o.x*a.x+o.y*a.y}function Jy(o,a){if(o.length===1){for(var p,h=0,_=a[h++];!p||_.equals(p);)if(!(p=a[h++]))return 1/0;for(;h<a.length;h++){var v=a[h],P=o[0],T=p.sub(_),C=v.sub(_),I=P.sub(_),O=t0(T,T),B=t0(T,C),j=t0(C,C),Y=t0(I,T),le=t0(I,C),he=O*j-B*B,Re=(j*Y-B*le)/he,be=(O*le-B*Y)/he,Ve=_.z*(1-Re-be)+p.z*Re+v.z*be;if(isFinite(Ve))return Ve}return 1/0}for(var Xe=1/0,nt=0,ut=a;nt<ut.length;nt+=1)Xe=Math.min(Xe,ut[nt].z);return Xe}var lm=hi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,dm=hi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,eh=zp.VectorTileFeature.types,ym=Math.cos(Math.PI/180*37.5),th=Math.pow(2,14)/.5,ma=function(o){var a=this;this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(p){return p.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(p){a.gradients[p.id]={}}),this.layoutVertexArray=new Ra,this.layoutVertexArray2=new Mp,this.indexArray=new Ms,this.programConfigurations=new zr(o.layers,o.zoom),this.segments=new ee,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(p){return p.isStateDependent()}).map(function(p){return p.id})};ma.prototype.populate=function(o,a,p){this.hasPattern=ad("line",this.layers,a);for(var h=this.layers[0].layout.get("line-sort-key"),_=[],v=0,P=o;v<P.length;v+=1){var T=P[v],C=T.feature,I=T.id,O=T.index,B=T.sourceLayerIndex,j=this.layers[0]._featureFilter.needGeometry,Y=Cn(C,j);if(this.layers[0]._featureFilter.filter(new co(this.zoom),Y,p)){var le=h?h.evaluate(Y,{},p):void 0,he={id:I,properties:C.properties,type:C.type,sourceLayerIndex:B,index:O,geometry:j?Y.geometry:Tn(C),patterns:{},sortKey:le};_.push(he)}}h&&_.sort(function(kt,qt){return kt.sortKey-qt.sortKey});for(var Re=0,be=_;Re<be.length;Re+=1){var Ve=be[Re],Xe=Ve.geometry,nt=Ve.index,ut=Ve.sourceLayerIndex;if(this.hasPattern){var vt=sd("line",this.layers,Ve,this.zoom,a);this.patternFeatures.push(vt)}else this.addFeature(Ve,Xe,nt,p,{});a.featureIndex.insert(o[nt].feature,Xe,nt,ut,this.index)}},ma.prototype.update=function(o,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,p)},ma.prototype.addFeatures=function(o,a,p){for(var h=0,_=this.patternFeatures;h<_.length;h+=1){var v=_[h];this.addFeature(v,v.geometry,v.index,a,p)}},ma.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ma.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ma.prototype.upload=function(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,dm)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,lm),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},ma.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ma.prototype.lineFeatureClips=function(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}},ma.prototype.addFeature=function(o,a,p,h,_){var v=this.layers[0].layout,P=v.get("line-join").evaluate(o,{}),T=v.get("line-cap"),C=v.get("line-miter-limit"),I=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(var O=0,B=a;O<B.length;O+=1)this.addLine(B[O],o,P,T,C,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,_,h)},ma.prototype.addLine=function(o,a,p,h,_,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var P=0;P<o.length-1;P++)this.totalDistance+=o[P].dist(o[P+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var T=eh[a.type]==="Polygon",C=o.length;C>=2&&o[C-1].equals(o[C-2]);)C--;for(var I=0;I<C-1&&o[I].equals(o[I+1]);)I++;if(!(C<(T?3:2))){p==="bevel"&&(_=1.05);var O,B=this.overscaling<=16?122880/(512*this.overscaling):0,j=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray),Y=void 0,le=void 0,he=void 0,Re=void 0;this.e1=this.e2=-1,T&&(Re=o[I].sub(O=o[C-2])._unit()._perp());for(var be=I;be<C;be++)if(!(le=be===C-1?T?o[I+1]:void 0:o[be+1])||!o[be].equals(le)){Re&&(he=Re),O&&(Y=O),O=o[be],Re=le?le.sub(O)._unit()._perp():he;var Ve=(he=he||Re).add(Re);Ve.x===0&&Ve.y===0||Ve._unit();var Xe=he.x*Re.x+he.y*Re.y,nt=Ve.x*Re.x+Ve.y*Re.y,ut=nt!==0?1/nt:1/0,vt=2*Math.sqrt(2-2*nt),kt=nt<ym&&Y&&le,qt=he.x*Re.y-he.y*Re.x>0;if(kt&&be>I){var Mr=O.dist(Y);if(Mr>2*B){var pr=O.sub(O.sub(Y)._mult(B/Mr)._round());this.updateDistance(Y,pr),this.addCurrentVertex(pr,he,0,0,j),Y=pr}}var Br=Y&&le,dr=Br?p:T?"butt":h;if(Br&&dr==="round"&&(ut<v?dr="miter":ut<=2&&(dr="fakeround")),dr==="miter"&&ut>_&&(dr="bevel"),dr==="bevel"&&(ut>2&&(dr="flipbevel"),ut<_&&(dr="miter")),Y&&this.updateDistance(Y,O),dr==="miter")Ve._mult(ut),this.addCurrentVertex(O,Ve,0,0,j);else if(dr==="flipbevel"){if(ut>100)Ve=Re.mult(-1);else{var bo=ut*he.add(Re).mag()/he.sub(Re).mag();Ve._perp()._mult(bo*(qt?-1:1))}this.addCurrentVertex(O,Ve,0,0,j),this.addCurrentVertex(O,Ve.mult(-1),0,0,j)}else if(dr==="bevel"||dr==="fakeround"){var Yr=-Math.sqrt(ut*ut-1),Pr=qt?Yr:0,Mo=qt?0:Yr;if(Y&&this.addCurrentVertex(O,he,Pr,Mo,j),dr==="fakeround")for(var yo=Math.round(180*vt/Math.PI/20),Ho=1;Ho<yo;Ho++){var Ur=Ho/yo;if(Ur!==.5){var qo=Ur-.5;Ur+=Ur*qo*(Ur-1)*((1.0904+Xe*(Xe*(3.55645-1.43519*Xe)-3.2452))*qo*qo+(.848013+Xe*(.215638*Xe-1.06021)))}var In=Re.sub(he)._mult(Ur)._add(he)._unit()._mult(qt?-1:1);this.addHalfVertex(O,In.x,In.y,!1,qt,0,j)}le&&this.addCurrentVertex(O,Re,-Pr,-Mo,j)}else if(dr==="butt")this.addCurrentVertex(O,Ve,0,0,j);else if(dr==="square"){var $n=Y?1:-1;this.addCurrentVertex(O,Ve,$n,$n,j)}else dr==="round"&&(Y&&(this.addCurrentVertex(O,he,0,0,j),this.addCurrentVertex(O,he,1,1,j,!0)),le&&(this.addCurrentVertex(O,Re,-1,-1,j,!0),this.addCurrentVertex(O,Re,0,0,j)));if(kt&&be<C-1){var Zn=O.dist(le);if(Zn>2*B){var Nn=O.add(le.sub(O)._mult(B/Zn)._round());this.updateDistance(O,Nn),this.addCurrentVertex(Nn,Re,0,0,j),O=Nn}}}}},ma.prototype.addCurrentVertex=function(o,a,p,h,_,v){v===void 0&&(v=!1);var P=a.y*h-a.x,T=-a.y-a.x*h;this.addHalfVertex(o,a.x+a.y*p,a.y-a.x*p,v,!1,p,_),this.addHalfVertex(o,P,T,v,!0,-h,_),this.distance>th/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,a,p,h,_,v))},ma.prototype.addHalfVertex=function(o,a,p,h,_,v,P){var T=.5*(this.lineClips?this.scaledDistance*(th-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o.x<<1)+(h?1:0),(o.y<<1)+(_?1:0),Math.round(63*a)+128,Math.round(63*p)+128,1+(v===0?0:v<0?-1:1)|(63&T)<<2,T>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var C=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,C),P.primitiveLength++),_?this.e2=C:this.e1=C},ma.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ma.prototype.updateDistance=function(o,a){this.distance+=o.dist(a),this.updateScaledDistance()},hr("LineBucket",ma,{omit:["layers","patternFeatures"]});var hm=new Sn({"line-cap":new Rr(J.layout_line["line-cap"]),"line-join":new gr(J.layout_line["line-join"]),"line-miter-limit":new Rr(J.layout_line["line-miter-limit"]),"line-round-limit":new Rr(J.layout_line["line-round-limit"]),"line-sort-key":new gr(J.layout_line["line-sort-key"])}),rh={paint:new Sn({"line-opacity":new gr(J.paint_line["line-opacity"]),"line-color":new gr(J.paint_line["line-color"]),"line-translate":new Rr(J.paint_line["line-translate"]),"line-translate-anchor":new Rr(J.paint_line["line-translate-anchor"]),"line-width":new gr(J.paint_line["line-width"]),"line-gap-width":new gr(J.paint_line["line-gap-width"]),"line-offset":new gr(J.paint_line["line-offset"]),"line-blur":new gr(J.paint_line["line-blur"]),"line-dasharray":new Yi(J.paint_line["line-dasharray"]),"line-pattern":new wa(J.paint_line["line-pattern"]),"line-gradient":new ds(J.paint_line["line-gradient"])}),layout:hm},pd=new(function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(p,h){return h=new co(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),o.prototype.possiblyEvaluate.call(this,p,h)},a.prototype.evaluate=function(p,h,_,v){return h=q({},h,{zoom:Math.floor(h.zoom)}),o.prototype.evaluate.call(this,p,h,_,v)},a}(gr))(rh.paint.properties["line-width"].specification);pd.useIntegerZoom=!0;var oh=function(o){function a(p){o.call(this,p,rh),this.gradientVersion=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype._handleSpecialPaintPropertyUpdate=function(p){p==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Aa,this.gradientVersion=(this.gradientVersion+1)%w)},a.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},a.prototype.recalculate=function(p,h){o.prototype.recalculate.call(this,p,h),this.paint._values["line-floorwidth"]=pd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,p)},a.prototype.createBucket=function(p){return new ma(p)},a.prototype.queryRadius=function(p){var h=p,_=cd(zi("line-width",this,h),zi("line-gap-width",this,h)),v=zi("line-offset",this,h);return _/2+Math.abs(v)+kn(this.paint.get("line-translate"))},a.prototype.queryIntersectsFeature=function(p,h,_,v,P,T,C){var I=ya(p,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,C),O=C/2*cd(this.paint.get("line-width").evaluate(h,_),this.paint.get("line-gap-width").evaluate(h,_)),B=this.paint.get("line-offset").evaluate(h,_);return B&&(v=function(j,Y){for(var le=[],he=new x(0,0),Re=0;Re<j.length;Re++){for(var be=j[Re],Ve=[],Xe=0;Xe<be.length;Xe++){var nt=be[Xe],ut=be[Xe+1],vt=Xe===0?he:nt.sub(be[Xe-1])._unit()._perp(),kt=Xe===be.length-1?he:ut.sub(nt)._unit()._perp(),qt=vt._add(kt)._unit();qt._mult(1/(qt.x*kt.x+qt.y*kt.y)),Ve.push(qt._mult(Y)._add(nt))}le.push(Ve)}return le}(v,B*C)),function(j,Y,le){for(var he=0;he<Y.length;he++){var Re=Y[he];if(j.length>=3){for(var be=0;be<Re.length;be++)if(hs(j,Re[be]))return!0}if(Ca(j,Re,le))return!0}return!1}(I,v,O)},a.prototype.isTileClipped=function(){return!0},a}(Ja);function cd(o,a){return a>0?a+2*o:o}var fm=hi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),mm=hi([{name:"a_projected_pos",components:3,type:"Float32"}],4),nh=(hi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),hi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ih=(hi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),N=hi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ie(o,a,p){return o.sections.forEach(function(h){h.text=function(_,v,P){var T=v.layout.get("text-transform").evaluate(P,{});return T==="uppercase"?_=_.toLocaleUpperCase():T==="lowercase"&&(_=_.toLocaleLowerCase()),ka.applyArabicShaping&&(_=ka.applyArabicShaping(_)),_}(h.text,a,p)}),o}hi([{name:"triangle",components:3,type:"Uint16"}]),hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),hi([{type:"Float32",name:"offsetX"}]),hi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var xe={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},et=function(o,a,p,h,_){var v,P,T=8*_-h-1,C=(1<<T)-1,I=C>>1,O=-7,B=_-1,j=-1,Y=o[a+B];for(B+=j,v=Y&(1<<-O)-1,Y>>=-O,O+=T;O>0;v=256*v+o[a+B],B+=j,O-=8);for(P=v&(1<<-O)-1,v>>=-O,O+=h;O>0;P=256*P+o[a+B],B+=j,O-=8);if(v===0)v=1-I;else{if(v===C)return P?NaN:1/0*(Y?-1:1);P+=Math.pow(2,h),v-=I}return(Y?-1:1)*P*Math.pow(2,v-h)},_t=function(o,a,p,h,_,v){var P,T,C,I=8*v-_-1,O=(1<<I)-1,B=O>>1,j=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=0,le=1,he=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(T=isNaN(a)?1:0,P=O):(P=Math.floor(Math.log(a)/Math.LN2),a*(C=Math.pow(2,-P))<1&&(P--,C*=2),(a+=P+B>=1?j/C:j*Math.pow(2,1-B))*C>=2&&(P++,C/=2),P+B>=O?(T=0,P=O):P+B>=1?(T=(a*C-1)*Math.pow(2,_),P+=B):(T=a*Math.pow(2,B-1)*Math.pow(2,_),P=0));_>=8;o[p+Y]=255&T,Y+=le,T/=256,_-=8);for(P=P<<_|T,I+=_;I>0;o[p+Y]=255&P,Y+=le,P/=256,I-=8);o[p+Y-le]|=128*he},tt=Ye;function Ye(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}Ye.Varint=0,Ye.Fixed64=1,Ye.Bytes=2,Ye.Fixed32=5;var Ot=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Rt(o){return o.type===Ye.Bytes?o.readVarint()+o.pos:o.pos+1}function Zt(o,a,p){return p?4294967296*a+(o>>>0):4294967296*(a>>>0)+(o>>>0)}function Ut(o,a,p){var h=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));p.realloc(h);for(var _=p.pos-1;_>=o;_--)p.buf[_+h]=p.buf[_]}function Gt(o,a){for(var p=0;p<o.length;p++)a.writeVarint(o[p])}function $t(o,a){for(var p=0;p<o.length;p++)a.writeSVarint(o[p])}function Ct(o,a){for(var p=0;p<o.length;p++)a.writeFloat(o[p])}function jt(o,a){for(var p=0;p<o.length;p++)a.writeDouble(o[p])}function Ge(o,a){for(var p=0;p<o.length;p++)a.writeBoolean(o[p])}function pt(o,a){for(var p=0;p<o.length;p++)a.writeFixed32(o[p])}function Lt(o,a){for(var p=0;p<o.length;p++)a.writeSFixed32(o[p])}function tr(o,a){for(var p=0;p<o.length;p++)a.writeFixed64(o[p])}function Ft(o,a){for(var p=0;p<o.length;p++)a.writeSFixed64(o[p])}function ar(o,a){return(o[a]|o[a+1]<<8|o[a+2]<<16)+16777216*o[a+3]}function It(o,a,p){o[p]=a,o[p+1]=a>>>8,o[p+2]=a>>>16,o[p+3]=a>>>24}function rr(o,a){return(o[a]|o[a+1]<<8|o[a+2]<<16)+(o[a+3]<<24)}function St(o,a,p){o===1&&p.readMessage(Qt,a)}function Qt(o,a,p){if(o===3){var h=p.readMessage(Or,{}),_=h.width,v=h.height,P=h.left,T=h.top,C=h.advance;a.push({id:h.id,bitmap:new Dp({width:_+6,height:v+6},h.bitmap),metrics:{width:_,height:v,left:P,top:T,advance:C}})}}function Or(o,a,p){o===1?a.id=p.readVarint():o===2?a.bitmap=p.readBytes():o===3?a.width=p.readVarint():o===4?a.height=p.readVarint():o===5?a.left=p.readSVarint():o===6?a.top=p.readSVarint():o===7&&(a.advance=p.readVarint())}function oo(o){for(var a=0,p=0,h=0,_=o;h<_.length;h+=1){var v=_[h];a+=v.w*v.h,p=Math.max(p,v.w)}o.sort(function(he,Re){return Re.h-he.h});for(var P=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),p),h:1/0}],T=0,C=0,I=0,O=o;I<O.length;I+=1)for(var B=O[I],j=P.length-1;j>=0;j--){var Y=P[j];if(!(B.w>Y.w||B.h>Y.h)){if(B.x=Y.x,B.y=Y.y,C=Math.max(C,B.y+B.h),T=Math.max(T,B.x+B.w),B.w===Y.w&&B.h===Y.h){var le=P.pop();j<P.length&&(P[j]=le)}else B.h===Y.h?(Y.x+=B.w,Y.w-=B.w):B.w===Y.w?(Y.y+=B.h,Y.h-=B.h):(P.push({x:Y.x+B.w,y:Y.y,w:Y.w-B.w,h:B.h}),Y.y+=B.h,Y.h-=B.h);break}}return{w:T,h:C,fill:a/(T*C)||0}}Ye.prototype={destroy:function(){this.buf=null},readFields:function(o,a,p){for(p=p||this.length;this.pos<p;){var h=this.readVarint(),_=h>>3,v=this.pos;this.type=7&h,o(_,a,this),this.pos===v&&this.skip(h)}return a},readMessage:function(o,a){return this.readFields(o,a,this.readVarint()+this.pos)},readFixed32:function(){var o=ar(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=rr(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=ar(this.buf,this.pos)+4294967296*ar(this.buf,this.pos+4);return this.pos+=8,o},readSFixed64:function(){var o=ar(this.buf,this.pos)+4294967296*rr(this.buf,this.pos+4);return this.pos+=8,o},readFloat:function(){var o=et(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=et(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var a,p,h=this.buf;return a=127&(p=h[this.pos++]),p<128?a:(a|=(127&(p=h[this.pos++]))<<7,p<128?a:(a|=(127&(p=h[this.pos++]))<<14,p<128?a:(a|=(127&(p=h[this.pos++]))<<21,p<128?a:function(_,v,P){var T,C,I=P.buf;if(T=(112&(C=I[P.pos++]))>>4,C<128||(T|=(127&(C=I[P.pos++]))<<3,C<128)||(T|=(127&(C=I[P.pos++]))<<10,C<128)||(T|=(127&(C=I[P.pos++]))<<17,C<128)||(T|=(127&(C=I[P.pos++]))<<24,C<128)||(T|=(1&(C=I[P.pos++]))<<31,C<128))return Zt(_,T,v);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(p=h[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,a=this.pos;return this.pos=o,o-a>=12&&Ot?function(p,h,_){return Ot.decode(p.subarray(h,_))}(this.buf,a,o):function(p,h,_){for(var v="",P=h;P<_;){var T,C,I,O=p[P],B=null,j=O>239?4:O>223?3:O>191?2:1;if(P+j>_)break;j===1?O<128&&(B=O):j===2?(192&(T=p[P+1]))==128&&(B=(31&O)<<6|63&T)<=127&&(B=null):j===3?(C=p[P+2],(192&(T=p[P+1]))==128&&(192&C)==128&&((B=(15&O)<<12|(63&T)<<6|63&C)<=2047||B>=55296&&B<=57343)&&(B=null)):j===4&&(C=p[P+2],I=p[P+3],(192&(T=p[P+1]))==128&&(192&C)==128&&(192&I)==128&&((B=(15&O)<<18|(63&T)<<12|(63&C)<<6|63&I)<=65535||B>=1114112)&&(B=null)),B===null?(B=65533,j=1):B>65535&&(B-=65536,v+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),v+=String.fromCharCode(B),P+=j}return v}(this.buf,a,o)},readBytes:function(){var o=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,o);return this.pos=o,a},readPackedVarint:function(o,a){if(this.type!==Ye.Bytes)return o.push(this.readVarint(a));var p=Rt(this);for(o=o||[];this.pos<p;)o.push(this.readVarint(a));return o},readPackedSVarint:function(o){if(this.type!==Ye.Bytes)return o.push(this.readSVarint());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==Ye.Bytes)return o.push(this.readBoolean());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==Ye.Bytes)return o.push(this.readFloat());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==Ye.Bytes)return o.push(this.readDouble());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==Ye.Bytes)return o.push(this.readFixed32());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==Ye.Bytes)return o.push(this.readSFixed32());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==Ye.Bytes)return o.push(this.readFixed64());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==Ye.Bytes)return o.push(this.readSFixed64());var a=Rt(this);for(o=o||[];this.pos<a;)o.push(this.readSFixed64());return o},skip:function(o){var a=7&o;if(a===Ye.Varint)for(;this.buf[this.pos++]>127;);else if(a===Ye.Bytes)this.pos=this.readVarint()+this.pos;else if(a===Ye.Fixed32)this.pos+=4;else{if(a!==Ye.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(o,a){this.writeVarint(o<<3|a)},realloc:function(o){for(var a=this.length||16;a<this.pos+o;)a*=2;if(a!==this.length){var p=new Uint8Array(a);p.set(this.buf),this.buf=p,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),It(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),It(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),It(this.buf,-1&o,this.pos),It(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),It(this.buf,-1&o,this.pos),It(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(a,p){var h,_;if(a>=0?(h=a%4294967296|0,_=a/4294967296|0):(_=~(-a/4294967296),4294967295^(h=~(-a%4294967296))?h=h+1|0:(h=0,_=_+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");p.realloc(10),function(v,P,T){T.buf[T.pos++]=127&v|128,v>>>=7,T.buf[T.pos++]=127&v|128,v>>>=7,T.buf[T.pos++]=127&v|128,v>>>=7,T.buf[T.pos++]=127&v|128,T.buf[T.pos]=127&(v>>>=7)}(h,0,p),function(v,P){var T=(7&v)<<4;P.buf[P.pos++]|=T|((v>>>=3)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v)))))}(_,p)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var a=this.pos;this.pos=function(h,_,v){for(var P,T,C=0;C<_.length;C++){if((P=_.charCodeAt(C))>55295&&P<57344){if(!T){P>56319||C+1===_.length?(h[v++]=239,h[v++]=191,h[v++]=189):T=P;continue}if(P<56320){h[v++]=239,h[v++]=191,h[v++]=189,T=P;continue}P=T-55296<<10|P-56320|65536,T=null}else T&&(h[v++]=239,h[v++]=191,h[v++]=189,T=null);P<128?h[v++]=P:(P<2048?h[v++]=P>>6|192:(P<65536?h[v++]=P>>12|224:(h[v++]=P>>18|240,h[v++]=P>>12&63|128),h[v++]=P>>6&63|128),h[v++]=63&P|128)}return v}(this.buf,o,this.pos);var p=this.pos-a;p>=128&&Ut(a,p,this),this.pos=a-1,this.writeVarint(p),this.pos+=p},writeFloat:function(o){this.realloc(4),_t(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),_t(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var a=o.length;this.writeVarint(a),this.realloc(a);for(var p=0;p<a;p++)this.buf[this.pos++]=o[p]},writeRawMessage:function(o,a){this.pos++;var p=this.pos;o(a,this);var h=this.pos-p;h>=128&&Ut(p,h,this),this.pos=p-1,this.writeVarint(h),this.pos+=h},writeMessage:function(o,a,p){this.writeTag(o,Ye.Bytes),this.writeRawMessage(a,p)},writePackedVarint:function(o,a){a.length&&this.writeMessage(o,Gt,a)},writePackedSVarint:function(o,a){a.length&&this.writeMessage(o,$t,a)},writePackedBoolean:function(o,a){a.length&&this.writeMessage(o,Ge,a)},writePackedFloat:function(o,a){a.length&&this.writeMessage(o,Ct,a)},writePackedDouble:function(o,a){a.length&&this.writeMessage(o,jt,a)},writePackedFixed32:function(o,a){a.length&&this.writeMessage(o,pt,a)},writePackedSFixed32:function(o,a){a.length&&this.writeMessage(o,Lt,a)},writePackedFixed64:function(o,a){a.length&&this.writeMessage(o,tr,a)},writePackedSFixed64:function(o,a){a.length&&this.writeMessage(o,Ft,a)},writeBytesField:function(o,a){this.writeTag(o,Ye.Bytes),this.writeBytes(a)},writeFixed32Field:function(o,a){this.writeTag(o,Ye.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(o,a){this.writeTag(o,Ye.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(o,a){this.writeTag(o,Ye.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(o,a){this.writeTag(o,Ye.Fixed64),this.writeSFixed64(a)},writeVarintField:function(o,a){this.writeTag(o,Ye.Varint),this.writeVarint(a)},writeSVarintField:function(o,a){this.writeTag(o,Ye.Varint),this.writeSVarint(a)},writeStringField:function(o,a){this.writeTag(o,Ye.Bytes),this.writeString(a)},writeFloatField:function(o,a){this.writeTag(o,Ye.Fixed32),this.writeFloat(a)},writeDoubleField:function(o,a){this.writeTag(o,Ye.Fixed64),this.writeDouble(a)},writeBooleanField:function(o,a){this.writeVarintField(o,!!a)}};var Jt=function(o,a){var p=a.pixelRatio,h=a.version,_=a.stretchX,v=a.stretchY,P=a.content;this.paddedRect=o,this.pixelRatio=p,this.stretchX=_,this.stretchY=v,this.content=P,this.version=h},Dt={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Dt.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Dt.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Dt.tlbr.get=function(){return this.tl.concat(this.br)},Dt.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Jt.prototype,Dt);var gt=function(o,a){var p={},h={};this.haveRenderCallbacks=[];var _=[];this.addImages(o,p,_),this.addImages(a,h,_);var v=oo(_),P=new ha({width:v.w||1,height:v.h||1});for(var T in o){var C=o[T],I=p[T].paddedRect;ha.copy(C.data,P,{x:0,y:0},{x:I.x+1,y:I.y+1},C.data)}for(var O in a){var B=a[O],j=h[O].paddedRect,Y=j.x+1,le=j.y+1,he=B.data.width,Re=B.data.height;ha.copy(B.data,P,{x:0,y:0},{x:Y,y:le},B.data),ha.copy(B.data,P,{x:0,y:Re-1},{x:Y,y:le-1},{width:he,height:1}),ha.copy(B.data,P,{x:0,y:0},{x:Y,y:le+Re},{width:he,height:1}),ha.copy(B.data,P,{x:he-1,y:0},{x:Y-1,y:le},{width:1,height:Re}),ha.copy(B.data,P,{x:0,y:0},{x:Y+he,y:le},{width:1,height:Re})}this.image=P,this.iconPositions=p,this.patternPositions=h};gt.prototype.addImages=function(o,a,p){for(var h in o){var _=o[h],v={x:0,y:0,w:_.data.width+2,h:_.data.height+2};p.push(v),a[h]=new Jt(v,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(h)}},gt.prototype.patchUpdatedImages=function(o,a){for(var p in o.dispatchRenderCallbacks(this.haveRenderCallbacks),o.updatedImages)this.patchUpdatedImage(this.iconPositions[p],o.getImage(p),a),this.patchUpdatedImage(this.patternPositions[p],o.getImage(p),a)},gt.prototype.patchUpdatedImage=function(o,a,p){if(o&&a&&o.version!==a.version){o.version=a.version;var h=o.tl;p.update(a.data,void 0,{x:h[0],y:h[1]})}},hr("ImagePosition",Jt),hr("ImageAtlas",gt);var Lr={horizontal:1,vertical:2,horizontalOnly:3},Po=function(){this.scale=1,this.fontStack="",this.imageName=null};Po.forText=function(o,a){var p=new Po;return p.scale=o||1,p.fontStack=a,p},Po.forImage=function(o){var a=new Po;return a.imageName=o,a};var sr=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function fo(o,a,p,h,_,v,P,T,C,I,O,B,j,Y,le,he){var Re,be=sr.fromFeature(o,_);B===Lr.vertical&&be.verticalizePunctuation();var Ve=ka.processBidirectionalText,Xe=ka.processStyledBidirectionalText;if(Ve&&be.sections.length===1){Re=[];for(var nt=0,ut=Ve(be.toString(),ti(be,I,v,a,h,Y,le));nt<ut.length;nt+=1){var vt=ut[nt],kt=new sr;kt.text=vt,kt.sections=be.sections;for(var qt=0;qt<vt.length;qt++)kt.sectionIndex.push(0);Re.push(kt)}}else if(Xe){Re=[];for(var Mr=0,pr=Xe(be.text,be.sectionIndex,ti(be,I,v,a,h,Y,le));Mr<pr.length;Mr+=1){var Br=pr[Mr],dr=new sr;dr.text=Br[0],dr.sectionIndex=Br[1],dr.sections=be.sections,Re.push(dr)}}else Re=function(Pr,Mo){for(var yo=[],Ho=Pr.text,Ur=0,qo=0,In=Mo;qo<In.length;qo+=1){var $n=In[qo];yo.push(Pr.substring(Ur,$n)),Ur=$n}return Ur<Ho.length&&yo.push(Pr.substring(Ur,Ho.length)),yo}(be,ti(be,I,v,a,h,Y,le));var bo=[],Yr={positionedLines:bo,text:be.toString(),top:O[1],bottom:O[1],left:O[0],right:O[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(Pr,Mo,yo,Ho,Ur,qo,In,$n,Zn,Nn,qn,Hi){for(var Gi=0,Ma=-17,Qi=0,Ia=0,oi=$n==="right"?1:$n==="left"?0:.5,Ji=0,Oo=0,fn=Ur;Oo<fn.length;Oo+=1){var sn=fn[Oo];sn.trim();var Zo=sn.getMaxScale(),Ha=24*(Zo-1),_a={positionedGlyphs:[],lineOffset:0};Pr.positionedLines[Ji]=_a;var wn=_a.positionedGlyphs,xi=0;if(sn.length()){for(var ga=0;ga<sn.length();ga++){var Ko=sn.getSection(ga),Vp=sn.getSectionIndex(ga),Ls=sn.getCharCode(ga),Hp=0,ni=null,Gp=null,zu=null,Q0=24,i0=!(Zn===Lr.horizontal||!qn&&!dc(Ls)||qn&&(to[Ls]||(Sc=Ls,Kt.Arabic(Sc)||Kt["Arabic Supplement"](Sc)||Kt["Arabic Extended-A"](Sc)||Kt["Arabic Presentation Forms-A"](Sc)||Kt["Arabic Presentation Forms-B"](Sc))));if(Ko.imageName){var J0=Ho[Ko.imageName];if(!J0)continue;zu=Ko.imageName,Pr.iconsInText=Pr.iconsInText||!0,Gp=J0.paddedRect;var Ac=J0.displaySize;Ko.scale=24*Ko.scale/Hi,Hp=Ha+(24-Ac[1]*Ko.scale),Q0=(ni={width:Ac[0],height:Ac[1],left:1,top:-3,advance:i0?Ac[1]:Ac[0]}).advance;var e1=i0?Ac[0]*Ko.scale-24*Zo:Ac[1]*Ko.scale-24*Zo;e1>0&&e1>xi&&(xi=e1)}else{var ch=yo[Ko.fontStack],t1=ch&&ch[Ls];if(t1&&t1.rect)Gp=t1.rect,ni=t1.metrics;else{var hd=Mo[Ko.fontStack],lh=hd&&hd[Ls];if(!lh)continue;ni=lh.metrics}Hp=24*(Zo-Ko.scale)}i0?(Pr.verticalizable=!0,wn.push({glyph:Ls,imageName:zu,x:Gi,y:Ma+Hp,vertical:i0,scale:Ko.scale,fontStack:Ko.fontStack,sectionIndex:Vp,metrics:ni,rect:Gp}),Gi+=Q0*Ko.scale+Nn):(wn.push({glyph:Ls,imageName:zu,x:Gi,y:Ma+Hp,vertical:i0,scale:Ko.scale,fontStack:Ko.fontStack,sectionIndex:Vp,metrics:ni,rect:Gp}),Gi+=ni.advance*Ko.scale+Nn)}wn.length!==0&&(Qi=Math.max(Gi-Nn,Qi),_i(wn,0,wn.length-1,oi,xi)),Gi=0;var dh=qo*Zo+xi;_a.lineOffset=Math.max(xi,Ha),Ma+=dh,Ia=Math.max(dh,Ia),++Ji}else Ma+=qo,++Ji}var Sc,fd=Ma- -17,r1=gn(In),ll=r1.horizontalAlign,o1=r1.verticalAlign;(function(yh,hh,md,_d,fh,gd,vd,Ed,mh){var n1,_h=(hh-md)*fh;n1=gd!==vd?-Ed*_d- -17:(-_d*mh+.5)*vd;for(var i1=0,xd=yh;i1<xd.length;i1+=1)for(var a0=0,Pd=xd[i1].positionedGlyphs;a0<Pd.length;a0+=1){var a1=Pd[a0];a1.x+=_h,a1.y+=n1}})(Pr.positionedLines,oi,ll,o1,Qi,Ia,qo,fd,Ur.length),Pr.top+=-o1*fd,Pr.bottom=Pr.top+fd,Pr.left+=-ll*Qi,Pr.right=Pr.left+Qi}(Yr,a,p,h,Re,P,T,C,B,I,j,he),!function(Pr){for(var Mo=0,yo=Pr;Mo<yo.length;Mo+=1)if(yo[Mo].positionedGlyphs.length!==0)return!1;return!0}(bo)&&Yr}sr.fromFeature=function(o,a){for(var p=new sr,h=0;h<o.sections.length;h++){var _=o.sections[h];_.image?p.addImageSection(_):p.addTextSection(_,a)}return p},sr.prototype.length=function(){return this.text.length},sr.prototype.getSection=function(o){return this.sections[this.sectionIndex[o]]},sr.prototype.getSectionIndex=function(o){return this.sectionIndex[o]},sr.prototype.getCharCode=function(o){return this.text.charCodeAt(o)},sr.prototype.verticalizePunctuation=function(){this.text=function(o){for(var a="",p=0;p<o.length;p++){var h=o.charCodeAt(p+1)||null,_=o.charCodeAt(p-1)||null;a+=h&&Yc(h)&&!xe[o[p+1]]||_&&Yc(_)&&!xe[o[p-1]]||!xe[o[p]]?o[p]:xe[o[p]]}return a}(this.text)},sr.prototype.trim=function(){for(var o=0,a=0;a<this.text.length&&to[this.text.charCodeAt(a)];a++)o++;for(var p=this.text.length,h=this.text.length-1;h>=0&&h>=o&&to[this.text.charCodeAt(h)];h--)p--;this.text=this.text.substring(o,p),this.sectionIndex=this.sectionIndex.slice(o,p)},sr.prototype.substring=function(o,a){var p=new sr;return p.text=this.text.substring(o,a),p.sectionIndex=this.sectionIndex.slice(o,a),p.sections=this.sections,p},sr.prototype.toString=function(){return this.text},sr.prototype.getMaxScale=function(){var o=this;return this.sectionIndex.reduce(function(a,p){return Math.max(a,o.sections[p].scale)},0)},sr.prototype.addTextSection=function(o,a){this.text+=o.text,this.sections.push(Po.forText(o.scale,o.fontStack||a));for(var p=this.sections.length-1,h=0;h<o.text.length;++h)this.sectionIndex.push(p)},sr.prototype.addImageSection=function(o){var a=o.image?o.image.name:"";if(a.length!==0){var p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(Po.forImage(a)),this.sectionIndex.push(this.sections.length-1)):ze("Reached maximum number of images 6401")}else ze("Can't add FormattedSection with an empty image.")},sr.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var to={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Zr={};function Wo(o,a,p,h,_,v){if(a.imageName){var P=h[a.imageName];return P?P.displaySize[0]*a.scale*24/v+_:0}var T=p[a.fontStack],C=T&&T[o];return C?C.metrics.advance*a.scale+_:0}function ei(o,a,p,h){var _=Math.pow(o-a,2);return h?o<a?_/2:2*_:_+Math.abs(p)*p}function Vi(o,a,p){var h=0;return o===10&&(h-=1e4),p&&(h+=150),o!==40&&o!==65288||(h+=50),a!==41&&a!==65289||(h+=50),h}function Co(o,a,p,h,_,v){for(var P=null,T=ei(a,p,_,v),C=0,I=h;C<I.length;C+=1){var O=I[C],B=ei(a-O.x,p,_,v)+O.badness;B<=T&&(P=O,T=B)}return{index:o,x:a,priorBreak:P,badness:T}}function ti(o,a,p,h,_,v,P){if(v!=="point")return[];if(!o)return[];for(var T,C=[],I=function(Re,be,Ve,Xe,nt,ut){for(var vt=0,kt=0;kt<Re.length();kt++){var qt=Re.getSection(kt);vt+=Wo(Re.getCharCode(kt),qt,Xe,nt,be,ut)}return vt/Math.max(1,Math.ceil(vt/Ve))}(o,a,p,h,_,P),O=o.text.indexOf("​")>=0,B=0,j=0;j<o.length();j++){var Y=o.getSection(j),le=o.getCharCode(j);if(to[le]||(B+=Wo(le,Y,h,_,a,P)),j<o.length()-1){var he=!((T=le)<11904||!(Kt["Bopomofo Extended"](T)||Kt.Bopomofo(T)||Kt["CJK Compatibility Forms"](T)||Kt["CJK Compatibility Ideographs"](T)||Kt["CJK Compatibility"](T)||Kt["CJK Radicals Supplement"](T)||Kt["CJK Strokes"](T)||Kt["CJK Symbols and Punctuation"](T)||Kt["CJK Unified Ideographs Extension A"](T)||Kt["CJK Unified Ideographs"](T)||Kt["Enclosed CJK Letters and Months"](T)||Kt["Halfwidth and Fullwidth Forms"](T)||Kt.Hiragana(T)||Kt["Ideographic Description Characters"](T)||Kt["Kangxi Radicals"](T)||Kt["Katakana Phonetic Extensions"](T)||Kt.Katakana(T)||Kt["Vertical Forms"](T)||Kt["Yi Radicals"](T)||Kt["Yi Syllables"](T)));(Zr[le]||he||Y.imageName)&&C.push(Co(j+1,B,I,C,Vi(le,o.getCharCode(j+1),he&&O),!1))}}return function Re(be){return be?Re(be.priorBreak).concat(be.index):[]}(Co(o.length(),B,I,C,0,!0))}function gn(o){var a=.5,p=.5;switch(o){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":p=1;break;case"top":case"top-right":case"top-left":p=0}return{horizontalAlign:a,verticalAlign:p}}function _i(o,a,p,h,_){if(h||_)for(var v=o[p],P=(o[p].x+v.metrics.advance*v.scale)*h,T=a;T<=p;T++)o[T].x-=P,o[T].y+=_}function gi(o,a,p,h,_,v){var P,T=o.image;if(T.content){var C=T.content,I=T.pixelRatio||1;P=[C[0]/I,C[1]/I,T.displaySize[0]-C[2]/I,T.displaySize[1]-C[3]/I]}var O,B,j,Y,le=a.left*v,he=a.right*v;p==="width"||p==="both"?(Y=_[0]+le-h[3],B=_[0]+he+h[1]):B=(Y=_[0]+(le+he-T.displaySize[0])/2)+T.displaySize[0];var Re=a.top*v,be=a.bottom*v;return p==="height"||p==="both"?(O=_[1]+Re-h[0],j=_[1]+be+h[2]):j=(O=_[1]+(Re+be-T.displaySize[1])/2)+T.displaySize[1],{image:T,top:O,right:B,bottom:j,left:Y,collisionPadding:P}}Zr[10]=!0,Zr[32]=!0,Zr[38]=!0,Zr[40]=!0,Zr[41]=!0,Zr[43]=!0,Zr[45]=!0,Zr[47]=!0,Zr[173]=!0,Zr[183]=!0,Zr[8203]=!0,Zr[8208]=!0,Zr[8211]=!0,Zr[8231]=!0;var Vn=function(o){function a(p,h,_,v){o.call(this,p,h),this.angle=_,v!==void 0&&(this.segment=v)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.clone=function(){return new a(this.x,this.y,this.angle,this.segment)},a}(x);function Ii(o,a){var p=a.expression;if(p.kind==="constant")return{kind:"constant",layoutSize:p.evaluate(new co(o+1))};if(p.kind==="source")return{kind:"source"};for(var h=p.zoomStops,_=p.interpolationType,v=0;v<h.length&&h[v]<=o;)v++;for(var P=v=Math.max(0,v-1);P<h.length&&h[P]<o+1;)P++;P=Math.min(h.length-1,P);var T=h[v],C=h[P];return p.kind==="composite"?{kind:"composite",minZoom:T,maxZoom:C,interpolationType:_}:{kind:"camera",minZoom:T,maxZoom:C,minSize:p.evaluate(new co(T)),maxSize:p.evaluate(new co(C)),interpolationType:_}}function aa(o,a,p){var h=a.uSize,_=p.lowerSize;return o.kind==="source"?_/128:o.kind==="composite"?Bn(_/128,p.upperSize/128,a.uSizeT):h}function vi(o,a){var p=0,h=0;if(o.kind==="constant")h=o.layoutSize;else if(o.kind!=="source"){var _=o.interpolationType,v=_?k(ki.interpolationFactor(_,a,o.minZoom,o.maxZoom),0,1):0;o.kind==="camera"?h=Bn(o.minSize,o.maxSize,v):p=v}return{uSizeT:p,uSize:h}}hr("Anchor",Vn);var ho=Object.freeze({__proto__:null,getSizeData:Ii,evaluateSizeForFeature:aa,evaluateSizeForZoom:vi,SIZE_PACK_FACTOR:128});function qi(o,a,p,h,_){if(a.segment===void 0)return!0;for(var v=a,P=a.segment+1,T=0;T>-p/2;){if(--P<0)return!1;T-=o[P].dist(v),v=o[P]}T+=o[P].dist(o[P+1]),P++;for(var C=[],I=0;T<p/2;){var O=o[P],B=o[P+1];if(!B)return!1;var j=o[P-1].angleTo(O)-O.angleTo(B);for(j=Math.abs((j+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:T,angleDelta:j}),I+=j;T-C[0].distance>h;)I-=C.shift().angleDelta;if(I>_)return!1;P++,T+=O.dist(B)}return!0}function Yo(o){for(var a=0,p=0;p<o.length-1;p++)a+=o[p].dist(o[p+1]);return a}function Vr(o,a,p){return o?.6*a*p:0}function To(o,a){return Math.max(o?o.right-o.left:0,a?a.right-a.left:0)}function Vo(o,a,p,h,_,v){for(var P=Vr(p,_,v),T=To(p,h)*v,C=0,I=Yo(o)/2,O=0;O<o.length-1;O++){var B=o[O],j=o[O+1],Y=B.dist(j);if(C+Y>I){var le=(I-C)/Y,he=Bn(B.x,j.x,le),Re=Bn(B.y,j.y,le),be=new Vn(he,Re,j.angleTo(B),O);return be._round(),!P||qi(o,be,T,P,a)?be:void 0}C+=Y}}function ri(o,a,p,h,_,v,P,T,C){var I=Vr(h,v,P),O=To(h,_),B=O*P,j=o[0].x===0||o[0].x===C||o[0].y===0||o[0].y===C;return a-B<a/4&&(a=B+a/4),function Y(le,he,Re,be,Ve,Xe,nt,ut,vt){for(var kt=Xe/2,qt=Yo(le),Mr=0,pr=he-Re,Br=[],dr=0;dr<le.length-1;dr++){for(var bo=le[dr],Yr=le[dr+1],Pr=bo.dist(Yr),Mo=Yr.angleTo(bo);pr+Re<Mr+Pr;){var yo=((pr+=Re)-Mr)/Pr,Ho=Bn(bo.x,Yr.x,yo),Ur=Bn(bo.y,Yr.y,yo);if(Ho>=0&&Ho<vt&&Ur>=0&&Ur<vt&&pr-kt>=0&&pr+kt<=qt){var qo=new Vn(Ho,Ur,Mo,dr);qo._round(),be&&!qi(le,qo,Xe,be,Ve)||Br.push(qo)}}Mr+=Pr}return ut||Br.length||nt||(Br=Y(le,Mr/2,Re,be,Ve,Xe,nt,!0,vt)),Br}(o,j?a/2*T%a:(O/2+2*v)*P*T%a,a,I,p,B,j,!1,C)}function uu(o,a,p,h,_){for(var v=[],P=0;P<o.length;P++)for(var T=o[P],C=void 0,I=0;I<T.length-1;I++){var O=T[I],B=T[I+1];O.x<a&&B.x<a||(O.x<a?O=new x(a,O.y+(a-O.x)/(B.x-O.x)*(B.y-O.y))._round():B.x<a&&(B=new x(a,O.y+(a-O.x)/(B.x-O.x)*(B.y-O.y))._round()),O.y<p&&B.y<p||(O.y<p?O=new x(O.x+(p-O.y)/(B.y-O.y)*(B.x-O.x),p)._round():B.y<p&&(B=new x(O.x+(p-O.y)/(B.y-O.y)*(B.x-O.x),p)._round()),O.x>=h&&B.x>=h||(O.x>=h?O=new x(h,O.y+(h-O.x)/(B.x-O.x)*(B.y-O.y))._round():B.x>=h&&(B=new x(h,O.y+(h-O.x)/(B.x-O.x)*(B.y-O.y))._round()),O.y>=_&&B.y>=_||(O.y>=_?O=new x(O.x+(_-O.y)/(B.y-O.y)*(B.x-O.x),_)._round():B.y>=_&&(B=new x(O.x+(_-O.y)/(B.y-O.y)*(B.x-O.x),_)._round()),C&&O.equals(C[C.length-1])||v.push(C=[O]),C.push(B)))))}return v}function fe(o,a,p,h){var _=[],v=o.image,P=v.pixelRatio,T=v.paddedRect.w-2,C=v.paddedRect.h-2,I=o.right-o.left,O=o.bottom-o.top,B=v.stretchX||[[0,T]],j=v.stretchY||[[0,C]],Y=function(Ho,Ur){return Ho+Ur[1]-Ur[0]},le=B.reduce(Y,0),he=j.reduce(Y,0),Re=T-le,be=C-he,Ve=0,Xe=le,nt=0,ut=he,vt=0,kt=Re,qt=0,Mr=be;if(v.content&&h){var pr=v.content;Ve=ot(B,0,pr[0]),nt=ot(j,0,pr[1]),Xe=ot(B,pr[0],pr[2]),ut=ot(j,pr[1],pr[3]),vt=pr[0]-Ve,qt=pr[1]-nt,kt=pr[2]-pr[0]-Xe,Mr=pr[3]-pr[1]-ut}var Br=function(Ho,Ur,qo,In){var $n=ur(Ho.stretch-Ve,Xe,I,o.left),Zn=mo(Ho.fixed-vt,kt,Ho.stretch,le),Nn=ur(Ur.stretch-nt,ut,O,o.top),qn=mo(Ur.fixed-qt,Mr,Ur.stretch,he),Hi=ur(qo.stretch-Ve,Xe,I,o.left),Gi=mo(qo.fixed-vt,kt,qo.stretch,le),Ma=ur(In.stretch-nt,ut,O,o.top),Qi=mo(In.fixed-qt,Mr,In.stretch,he),Ia=new x($n,Nn),oi=new x(Hi,Nn),Ji=new x(Hi,Ma),Oo=new x($n,Ma),fn=new x(Zn/P,qn/P),sn=new x(Gi/P,Qi/P),Zo=a*Math.PI/180;if(Zo){var Ha=Math.sin(Zo),_a=Math.cos(Zo),wn=[_a,-Ha,Ha,_a];Ia._matMult(wn),oi._matMult(wn),Oo._matMult(wn),Ji._matMult(wn)}var xi=Ho.stretch+Ho.fixed,ga=Ur.stretch+Ur.fixed;return{tl:Ia,tr:oi,bl:Oo,br:Ji,tex:{x:v.paddedRect.x+1+xi,y:v.paddedRect.y+1+ga,w:qo.stretch+qo.fixed-xi,h:In.stretch+In.fixed-ga},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fn,pixelOffsetBR:sn,minFontScaleX:kt/P/I,minFontScaleY:Mr/P/O,isSDF:p}};if(h&&(v.stretchX||v.stretchY))for(var dr=Ke(B,Re,le),bo=Ke(j,be,he),Yr=0;Yr<dr.length-1;Yr++)for(var Pr=dr[Yr],Mo=dr[Yr+1],yo=0;yo<bo.length-1;yo++)_.push(Br(Pr,bo[yo],Mo,bo[yo+1]));else _.push(Br({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:C+1}));return _}function ot(o,a,p){for(var h=0,_=0,v=o;_<v.length;_+=1){var P=v[_];h+=Math.max(a,Math.min(p,P[1]))-Math.max(a,Math.min(p,P[0]))}return h}function Ke(o,a,p){for(var h=[{fixed:-1,stretch:0}],_=0,v=o;_<v.length;_+=1){var P=v[_],T=P[0],C=P[1],I=h[h.length-1];h.push({fixed:T-I.stretch,stretch:I.stretch}),h.push({fixed:T-I.stretch,stretch:I.stretch+(C-T)})}return h.push({fixed:a+1,stretch:p}),h}function ur(o,a,p,h){return o/a*p+h}function mo(o,a,p,h){return o-a*p/h}var an=function(o,a,p,h,_,v,P,T,C,I){if(this.boxStartIndex=o.length,C){var O=v.top,B=v.bottom,j=v.collisionPadding;j&&(O-=j[1],B+=j[3]);var Y=B-O;Y>0&&(Y=Math.max(10,Y),this.circleDiameter=Y)}else{var le=v.top*P-T,he=v.bottom*P+T,Re=v.left*P-T,be=v.right*P+T,Ve=v.collisionPadding;if(Ve&&(Re-=Ve[0]*P,le-=Ve[1]*P,be+=Ve[2]*P,he+=Ve[3]*P),I){var Xe=new x(Re,le),nt=new x(be,le),ut=new x(Re,he),vt=new x(be,he),kt=I*Math.PI/180;Xe._rotate(kt),nt._rotate(kt),ut._rotate(kt),vt._rotate(kt),Re=Math.min(Xe.x,nt.x,ut.x,vt.x),be=Math.max(Xe.x,nt.x,ut.x,vt.x),le=Math.min(Xe.y,nt.y,ut.y,vt.y),he=Math.max(Xe.y,nt.y,ut.y,vt.y)}o.emplaceBack(a.x,a.y,Re,le,be,he,p,h,_)}this.boxEndIndex=o.length},X=function(o,a){if(o===void 0&&(o=[]),a===void 0&&(a=pe),this.data=o,this.length=this.data.length,this.compare=a,this.length>0)for(var p=(this.length>>1)-1;p>=0;p--)this._down(p)};function pe(o,a){return o<a?-1:o>a?1:0}function Pe(o,a,p){p===void 0&&(p=!1);for(var h=1/0,_=1/0,v=-1/0,P=-1/0,T=o[0],C=0;C<T.length;C++){var I=T[C];(!C||I.x<h)&&(h=I.x),(!C||I.y<_)&&(_=I.y),(!C||I.x>v)&&(v=I.x),(!C||I.y>P)&&(P=I.y)}var O=Math.min(v-h,P-_),B=O/2,j=new X([],Qe);if(O===0)return new x(h,_);for(var Y=h;Y<v;Y+=O)for(var le=_;le<P;le+=O)j.push(new qe(Y+B,le+B,B,o));for(var he=function(Ve){for(var Xe=0,nt=0,ut=0,vt=Ve[0],kt=0,qt=vt.length,Mr=qt-1;kt<qt;Mr=kt++){var pr=vt[kt],Br=vt[Mr],dr=pr.x*Br.y-Br.x*pr.y;nt+=(pr.x+Br.x)*dr,ut+=(pr.y+Br.y)*dr,Xe+=3*dr}return new qe(nt/Xe,ut/Xe,0,Ve)}(o),Re=j.length;j.length;){var be=j.pop();(be.d>he.d||!he.d)&&(he=be,p&&console.log("found best %d after %d probes",Math.round(1e4*be.d)/1e4,Re)),be.max-he.d<=a||(j.push(new qe(be.p.x-(B=be.h/2),be.p.y-B,B,o)),j.push(new qe(be.p.x+B,be.p.y-B,B,o)),j.push(new qe(be.p.x-B,be.p.y+B,B,o)),j.push(new qe(be.p.x+B,be.p.y+B,B,o)),Re+=4)}return p&&(console.log("num probes: "+Re),console.log("best distance: "+he.d)),he.p}function Qe(o,a){return a.max-o.max}function qe(o,a,p,h){this.p=new x(o,a),this.h=p,this.d=function(_,v){for(var P=!1,T=1/0,C=0;C<v.length;C++)for(var I=v[C],O=0,B=I.length,j=B-1;O<B;j=O++){var Y=I[O],le=I[j];Y.y>_.y!=le.y>_.y&&_.x<(le.x-Y.x)*(_.y-Y.y)/(le.y-Y.y)+Y.x&&(P=!P),T=Math.min(T,Lu(_,Y,le))}return(P?1:-1)*Math.sqrt(T)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}X.prototype.push=function(o){this.data.push(o),this.length++,this._up(this.length-1)},X.prototype.pop=function(){if(this.length!==0){var o=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),o}},X.prototype.peek=function(){return this.data[0]},X.prototype._up=function(o){for(var a=this.data,p=this.compare,h=a[o];o>0;){var _=o-1>>1,v=a[_];if(p(h,v)>=0)break;a[o]=v,o=_}a[o]=h},X.prototype._down=function(o){for(var a=this.data,p=this.compare,h=this.length>>1,_=a[o];o<h;){var v=1+(o<<1),P=a[v],T=v+1;if(T<this.length&&p(a[T],P)<0&&(v=T,P=a[T]),p(P,_)>=0)break;a[o]=P,o=v}a[o]=_};var Te=Number.POSITIVE_INFINITY;function Ne(o,a){return a[1]!==Te?function(p,h,_){var v=0,P=0;switch(h=Math.abs(h),_=Math.abs(_),p){case"top-right":case"top-left":case"top":P=_-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-_}switch(p){case"top-right":case"bottom-right":case"right":v=-h;break;case"top-left":case"bottom-left":case"left":v=h}return[v,P]}(o,a[0],a[1]):function(p,h){var _=0,v=0;h<0&&(h=0);var P=h/Math.sqrt(2);switch(p){case"top-right":case"top-left":v=P-7;break;case"bottom-right":case"bottom-left":v=7-P;break;case"bottom":v=7-h;break;case"top":v=h-7}switch(p){case"top-right":case"bottom-right":_=-P;break;case"top-left":case"bottom-left":_=P;break;case"left":_=h;break;case"right":_=-h}return[_,v]}(o,a[0])}function Be(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function me(o,a,p,h,_,v,P,T,C,I,O,B,j,Y,le){var he=function(nt,ut,vt,kt,qt,Mr,pr,Br){for(var dr=kt.layout.get("text-rotate").evaluate(Mr,{})*Math.PI/180,bo=[],Yr=0,Pr=ut.positionedLines;Yr<Pr.length;Yr+=1)for(var Mo=Pr[Yr],yo=0,Ho=Mo.positionedGlyphs;yo<Ho.length;yo+=1){var Ur=Ho[yo];if(Ur.rect){var qo=Ur.rect||{},In=4,$n=!0,Zn=1,Nn=0,qn=(qt||Br)&&Ur.vertical,Hi=Ur.metrics.advance*Ur.scale/2;if(Br&&ut.verticalizable&&(Nn=Mo.lineOffset/2-(Ur.imageName?-(24-Ur.metrics.width*Ur.scale)/2:24*(Ur.scale-1))),Ur.imageName){var Gi=pr[Ur.imageName];$n=Gi.sdf,In=1/(Zn=Gi.pixelRatio)}var Ma=qt?[Ur.x+Hi,Ur.y]:[0,0],Qi=qt?[0,0]:[Ur.x+Hi+vt[0],Ur.y+vt[1]-Nn],Ia=[0,0];qn&&(Ia=Qi,Qi=[0,0]);var oi=(Ur.metrics.left-In)*Ur.scale-Hi+Qi[0],Ji=(-Ur.metrics.top-In)*Ur.scale+Qi[1],Oo=oi+qo.w*Ur.scale/Zn,fn=Ji+qo.h*Ur.scale/Zn,sn=new x(oi,Ji),Zo=new x(Oo,Ji),Ha=new x(oi,fn),_a=new x(Oo,fn);if(qn){var wn=new x(-Hi,Hi- -17),xi=-Math.PI/2,ga=12-Hi,Ko=new x(22-ga,-(Ur.imageName?ga:0)),Vp=new(Function.prototype.bind.apply(x,[null].concat(Ia)));sn._rotateAround(xi,wn)._add(Ko)._add(Vp),Zo._rotateAround(xi,wn)._add(Ko)._add(Vp),Ha._rotateAround(xi,wn)._add(Ko)._add(Vp),_a._rotateAround(xi,wn)._add(Ko)._add(Vp)}if(dr){var Ls=Math.sin(dr),Hp=Math.cos(dr),ni=[Hp,-Ls,Ls,Hp];sn._matMult(ni),Zo._matMult(ni),Ha._matMult(ni),_a._matMult(ni)}var Gp=new x(0,0),zu=new x(0,0);bo.push({tl:sn,tr:Zo,bl:Ha,br:_a,tex:qo,writingMode:ut.writingMode,glyphOffset:Ma,sectionIndex:Ur.sectionIndex,isSDF:$n,pixelOffsetTL:Gp,pixelOffsetBR:zu,minFontScaleX:0,minFontScaleY:0})}}return bo}(0,p,T,_,v,P,h,o.allowVerticalPlacement),Re=o.textSizeData,be=null;Re.kind==="source"?(be=[128*_.layout.get("text-size").evaluate(P,{})])[0]>32640&&ze(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Re.kind==="composite"&&((be=[128*Y.compositeTextSizes[0].evaluate(P,{},le),128*Y.compositeTextSizes[1].evaluate(P,{},le)])[0]>32640||be[1]>32640)&&ze(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),o.addSymbols(o.text,he,be,T,v,P,I,a,C.lineStartIndex,C.lineLength,j,le);for(var Ve=0,Xe=O;Ve<Xe.length;Ve+=1)B[Xe[Ve]]=o.text.placedSymbolArray.length-1;return 4*he.length}function Ce(o){for(var a in o)return o[a];return null}function ae(o,a,p,h){var _=o.compareText;if(a in _){for(var v=_[a],P=v.length-1;P>=0;P--)if(h.dist(v[P])<p)return!0}else _[a]=[];return _[a].push(h),!1}var Ie=zp.VectorTileFeature.types,it=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function yt(o,a,p,h,_,v,P,T,C,I,O,B,j){var Y=T?Math.min(32640,Math.round(T[0])):0,le=T?Math.min(32640,Math.round(T[1])):0;o.emplaceBack(a,p,Math.round(32*h),Math.round(32*_),v,P,(Y<<1)+(C?1:0),le,16*I,16*O,256*B,256*j)}function Tt(o,a,p){o.emplaceBack(a.x,a.y,p),o.emplaceBack(a.x,a.y,p),o.emplaceBack(a.x,a.y,p),o.emplaceBack(a.x,a.y,p)}function xt(o){for(var a=0,p=o.sections;a<p.length;a+=1)if($c(p[a].text))return!0;return!1}var Mt=function(o){this.layoutVertexArray=new Jc,this.indexArray=new Ms,this.programConfigurations=o,this.segments=new ee,this.dynamicLayoutVertexArray=new Ip,this.opacityVertexArray=new yc,this.placedSymbolArray=new f};Mt.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Mt.prototype.upload=function(o,a,p,h){this.isEmpty()||(p&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,fm.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,mm.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,it,!0),this.opacityVertexBuffer.itemSize=1),(p||h)&&this.programConfigurations.upload(o))},Mt.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},hr("SymbolBuffers",Mt);var Ar=function(o,a,p){this.layoutVertexArray=new o,this.layoutAttributes=a,this.indexArray=new p,this.segments=new ee,this.collisionVertexArray=new Kl};Ar.prototype.upload=function(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,nh.members,!0)},Ar.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},hr("CollisionBuffers",Ar);var fr=function(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(v){return v.id}),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Mi([]),this.placementViewportMatrix=Mi([]);var a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ii(this.zoom,a["text-size"]),this.iconSizeData=Ii(this.zoom,a["icon-size"]);var p=this.layers[0].layout,h=p.get("symbol-sort-key"),_=p.get("symbol-z-order");this.canOverlap=p.get("text-allow-overlap")||p.get("icon-allow-overlap")||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&h.constantOr(1)!==void 0,this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,p.get("symbol-placement")==="point"&&(this.writingModes=p.get("text-writing-mode").map(function(v){return Lr[v]})),this.stateDependentLayerIds=this.layers.filter(function(v){return v.isStateDependent()}).map(function(v){return v.id}),this.sourceID=o.sourceID};fr.prototype.createArrays=function(){this.text=new Mt(new zr(this.layers,this.zoom,function(o){return/^text/.test(o)})),this.icon=new Mt(new zr(this.layers,this.zoom,function(o){return/^icon/.test(o)})),this.glyphOffsetArray=new S,this.lineVertexArray=new R,this.symbolInstances=new F},fr.prototype.calculateGlyphDependencies=function(o,a,p,h,_){for(var v=0;v<o.length;v++)if(a[o.charCodeAt(v)]=!0,(p||h)&&_){var P=xe[o.charAt(v)];P&&(a[P.charCodeAt(0)]=!0)}},fr.prototype.populate=function(o,a,p){var h=this.layers[0],_=h.layout,v=_.get("text-font"),P=_.get("text-field"),T=_.get("icon-image"),C=(P.value.kind!=="constant"||P.value.value instanceof Ln&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(v.value.kind!=="constant"||v.value.value.length>0),I=T.value.kind!=="constant"||!!T.value.value||Object.keys(T.parameters).length>0,O=_.get("symbol-sort-key");if(this.features=[],C||I){for(var B=a.iconDependencies,j=a.glyphDependencies,Y=a.availableImages,le=new co(this.zoom),he=0,Re=o;he<Re.length;he+=1){var be=Re[he],Ve=be.feature,Xe=be.id,nt=be.index,ut=be.sourceLayerIndex,vt=h._featureFilter.needGeometry,kt=Cn(Ve,vt);if(h._featureFilter.filter(le,kt,p)){vt||(kt.geometry=Tn(Ve));var qt=void 0;if(C){var Mr=h.getValueAndResolveTokens("text-field",kt,p,Y),pr=Ln.factory(Mr);xt(pr)&&(this.hasRTLText=!0),(!this.hasRTLText||$l()==="unavailable"||this.hasRTLText&&ka.isParsed())&&(qt=ie(pr,h,kt))}var Br=void 0;if(I){var dr=h.getValueAndResolveTokens("icon-image",kt,p,Y);Br=dr instanceof En?dr:En.fromString(dr)}if(qt||Br){var bo=this.sortFeaturesByKey?O.evaluate(kt,{},p):void 0;if(this.features.push({id:Xe,text:qt,icon:Br,index:nt,sourceLayerIndex:ut,geometry:kt.geometry,properties:Ve.properties,type:Ie[Ve.type],sortKey:bo}),Br&&(B[Br.name]=!0),qt){var Yr=v.evaluate(kt,{},p).join(","),Pr=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Lr.vertical)>=0;for(var Mo=0,yo=qt.sections;Mo<yo.length;Mo+=1){var Ho=yo[Mo];if(Ho.image)B[Ho.image.name]=!0;else{var Ur=ru(qt.toString()),qo=Ho.fontStack||Yr,In=j[qo]=j[qo]||{};this.calculateGlyphDependencies(Ho.text,In,Pr,this.allowVerticalPlacement,Ur)}}}}}}_.get("symbol-placement")==="line"&&(this.features=function($n){var Zn={},Nn={},qn=[],Hi=0;function Gi(wn){qn.push($n[wn]),Hi++}function Ma(wn,xi,ga){var Ko=Nn[wn];return delete Nn[wn],Nn[xi]=Ko,qn[Ko].geometry[0].pop(),qn[Ko].geometry[0]=qn[Ko].geometry[0].concat(ga[0]),Ko}function Qi(wn,xi,ga){var Ko=Zn[xi];return delete Zn[xi],Zn[wn]=Ko,qn[Ko].geometry[0].shift(),qn[Ko].geometry[0]=ga[0].concat(qn[Ko].geometry[0]),Ko}function Ia(wn,xi,ga){var Ko=ga?xi[0][xi[0].length-1]:xi[0][0];return wn+":"+Ko.x+":"+Ko.y}for(var oi=0;oi<$n.length;oi++){var Ji=$n[oi],Oo=Ji.geometry,fn=Ji.text?Ji.text.toString():null;if(fn){var sn=Ia(fn,Oo),Zo=Ia(fn,Oo,!0);if(sn in Nn&&Zo in Zn&&Nn[sn]!==Zn[Zo]){var Ha=Qi(sn,Zo,Oo),_a=Ma(sn,Zo,qn[Ha].geometry);delete Zn[sn],delete Nn[Zo],Nn[Ia(fn,qn[_a].geometry,!0)]=_a,qn[Ha].geometry=null}else sn in Nn?Ma(sn,Zo,Oo):Zo in Zn?Qi(sn,Zo,Oo):(Gi(oi),Zn[sn]=Hi-1,Nn[Zo]=Hi-1)}else Gi(oi)}return qn.filter(function(wn){return wn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function($n,Zn){return $n.sortKey-Zn.sortKey})}},fr.prototype.update=function(o,a,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,a,this.layers,p),this.icon.programConfigurations.updatePaintArrays(o,a,this.layers,p))},fr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},fr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fr.prototype.upload=function(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},fr.prototype.addToLineVertexArray=function(o,a){var p=this.lineVertexArray.length;if(o.segment!==void 0){for(var h=o.dist(a[o.segment+1]),_=o.dist(a[o.segment]),v={},P=o.segment+1;P<a.length;P++)v[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:h},P<a.length-1&&(h+=a[P+1].dist(a[P]));for(var T=o.segment||0;T>=0;T--)v[T]={x:a[T].x,y:a[T].y,tileUnitDistanceFromAnchor:_},T>0&&(_+=a[T-1].dist(a[T]));for(var C=0;C<a.length;C++){var I=v[C];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}},fr.prototype.addSymbols=function(o,a,p,h,_,v,P,T,C,I,O,B){for(var j=o.indexArray,Y=o.layoutVertexArray,le=o.segments.prepareSegment(4*a.length,Y,j,this.canOverlap?v.sortKey:void 0),he=this.glyphOffsetArray.length,Re=le.vertexLength,be=this.allowVerticalPlacement&&P===Lr.vertical?Math.PI/2:0,Ve=v.text&&v.text.sections,Xe=0;Xe<a.length;Xe++){var nt=a[Xe],ut=nt.tl,vt=nt.tr,kt=nt.bl,qt=nt.br,Mr=nt.tex,pr=nt.pixelOffsetTL,Br=nt.pixelOffsetBR,dr=nt.minFontScaleX,bo=nt.minFontScaleY,Yr=nt.glyphOffset,Pr=nt.isSDF,Mo=nt.sectionIndex,yo=le.vertexLength,Ho=Yr[1];yt(Y,T.x,T.y,ut.x,Ho+ut.y,Mr.x,Mr.y,p,Pr,pr.x,pr.y,dr,bo),yt(Y,T.x,T.y,vt.x,Ho+vt.y,Mr.x+Mr.w,Mr.y,p,Pr,Br.x,pr.y,dr,bo),yt(Y,T.x,T.y,kt.x,Ho+kt.y,Mr.x,Mr.y+Mr.h,p,Pr,pr.x,Br.y,dr,bo),yt(Y,T.x,T.y,qt.x,Ho+qt.y,Mr.x+Mr.w,Mr.y+Mr.h,p,Pr,Br.x,Br.y,dr,bo),Tt(o.dynamicLayoutVertexArray,T,be),j.emplaceBack(yo,yo+1,yo+2),j.emplaceBack(yo+1,yo+2,yo+3),le.vertexLength+=4,le.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Yr[0]),Xe!==a.length-1&&Mo===a[Xe+1].sectionIndex||o.programConfigurations.populatePaintArrays(Y.length,v,v.index,{},B,Ve&&Ve[Mo])}o.placedSymbolArray.emplaceBack(T.x,T.y,he,this.glyphOffsetArray.length-he,Re,C,I,T.segment,p?p[0]:0,p?p[1]:0,h[0],h[1],P,0,!1,0,O)},fr.prototype._addCollisionDebugVertex=function(o,a,p,h,_,v){return a.emplaceBack(0,0),o.emplaceBack(p.x,p.y,h,_,Math.round(v.x),Math.round(v.y))},fr.prototype.addCollisionDebugVertices=function(o,a,p,h,_,v,P){var T=_.segments.prepareSegment(4,_.layoutVertexArray,_.indexArray),C=T.vertexLength,I=_.layoutVertexArray,O=_.collisionVertexArray,B=P.anchorX,j=P.anchorY;this._addCollisionDebugVertex(I,O,v,B,j,new x(o,a)),this._addCollisionDebugVertex(I,O,v,B,j,new x(p,a)),this._addCollisionDebugVertex(I,O,v,B,j,new x(p,h)),this._addCollisionDebugVertex(I,O,v,B,j,new x(o,h)),T.vertexLength+=4;var Y=_.indexArray;Y.emplaceBack(C,C+1),Y.emplaceBack(C+1,C+2),Y.emplaceBack(C+2,C+3),Y.emplaceBack(C+3,C),T.primitiveLength+=4},fr.prototype.addDebugCollisionBoxes=function(o,a,p,h){for(var _=o;_<a;_++){var v=this.collisionBoxArray.get(_);this.addCollisionDebugVertices(v.x1,v.y1,v.x2,v.y2,h?this.textCollisionBox:this.iconCollisionBox,v.anchorPoint,p)}},fr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ar(ip,ih.members,hc),this.iconCollisionBox=new Ar(ip,ih.members,hc);for(var o=0;o<this.symbolInstances.length;o++){var a=this.symbolInstances.get(o);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}},fr.prototype._deserializeCollisionBoxesForSymbol=function(o,a,p,h,_,v,P,T,C){for(var I={},O=a;O<p;O++){var B=o.get(O);I.textBox={x1:B.x1,y1:B.y1,x2:B.x2,y2:B.y2,anchorPointX:B.anchorPointX,anchorPointY:B.anchorPointY},I.textFeatureIndex=B.featureIndex;break}for(var j=h;j<_;j++){var Y=o.get(j);I.verticalTextBox={x1:Y.x1,y1:Y.y1,x2:Y.x2,y2:Y.y2,anchorPointX:Y.anchorPointX,anchorPointY:Y.anchorPointY},I.verticalTextFeatureIndex=Y.featureIndex;break}for(var le=v;le<P;le++){var he=o.get(le);I.iconBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},I.iconFeatureIndex=he.featureIndex;break}for(var Re=T;Re<C;Re++){var be=o.get(Re);I.verticalIconBox={x1:be.x1,y1:be.y1,x2:be.x2,y2:be.y2,anchorPointX:be.anchorPointX,anchorPointY:be.anchorPointY},I.verticalIconFeatureIndex=be.featureIndex;break}return I},fr.prototype.deserializeCollisionBoxes=function(o){this.collisionArrays=[];for(var a=0;a<this.symbolInstances.length;a++){var p=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}},fr.prototype.hasTextData=function(){return this.text.segments.get().length>0},fr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},fr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},fr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},fr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},fr.prototype.addIndicesForPlacedSymbol=function(o,a){for(var p=o.placedSymbolArray.get(a),h=p.vertexStartIndex+4*p.numGlyphs,_=p.vertexStartIndex;_<h;_+=4)o.indexArray.emplaceBack(_,_+1,_+2),o.indexArray.emplaceBack(_+1,_+2,_+3)},fr.prototype.getSortedSymbolIndexes=function(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var a=Math.sin(o),p=Math.cos(o),h=[],_=[],v=[],P=0;P<this.symbolInstances.length;++P){v.push(P);var T=this.symbolInstances.get(P);h.push(0|Math.round(a*T.anchorX+p*T.anchorY)),_.push(T.featureIndex)}return v.sort(function(C,I){return h[C]-h[I]||_[I]-_[C]}),v},fr.prototype.addToSortKeyRanges=function(o,a){var p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===a?p.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:o,symbolInstanceEnd:o+1})},fr.prototype.sortFeatures=function(o){var a=this;if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var p=0,h=this.symbolInstanceIndexes;p<h.length;p+=1){var _=this.symbolInstances.get(h[p]);this.featureSortOrder.push(_.featureIndex),[_.rightJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.leftJustifiedTextSymbolIndex].forEach(function(v,P,T){v>=0&&T.indexOf(v)===P&&a.addIndicesForPlacedSymbol(a.text,v)}),_.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_.verticalPlacedTextSymbolIndex),_.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.placedIconSymbolIndex),_.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},hr("SymbolBucket",fr,{omit:["layers","collisionBoxArray","features","compareText"]}),fr.MAX_GLYPHS=65535,fr.addDynamicAttributes=Tt;var vr=new Sn({"symbol-placement":new Rr(J.layout_symbol["symbol-placement"]),"symbol-spacing":new Rr(J.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Rr(J.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gr(J.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Rr(J.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Rr(J.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Rr(J.layout_symbol["icon-ignore-placement"]),"icon-optional":new Rr(J.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Rr(J.layout_symbol["icon-rotation-alignment"]),"icon-size":new gr(J.layout_symbol["icon-size"]),"icon-text-fit":new Rr(J.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Rr(J.layout_symbol["icon-text-fit-padding"]),"icon-image":new gr(J.layout_symbol["icon-image"]),"icon-rotate":new gr(J.layout_symbol["icon-rotate"]),"icon-padding":new Rr(J.layout_symbol["icon-padding"]),"icon-keep-upright":new Rr(J.layout_symbol["icon-keep-upright"]),"icon-offset":new gr(J.layout_symbol["icon-offset"]),"icon-anchor":new gr(J.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Rr(J.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Rr(J.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Rr(J.layout_symbol["text-rotation-alignment"]),"text-field":new gr(J.layout_symbol["text-field"]),"text-font":new gr(J.layout_symbol["text-font"]),"text-size":new gr(J.layout_symbol["text-size"]),"text-max-width":new gr(J.layout_symbol["text-max-width"]),"text-line-height":new Rr(J.layout_symbol["text-line-height"]),"text-letter-spacing":new gr(J.layout_symbol["text-letter-spacing"]),"text-justify":new gr(J.layout_symbol["text-justify"]),"text-radial-offset":new gr(J.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Rr(J.layout_symbol["text-variable-anchor"]),"text-anchor":new gr(J.layout_symbol["text-anchor"]),"text-max-angle":new Rr(J.layout_symbol["text-max-angle"]),"text-writing-mode":new Rr(J.layout_symbol["text-writing-mode"]),"text-rotate":new gr(J.layout_symbol["text-rotate"]),"text-padding":new Rr(J.layout_symbol["text-padding"]),"text-keep-upright":new Rr(J.layout_symbol["text-keep-upright"]),"text-transform":new gr(J.layout_symbol["text-transform"]),"text-offset":new gr(J.layout_symbol["text-offset"]),"text-allow-overlap":new Rr(J.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Rr(J.layout_symbol["text-ignore-placement"]),"text-optional":new Rr(J.layout_symbol["text-optional"])}),Hr={paint:new Sn({"icon-opacity":new gr(J.paint_symbol["icon-opacity"]),"icon-color":new gr(J.paint_symbol["icon-color"]),"icon-halo-color":new gr(J.paint_symbol["icon-halo-color"]),"icon-halo-width":new gr(J.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gr(J.paint_symbol["icon-halo-blur"]),"icon-translate":new Rr(J.paint_symbol["icon-translate"]),"icon-translate-anchor":new Rr(J.paint_symbol["icon-translate-anchor"]),"text-opacity":new gr(J.paint_symbol["text-opacity"]),"text-color":new gr(J.paint_symbol["text-color"],{runtimeType:Xt,getOverride:function(o){return o.textColor},hasOverride:function(o){return!!o.textColor}}),"text-halo-color":new gr(J.paint_symbol["text-halo-color"]),"text-halo-width":new gr(J.paint_symbol["text-halo-width"]),"text-halo-blur":new gr(J.paint_symbol["text-halo-blur"]),"text-translate":new Rr(J.paint_symbol["text-translate"]),"text-translate-anchor":new Rr(J.paint_symbol["text-translate-anchor"])}),layout:vr},Jr=function(o){this.type=o.property.overrides?o.property.overrides.runtimeType:yr,this.defaultValue=o};Jr.prototype.evaluate=function(o){if(o.formattedSection){var a=this.defaultValue.property.overrides;if(a&&a.hasOverride(o.formattedSection))return a.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default},Jr.prototype.eachChild=function(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)},Jr.prototype.outputDefined=function(){return!1},Jr.prototype.serialize=function(){return null},hr("FormatSectionOverride",Jr,{omit:["defaultValue"]});var $o=function(o){function a(p){o.call(this,p,Hr)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.recalculate=function(p,h){if(o.prototype.recalculate.call(this,p,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var _=this.layout.get("text-writing-mode");if(_){for(var v=[],P=0,T=_;P<T.length;P+=1){var C=T[P];v.indexOf(C)<0&&v.push(C)}this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},a.prototype.getValueAndResolveTokens=function(p,h,_,v){var P=this.layout.get(p).evaluate(h,{},_,v),T=this._unevaluatedLayout._values[p];return T.isDataDriven()||Ju(T.value)||!P?P:function(C,I){return I.replace(/{([^{}]+)}/g,function(O,B){return B in C?String(C[B]):""})}(h.properties,P)},a.prototype.createBucket=function(p){return new fr(p)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype._setPaintOverrides=function(){for(var p=0,h=Hr.paint.overridableProperties;p<h.length;p+=1){var _=h[p];if(a.hasPaintOverride(this.layout,_)){var v,P=this.paint.get(_),T=new Jr(P),C=new Tu(T,P.property.specification);v=P.value.kind==="constant"||P.value.kind==="source"?new ep("source",C):new tp("composite",C,P.value.zoomStops,P.value._interpolationType),this.paint._values[_]=new Xi(P.property,v,P.parameters)}}},a.prototype._handleOverridablePaintPropertyUpdate=function(p,h,_){return!(!this.layout||h.isDataDriven()||_.isDataDriven())&&a.hasPaintOverride(this.layout,p)},a.hasPaintOverride=function(p,h){var _=p.get("text-field"),v=Hr.paint.properties[h],P=!1,T=function(O){for(var B=0,j=O;B<j.length;B+=1)if(v.overrides&&v.overrides.hasOverride(j[B]))return void(P=!0)};if(_.value.kind==="constant"&&_.value.value instanceof Ln)T(_.value.value.sections);else if(_.value.kind==="source"){var C=function(O){P||(O instanceof li&&mn(O.value)===en?T(O.value.sections):O instanceof ea?T(O.sections):O.eachChild(C))},I=_.value;I._styleExpression&&C(I._styleExpression.expression)}return P},a}(Ja),Ei={paint:new Sn({"background-color":new Rr(J.paint_background["background-color"]),"background-pattern":new Yi(J.paint_background["background-pattern"]),"background-opacity":new Rr(J.paint_background["background-opacity"])})},pu=function(o){function a(p){o.call(this,p,Ei)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Ja),ld={paint:new Sn({"raster-opacity":new Rr(J.paint_raster["raster-opacity"]),"raster-hue-rotate":new Rr(J.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Rr(J.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Rr(J.paint_raster["raster-brightness-max"]),"raster-saturation":new Rr(J.paint_raster["raster-saturation"]),"raster-contrast":new Rr(J.paint_raster["raster-contrast"]),"raster-resampling":new Rr(J.paint_raster["raster-resampling"]),"raster-fade-duration":new Rr(J.paint_raster["raster-fade-duration"])})},Os=function(o){function a(p){o.call(this,p,ld)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Ja),ah=function(o){function a(p){o.call(this,p,{}),this.implementation=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},a.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},a.prototype.recalculate=function(){},a.prototype.updateTransitions=function(){},a.prototype.hasTransition=function(){},a.prototype.serialize=function(){},a.prototype.onAdd=function(p){this.implementation.onAdd&&this.implementation.onAdd(p,p.painter.context.gl)},a.prototype.onRemove=function(p){this.implementation.onRemove&&this.implementation.onRemove(p,p.painter.context.gl)},a}(Ja),dp={circle:Jl,heatmap:al,hillshade:rm,fill:Yy,"fill-extrusion":Qy,line:oh,symbol:$o,background:pu,raster:Os},dd=A.HTMLImageElement,K6=A.HTMLCanvasElement,Q6=A.HTMLVideoElement,J6=A.ImageData,sh=A.ImageBitmap,r0=function(o,a,p,h){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(a,h)};r0.prototype.update=function(o,a,p){var h=o.width,_=o.height,v=!(this.size&&this.size[0]===h&&this.size[1]===_||p),P=this.context,T=P.gl;if(this.useMipmap=!!(a&&a.useMipmap),T.bindTexture(T.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!a||a.premultiply!==!1)),v)this.size=[h,_],o instanceof dd||o instanceof K6||o instanceof Q6||o instanceof J6||sh&&o instanceof sh?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,o):T.texImage2D(T.TEXTURE_2D,0,this.format,h,_,0,this.format,T.UNSIGNED_BYTE,o.data);else{var C=p||{x:0,y:0},I=C.x,O=C.y;o instanceof dd||o instanceof K6||o instanceof Q6||o instanceof J6||sh&&o instanceof sh?T.texSubImage2D(T.TEXTURE_2D,0,I,O,T.RGBA,T.UNSIGNED_BYTE,o):T.texSubImage2D(T.TEXTURE_2D,0,I,O,h,_,T.RGBA,T.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&T.generateMipmap(T.TEXTURE_2D)},r0.prototype.bind=function(o,a,p){var h=this.context.gl;h.bindTexture(h.TEXTURE_2D,this.texture),p!==h.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=h.LINEAR),o!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,o),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,p||o),this.filter=o),a!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,a),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,a),this.wrap=a)},r0.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},r0.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var _m=function(o){var a=this;this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){a._triggered=!1,a._callback()})};_m.prototype.trigger=function(){var o=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){o._triggered=!1,o._callback()},0))},_m.prototype.remove=function(){delete this._channel,this._callback=function(){}};var q0=function(o,a,p){this.target=o,this.parent=a,this.mapId=p,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Ee(["receive","process"],this),this.invoker=new _m(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=nr()?o:A};function e3(o,a,p){var h=2*Math.PI*6378137/256/Math.pow(2,p);return[o*h-2*Math.PI*6378137/2,a*h-2*Math.PI*6378137/2]}q0.prototype.send=function(o,a,p,h,_){var v=this;_===void 0&&(_=!1);var P=Math.round(1e18*Math.random()).toString(36).substring(0,10);p&&(this.callbacks[P]=p);var T=mr(this.globalScope)?void 0:[];return this.target.postMessage({id:P,type:o,hasCallback:!!p,targetMapId:h,mustQueue:_,sourceMapId:this.mapId,data:ta(a,T)},T),{cancel:function(){p&&delete v.callbacks[P],v.target.postMessage({id:P,type:"<cancel>",targetMapId:h,sourceMapId:v.mapId})}}},q0.prototype.receive=function(o){var a=o.data,p=a.id;if(p&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[p];var h=this.cancelCallbacks[p];delete this.cancelCallbacks[p],h&&h()}else nr()||a.mustQueue?(this.tasks[p]=a,this.taskQueue.push(p),this.invoker.trigger()):this.processTask(p,a)},q0.prototype.process=function(){if(this.taskQueue.length){var o=this.taskQueue.shift(),a=this.tasks[o];delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(o,a)}},q0.prototype.processTask=function(o,a){var p=this;if(a.type==="<response>"){var h=this.callbacks[o];delete this.callbacks[o],h&&(a.error?h(nn(a.error)):h(null,nn(a.data)))}else{var _=!1,v=mr(this.globalScope)?void 0:[],P=a.hasCallback?function(O,B){_=!0,delete p.cancelCallbacks[o],p.target.postMessage({id:o,type:"<response>",sourceMapId:p.mapId,error:O?ta(O):null,data:ta(B,v)},v)}:function(O){_=!0},T=null,C=nn(a.data);if(this.parent[a.type])T=this.parent[a.type](a.sourceMapId,C,P);else if(this.parent.getWorkerSource){var I=a.type.split(".");T=this.parent.getWorkerSource(a.sourceMapId,I[0],C.source)[I[1]](C,P)}else P(new Error("Could not find function "+a.type));!_&&T&&T.cancel&&(this.cancelCallbacks[o]=T.cancel)}},q0.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Ni=function(o,a){o&&(a?this.setSouthWest(o).setNorthEast(a):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))};Ni.prototype.setNorthEast=function(o){return this._ne=o instanceof Mn?new Mn(o.lng,o.lat):Mn.convert(o),this},Ni.prototype.setSouthWest=function(o){return this._sw=o instanceof Mn?new Mn(o.lng,o.lat):Mn.convert(o),this},Ni.prototype.extend=function(o){var a,p,h=this._sw,_=this._ne;if(o instanceof Mn)a=o,p=o;else{if(!(o instanceof Ni))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(Ni.convert(o)):this.extend(Mn.convert(o)):this;if(p=o._ne,!(a=o._sw)||!p)return this}return h||_?(h.lng=Math.min(a.lng,h.lng),h.lat=Math.min(a.lat,h.lat),_.lng=Math.max(p.lng,_.lng),_.lat=Math.max(p.lat,_.lat)):(this._sw=new Mn(a.lng,a.lat),this._ne=new Mn(p.lng,p.lat)),this},Ni.prototype.getCenter=function(){return new Mn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ni.prototype.getSouthWest=function(){return this._sw},Ni.prototype.getNorthEast=function(){return this._ne},Ni.prototype.getNorthWest=function(){return new Mn(this.getWest(),this.getNorth())},Ni.prototype.getSouthEast=function(){return new Mn(this.getEast(),this.getSouth())},Ni.prototype.getWest=function(){return this._sw.lng},Ni.prototype.getSouth=function(){return this._sw.lat},Ni.prototype.getEast=function(){return this._ne.lng},Ni.prototype.getNorth=function(){return this._ne.lat},Ni.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ni.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ni.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ni.prototype.contains=function(o){var a=Mn.convert(o),p=a.lng,h=a.lat,_=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&_},Ni.convert=function(o){return!o||o instanceof Ni?o:new Ni(o)};var Mn=function(o,a){if(isNaN(o)||isNaN(a))throw new Error("Invalid LngLat object: ("+o+", "+a+")");if(this.lng=+o,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Mn.prototype.wrap=function(){return new Mn(Q(this.lng,-180,180),this.lat)},Mn.prototype.toArray=function(){return[this.lng,this.lat]},Mn.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Mn.prototype.distanceTo=function(o){var a=Math.PI/180,p=this.lat*a,h=o.lat*a,_=Math.sin(p)*Math.sin(h)+Math.cos(p)*Math.cos(h)*Math.cos((o.lng-this.lng)*a);return 63710088e-1*Math.acos(Math.min(_,1))},Mn.prototype.toBounds=function(o){o===void 0&&(o=0);var a=360*o/40075017,p=a/Math.cos(Math.PI/180*this.lat);return new Ni(new Mn(this.lng-p,this.lat-a),new Mn(this.lng+p,this.lat+a))},Mn.convert=function(o){if(o instanceof Mn)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Mn(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Mn(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var t3=2*Math.PI*63710088e-1;function r3(o){return t3*Math.cos(o*Math.PI/180)}function o3(o){return(180+o)/360}function n3(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function i3(o,a){return o/r3(a)}function gm(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}var o0=function(o,a,p){p===void 0&&(p=0),this.x=+o,this.y=+a,this.z=+p};o0.fromLngLat=function(o,a){a===void 0&&(a=0);var p=Mn.convert(o);return new o0(o3(p.lng),n3(p.lat),i3(a,p.lat))},o0.prototype.toLngLat=function(){return new Mn(360*this.x-180,gm(this.y))},o0.prototype.toAltitude=function(){return this.z*r3(gm(this.y))},o0.prototype.meterInMercatorCoordinateUnits=function(){return 1/t3*(o=gm(this.y),1/Math.cos(o*Math.PI/180));var o};var n0=function(o,a,p){this.z=o,this.x=a,this.y=p,this.key=yd(0,o,o,a,p)};n0.prototype.equals=function(o){return this.z===o.z&&this.x===o.x&&this.y===o.y},n0.prototype.url=function(o,a){var p,h,_,v,P,T=(h=this.y,_=this.z,v=e3(256*(p=this.x),256*(h=Math.pow(2,_)-h-1),_),P=e3(256*(p+1),256*(h+1),_),v[0]+","+v[1]+","+P[0]+","+P[1]),C=function(I,O,B){for(var j,Y="",le=I;le>0;le--)Y+=(O&(j=1<<le-1)?1:0)+(B&j?2:0);return Y}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",C).replace("{bbox-epsg-3857}",T)},n0.prototype.getTilePoint=function(o){var a=Math.pow(2,this.z);return new x(8192*(o.x*a-this.x),8192*(o.y*a-this.y))},n0.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var a3=function(o,a){this.wrap=o,this.canonical=a,this.key=yd(o,a.z,a.z,a.x,a.y)},Di=function(o,a,p,h,_){this.overscaledZ=o,this.wrap=a,this.canonical=new n0(p,+h,+_),this.key=yd(a,o,p,h,_)};function yd(o,a,p,h,_){(o*=2)<0&&(o=-1*o-1);var v=1<<p;return(v*v*o+v*_+h).toString(36)+p.toString(36)+a.toString(36)}Di.prototype.equals=function(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)},Di.prototype.scaledTo=function(o){var a=this.canonical.z-o;return o>this.canonical.z?new Di(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Di(o,this.wrap,o,this.canonical.x>>a,this.canonical.y>>a)},Di.prototype.calculateScaledKey=function(o,a){var p=this.canonical.z-o;return o>this.canonical.z?yd(this.wrap*+a,o,this.canonical.z,this.canonical.x,this.canonical.y):yd(this.wrap*+a,o,o,this.canonical.x>>p,this.canonical.y>>p)},Di.prototype.isChildOf=function(o){if(o.wrap!==this.wrap)return!1;var a=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>a&&o.canonical.y===this.canonical.y>>a},Di.prototype.children=function(o){if(this.overscaledZ>=o)return[new Di(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var a=this.canonical.z+1,p=2*this.canonical.x,h=2*this.canonical.y;return[new Di(a,this.wrap,a,p,h),new Di(a,this.wrap,a,p+1,h),new Di(a,this.wrap,a,p,h+1),new Di(a,this.wrap,a,p+1,h+1)]},Di.prototype.isLessThan=function(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))},Di.prototype.wrapped=function(){return new Di(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Di.prototype.unwrapTo=function(o){return new Di(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)},Di.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Di.prototype.toUnwrapped=function(){return new a3(this.wrap,this.canonical)},Di.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Di.prototype.getTilePoint=function(o){return this.canonical.getTilePoint(new o0(o.x-this.wrap,o.y))},hr("CanonicalTileID",n0),hr("OverscaledTileID",Di,{omit:["posMatrix"]});var bc=function(o,a,p){if(this.uid=o,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(p&&p!=="mapbox"&&p!=="terrarium")return ze('"'+p+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=a.height;var h=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=p||"mapbox";for(var _=0;_<h;_++)this.data[this._idx(-1,_)]=this.data[this._idx(0,_)],this.data[this._idx(h,_)]=this.data[this._idx(h-1,_)],this.data[this._idx(_,-1)]=this.data[this._idx(_,0)],this.data[this._idx(_,h)]=this.data[this._idx(_,h-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(h,-1)]=this.data[this._idx(h-1,0)],this.data[this._idx(-1,h)]=this.data[this._idx(0,h-1)],this.data[this._idx(h,h)]=this.data[this._idx(h-1,h-1)]};bc.prototype.get=function(o,a){var p=new Uint8Array(this.data.buffer),h=4*this._idx(o,a);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(p[h],p[h+1],p[h+2])},bc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},bc.prototype._idx=function(o,a){if(o<-1||o>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(o+1)},bc.prototype._unpackMapbox=function(o,a,p){return(256*o*256+256*a+p)/10-1e4},bc.prototype._unpackTerrarium=function(o,a,p){return 256*o+a+p/256-32768},bc.prototype.getPixels=function(){return new ha({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},bc.prototype.backfillBorder=function(o,a,p){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");var h=a*this.dim,_=a*this.dim+this.dim,v=p*this.dim,P=p*this.dim+this.dim;switch(a){case-1:h=_-1;break;case 1:_=h+1}switch(p){case-1:v=P-1;break;case 1:P=v+1}for(var T=-a*this.dim,C=-p*this.dim,I=v;I<P;I++)for(var O=h;O<_;O++)this.data[this._idx(O,I)]=o.data[this._idx(O+T,I+C)]},hr("DEMData",bc);var uh=function(o){this._stringToNumber={},this._numberToString=[];for(var a=0;a<o.length;a++){var p=o[a];this._stringToNumber[p]=a,this._numberToString[a]=p}};uh.prototype.encode=function(o){return this._stringToNumber[o]},uh.prototype.decode=function(o){return this._numberToString[o]};var ph=function(o,a,p,h,_){this.type="Feature",this._vectorTileFeature=o,o._z=a,o._x=p,o._y=h,this.properties=o.properties,this.id=_},vm={geometry:{configurable:!0}};vm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},vm.geometry.set=function(o){this._geometry=o},ph.prototype.toJSON=function(){var o={geometry:this.geometry};for(var a in this)a!=="_geometry"&&a!=="_vectorTileFeature"&&(o[a]=this[a]);return o},Object.defineProperties(ph.prototype,vm);var K0=function(){this.state={},this.stateChanges={},this.deletedStates={}};K0.prototype.updateState=function(o,a,p){var h=String(a);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][h]=this.stateChanges[o][h]||{},q(this.stateChanges[o][h],p),this.deletedStates[o]===null)for(var _ in this.deletedStates[o]={},this.state[o])_!==h&&(this.deletedStates[o][_]=null);else if(this.deletedStates[o]&&this.deletedStates[o][h]===null)for(var v in this.deletedStates[o][h]={},this.state[o][h])p[v]||(this.deletedStates[o][h][v]=null);else for(var P in p)this.deletedStates[o]&&this.deletedStates[o][h]&&this.deletedStates[o][h][P]===null&&delete this.deletedStates[o][h][P]},K0.prototype.removeFeatureState=function(o,a,p){if(this.deletedStates[o]!==null){var h=String(a);if(this.deletedStates[o]=this.deletedStates[o]||{},p&&a!==void 0)this.deletedStates[o][h]!==null&&(this.deletedStates[o][h]=this.deletedStates[o][h]||{},this.deletedStates[o][h][p]=null);else if(a!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][h])for(p in this.deletedStates[o][h]={},this.stateChanges[o][h])this.deletedStates[o][h][p]=null;else this.deletedStates[o][h]=null;else this.deletedStates[o]=null}},K0.prototype.getState=function(o,a){var p=String(a),h=q({},(this.state[o]||{})[p],(this.stateChanges[o]||{})[p]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){var _=this.deletedStates[o][a];if(_===null)return{};for(var v in _)delete h[v]}return h},K0.prototype.initializeTileState=function(o,a){o.setFeatureState(this.state,a)},K0.prototype.coalesceChanges=function(o,a){var p={};for(var h in this.stateChanges){this.state[h]=this.state[h]||{};var _={};for(var v in this.stateChanges[h])this.state[h][v]||(this.state[h][v]={}),q(this.state[h][v],this.stateChanges[h][v]),_[v]=this.state[h][v];p[h]=_}for(var P in this.deletedStates){this.state[P]=this.state[P]||{};var T={};if(this.deletedStates[P]===null)for(var C in this.state[P])T[C]={},this.state[P][C]={};else for(var I in this.deletedStates[P]){if(this.deletedStates[P][I]===null)this.state[P][I]={};else for(var O=0,B=Object.keys(this.deletedStates[P][I]);O<B.length;O+=1)delete this.state[P][I][B[O]];T[I]=this.state[P][I]}p[P]=p[P]||{},q(p[P],T)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(var j in o)o[j].setFeatureState(p,a)};var Fc=function(o,a){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new yi(8192,16,0),this.grid3D=new yi(8192,16,0),this.featureIndexArray=new z,this.promoteId=a};function s3(o,a,p,h,_){return mt(o,function(v,P){var T=a instanceof Cp?a.get(P):null;return T&&T.evaluate?T.evaluate(p,h,_):T})}function u3(o){for(var a=1/0,p=1/0,h=-1/0,_=-1/0,v=0,P=o;v<P.length;v+=1){var T=P[v];a=Math.min(a,T.x),p=Math.min(p,T.y),h=Math.max(h,T.x),_=Math.max(_,T.y)}return{minX:a,minY:p,maxX:h,maxY:_}}function z9(o,a){return a-o}Fc.prototype.insert=function(o,a,p,h,_,v){var P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,h,_);for(var T=v?this.grid3D:this.grid,C=0;C<a.length;C++){for(var I=a[C],O=[1/0,1/0,-1/0,-1/0],B=0;B<I.length;B++){var j=I[B];O[0]=Math.min(O[0],j.x),O[1]=Math.min(O[1],j.y),O[2]=Math.max(O[2],j.x),O[3]=Math.max(O[3],j.y)}O[0]<8192&&O[1]<8192&&O[2]>=0&&O[3]>=0&&T.insert(P,O[0],O[1],O[2],O[3])}},Fc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new zp.VectorTile(new tt(this.rawTileData)).layers,this.sourceLayerCoder=new uh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Fc.prototype.query=function(o,a,p,h){var _=this;this.loadVTLayers();for(var v=o.params||{},P=8192/o.tileSize/o.scale,T=Ru(v.filter),C=o.queryGeometry,I=o.queryPadding*P,O=u3(C),B=this.grid.query(O.minX-I,O.minY-I,O.maxX+I,O.maxY+I),j=u3(o.cameraQueryGeometry),Y=this.grid3D.query(j.minX-I,j.minY-I,j.maxX+I,j.maxY+I,function(nt,ut,vt,kt){return function(qt,Mr,pr,Br,dr){for(var bo=0,Yr=qt;bo<Yr.length;bo+=1){var Pr=Yr[bo];if(Mr<=Pr.x&&pr<=Pr.y&&Br>=Pr.x&&dr>=Pr.y)return!0}var Mo=[new x(Mr,pr),new x(Mr,dr),new x(Br,dr),new x(Br,pr)];if(qt.length>2){for(var yo=0,Ho=Mo;yo<Ho.length;yo+=1)if(hs(qt,Ho[yo]))return!0}for(var Ur=0;Ur<qt.length-1;Ur++)if(Bu(qt[Ur],qt[Ur+1],Mo))return!0;return!1}(o.cameraQueryGeometry,nt-I,ut-I,vt+I,kt+I)}),le=0,he=Y;le<he.length;le+=1)B.push(he[le]);B.sort(z9);for(var Re,be={},Ve=function(nt){var ut=B[nt];if(ut!==Re){Re=ut;var vt=_.featureIndexArray.get(ut),kt=null;_.loadMatchingFeature(be,vt.bucketIndex,vt.sourceLayerIndex,vt.featureIndex,T,v.layers,v.availableImages,a,p,h,function(qt,Mr,pr){return kt||(kt=Tn(qt)),Mr.queryIntersectsFeature(C,qt,pr,kt,_.z,o.transform,P,o.pixelPosMatrix)})}},Xe=0;Xe<B.length;Xe++)Ve(Xe);return be},Fc.prototype.loadMatchingFeature=function(o,a,p,h,_,v,P,T,C,I,O){var B=this.bucketLayerIDs[a];if(!v||function(qt,Mr){for(var pr=0;pr<qt.length;pr++)if(Mr.indexOf(qt[pr])>=0)return!0;return!1}(v,B)){var j=this.sourceLayerCoder.decode(p),Y=this.vtLayers[j].feature(h);if(_.needGeometry){var le=Cn(Y,!0);if(!_.filter(new co(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!_.filter(new co(this.tileID.overscaledZ),Y))return;for(var he=this.getId(Y,j),Re=0;Re<B.length;Re++){var be=B[Re];if(!(v&&v.indexOf(be)<0)){var Ve=T[be];if(Ve){var Xe={};he!==void 0&&I&&(Xe=I.getState(Ve.sourceLayer||"_geojsonTileLayer",he));var nt=q({},C[be]);nt.paint=s3(nt.paint,Ve.paint,Y,Xe,P),nt.layout=s3(nt.layout,Ve.layout,Y,Xe,P);var ut=!O||O(Y,Ve,Xe);if(ut){var vt=new ph(Y,this.z,this.x,this.y,he);vt.layer=nt;var kt=o[be];kt===void 0&&(kt=o[be]=[]),kt.push({featureIndex:h,feature:vt,intersectionZ:ut})}}}}}},Fc.prototype.lookupSymbolFeatures=function(o,a,p,h,_,v,P,T){var C={};this.loadVTLayers();for(var I=Ru(_),O=0,B=o;O<B.length;O+=1)this.loadMatchingFeature(C,p,h,B[O],I,v,P,T,a);return C},Fc.prototype.hasLayer=function(o){for(var a=0,p=this.bucketLayerIDs;a<p.length;a+=1)for(var h=0,_=p[a];h<_.length;h+=1)if(o===_[h])return!0;return!1},Fc.prototype.getId=function(o,a){var p=o.id;return this.promoteId&&typeof(p=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[a]])=="boolean"&&(p=Number(p)),p},hr("FeatureIndex",Fc,{omit:["rawTileData","sourceLayerCoder"]});var Ki=function(o,a){this.tileID=o,this.uid=te(),this.uses=0,this.tileSize=a,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ki.prototype.registerFadeDuration=function(o){var a=o+this.timeAdded;a<On.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)},Ki.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ki.prototype.loadVectorData=function(o,a,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){for(var h in o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(I,O){var B={};if(!O)return B;for(var j=function(){var he=le[Y],Re=he.layerIds.map(function(Xe){return O.getLayer(Xe)}).filter(Boolean);if(Re.length!==0){he.layers=Re,he.stateDependentLayerIds&&(he.stateDependentLayers=he.stateDependentLayerIds.map(function(Xe){return Re.filter(function(nt){return nt.id===Xe})[0]}));for(var be=0,Ve=Re;be<Ve.length;be+=1)B[Ve[be].id]=he}},Y=0,le=I;Y<le.length;Y+=1)j();return B}(o.buckets,a.style),this.hasSymbolBuckets=!1,this.buckets){var _=this.buckets[h];if(_ instanceof fr){if(this.hasSymbolBuckets=!0,!p)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var v in this.buckets){var P=this.buckets[v];if(P instanceof fr&&P.hasRTLText){this.hasRTLText=!0,ka.isLoading()||ka.isLoaded()||$l()!=="deferred"||Ta();break}}for(var T in this.queryPadding=0,this.buckets){var C=this.buckets[T];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(T).queryRadius(C))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new d},Ki.prototype.unloadVectorData=function(){for(var o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ki.prototype.getBucket=function(o){return this.buckets[o.id]},Ki.prototype.upload=function(o){for(var a in this.buckets){var p=this.buckets[a];p.uploadPending()&&p.upload(o)}var h=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new r0(o,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new r0(o,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)},Ki.prototype.prepare=function(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)},Ki.prototype.queryRenderedFeatures=function(o,a,p,h,_,v,P,T,C,I){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:h,cameraQueryGeometry:_,scale:v,tileSize:this.tileSize,pixelPosMatrix:I,transform:T,params:P,queryPadding:this.queryPadding*C},o,a,p):{}},Ki.prototype.querySourceFeatures=function(o,a){var p=this.latestFeatureIndex;if(p&&p.rawTileData){var h=p.loadVTLayers(),_=a?a.sourceLayer:"",v=h._geojsonTileLayer||h[_];if(v)for(var P=Ru(a&&a.filter),T=this.tileID.canonical,C=T.z,I=T.x,O=T.y,B={z:C,x:I,y:O},j=0;j<v.length;j++){var Y=v.feature(j);if(P.needGeometry){var le=Cn(Y,!0);if(!P.filter(new co(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!P.filter(new co(this.tileID.overscaledZ),Y))continue;var he=p.getId(Y,_),Re=new ph(Y,C,I,O,he);Re.tile=B,o.push(Re)}}},Ki.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ki.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ki.prototype.setExpiryData=function(o){var a=this.expirationTime;if(o.cacheControl){var p=Fr(o.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){var h=Date.now(),_=!1;if(this.expirationTime>h)_=!1;else if(a)if(this.expirationTime<a)_=!0;else{var v=this.expirationTime-a;v?this.expirationTime=h+Math.max(v,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ki.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ki.prototype.setFeatureState=function(o,a){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(o).length!==0){var p=this.latestFeatureIndex.loadVTLayers();for(var h in this.buckets)if(a.style.hasLayer(h)){var _=this.buckets[h],v=_.layers[0].sourceLayer||"_geojsonTileLayer",P=p[v],T=o[v];if(P&&T&&Object.keys(T).length!==0){_.update(T,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});var C=a&&a.style&&a.style.getLayer(h);C&&(this.queryPadding=Math.max(this.queryPadding,C.queryRadius(_)))}}}},Ki.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ki.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<On.now()},Ki.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ki.prototype.setHoldDuration=function(o){this.symbolFadeHoldUntil=On.now()+o},Ki.prototype.setDependencies=function(o,a){for(var p={},h=0,_=a;h<_.length;h+=1)p[_[h]]=!0;this.dependencies[o]=p},Ki.prototype.hasDependency=function(o,a){for(var p=0,h=o;p<h.length;p+=1){var _=this.dependencies[h[p]];if(_){for(var v=0,P=a;v<P.length;v+=1)if(_[P[v]])return!0}}return!1};var cl=A.performance,p3=function(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},cl.mark(this._marks.start)};p3.prototype.finish=function(){cl.mark(this._marks.end);var o=cl.getEntriesByName(this._marks.measure);return o.length===0&&(cl.measure(this._marks.measure,this._marks.start,this._marks.end),o=cl.getEntriesByName(this._marks.measure),cl.clearMarks(this._marks.start),cl.clearMarks(this._marks.end),cl.clearMeasures(this._marks.measure)),o},i.Actor=q0,i.AlphaImage=Dp,i.CanonicalTileID=n0,i.CollisionBoxArray=d,i.Color=xo,i.DEMData=bc,i.DataConstantProperty=Rr,i.DictionaryCoder=uh,i.EXTENT=8192,i.ErrorEvent=Me,i.EvaluationParameters=co,i.Event=ye,i.Evented=Oe,i.FeatureIndex=Fc,i.FillBucket=su,i.FillExtrusionBucket=ia,i.ImageAtlas=gt,i.ImagePosition=Jt,i.LineBucket=ma,i.LngLat=Mn,i.LngLatBounds=Ni,i.MercatorCoordinate=o0,i.ONE_EM=24,i.OverscaledTileID=Di,i.Point=x,i.Point$1=x,i.Properties=Sn,i.Protobuf=tt,i.RGBAImage=ha,i.RequestManager=vo,i.RequestPerformance=p3,i.ResourceType=Zs,i.SegmentVector=ee,i.SourceFeatureState=K0,i.StructArrayLayout1ui2=rl,i.StructArrayLayout2f1f2i16=ap,i.StructArrayLayout2i4=Du,i.StructArrayLayout3ui6=Ms,i.StructArrayLayout4i8=Qc,i.SymbolBucket=fr,i.Texture=r0,i.Tile=Ki,i.Transitionable=Ri,i.Uniform1f=Ht,i.Uniform1i=Pt,i.Uniform2f=Bt,i.Uniform3f=ir,i.Uniform4f=Cr,i.UniformColor=Dr,i.UniformMatrix4f=Bo,i.UnwrappedTileID=a3,i.ValidationError=ge,i.WritingMode=Lr,i.ZoomHistory=Xc,i.add=function(o,a,p){return o[0]=a[0]+p[0],o[1]=a[1]+p[1],o[2]=a[2]+p[2],o},i.addDynamicAttributes=Tt,i.asyncAll=function(o,a,p){if(!o.length)return p(null,[]);var h=o.length,_=new Array(o.length),v=null;o.forEach(function(P,T){a(P,function(C,I){C&&(v=C),_[T]=I,--h==0&&p(v,_)})})},i.bezier=M,i.bindAll=Ee,i.browser=On,i.cacheEntryPossiblyAdded=function(o){++Ws>xs&&(o.getActor().send("enforceCacheSizeLimit",Ti),Ws=0)},i.clamp=k,i.clearTileCache=function(o){var a=A.caches.delete("mapbox-tiles");o&&a.catch(o).then(function(){return o()})},i.clipLine=uu,i.clone=function(o){var a=new Io(16);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a},i.clone$1=Fe,i.clone$2=function(o){var a=new Io(3);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a},i.collisionCircleLayout=N,i.config=$e,i.create=function(){var o=new Io(16);return Io!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},i.create$1=function(){var o=new Io(9);return Io!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o},i.create$2=function(){var o=new Io(4);return Io!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o},i.createCommonjsModule=y,i.createExpression=Fp,i.createLayout=hi,i.createStyleLayer=function(o){return o.type==="custom"?new ah(o):new dp[o.type](o)},i.cross=function(o,a,p){var h=a[0],_=a[1],v=a[2],P=p[0],T=p[1],C=p[2];return o[0]=_*C-v*T,o[1]=v*P-h*C,o[2]=h*T-_*P,o},i.deepEqual=function o(a,p){if(Array.isArray(a)){if(!Array.isArray(p)||a.length!==p.length)return!1;for(var h=0;h<a.length;h++)if(!o(a[h],p[h]))return!1;return!0}if(typeof a=="object"&&a!==null&&p!==null){if(typeof p!="object"||Object.keys(a).length!==Object.keys(p).length)return!1;for(var _ in a)if(!o(a[_],p[_]))return!1;return!0}return a===p},i.dot=function(o,a){return o[0]*a[0]+o[1]*a[1]+o[2]*a[2]},i.dot$1=function(o,a){return o[0]*a[0]+o[1]*a[1]+o[2]*a[2]+o[3]*a[3]},i.ease=V,i.emitValidationErrors=Iu,i.endsWith=je,i.enforceCacheSizeLimit=function(o){Hn(),Fi&&Fi.then(function(a){a.keys().then(function(p){for(var h=0;h<p.length-o;h++)a.delete(p[h])})})},i.evaluateSizeForFeature=aa,i.evaluateSizeForZoom=vi,i.evaluateVariableOffset=Ne,i.evented=Kc,i.extend=q,i.featureFilter=Ru,i.filterObject=He,i.fromRotation=function(o,a){var p=Math.sin(a),h=Math.cos(a);return o[0]=h,o[1]=p,o[2]=0,o[3]=-p,o[4]=h,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},i.getAnchorAlignment=gn,i.getAnchorJustification=Be,i.getArrayBuffer=Ku,i.getImage=G,i.getJSON=function(o,a){return Ps(q(o,{type:"json"}),a)},i.getRTLTextPluginStatus=$l,i.getReferrer=Xs,i.getVideo=function(o,a){var p,h,_=A.document.createElement("video");_.muted=!0,_.onloadstart=function(){a(null,_)};for(var v=0;v<o.length;v++){var P=A.document.createElement("source");p=o[v],h=void 0,(h=A.document.createElement("a")).href=p,(h.protocol!==A.document.location.protocol||h.host!==A.document.location.host)&&(_.crossOrigin="Anonymous"),P.src=o[v],_.appendChild(P)}return{cancel:function(){}}},i.identity=Mi,i.invert=function(o,a){var p=a[0],h=a[1],_=a[2],v=a[3],P=a[4],T=a[5],C=a[6],I=a[7],O=a[8],B=a[9],j=a[10],Y=a[11],le=a[12],he=a[13],Re=a[14],be=a[15],Ve=p*T-h*P,Xe=p*C-_*P,nt=p*I-v*P,ut=h*C-_*T,vt=h*I-v*T,kt=_*I-v*C,qt=O*he-B*le,Mr=O*Re-j*le,pr=O*be-Y*le,Br=B*Re-j*he,dr=B*be-Y*he,bo=j*be-Y*Re,Yr=Ve*bo-Xe*dr+nt*Br+ut*pr-vt*Mr+kt*qt;return Yr?(o[0]=(T*bo-C*dr+I*Br)*(Yr=1/Yr),o[1]=(_*dr-h*bo-v*Br)*Yr,o[2]=(he*kt-Re*vt+be*ut)*Yr,o[3]=(j*vt-B*kt-Y*ut)*Yr,o[4]=(C*pr-P*bo-I*Mr)*Yr,o[5]=(p*bo-_*pr+v*Mr)*Yr,o[6]=(Re*nt-le*kt-be*Xe)*Yr,o[7]=(O*kt-j*nt+Y*Xe)*Yr,o[8]=(P*dr-T*pr+I*qt)*Yr,o[9]=(h*pr-p*dr-v*qt)*Yr,o[10]=(le*vt-he*nt+be*Ve)*Yr,o[11]=(B*nt-O*vt-Y*Ve)*Yr,o[12]=(T*Mr-P*Br-C*qt)*Yr,o[13]=(p*Br-h*Mr+_*qt)*Yr,o[14]=(he*Xe-le*ut-Re*Ve)*Yr,o[15]=(O*ut-B*Xe+j*Ve)*Yr,o):null},i.isChar=Kt,i.isMapboxURL=ro,i.keysDifference=function(o,a){var p=[];for(var h in o)h in a||p.push(h);return p},i.makeRequest=Ps,i.mapObject=mt,i.mercatorXfromLng=o3,i.mercatorYfromLat=n3,i.mercatorZfromAltitude=i3,i.mul=nl,i.multiply=Jn,i.mvt=zp,i.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},i.normalize=function(o,a){var p=a[0],h=a[1],_=a[2],v=p*p+h*h+_*_;return v>0&&(v=1/Math.sqrt(v)),o[0]=a[0]*v,o[1]=a[1]*v,o[2]=a[2]*v,o},i.number=Bn,i.offscreenCanvasSupported=qu,i.ortho=function(o,a,p,h,_,v,P){var T=1/(a-p),C=1/(h-_),I=1/(v-P);return o[0]=-2*T,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*C,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*I,o[11]=0,o[12]=(a+p)*T,o[13]=(_+h)*C,o[14]=(P+v)*I,o[15]=1,o},i.parseGlyphPBF=function(o){return new tt(o).readFields(St,[])},i.pbf=tt,i.performSymbolLayout=function(o,a,p,h,_,v,P){o.createArrays(),o.tilePixelRatio=8192/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;var T=o.layers[0].layout,C=o.layers[0]._unevaluatedLayout._values,I={};if(o.textSizeData.kind==="composite"){var O=o.textSizeData,B=O.maxZoom;I.compositeTextSizes=[C["text-size"].possiblyEvaluate(new co(O.minZoom),P),C["text-size"].possiblyEvaluate(new co(B),P)]}if(o.iconSizeData.kind==="composite"){var j=o.iconSizeData,Y=j.maxZoom;I.compositeIconSizes=[C["icon-size"].possiblyEvaluate(new co(j.minZoom),P),C["icon-size"].possiblyEvaluate(new co(Y),P)]}I.layoutTextSize=C["text-size"].possiblyEvaluate(new co(o.zoom+1),P),I.layoutIconSize=C["icon-size"].possiblyEvaluate(new co(o.zoom+1),P),I.textMaxSize=C["text-size"].possiblyEvaluate(new co(18));for(var le=24*T.get("text-line-height"),he=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point",Re=T.get("text-keep-upright"),be=T.get("text-size"),Ve=function(){var ut=nt[Xe],vt=T.get("text-font").evaluate(ut,{},P).join(","),kt=be.evaluate(ut,{},P),qt=I.layoutTextSize.evaluate(ut,{},P),Mr=I.layoutIconSize.evaluate(ut,{},P),pr={horizontal:{},vertical:void 0},Br=ut.text,dr=[0,0];if(Br){var bo=Br.toString(),Yr=24*T.get("text-letter-spacing").evaluate(ut,{},P),Pr=function(Oo){for(var fn=0,sn=Oo;fn<sn.length;fn+=1)if(Zo=sn[fn].charCodeAt(0),Kt.Arabic(Zo)||Kt["Arabic Supplement"](Zo)||Kt["Arabic Extended-A"](Zo)||Kt["Arabic Presentation Forms-A"](Zo)||Kt["Arabic Presentation Forms-B"](Zo))return!1;var Zo;return!0}(bo)?Yr:0,Mo=T.get("text-anchor").evaluate(ut,{},P),yo=T.get("text-variable-anchor");if(!yo){var Ho=T.get("text-radial-offset").evaluate(ut,{},P);dr=Ho?Ne(Mo,[24*Ho,Te]):T.get("text-offset").evaluate(ut,{},P).map(function(Oo){return 24*Oo})}var Ur=he?"center":T.get("text-justify").evaluate(ut,{},P),qo=T.get("symbol-placement"),In=qo==="point"?24*T.get("text-max-width").evaluate(ut,{},P):0,$n=function(){o.allowVerticalPlacement&&ru(bo)&&(pr.vertical=fo(Br,a,p,_,vt,In,le,Mo,"left",Pr,dr,Lr.vertical,!0,qo,qt,kt))};if(!he&&yo){for(var Zn=Ur==="auto"?yo.map(function(Oo){return Be(Oo)}):[Ur],Nn=!1,qn=0;qn<Zn.length;qn++){var Hi=Zn[qn];if(!pr.horizontal[Hi])if(Nn)pr.horizontal[Hi]=pr.horizontal[0];else{var Gi=fo(Br,a,p,_,vt,In,le,"center",Hi,Pr,dr,Lr.horizontal,!1,qo,qt,kt);Gi&&(pr.horizontal[Hi]=Gi,Nn=Gi.positionedLines.length===1)}}$n()}else{Ur==="auto"&&(Ur=Be(Mo));var Ma=fo(Br,a,p,_,vt,In,le,Mo,Ur,Pr,dr,Lr.horizontal,!1,qo,qt,kt);Ma&&(pr.horizontal[Ur]=Ma),$n(),ru(bo)&&he&&Re&&(pr.vertical=fo(Br,a,p,_,vt,In,le,Mo,Ur,Pr,dr,Lr.vertical,!1,qo,qt,kt))}}var Qi=void 0,Ia=!1;if(ut.icon&&ut.icon.name){var oi=h[ut.icon.name];oi&&(Qi=function(Oo,fn,sn){var Zo=gn(sn),Ha=fn[0]-Oo.displaySize[0]*Zo.horizontalAlign,_a=fn[1]-Oo.displaySize[1]*Zo.verticalAlign;return{image:Oo,top:_a,bottom:_a+Oo.displaySize[1],left:Ha,right:Ha+Oo.displaySize[0]}}(_[ut.icon.name],T.get("icon-offset").evaluate(ut,{},P),T.get("icon-anchor").evaluate(ut,{},P)),Ia=oi.sdf,o.sdfIcons===void 0?o.sdfIcons=oi.sdf:o.sdfIcons!==oi.sdf&&ze("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(oi.pixelRatio!==o.pixelRatio||T.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}var Ji=Ce(pr.horizontal)||pr.vertical;o.iconsInText=!!Ji&&Ji.iconsInText,(Ji||Qi)&&function(Oo,fn,sn,Zo,Ha,_a,wn,xi,ga,Ko,Vp){var Ls=_a.textMaxSize.evaluate(fn,{});Ls===void 0&&(Ls=wn);var Hp,ni=Oo.layers[0].layout,Gp=ni.get("icon-offset").evaluate(fn,{},Vp),zu=Ce(sn.horizontal),Q0=wn/24,i0=Oo.tilePixelRatio*Q0,J0=Oo.tilePixelRatio*Ls/24,Ac=Oo.tilePixelRatio*xi,e1=Oo.tilePixelRatio*ni.get("symbol-spacing"),ch=ni.get("text-padding")*Oo.tilePixelRatio,t1=ni.get("icon-padding")*Oo.tilePixelRatio,hd=ni.get("text-max-angle")/180*Math.PI,lh=ni.get("text-rotation-alignment")==="map"&&ni.get("symbol-placement")!=="point",dh=ni.get("icon-rotation-alignment")==="map"&&ni.get("symbol-placement")!=="point",Sc=ni.get("symbol-placement"),fd=e1/2,r1=ni.get("icon-text-fit");Zo&&r1!=="none"&&(Oo.allowVerticalPlacement&&sn.vertical&&(Hp=gi(Zo,sn.vertical,r1,ni.get("icon-text-fit-padding"),Gp,Q0)),zu&&(Zo=gi(Zo,zu,r1,ni.get("icon-text-fit-padding"),Gp,Q0)));var ll=function(V9,bd){bd.x<0||bd.x>=8192||bd.y<0||bd.y>=8192||function(ii,yp,H9,dl,bm,d3,gh,jp,vh,Fd,Eh,xh,Fm,y3,Ad,h3,f3,m3,_3,g3,Bs,Ph,v3,Wp,G9){var E3,s0,s1,u1,p1,c1=ii.addToLineVertexArray(yp,H9),x3=0,P3=0,b3=0,F3=0,Am=-1,Sm=-1,Tc={},A3=ce(""),Tm=0,wm=0;if(jp._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Tm=(E3=jp.layout.get("text-offset").evaluate(Bs,{},Wp).map(function(Td){return 24*Td}))[0],wm=E3[1]):(Tm=24*jp.layout.get("text-radial-offset").evaluate(Bs,{},Wp),wm=Te),ii.allowVerticalPlacement&&dl.vertical){var S3=jp.layout.get("text-rotate").evaluate(Bs,{},Wp)+90;u1=new an(vh,yp,Fd,Eh,xh,dl.vertical,Fm,y3,Ad,S3),gh&&(p1=new an(vh,yp,Fd,Eh,xh,gh,f3,m3,Ad,S3))}if(bm){var Rm=jp.layout.get("icon-rotate").evaluate(Bs,{}),T3=jp.layout.get("icon-text-fit")!=="none",w3=fe(bm,Rm,v3,T3),Cm=gh?fe(gh,Rm,v3,T3):void 0;s1=new an(vh,yp,Fd,Eh,xh,bm,f3,m3,!1,Rm),x3=4*w3.length;var R3=ii.iconSizeData,Sd=null;R3.kind==="source"?(Sd=[128*jp.layout.get("icon-size").evaluate(Bs,{})])[0]>32640&&ze(ii.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):R3.kind==="composite"&&((Sd=[128*Ph.compositeIconSizes[0].evaluate(Bs,{},Wp),128*Ph.compositeIconSizes[1].evaluate(Bs,{},Wp)])[0]>32640||Sd[1]>32640)&&ze(ii.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),ii.addSymbols(ii.icon,w3,Sd,g3,_3,Bs,!1,yp,c1.lineStartIndex,c1.lineLength,-1,Wp),Am=ii.icon.placedSymbolArray.length-1,Cm&&(P3=4*Cm.length,ii.addSymbols(ii.icon,Cm,Sd,g3,_3,Bs,Lr.vertical,yp,c1.lineStartIndex,c1.lineLength,-1,Wp),Sm=ii.icon.placedSymbolArray.length-1)}for(var C3 in dl.horizontal){var bh=dl.horizontal[C3];if(!s0){A3=ce(bh.text);var j9=jp.layout.get("text-rotate").evaluate(Bs,{},Wp);s0=new an(vh,yp,Fd,Eh,xh,bh,Fm,y3,Ad,j9)}var M3=bh.positionedLines.length===1;if(b3+=me(ii,yp,bh,d3,jp,Ad,Bs,h3,c1,dl.vertical?Lr.horizontal:Lr.horizontalOnly,M3?Object.keys(dl.horizontal):[C3],Tc,Am,Ph,Wp),M3)break}dl.vertical&&(F3+=me(ii,yp,dl.vertical,d3,jp,Ad,Bs,h3,c1,Lr.vertical,["vertical"],Tc,Sm,Ph,Wp));var W9=s0?s0.boxStartIndex:ii.collisionBoxArray.length,Z9=s0?s0.boxEndIndex:ii.collisionBoxArray.length,X9=u1?u1.boxStartIndex:ii.collisionBoxArray.length,Y9=u1?u1.boxEndIndex:ii.collisionBoxArray.length,$9=s1?s1.boxStartIndex:ii.collisionBoxArray.length,q9=s1?s1.boxEndIndex:ii.collisionBoxArray.length,K9=p1?p1.boxStartIndex:ii.collisionBoxArray.length,Q9=p1?p1.boxEndIndex:ii.collisionBoxArray.length,Zp=-1,Fh=function(Td,N3){return Td&&Td.circleDiameter?Math.max(Td.circleDiameter,N3):N3};Zp=Fh(s0,Zp),Zp=Fh(u1,Zp),Zp=Fh(s1,Zp);var I3=(Zp=Fh(p1,Zp))>-1?1:0;I3&&(Zp*=G9/24),ii.glyphOffsetArray.length>=fr.MAX_GLYPHS&&ze("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bs.sortKey!==void 0&&ii.addToSortKeyRanges(ii.symbolInstances.length,Bs.sortKey),ii.symbolInstances.emplaceBack(yp.x,yp.y,Tc.right>=0?Tc.right:-1,Tc.center>=0?Tc.center:-1,Tc.left>=0?Tc.left:-1,Tc.vertical||-1,Am,Sm,A3,W9,Z9,X9,Y9,$9,q9,K9,Q9,Fd,b3,F3,x3,P3,I3,0,Fm,Tm,wm,Zp)}(Oo,bd,V9,sn,Zo,Ha,Hp,Oo.layers[0],Oo.collisionBoxArray,fn.index,fn.sourceLayerIndex,Oo.index,i0,ch,lh,ga,Ac,t1,dh,Gp,fn,_a,Ko,Vp,wn)};if(Sc==="line")for(var o1=0,yh=uu(fn.geometry,0,0,8192,8192);o1<yh.length;o1+=1)for(var hh=yh[o1],md=0,_d=ri(hh,e1,hd,sn.vertical||zu,Zo,24,J0,Oo.overscaling,8192);md<_d.length;md+=1){var fh=_d[md];zu&&ae(Oo,zu.text,fd,fh)||ll(hh,fh)}else if(Sc==="line-center")for(var gd=0,vd=fn.geometry;gd<vd.length;gd+=1){var Ed=vd[gd];if(Ed.length>1){var mh=Vo(Ed,hd,sn.vertical||zu,Zo,24,J0);mh&&ll(Ed,mh)}}else if(fn.type==="Polygon")for(var n1=0,_h=X0(fn.geometry,0);n1<_h.length;n1+=1){var i1=_h[n1],xd=Pe(i1,16);ll(i1[0],new Vn(xd.x,xd.y,0))}else if(fn.type==="LineString")for(var a0=0,Pd=fn.geometry;a0<Pd.length;a0+=1){var a1=Pd[a0];ll(a1,new Vn(a1[0].x,a1[0].y,0))}else if(fn.type==="Point")for(var Em=0,c3=fn.geometry;Em<c3.length;Em+=1)for(var xm=0,l3=c3[Em];xm<l3.length;xm+=1){var Pm=l3[xm];ll([Pm],new Vn(Pm.x,Pm.y,0))}}(o,ut,pr,Qi,h,I,qt,Mr,dr,Ia,P)},Xe=0,nt=o.features;Xe<nt.length;Xe+=1)Ve();v&&o.generateCollisionDebugBuffers()},i.perspective=function(o,a,p,h,_){var v,P=1/Math.tan(a/2);return o[0]=P/p,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=P,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,_!=null&&_!==1/0?(o[10]=(_+h)*(v=1/(h-_)),o[14]=2*_*h*v):(o[10]=-1,o[14]=-2*h),o},i.pick=function(o,a){for(var p={},h=0;h<a.length;h++){var _=a[h];_ in o&&(p[_]=o[_])}return p},i.plugin=ka,i.polygonIntersectsPolygon=Is,i.postMapLoadEvent=ca,i.postTurnstileEvent=pn,i.potpack=oo,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.register=hr,i.registerForPluginStateChange=function(o){return o({pluginStatus:ra,pluginURL:Rs}),Kc.on("pluginStateChange",o),o},i.renderColorRamp=jy,i.rotate=function(o,a,p){var h=a[0],_=a[1],v=a[2],P=a[3],T=Math.sin(p),C=Math.cos(p);return o[0]=h*C+v*T,o[1]=_*C+P*T,o[2]=h*-T+v*C,o[3]=_*-T+P*C,o},i.rotateX=function(o,a,p){var h=Math.sin(p),_=Math.cos(p),v=a[4],P=a[5],T=a[6],C=a[7],I=a[8],O=a[9],B=a[10],j=a[11];return a!==o&&(o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15]),o[4]=v*_+I*h,o[5]=P*_+O*h,o[6]=T*_+B*h,o[7]=C*_+j*h,o[8]=I*_-v*h,o[9]=O*_-P*h,o[10]=B*_-T*h,o[11]=j*_-C*h,o},i.rotateZ=function(o,a,p){var h=Math.sin(p),_=Math.cos(p),v=a[0],P=a[1],T=a[2],C=a[3],I=a[4],O=a[5],B=a[6],j=a[7];return a!==o&&(o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15]),o[0]=v*_+I*h,o[1]=P*_+O*h,o[2]=T*_+B*h,o[3]=C*_+j*h,o[4]=I*_-v*h,o[5]=O*_-P*h,o[6]=B*_-T*h,o[7]=j*_-C*h,o},i.scale=function(o,a,p){var h=p[0],_=p[1],v=p[2];return o[0]=a[0]*h,o[1]=a[1]*h,o[2]=a[2]*h,o[3]=a[3]*h,o[4]=a[4]*_,o[5]=a[5]*_,o[6]=a[6]*_,o[7]=a[7]*_,o[8]=a[8]*v,o[9]=a[9]*v,o[10]=a[10]*v,o[11]=a[11]*v,o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],o},i.scale$1=function(o,a,p){return o[0]=a[0]*p,o[1]=a[1]*p,o[2]=a[2]*p,o[3]=a[3]*p,o},i.scale$2=function(o,a,p){return o[0]=a[0]*p,o[1]=a[1]*p,o[2]=a[2]*p,o},i.setCacheLimits=function(o,a){Ti=o,xs=a},i.setRTLTextPlugin=function(o,a,p){if(p===void 0&&(p=!1),ra==="deferred"||ra==="loading"||ra==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Rs=On.resolveURL(o),ra="deferred",qc=a,Rp(),p||Ta()},i.sphericalToCartesian=function(o){var a=o[0],p=o[1],h=o[2];return p+=90,p*=Math.PI/180,h*=Math.PI/180,{x:a*Math.cos(p)*Math.sin(h),y:a*Math.sin(p)*Math.sin(h),z:a*Math.cos(h)}},i.sqrLen=function(o){var a=o[0],p=o[1];return a*a+p*p},i.styleSpec=J,i.sub=function(o,a,p){return o[0]=a[0]-p[0],o[1]=a[1]-p[1],o[2]=a[2]-p[2],o},i.symbolSize=ho,i.transformMat3=function(o,a,p){var h=a[0],_=a[1],v=a[2];return o[0]=h*p[0]+_*p[3]+v*p[6],o[1]=h*p[1]+_*p[4]+v*p[7],o[2]=h*p[2]+_*p[5]+v*p[8],o},i.transformMat4=Uu,i.translate=function(o,a,p){var h,_,v,P,T,C,I,O,B,j,Y,le,he=p[0],Re=p[1],be=p[2];return a===o?(o[12]=a[0]*he+a[4]*Re+a[8]*be+a[12],o[13]=a[1]*he+a[5]*Re+a[9]*be+a[13],o[14]=a[2]*he+a[6]*Re+a[10]*be+a[14],o[15]=a[3]*he+a[7]*Re+a[11]*be+a[15]):(_=a[1],v=a[2],P=a[3],T=a[4],C=a[5],I=a[6],O=a[7],B=a[8],j=a[9],Y=a[10],le=a[11],o[0]=h=a[0],o[1]=_,o[2]=v,o[3]=P,o[4]=T,o[5]=C,o[6]=I,o[7]=O,o[8]=B,o[9]=j,o[10]=Y,o[11]=le,o[12]=h*he+T*Re+B*be+a[12],o[13]=_*he+C*Re+j*be+a[13],o[14]=v*he+I*Re+Y*be+a[14],o[15]=P*he+O*Re+le*be+a[15]),o},i.triggerPluginCompletionEvent=z0,i.uniqueId=te,i.validateCustomStyleLayer=function(o){var a=[],p=o.id;return p===void 0&&a.push({message:"layers."+p+': missing required property "id"'}),o.render===void 0&&a.push({message:"layers."+p+': missing required method "render"'}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&a.push({message:"layers."+p+': property "renderingMode" must be either "2d" or "3d"'}),a},i.validateLight=k0,i.validateStyle=pc,i.values=function(o){var a=[];for(var p in o)a.push(o[p]);return a},i.vectorTile=zp,i.version="1.13.3",i.warnOnce=ze,i.webpSupported=Yt,i.window=A,i.wrap=Q}),u(["./shared"],function(i){function y(U){var G=typeof U;if(G==="number"||G==="boolean"||G==="string"||U==null)return JSON.stringify(U);if(Array.isArray(U)){for(var W="[",ne=0,ye=U;ne<ye.length;ne+=1)W+=y(ye[ne])+",";return W+"]"}for(var Me=Object.keys(U).sort(),Oe="{",J=0;J<Me.length;J++)Oe+=JSON.stringify(Me[J])+":"+y(U[Me[J]])+",";return Oe+"}"}function m(U){for(var G="",W=0,ne=i.refProperties;W<ne.length;W+=1)G+="/"+y(U[ne[W]]);return G}var g=function(U){this.keyCache={},U&&this.replace(U)};g.prototype.replace=function(U){this._layerConfigs={},this._layers={},this.update(U,[])},g.prototype.update=function(U,G){for(var W=this,ne=0,ye=U;ne<ye.length;ne+=1){var Me=ye[ne];this._layerConfigs[Me.id]=Me;var Oe=this._layers[Me.id]=i.createStyleLayer(Me);Oe._featureFilter=i.featureFilter(Oe.filter),this.keyCache[Me.id]&&delete this.keyCache[Me.id]}for(var J=0,ge=G;J<ge.length;J+=1){var We=ge[J];delete this.keyCache[We],delete this._layerConfigs[We],delete this._layers[We]}this.familiesBySource={};for(var ht=0,Nt=function(Wt,Xt){for(var ao={},er=0;er<Wt.length;er++){var So=Xt&&Xt[Wt[er].id]||m(Wt[er]);Xt&&(Xt[Wt[er].id]=So);var en=ao[So];en||(en=ao[So]=[]),en.push(Wt[er])}var Eo=[];for(var No in ao)Eo.push(ao[No]);return Eo}(i.values(this._layerConfigs),this.keyCache);ht<Nt.length;ht+=1){var ct=Nt[ht].map(function(Wt){return W._layers[Wt.id]}),wt=ct[0];if(wt.visibility!=="none"){var _r=wt.source||"",yr=this.familiesBySource[_r];yr||(yr=this.familiesBySource[_r]={});var dt=wt.sourceLayer||"_geojsonTileLayer",or=yr[dt];or||(or=yr[dt]=[]),or.push(ct)}}};var x=function(U){var G={},W=[];for(var ne in U){var ye=U[ne],Me=G[ne]={};for(var Oe in ye){var J=ye[+Oe];if(J&&J.bitmap.width!==0&&J.bitmap.height!==0){var ge={x:0,y:0,w:J.bitmap.width+2,h:J.bitmap.height+2};W.push(ge),Me[Oe]={rect:ge,metrics:J.metrics}}}}var We=i.potpack(W),ht=new i.AlphaImage({width:We.w||1,height:We.h||1});for(var Nt in U){var ct=U[Nt];for(var wt in ct){var _r=ct[+wt];if(_r&&_r.bitmap.width!==0&&_r.bitmap.height!==0){var yr=G[Nt][wt].rect;i.AlphaImage.copy(_r.bitmap,ht,{x:0,y:0},{x:yr.x+1,y:yr.y+1},_r.bitmap)}}}this.image=ht,this.positions=G};i.register("GlyphAtlas",x);var b=function(U){this.tileID=new i.OverscaledTileID(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId};function A(U,G,W){for(var ne=new i.EvaluationParameters(G),ye=0,Me=U;ye<Me.length;ye+=1)Me[ye].recalculate(ne,W)}function w(U,G){var W=i.getArrayBuffer(U.request,function(ne,ye,Me,Oe){ne?G(ne):ye&&G(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(ye)),rawData:ye,cacheControl:Me,expires:Oe})});return function(){W.cancel(),G()}}b.prototype.parse=function(U,G,W,ne,ye){var Me=this;this.status="parsing",this.data=U,this.collisionBoxArray=new i.CollisionBoxArray;var Oe=new i.DictionaryCoder(Object.keys(U.layers).sort()),J=new i.FeatureIndex(this.tileID,this.promoteId);J.bucketLayerIDs=[];var ge,We,ht,Nt,ct={},wt={featureIndex:J,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:W},_r=G.familiesBySource[this.source];for(var yr in _r){var dt=U.layers[yr];if(dt){dt.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+yr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var or=Oe.encode(yr),Wt=[],Xt=0;Xt<dt.length;Xt++){var ao=dt.feature(Xt),er=J.getId(ao,yr);Wt.push({feature:ao,id:er,index:Xt,sourceLayerIndex:or})}for(var So=0,en=_r[yr];So<en.length;So+=1){var Eo=en[So],No=Eo[0];No.minzoom&&this.zoom<Math.floor(No.minzoom)||No.maxzoom&&this.zoom>=No.maxzoom||No.visibility!=="none"&&(A(Eo,this.zoom,W),(ct[No.id]=No.createBucket({index:J.bucketLayerIDs.length,layers:Eo,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:or,sourceID:this.source})).populate(Wt,wt,this.tileID.canonical),J.bucketLayerIDs.push(Eo.map(function(zo){return zo.id})))}}}var so=i.mapObject(wt.glyphDependencies,function(zo){return Object.keys(zo).map(Number)});Object.keys(so).length?ne.send("getGlyphs",{uid:this.uid,stacks:so},function(zo,uo){ge||(ge=zo,We=uo,tn.call(Me))}):We={};var Gn=Object.keys(wt.iconDependencies);Gn.length?ne.send("getImages",{icons:Gn,source:this.source,tileID:this.tileID,type:"icons"},function(zo,uo){ge||(ge=zo,ht=uo,tn.call(Me))}):ht={};var Ro=Object.keys(wt.patternDependencies);function tn(){if(ge)return ye(ge);if(We&&ht&&Nt){var zo=new x(We),uo=new i.ImageAtlas(ht,Nt);for(var xo in ct){var Bi=ct[xo];Bi instanceof i.SymbolBucket?(A(Bi.layers,this.zoom,W),i.performSymbolLayout(Bi,We,zo.positions,ht,uo.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Bi.hasPattern&&(Bi instanceof i.LineBucket||Bi instanceof i.FillBucket||Bi instanceof i.FillExtrusionBucket)&&(A(Bi.layers,this.zoom,W),Bi.addFeatures(wt,this.tileID.canonical,uo.patternPositions))}this.status="done",ye(null,{buckets:i.values(ct).filter(function(mu){return!mu.isEmpty()}),featureIndex:J,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:zo.image,imageAtlas:uo,glyphMap:this.returnDependencies?We:null,iconMap:this.returnDependencies?ht:null,glyphPositions:this.returnDependencies?zo.positions:null})}}Ro.length?ne.send("getImages",{icons:Ro,source:this.source,tileID:this.tileID,type:"patterns"},function(zo,uo){ge||(ge=zo,Nt=uo,tn.call(Me))}):Nt={},tn.call(this)};var M=function(U,G,W,ne){this.actor=U,this.layerIndex=G,this.availableImages=W,this.loadVectorData=ne||w,this.loading={},this.loaded={}};M.prototype.loadTile=function(U,G){var W=this,ne=U.uid;this.loading||(this.loading={});var ye=!!(U&&U.request&&U.request.collectResourceTiming)&&new i.RequestPerformance(U.request),Me=this.loading[ne]=new b(U);Me.abort=this.loadVectorData(U,function(Oe,J){if(delete W.loading[ne],Oe||!J)return Me.status="done",W.loaded[ne]=Me,G(Oe);var ge=J.rawData,We={};J.expires&&(We.expires=J.expires),J.cacheControl&&(We.cacheControl=J.cacheControl);var ht={};if(ye){var Nt=ye.finish();Nt&&(ht.resourceTiming=JSON.parse(JSON.stringify(Nt)))}Me.vectorTile=J.vectorTile,Me.parse(J.vectorTile,W.layerIndex,W.availableImages,W.actor,function(ct,wt){if(ct||!wt)return G(ct);G(null,i.extend({rawTileData:ge.slice(0)},wt,We,ht))}),W.loaded=W.loaded||{},W.loaded[ne]=Me})},M.prototype.reloadTile=function(U,G){var W=this,ne=this.loaded,ye=U.uid,Me=this;if(ne&&ne[ye]){var Oe=ne[ye];Oe.showCollisionBoxes=U.showCollisionBoxes;var J=function(ge,We){var ht=Oe.reloadCallback;ht&&(delete Oe.reloadCallback,Oe.parse(Oe.vectorTile,Me.layerIndex,W.availableImages,Me.actor,ht)),G(ge,We)};Oe.status==="parsing"?Oe.reloadCallback=J:Oe.status==="done"&&(Oe.vectorTile?Oe.parse(Oe.vectorTile,this.layerIndex,this.availableImages,this.actor,J):J())}},M.prototype.abortTile=function(U,G){var W=this.loading,ne=U.uid;W&&W[ne]&&W[ne].abort&&(W[ne].abort(),delete W[ne]),G()},M.prototype.removeTile=function(U,G){var W=this.loaded,ne=U.uid;W&&W[ne]&&delete W[ne],G()};var V=i.window.ImageBitmap,k=function(){this.loaded={}};function Q(U,G){if(U.length!==0){q(U[0],G);for(var W=1;W<U.length;W++)q(U[W],!G)}}function q(U,G){for(var W=0,ne=0,ye=0,Me=U.length,Oe=Me-1;ye<Me;Oe=ye++){var J=(U[ye][0]-U[Oe][0])*(U[Oe][1]+U[ye][1]),ge=W+J;ne+=Math.abs(W)>=Math.abs(J)?W-ge+J:J-ge+W,W=ge}W+ne>=0!=!!G&&U.reverse()}k.prototype.loadTile=function(U,G){var W=U.uid,ne=U.encoding,ye=U.rawImageData,Me=V&&ye instanceof V?this.getImageData(ye):ye,Oe=new i.DEMData(W,Me,ne);this.loaded=this.loaded||{},this.loaded[W]=Oe,G(null,Oe)},k.prototype.getImageData=function(U){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(U.width,U.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=U.width,this.offscreenCanvas.height=U.height,this.offscreenCanvasContext.drawImage(U,0,0,U.width,U.height);var G=this.offscreenCanvasContext.getImageData(-1,-1,U.width+2,U.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:G.width,height:G.height},G.data)},k.prototype.removeTile=function(U){var G=this.loaded,W=U.uid;G&&G[W]&&delete G[W]};var K=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,te=function(U){this._feature=U,this.extent=i.EXTENT,this.type=U.type,this.properties=U.tags,"id"in U&&!isNaN(U.id)&&(this.id=parseInt(U.id,10))};te.prototype.loadGeometry=function(){if(this._feature.type===1){for(var U=[],G=0,W=this._feature.geometry;G<W.length;G+=1){var ne=W[G];U.push([new i.Point$1(ne[0],ne[1])])}return U}for(var ye=[],Me=0,Oe=this._feature.geometry;Me<Oe.length;Me+=1){for(var J=[],ge=0,We=Oe[Me];ge<We.length;ge+=1){var ht=We[ge];J.push(new i.Point$1(ht[0],ht[1]))}ye.push(J)}return ye},te.prototype.toGeoJSON=function(U,G,W){return K.call(this,U,G,W)};var se=function(U){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=U.length,this._features=U};se.prototype.feature=function(U){return new te(this._features[U])};var ke=i.vectorTile.VectorTileFeature,Ee=je;function je(U,G){this.options=G||{},this.features=U,this.length=U.length}function mt(U,G){this.id=typeof U.id=="number"?U.id:void 0,this.type=U.type,this.rawGeometry=U.type===1?[U.geometry]:U.geometry,this.properties=U.tags,this.extent=G||4096}je.prototype.feature=function(U){return new mt(this.features[U],this.options.extent)},mt.prototype.loadGeometry=function(){var U=this.rawGeometry;this.geometry=[];for(var G=0;G<U.length;G++){for(var W=U[G],ne=[],ye=0;ye<W.length;ye++)ne.push(new i.Point$1(W[ye][0],W[ye][1]));this.geometry.push(ne)}return this.geometry},mt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var U=this.geometry,G=1/0,W=-1/0,ne=1/0,ye=-1/0,Me=0;Me<U.length;Me++)for(var Oe=U[Me],J=0;J<Oe.length;J++){var ge=Oe[J];G=Math.min(G,ge.x),W=Math.max(W,ge.x),ne=Math.min(ne,ge.y),ye=Math.max(ye,ge.y)}return[G,ne,W,ye]},mt.prototype.toGeoJSON=ke.prototype.toGeoJSON;var He=Le,Fe=Ee;function Le(U){var G=new i.pbf;return function(W,ne){for(var ye in W.layers)ne.writeMessage(3,ze,W.layers[ye])}(U,G),G.finish()}function ze(U,G){var W;G.writeVarintField(15,U.version||1),G.writeStringField(1,U.name||""),G.writeVarintField(5,U.extent||4096);var ne={keys:[],values:[],keycache:{},valuecache:{}};for(W=0;W<U.length;W++)ne.feature=U.feature(W),G.writeMessage(2,st,ne);var ye=ne.keys;for(W=0;W<ye.length;W++)G.writeStringField(3,ye[W]);var Me=ne.values;for(W=0;W<Me.length;W++)G.writeMessage(4,mr,Me[W])}function st(U,G){var W=U.feature;W.id!==void 0&&G.writeVarintField(1,W.id),G.writeMessage(2,Vt,U),G.writeVarintField(3,W.type),G.writeMessage(4,$r,W)}function Vt(U,G){var W=U.feature,ne=U.keys,ye=U.values,Me=U.keycache,Oe=U.valuecache;for(var J in W.properties){var ge=Me[J];ge===void 0&&(ne.push(J),Me[J]=ge=ne.length-1),G.writeVarint(ge);var We=W.properties[J],ht=typeof We;ht!=="string"&&ht!=="boolean"&&ht!=="number"&&(We=JSON.stringify(We));var Nt=ht+":"+We,ct=Oe[Nt];ct===void 0&&(ye.push(We),Oe[Nt]=ct=ye.length-1),G.writeVarint(ct)}}function nr(U,G){return(G<<3)+(7&U)}function Fr(U){return U<<1^U>>31}function $r(U,G){for(var W=U.loadGeometry(),ne=U.type,ye=0,Me=0,Oe=W.length,J=0;J<Oe;J++){var ge=W[J],We=1;ne===1&&(We=ge.length),G.writeVarint(nr(1,We));for(var ht=ne===3?ge.length-1:ge.length,Nt=0;Nt<ht;Nt++){Nt===1&&ne!==1&&G.writeVarint(nr(2,ht-1));var ct=ge[Nt].x-ye,wt=ge[Nt].y-Me;G.writeVarint(Fr(ct)),G.writeVarint(Fr(wt)),ye+=ct,Me+=wt}ne===3&&G.writeVarint(nr(7,1))}}function mr(U,G){var W=typeof U;W==="string"?G.writeStringField(1,U):W==="boolean"?G.writeBooleanField(7,U):W==="number"&&(U%1!=0?G.writeDoubleField(3,U):U<0?G.writeSVarintField(6,U):G.writeVarintField(5,U))}function Er(U,G,W,ne){Kr(U,W,ne),Kr(G,2*W,2*ne),Kr(G,2*W+1,2*ne+1)}function Kr(U,G,W){var ne=U[G];U[G]=U[W],U[W]=ne}function eo(U,G,W,ne){var ye=U-W,Me=G-ne;return ye*ye+Me*Me}He.fromVectorTileJs=Le,He.fromGeojsonVt=function(U,G){G=G||{};var W={};for(var ne in U)W[ne]=new Ee(U[ne].features,G),W[ne].name=ne,W[ne].version=G.version,W[ne].extent=G.extent;return Le({layers:W})},He.GeoJSONWrapper=Fe;var go=function(U){return U[0]},wo=function(U){return U[1]},no=function(U,G,W,ne,ye){G===void 0&&(G=go),W===void 0&&(W=wo),ne===void 0&&(ne=64),ye===void 0&&(ye=Float64Array),this.nodeSize=ne,this.points=U;for(var Me=U.length<65536?Uint16Array:Uint32Array,Oe=this.ids=new Me(U.length),J=this.coords=new ye(2*U.length),ge=0;ge<U.length;ge++)Oe[ge]=ge,J[2*ge]=G(U[ge]),J[2*ge+1]=W(U[ge]);(function We(ht,Nt,ct,wt,_r,yr){if(!(_r-wt<=ct)){var dt=wt+_r>>1;(function or(Wt,Xt,ao,er,So,en){for(;So>er;){if(So-er>600){var Eo=So-er+1,No=ao-er+1,so=Math.log(Eo),Gn=.5*Math.exp(2*so/3),Ro=.5*Math.sqrt(so*Gn*(Eo-Gn)/Eo)*(No-Eo/2<0?-1:1);or(Wt,Xt,ao,Math.max(er,Math.floor(ao-No*Gn/Eo+Ro)),Math.min(So,Math.floor(ao+(Eo-No)*Gn/Eo+Ro)),en)}var tn=Xt[2*ao+en],zo=er,uo=So;for(Er(Wt,Xt,er,ao),Xt[2*So+en]>tn&&Er(Wt,Xt,er,So);zo<uo;){for(Er(Wt,Xt,zo,uo),zo++,uo--;Xt[2*zo+en]<tn;)zo++;for(;Xt[2*uo+en]>tn;)uo--}Xt[2*er+en]===tn?Er(Wt,Xt,er,uo):Er(Wt,Xt,++uo,So),uo<=ao&&(er=uo+1),ao<=uo&&(So=uo-1)}})(ht,Nt,dt,wt,_r,yr%2),We(ht,Nt,ct,wt,dt-1,yr+1),We(ht,Nt,ct,dt+1,_r,yr+1)}})(Oe,J,ne,0,Oe.length-1,0)};no.prototype.range=function(U,G,W,ne){return function(ye,Me,Oe,J,ge,We,ht){for(var Nt,ct,wt=[0,ye.length-1,0],_r=[];wt.length;){var yr=wt.pop(),dt=wt.pop(),or=wt.pop();if(dt-or<=ht)for(var Wt=or;Wt<=dt;Wt++)ct=Me[2*Wt+1],(Nt=Me[2*Wt])>=Oe&&Nt<=ge&&ct>=J&&ct<=We&&_r.push(ye[Wt]);else{var Xt=Math.floor((or+dt)/2);ct=Me[2*Xt+1],(Nt=Me[2*Xt])>=Oe&&Nt<=ge&&ct>=J&&ct<=We&&_r.push(ye[Xt]);var ao=(yr+1)%2;(yr===0?Oe<=Nt:J<=ct)&&(wt.push(or),wt.push(Xt-1),wt.push(ao)),(yr===0?ge>=Nt:We>=ct)&&(wt.push(Xt+1),wt.push(dt),wt.push(ao))}}return _r}(this.ids,this.coords,U,G,W,ne,this.nodeSize)},no.prototype.within=function(U,G,W){return function(ne,ye,Me,Oe,J,ge){for(var We=[0,ne.length-1,0],ht=[],Nt=J*J;We.length;){var ct=We.pop(),wt=We.pop(),_r=We.pop();if(wt-_r<=ge)for(var yr=_r;yr<=wt;yr++)eo(ye[2*yr],ye[2*yr+1],Me,Oe)<=Nt&&ht.push(ne[yr]);else{var dt=Math.floor((_r+wt)/2),or=ye[2*dt],Wt=ye[2*dt+1];eo(or,Wt,Me,Oe)<=Nt&&ht.push(ne[dt]);var Xt=(ct+1)%2;(ct===0?Me-J<=or:Oe-J<=Wt)&&(We.push(_r),We.push(dt-1),We.push(Xt)),(ct===0?Me+J>=or:Oe+J>=Wt)&&(We.push(dt+1),We.push(wt),We.push(Xt))}}return ht}(this.ids,this.coords,U,G,W,this.nodeSize)};var Xn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(U){return U}},Fo=function(U){this.options=io(Object.create(Xn),U),this.trees=new Array(this.options.maxZoom+1)};function On(U,G,W,ne,ye){return{x:U,y:G,zoom:1/0,id:W,parentId:-1,numPoints:ne,properties:ye}}function $e(U,G){var W=U.geometry.coordinates,ne=W[1];return{x:At(W[0]),y:xr(ne),zoom:1/0,index:G,parentId:-1}}function Yt(U){return{type:"Feature",id:U.id,properties:Tr(U),geometry:{type:"Point",coordinates:[(ne=U.x,360*(ne-.5)),(G=U.y,W=(180-360*G)*Math.PI/180,360*Math.atan(Math.exp(W))/Math.PI-90)]}};var G,W,ne}function Tr(U){var G=U.numPoints,W=G>=1e4?Math.round(G/1e3)+"k":G>=1e3?Math.round(G/100)/10+"k":G;return io(io({},U.properties),{cluster:!0,cluster_id:U.id,point_count:G,point_count_abbreviated:W})}function At(U){return U/360+.5}function xr(U){var G=Math.sin(U*Math.PI/180),W=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return W<0?0:W>1?1:W}function io(U,G){for(var W in G)U[W]=G[W];return U}function vo(U){return U.x}function ro(U){return U.y}function Qr(U,G,W,ne,ye,Me){var Oe=ye-W,J=Me-ne;if(Oe!==0||J!==0){var ge=((U-W)*Oe+(G-ne)*J)/(Oe*Oe+J*J);ge>1?(W=ye,ne=Me):ge>0&&(W+=Oe*ge,ne+=J*ge)}return(Oe=U-W)*Oe+(J=G-ne)*J}function Ao(U,G,W,ne){var ye={id:U===void 0?null:U,type:G,geometry:W,tags:ne,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Me){var Oe=Me.geometry,J=Me.type;if(J==="Point"||J==="MultiPoint"||J==="LineString")Kn(Me,Oe);else if(J==="Polygon"||J==="MultiLineString")for(var ge=0;ge<Oe.length;ge++)Kn(Me,Oe[ge]);else if(J==="MultiPolygon")for(ge=0;ge<Oe.length;ge++)for(var We=0;We<Oe[ge].length;We++)Kn(Me,Oe[ge][We])}(ye),ye}function Kn(U,G){for(var W=0;W<G.length;W+=3)U.minX=Math.min(U.minX,G[W]),U.minY=Math.min(U.minY,G[W+1]),U.maxX=Math.max(U.maxX,G[W]),U.maxY=Math.max(U.maxY,G[W+1])}function Jo(U,G,W,ne){if(G.geometry){var ye=G.geometry.coordinates,Me=G.geometry.type,Oe=Math.pow(W.tolerance/((1<<W.maxZoom)*W.extent),2),J=[],ge=G.id;if(W.promoteId?ge=G.properties[W.promoteId]:W.generateId&&(ge=ne||0),Me==="Point")rn(ye,J);else if(Me==="MultiPoint")for(var We=0;We<ye.length;We++)rn(ye[We],J);else if(Me==="LineString")bi(ye,J,Oe,!1);else if(Me==="MultiLineString"){if(W.lineMetrics){for(We=0;We<ye.length;We++)bi(ye[We],J=[],Oe,!1),U.push(Ao(ge,"LineString",J,G.properties));return}ue(ye,J,Oe,!1)}else if(Me==="Polygon")ue(ye,J,Oe,!0);else{if(Me!=="MultiPolygon"){if(Me==="GeometryCollection"){for(We=0;We<G.geometry.geometries.length;We++)Jo(U,{id:ge,geometry:G.geometry.geometries[We],properties:G.properties},W,ne);return}throw new Error("Input data is not a valid GeoJSON object.")}for(We=0;We<ye.length;We++){var ht=[];ue(ye[We],ht,Oe,!0),J.push(ht)}}U.push(Ao(ge,Me,J,G.properties))}}function rn(U,G){G.push(Fi(U[0])),G.push(Za(U[1])),G.push(0)}function bi(U,G,W,ne){for(var ye,Me,Oe=0,J=0;J<U.length;J++){var ge=Fi(U[J][0]),We=Za(U[J][1]);G.push(ge),G.push(We),G.push(0),J>0&&(Oe+=ne?(ye*We-ge*Me)/2:Math.sqrt(Math.pow(ge-ye,2)+Math.pow(We-Me,2))),ye=ge,Me=We}var ht=G.length-3;G[2]=1,function Nt(ct,wt,_r,yr){for(var dt,or=yr,Wt=_r-wt>>1,Xt=_r-wt,ao=ct[wt],er=ct[wt+1],So=ct[_r],en=ct[_r+1],Eo=wt+3;Eo<_r;Eo+=3){var No=Qr(ct[Eo],ct[Eo+1],ao,er,So,en);if(No>or)dt=Eo,or=No;else if(No===or){var so=Math.abs(Eo-Wt);so<Xt&&(dt=Eo,Xt=so)}}or>yr&&(dt-wt>3&&Nt(ct,wt,dt,yr),ct[dt+2]=or,_r-dt>3&&Nt(ct,dt,_r,yr))}(G,0,ht,W),G[ht+2]=1,G.size=Math.abs(Oe),G.start=0,G.end=G.size}function ue(U,G,W,ne){for(var ye=0;ye<U.length;ye++){var Me=[];bi(U[ye],Me,W,ne),G.push(Me)}}function Fi(U){return U/360+.5}function Za(U){var G=Math.sin(U*Math.PI/180),W=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return W<0?0:W>1?1:W}function Ai(U,G,W,ne,ye,Me,Oe,J){if(ne/=G,Me>=(W/=G)&&Oe<ne)return U;if(Oe<W||Me>=ne)return null;for(var ge=[],We=0;We<U.length;We++){var ht=U[We],Nt=ht.geometry,ct=ht.type,wt=ye===0?ht.minX:ht.minY,_r=ye===0?ht.maxX:ht.maxY;if(wt>=W&&_r<ne)ge.push(ht);else if(!(_r<W||wt>=ne)){var yr=[];if(ct==="Point"||ct==="MultiPoint")ps(Nt,yr,W,ne,ye);else if(ct==="LineString")pn(Nt,yr,W,ne,ye,!1,J.lineMetrics);else if(ct==="MultiLineString")ca(Nt,yr,W,ne,ye,!1);else if(ct==="Polygon")ca(Nt,yr,W,ne,ye,!0);else if(ct==="MultiPolygon")for(var dt=0;dt<Nt.length;dt++){var or=[];ca(Nt[dt],or,W,ne,ye,!0),or.length&&yr.push(or)}if(yr.length){if(J.lineMetrics&&ct==="LineString"){for(dt=0;dt<yr.length;dt++)ge.push(Ao(ht.id,ct,yr[dt],ht.tags));continue}ct!=="LineString"&&ct!=="MultiLineString"||(yr.length===1?(ct="LineString",yr=yr[0]):ct="MultiLineString"),ct!=="Point"&&ct!=="MultiPoint"||(ct=yr.length===3?"Point":"MultiPoint"),ge.push(Ao(ht.id,ct,yr,ht.tags))}}}return ge.length?ge:null}function ps(U,G,W,ne,ye){for(var Me=0;Me<U.length;Me+=3){var Oe=U[Me+ye];Oe>=W&&Oe<=ne&&(G.push(U[Me]),G.push(U[Me+1]),G.push(U[Me+2]))}}function pn(U,G,W,ne,ye,Me,Oe){for(var J,ge,We=Si(U),ht=ye===0?xs:Hn,Nt=U.start,ct=0;ct<U.length-3;ct+=3){var wt=U[ct],_r=U[ct+1],yr=U[ct+2],dt=U[ct+3],or=U[ct+4],Wt=ye===0?wt:_r,Xt=ye===0?dt:or,ao=!1;Oe&&(J=Math.sqrt(Math.pow(wt-dt,2)+Math.pow(_r-or,2))),Wt<W?Xt>W&&(ge=ht(We,wt,_r,dt,or,W),Oe&&(We.start=Nt+J*ge)):Wt>ne?Xt<ne&&(ge=ht(We,wt,_r,dt,or,ne),Oe&&(We.start=Nt+J*ge)):Ti(We,wt,_r,yr),Xt<W&&Wt>=W&&(ge=ht(We,wt,_r,dt,or,W),ao=!0),Xt>ne&&Wt<=ne&&(ge=ht(We,wt,_r,dt,or,ne),ao=!0),!Me&&ao&&(Oe&&(We.end=Nt+J*ge),G.push(We),We=Si(U)),Oe&&(Nt+=J)}var er=U.length-3;wt=U[er],_r=U[er+1],yr=U[er+2],(Wt=ye===0?wt:_r)>=W&&Wt<=ne&&Ti(We,wt,_r,yr),er=We.length-3,Me&&er>=3&&(We[er]!==We[0]||We[er+1]!==We[1])&&Ti(We,We[0],We[1],We[2]),We.length&&G.push(We)}function Si(U){var G=[];return G.size=U.size,G.start=U.start,G.end=U.end,G}function ca(U,G,W,ne,ye,Me){for(var Oe=0;Oe<U.length;Oe++)pn(U[Oe],G,W,ne,ye,Me,!1)}function Ti(U,G,W,ne){U.push(G),U.push(W),U.push(ne)}function xs(U,G,W,ne,ye,Me){var Oe=(Me-G)/(ne-G);return U.push(Me),U.push(W+(ye-W)*Oe),U.push(1),Oe}function Hn(U,G,W,ne,ye,Me){var Oe=(Me-W)/(ye-W);return U.push(G+(ne-G)*Oe),U.push(Me),U.push(1),Oe}function cs(U,G){for(var W=[],ne=0;ne<U.length;ne++){var ye,Me=U[ne],Oe=Me.type;if(Oe==="Point"||Oe==="MultiPoint"||Oe==="LineString")ye=ba(Me.geometry,G);else if(Oe==="MultiLineString"||Oe==="Polygon"){ye=[];for(var J=0;J<Me.geometry.length;J++)ye.push(ba(Me.geometry[J],G))}else if(Oe==="MultiPolygon")for(ye=[],J=0;J<Me.geometry.length;J++){for(var ge=[],We=0;We<Me.geometry[J].length;We++)ge.push(ba(Me.geometry[J][We],G));ye.push(ge)}W.push(Ao(Me.id,Oe,ye,Me.tags))}return W}function ba(U,G){var W=[];W.size=U.size,U.start!==void 0&&(W.start=U.start,W.end=U.end);for(var ne=0;ne<U.length;ne+=3)W.push(U[ne]+G,U[ne+1],U[ne+2]);return W}function Ws(U,G){if(U.transformed)return U;var W,ne,ye,Me=1<<U.z,Oe=U.x,J=U.y;for(W=0;W<U.features.length;W++){var ge=U.features[W],We=ge.geometry,ht=ge.type;if(ge.geometry=[],ht===1)for(ne=0;ne<We.length;ne+=2)ge.geometry.push(qu(We[ne],We[ne+1],G,Me,Oe,J));else for(ne=0;ne<We.length;ne++){var Nt=[];for(ye=0;ye<We[ne].length;ye+=2)Nt.push(qu(We[ne][ye],We[ne][ye+1],G,Me,Oe,J));ge.geometry.push(Nt)}}return U.transformed=!0,U}function qu(U,G,W,ne,ye,Me){return[Math.round(W*(U*ne-ye)),Math.round(W*(G*ne-Me))]}function Zs(U,G,W,ne,ye){for(var Me=G===ye.maxZoom?0:ye.tolerance/((1<<G)*ye.extent),Oe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:W,y:ne,z:G,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},J=0;J<U.length;J++){Oe.numFeatures++,xp(Oe,U[J],Me,ye);var ge=U[J].minX,We=U[J].minY,ht=U[J].maxX,Nt=U[J].maxY;ge<Oe.minX&&(Oe.minX=ge),We<Oe.minY&&(Oe.minY=We),ht>Oe.maxX&&(Oe.maxX=ht),Nt>Oe.maxY&&(Oe.maxY=Nt)}return Oe}function xp(U,G,W,ne){var ye=G.geometry,Me=G.type,Oe=[];if(Me==="Point"||Me==="MultiPoint")for(var J=0;J<ye.length;J+=3)Oe.push(ye[J]),Oe.push(ye[J+1]),U.numPoints++,U.numSimplified++;else if(Me==="LineString")Xs(Oe,ye,U,W,!1,!1);else if(Me==="MultiLineString"||Me==="Polygon")for(J=0;J<ye.length;J++)Xs(Oe,ye[J],U,W,Me==="Polygon",J===0);else if(Me==="MultiPolygon")for(var ge=0;ge<ye.length;ge++){var We=ye[ge];for(J=0;J<We.length;J++)Xs(Oe,We[J],U,W,!0,J===0)}if(Oe.length){var ht=G.tags||null;if(Me==="LineString"&&ne.lineMetrics){for(var Nt in ht={},G.tags)ht[Nt]=G.tags[Nt];ht.mapbox_clip_start=ye.start/ye.size,ht.mapbox_clip_end=ye.end/ye.size}var ct={geometry:Oe,type:Me==="Polygon"||Me==="MultiPolygon"?3:Me==="LineString"||Me==="MultiLineString"?2:1,tags:ht};G.id!==null&&(ct.id=G.id),U.features.push(ct)}}function Xs(U,G,W,ne,ye,Me){var Oe=ne*ne;if(ne>0&&G.size<(ye?Oe:ne))W.numPoints+=G.length/3;else{for(var J=[],ge=0;ge<G.length;ge+=3)(ne===0||G[ge+2]>Oe)&&(W.numSimplified++,J.push(G[ge]),J.push(G[ge+1])),W.numPoints++;ye&&function(We,ht){for(var Nt=0,ct=0,wt=We.length,_r=wt-2;ct<wt;_r=ct,ct+=2)Nt+=(We[ct]-We[_r])*(We[ct+1]+We[_r+1]);if(Nt>0===ht)for(ct=0,wt=We.length;ct<wt/2;ct+=2){var yr=We[ct],dt=We[ct+1];We[ct]=We[wt-2-ct],We[ct+1]=We[wt-1-ct],We[wt-2-ct]=yr,We[wt-1-ct]=dt}}(J,Me),U.push(J)}}function Da(U,G){var W=(G=this.options=function(ye,Me){for(var Oe in Me)ye[Oe]=Me[Oe];return ye}(Object.create(this.options),G)).debug;if(W&&console.time("preprocess data"),G.maxZoom<0||G.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(G.promoteId&&G.generateId)throw new Error("promoteId and generateId cannot be used together.");var ne=function(ye,Me){var Oe=[];if(ye.type==="FeatureCollection")for(var J=0;J<ye.features.length;J++)Jo(Oe,ye.features[J],Me,J);else Jo(Oe,ye.type==="Feature"?ye:{geometry:ye},Me);return Oe}(U,G);this.tiles={},this.tileCoords=[],W&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",G.indexMaxZoom,G.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ne=function(ye,Me){var Oe=Me.buffer/Me.extent,J=ye,ge=Ai(ye,1,-1-Oe,Oe,0,-1,2,Me),We=Ai(ye,1,1-Oe,2+Oe,0,-1,2,Me);return(ge||We)&&(J=Ai(ye,1,-Oe,1+Oe,0,-1,2,Me)||[],ge&&(J=cs(ge,1).concat(J)),We&&(J=J.concat(cs(We,-1)))),J}(ne,G)).length&&this.splitTile(ne,0,0,0),W&&(ne.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Oa(U,G,W){return 32*((1<<U)*W+G)+U}function Ps(U,G){var W=U.tileID.canonical;if(!this._geoJSONIndex)return G(null,null);var ne=this._geoJSONIndex.getTile(W.z,W.x,W.y);if(!ne)return G(null,null);var ye=new se(ne.features),Me=He(ye);Me.byteOffset===0&&Me.byteLength===Me.buffer.byteLength||(Me=new Uint8Array(Me)),G(null,{vectorTile:ye,rawData:Me.buffer})}Fo.prototype.load=function(U){var G=this.options,W=G.log,ne=G.minZoom,ye=G.maxZoom,Me=G.nodeSize;W&&console.time("total time");var Oe="prepare "+U.length+" points";W&&console.time(Oe),this.points=U;for(var J=[],ge=0;ge<U.length;ge++)U[ge].geometry&&J.push($e(U[ge],ge));this.trees[ye+1]=new no(J,vo,ro,Me,Float32Array),W&&console.timeEnd(Oe);for(var We=ye;We>=ne;We--){var ht=+Date.now();J=this._cluster(J,We),this.trees[We]=new no(J,vo,ro,Me,Float32Array),W&&console.log("z%d: %d clusters in %dms",We,J.length,+Date.now()-ht)}return W&&console.timeEnd("total time"),this},Fo.prototype.getClusters=function(U,G){var W=((U[0]+180)%360+360)%360-180,ne=Math.max(-90,Math.min(90,U[1])),ye=U[2]===180?180:((U[2]+180)%360+360)%360-180,Me=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)W=-180,ye=180;else if(W>ye){var Oe=this.getClusters([W,ne,180,Me],G),J=this.getClusters([-180,ne,ye,Me],G);return Oe.concat(J)}for(var ge=this.trees[this._limitZoom(G)],We=[],ht=0,Nt=ge.range(At(W),xr(Me),At(ye),xr(ne));ht<Nt.length;ht+=1){var ct=ge.points[Nt[ht]];We.push(ct.numPoints?Yt(ct):this.points[ct.index])}return We},Fo.prototype.getChildren=function(U){var G=this._getOriginId(U),W=this._getOriginZoom(U),ne="No cluster with the specified id.",ye=this.trees[W];if(!ye)throw new Error(ne);var Me=ye.points[G];if(!Me)throw new Error(ne);for(var Oe=this.options.radius/(this.options.extent*Math.pow(2,W-1)),J=[],ge=0,We=ye.within(Me.x,Me.y,Oe);ge<We.length;ge+=1){var ht=ye.points[We[ge]];ht.parentId===U&&J.push(ht.numPoints?Yt(ht):this.points[ht.index])}if(J.length===0)throw new Error(ne);return J},Fo.prototype.getLeaves=function(U,G,W){var ne=[];return this._appendLeaves(ne,U,G=G||10,W=W||0,0),ne},Fo.prototype.getTile=function(U,G,W){var ne=this.trees[this._limitZoom(U)],ye=Math.pow(2,U),Me=this.options,Oe=Me.radius/Me.extent,J=(W-Oe)/ye,ge=(W+1+Oe)/ye,We={features:[]};return this._addTileFeatures(ne.range((G-Oe)/ye,J,(G+1+Oe)/ye,ge),ne.points,G,W,ye,We),G===0&&this._addTileFeatures(ne.range(1-Oe/ye,J,1,ge),ne.points,ye,W,ye,We),G===ye-1&&this._addTileFeatures(ne.range(0,J,Oe/ye,ge),ne.points,-1,W,ye,We),We.features.length?We:null},Fo.prototype.getClusterExpansionZoom=function(U){for(var G=this._getOriginZoom(U)-1;G<=this.options.maxZoom;){var W=this.getChildren(U);if(G++,W.length!==1)break;U=W[0].properties.cluster_id}return G},Fo.prototype._appendLeaves=function(U,G,W,ne,ye){for(var Me=0,Oe=this.getChildren(G);Me<Oe.length;Me+=1){var J=Oe[Me],ge=J.properties;if(ge&&ge.cluster?ye+ge.point_count<=ne?ye+=ge.point_count:ye=this._appendLeaves(U,ge.cluster_id,W,ne,ye):ye<ne?ye++:U.push(J),U.length===W)break}return ye},Fo.prototype._addTileFeatures=function(U,G,W,ne,ye,Me){for(var Oe=0,J=U;Oe<J.length;Oe+=1){var ge=G[J[Oe]],We=ge.numPoints,ht={type:1,geometry:[[Math.round(this.options.extent*(ge.x*ye-W)),Math.round(this.options.extent*(ge.y*ye-ne))]],tags:We?Tr(ge):this.points[ge.index].properties},Nt=void 0;We?Nt=ge.id:this.options.generateId?Nt=ge.index:this.points[ge.index].id&&(Nt=this.points[ge.index].id),Nt!==void 0&&(ht.id=Nt),Me.features.push(ht)}},Fo.prototype._limitZoom=function(U){return Math.max(this.options.minZoom,Math.min(+U,this.options.maxZoom+1))},Fo.prototype._cluster=function(U,G){for(var W=[],ne=this.options,ye=ne.reduce,Me=ne.minPoints,Oe=ne.radius/(ne.extent*Math.pow(2,G)),J=0;J<U.length;J++){var ge=U[J];if(!(ge.zoom<=G)){ge.zoom=G;for(var We=this.trees[G+1],ht=We.within(ge.x,ge.y,Oe),Nt=ge.numPoints||1,ct=Nt,wt=0,_r=ht;wt<_r.length;wt+=1){var yr=We.points[_r[wt]];yr.zoom>G&&(ct+=yr.numPoints||1)}if(ct>=Me){for(var dt=ge.x*Nt,or=ge.y*Nt,Wt=ye&&Nt>1?this._map(ge,!0):null,Xt=(J<<5)+(G+1)+this.points.length,ao=0,er=ht;ao<er.length;ao+=1){var So=We.points[er[ao]];if(!(So.zoom<=G)){So.zoom=G;var en=So.numPoints||1;dt+=So.x*en,or+=So.y*en,So.parentId=Xt,ye&&(Wt||(Wt=this._map(ge,!0)),ye(Wt,this._map(So)))}}ge.parentId=Xt,W.push(On(dt/ct,or/ct,Xt,ct,Wt))}else if(W.push(ge),ct>1)for(var Eo=0,No=ht;Eo<No.length;Eo+=1){var so=We.points[No[Eo]];so.zoom<=G||(so.zoom=G,W.push(so))}}}return W},Fo.prototype._getOriginId=function(U){return U-this.points.length>>5},Fo.prototype._getOriginZoom=function(U){return(U-this.points.length)%32},Fo.prototype._map=function(U,G){if(U.numPoints)return G?io({},U.properties):U.properties;var W=this.points[U.index].properties,ne=this.options.map(W);return G&&ne===W?io({},ne):ne},Da.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Da.prototype.splitTile=function(U,G,W,ne,ye,Me,Oe){for(var J=[U,G,W,ne],ge=this.options,We=ge.debug;J.length;){ne=J.pop(),W=J.pop(),G=J.pop(),U=J.pop();var ht=1<<G,Nt=Oa(G,W,ne),ct=this.tiles[Nt];if(!ct&&(We>1&&console.time("creation"),ct=this.tiles[Nt]=Zs(U,G,W,ne,ge),this.tileCoords.push({z:G,x:W,y:ne}),We)){We>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",G,W,ne,ct.numFeatures,ct.numPoints,ct.numSimplified),console.timeEnd("creation"));var wt="z"+G;this.stats[wt]=(this.stats[wt]||0)+1,this.total++}if(ct.source=U,ye){if(G===ge.maxZoom||G===ye)continue;var _r=1<<ye-G;if(W!==Math.floor(Me/_r)||ne!==Math.floor(Oe/_r))continue}else if(G===ge.indexMaxZoom||ct.numPoints<=ge.indexMaxPoints)continue;if(ct.source=null,U.length!==0){We>1&&console.time("clipping");var yr,dt,or,Wt,Xt,ao,er=.5*ge.buffer/ge.extent,So=.5-er,en=.5+er,Eo=1+er;yr=dt=or=Wt=null,Xt=Ai(U,ht,W-er,W+en,0,ct.minX,ct.maxX,ge),ao=Ai(U,ht,W+So,W+Eo,0,ct.minX,ct.maxX,ge),U=null,Xt&&(yr=Ai(Xt,ht,ne-er,ne+en,1,ct.minY,ct.maxY,ge),dt=Ai(Xt,ht,ne+So,ne+Eo,1,ct.minY,ct.maxY,ge),Xt=null),ao&&(or=Ai(ao,ht,ne-er,ne+en,1,ct.minY,ct.maxY,ge),Wt=Ai(ao,ht,ne+So,ne+Eo,1,ct.minY,ct.maxY,ge),ao=null),We>1&&console.timeEnd("clipping"),J.push(yr||[],G+1,2*W,2*ne),J.push(dt||[],G+1,2*W,2*ne+1),J.push(or||[],G+1,2*W+1,2*ne),J.push(Wt||[],G+1,2*W+1,2*ne+1)}}},Da.prototype.getTile=function(U,G,W){var ne=this.options,ye=ne.extent,Me=ne.debug;if(U<0||U>24)return null;var Oe=1<<U,J=Oa(U,G=(G%Oe+Oe)%Oe,W);if(this.tiles[J])return Ws(this.tiles[J],ye);Me>1&&console.log("drilling down to z%d-%d-%d",U,G,W);for(var ge,We=U,ht=G,Nt=W;!ge&&We>0;)We--,ht=Math.floor(ht/2),Nt=Math.floor(Nt/2),ge=this.tiles[Oa(We,ht,Nt)];return ge&&ge.source?(Me>1&&console.log("found parent tile z%d-%d-%d",We,ht,Nt),Me>1&&console.time("drilling down"),this.splitTile(ge.source,We,ht,Nt,U,G,W),Me>1&&console.timeEnd("drilling down"),this.tiles[J]?Ws(this.tiles[J],ye):null):null};var Ku=function(U){function G(W,ne,ye,Me){U.call(this,W,ne,ye,Ps),Me&&(this.loadGeoJSON=Me)}return U&&(G.__proto__=U),(G.prototype=Object.create(U&&U.prototype)).constructor=G,G.prototype.loadData=function(W,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ne,this._pendingLoadDataParams=W,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},G.prototype._loadData=function(){var W=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ne=this._pendingCallback,ye=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Me=!!(ye&&ye.request&&ye.request.collectResourceTiming)&&new i.RequestPerformance(ye.request);this.loadGeoJSON(ye,function(Oe,J){if(Oe||!J)return ne(Oe);if(typeof J!="object")return ne(new Error("Input data given to '"+ye.source+"' is not a valid GeoJSON object."));(function ct(wt,_r){var yr,dt=wt&&wt.type;if(dt==="FeatureCollection")for(yr=0;yr<wt.features.length;yr++)ct(wt.features[yr],_r);else if(dt==="GeometryCollection")for(yr=0;yr<wt.geometries.length;yr++)ct(wt.geometries[yr],_r);else if(dt==="Feature")ct(wt.geometry,_r);else if(dt==="Polygon")Q(wt.coordinates,_r);else if(dt==="MultiPolygon")for(yr=0;yr<wt.coordinates.length;yr++)Q(wt.coordinates[yr],_r);return wt})(J,!0);try{if(ye.filter){var ge=i.createExpression(ye.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ge.result==="error")throw new Error(ge.value.map(function(ct){return ct.key+": "+ct.message}).join(", "));var We=J.features.filter(function(ct){return ge.value.evaluate({zoom:0},ct)});J={type:"FeatureCollection",features:We}}W._geoJSONIndex=ye.cluster?new Fo(function(ct){var wt=ct.superclusterOptions,_r=ct.clusterProperties;if(!_r||!wt)return wt;for(var yr={},dt={},or={accumulated:null,zoom:0},Wt={properties:null},Xt=Object.keys(_r),ao=0,er=Xt;ao<er.length;ao+=1){var So=er[ao],en=_r[So],Eo=en[0],No=i.createExpression(en[1]),so=i.createExpression(typeof Eo=="string"?[Eo,["accumulated"],["get",So]]:Eo);yr[So]=No.value,dt[So]=so.value}return wt.map=function(Gn){Wt.properties=Gn;for(var Ro={},tn=0,zo=Xt;tn<zo.length;tn+=1){var uo=zo[tn];Ro[uo]=yr[uo].evaluate(or,Wt)}return Ro},wt.reduce=function(Gn,Ro){Wt.properties=Ro;for(var tn=0,zo=Xt;tn<zo.length;tn+=1){var uo=zo[tn];or.accumulated=Gn[uo],Gn[uo]=dt[uo].evaluate(or,Wt)}},wt}(ye)).load(J.features):function(ct,wt){return new Da(ct,wt)}(J,ye.geojsonVtOptions)}catch(ct){return ne(ct)}W.loaded={};var ht={};if(Me){var Nt=Me.finish();Nt&&(ht.resourceTiming={},ht.resourceTiming[ye.source]=JSON.parse(JSON.stringify(Nt)))}ne(null,ht)})}},G.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},G.prototype.reloadTile=function(W,ne){var ye=this.loaded;return ye&&ye[W.uid]?U.prototype.reloadTile.call(this,W,ne):this.loadTile(W,ne)},G.prototype.loadGeoJSON=function(W,ne){if(W.request)i.getJSON(W.request,ne);else{if(typeof W.data!="string")return ne(new Error("Input data given to '"+W.source+"' is not a valid GeoJSON object."));try{return ne(null,JSON.parse(W.data))}catch{return ne(new Error("Input data given to '"+W.source+"' is not a valid GeoJSON object."))}}},G.prototype.removeSource=function(W,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ne()},G.prototype.getClusterExpansionZoom=function(W,ne){try{ne(null,this._geoJSONIndex.getClusterExpansionZoom(W.clusterId))}catch(ye){ne(ye)}},G.prototype.getClusterChildren=function(W,ne){try{ne(null,this._geoJSONIndex.getChildren(W.clusterId))}catch(ye){ne(ye)}},G.prototype.getClusterLeaves=function(W,ne){try{ne(null,this._geoJSONIndex.getLeaves(W.clusterId,W.limit,W.offset))}catch(ye){ne(ye)}},G}(M),jo=function(U){var G=this;this.self=U,this.actor=new i.Actor(U,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:M,geojson:Ku},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(W,ne){if(G.workerSourceTypes[W])throw new Error('Worker source with name "'+W+'" already registered.');G.workerSourceTypes[W]=ne},this.self.registerRTLTextPlugin=function(W){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=W.applyArabicShaping,i.plugin.processBidirectionalText=W.processBidirectionalText,i.plugin.processStyledBidirectionalText=W.processStyledBidirectionalText}};return jo.prototype.setReferrer=function(U,G){this.referrer=G},jo.prototype.setImages=function(U,G,W){for(var ne in this.availableImages[U]=G,this.workerSources[U]){var ye=this.workerSources[U][ne];for(var Me in ye)ye[Me].availableImages=G}W()},jo.prototype.setLayers=function(U,G,W){this.getLayerIndex(U).replace(G),W()},jo.prototype.updateLayers=function(U,G,W){this.getLayerIndex(U).update(G.layers,G.removedIds),W()},jo.prototype.loadTile=function(U,G,W){this.getWorkerSource(U,G.type,G.source).loadTile(G,W)},jo.prototype.loadDEMTile=function(U,G,W){this.getDEMWorkerSource(U,G.source).loadTile(G,W)},jo.prototype.reloadTile=function(U,G,W){this.getWorkerSource(U,G.type,G.source).reloadTile(G,W)},jo.prototype.abortTile=function(U,G,W){this.getWorkerSource(U,G.type,G.source).abortTile(G,W)},jo.prototype.removeTile=function(U,G,W){this.getWorkerSource(U,G.type,G.source).removeTile(G,W)},jo.prototype.removeDEMTile=function(U,G){this.getDEMWorkerSource(U,G.source).removeTile(G)},jo.prototype.removeSource=function(U,G,W){if(this.workerSources[U]&&this.workerSources[U][G.type]&&this.workerSources[U][G.type][G.source]){var ne=this.workerSources[U][G.type][G.source];delete this.workerSources[U][G.type][G.source],ne.removeSource!==void 0?ne.removeSource(G,W):W()}},jo.prototype.loadWorkerSource=function(U,G,W){try{this.self.importScripts(G.url),W()}catch(ne){W(ne.toString())}},jo.prototype.syncRTLPluginState=function(U,G,W){try{i.plugin.setState(G);var ne=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&ne!=null){this.self.importScripts(ne);var ye=i.plugin.isParsed();W(ye?void 0:new Error("RTL Text Plugin failed to import scripts from "+ne),ye)}}catch(Me){W(Me.toString())}},jo.prototype.getAvailableImages=function(U){var G=this.availableImages[U];return G||(G=[]),G},jo.prototype.getLayerIndex=function(U){var G=this.layerIndexes[U];return G||(G=this.layerIndexes[U]=new g),G},jo.prototype.getWorkerSource=function(U,G,W){var ne=this;return this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][G]||(this.workerSources[U][G]={}),this.workerSources[U][G][W]||(this.workerSources[U][G][W]=new this.workerSourceTypes[G]({send:function(ye,Me,Oe){ne.actor.send(ye,Me,Oe,U)}},this.getLayerIndex(U),this.getAvailableImages(U))),this.workerSources[U][G][W]},jo.prototype.getDEMWorkerSource=function(U,G){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][G]||(this.demWorkerSources[U][G]=new k),this.demWorkerSources[U][G]},jo.prototype.enforceCacheSizeLimit=function(U,G){i.enforceCacheSizeLimit(G)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new jo(self)),jo}),u(["./shared"],function(i){var y=i.createCommonjsModule(function(c){function d(E){return!l(E)}function l(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var S,R,D=new Blob([""],{type:"text/javascript"}),z=URL.createObjectURL(D);try{R=new Worker(z),S=!0}catch{S=!1}return R&&R.terminate(),URL.revokeObjectURL(z),S}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var S=document.createElement("canvas");S.width=S.height=1;var R=S.getContext("2d");if(!R)return!1;var D=R.getImageData(0,0,1,1);return D&&D.width===S.width}()?(f[F=E&&E.failIfMajorPerformanceCaveat]===void 0&&(f[F]=function(S){var R=function(z){var $=document.createElement("canvas"),ee=Object.create(d.webGLContextAttributes);return ee.failIfMajorPerformanceCaveat=z,$.probablySupportsContext?$.probablySupportsContext("webgl",ee)||$.probablySupportsContext("experimental-webgl",ee):$.supportsContext?$.supportsContext("webgl",ee)||$.supportsContext("experimental-webgl",ee):$.getContext("webgl",ee)||$.getContext("experimental-webgl",ee)}(S);if(!R)return!1;var D=R.createShader(R.VERTEX_SHADER);return!(!D||R.isContextLost())&&(R.shaderSource(D,"void main() {}"),R.compileShader(D),R.getShaderParameter(D,R.COMPILE_STATUS)===!0)}(F)),f[F]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var F}c.exports?c.exports=d:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=d,window.mapboxgl.notSupportedReason=l);var f={};d.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),m={create:function(c,d,l){var f=i.window.document.createElement(c);return d!==void 0&&(f.className=d),l&&l.appendChild(f),f},createNS:function(c,d){return i.window.document.createElementNS(c,d)}},g=i.window.document&&i.window.document.documentElement.style;function x(c){if(!g)return c[0];for(var d=0;d<c.length;d++)if(c[d]in g)return c[d];return c[0]}var b,A=x(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);m.disableDrag=function(){g&&A&&(b=g[A],g[A]="none")},m.enableDrag=function(){g&&A&&(g[A]=b)};var w=x(["transform","WebkitTransform"]);m.setTransform=function(c,d){c.style[w]=d};var M=!1;try{var V=Object.defineProperty({},"passive",{get:function(){M=!0}});i.window.addEventListener("test",V,V),i.window.removeEventListener("test",V,V)}catch{M=!1}m.addEventListener=function(c,d,l,f){f===void 0&&(f={}),c.addEventListener(d,l,"passive"in f&&M?f:f.capture)},m.removeEventListener=function(c,d,l,f){f===void 0&&(f={}),c.removeEventListener(d,l,"passive"in f&&M?f:f.capture)};var k=function(c){c.preventDefault(),c.stopPropagation(),i.window.removeEventListener("click",k,!0)};function Q(c){var d=c.userImage;return!!(d&&d.render&&d.render())&&(c.data.replace(new Uint8Array(d.data.buffer)),!0)}m.suppressClick=function(){i.window.addEventListener("click",k,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",k,!0)},0)},m.mousePos=function(c,d){var l=c.getBoundingClientRect();return new i.Point(d.clientX-l.left-c.clientLeft,d.clientY-l.top-c.clientTop)},m.touchPos=function(c,d){for(var l=c.getBoundingClientRect(),f=[],E=0;E<d.length;E++)f.push(new i.Point(d[E].clientX-l.left-c.clientLeft,d[E].clientY-l.top-c.clientTop));return f},m.mouseButton=function(c){return i.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},m.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var q=function(c){function d(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.isLoaded=function(){return this.loaded},d.prototype.setLoaded=function(l){if(this.loaded!==l&&(this.loaded=l,l)){for(var f=0,E=this.requestors;f<E.length;f+=1){var F=E[f];this._notify(F.ids,F.callback)}this.requestors=[]}},d.prototype.getImage=function(l){return this.images[l]},d.prototype.addImage=function(l,f){this._validate(l,f)&&(this.images[l]=f)},d.prototype._validate=function(l,f){var E=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchY" value'))),E=!1),this._validateContent(f.content,f)||(this.fire(new i.ErrorEvent(new Error('Image "'+l+'" has invalid "content" value'))),E=!1),E},d.prototype._validateStretch=function(l,f){if(!l)return!0;for(var E=0,F=0,S=l;F<S.length;F+=1){var R=S[F];if(R[0]<E||R[1]<R[0]||f<R[1])return!1;E=R[1]}return!0},d.prototype._validateContent=function(l,f){return!(l&&(l.length!==4||l[0]<0||f.data.width<l[0]||l[1]<0||f.data.height<l[1]||l[2]<0||f.data.width<l[2]||l[3]<0||f.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))},d.prototype.updateImage=function(l,f){f.version=this.images[l].version+1,this.images[l]=f,this.updatedImages[l]=!0},d.prototype.removeImage=function(l){var f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()},d.prototype.listImages=function(){return Object.keys(this.images)},d.prototype.getImages=function(l,f){var E=!0;if(!this.isLoaded())for(var F=0,S=l;F<S.length;F+=1)this.images[S[F]]||(E=!1);this.isLoaded()||E?this._notify(l,f):this.requestors.push({ids:l,callback:f})},d.prototype._notify=function(l,f){for(var E={},F=0,S=l;F<S.length;F+=1){var R=S[F];this.images[R]||this.fire(new i.Event("styleimagemissing",{id:R}));var D=this.images[R];D?E[R]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:i.warnOnce('Image "'+R+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}f(null,E)},d.prototype.getPixelSize=function(){var l=this.atlasImage;return{width:l.width,height:l.height}},d.prototype.getPattern=function(l){var f=this.patterns[l],E=this.getImage(l);if(!E)return null;if(f&&f.position.version===E.version)return f.position;if(f)f.position.version=E.version;else{var F={w:E.data.width+2,h:E.data.height+2,x:0,y:0},S=new i.ImagePosition(F,E);this.patterns[l]={bin:F,position:S}}return this._updatePatternAtlas(),this.patterns[l].position},d.prototype.bind=function(l){var f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(l,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)},d.prototype._updatePatternAtlas=function(){var l=[];for(var f in this.patterns)l.push(this.patterns[f].bin);var E=i.potpack(l),F=E.w,S=E.h,R=this.atlasImage;for(var D in R.resize({width:F||1,height:S||1}),this.patterns){var z=this.patterns[D].bin,$=z.x+1,ee=z.y+1,re=this.images[D].data,_e=re.width,de=re.height;i.RGBAImage.copy(re,R,{x:0,y:0},{x:$,y:ee},{width:_e,height:de}),i.RGBAImage.copy(re,R,{x:0,y:de-1},{x:$,y:ee-1},{width:_e,height:1}),i.RGBAImage.copy(re,R,{x:0,y:0},{x:$,y:ee+de},{width:_e,height:1}),i.RGBAImage.copy(re,R,{x:_e-1,y:0},{x:$-1,y:ee},{width:1,height:de}),i.RGBAImage.copy(re,R,{x:0,y:0},{x:$+_e,y:ee},{width:1,height:de})}this.dirty=!0},d.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},d.prototype.dispatchRenderCallbacks=function(l){for(var f=0,E=l;f<E.length;f+=1){var F=E[f];if(!this.callbackDispatchedThisFrame[F]){this.callbackDispatchedThisFrame[F]=!0;var S=this.images[F];Q(S)&&this.updateImage(F,S)}}},d}(i.Evented),K=ke,te=ke,se=1e20;function ke(c,d,l,f,E,F){this.fontSize=c||24,this.buffer=d===void 0?3:d,this.cutoff=f||.25,this.fontFamily=E||"sans-serif",this.fontWeight=F||"normal",this.radius=l||8;var S=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=S,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.d=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Int16Array(S),this.middle=Math.round(S/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Ee(c,d,l,f,E,F,S){for(var R=0;R<d;R++){for(var D=0;D<l;D++)f[D]=c[D*d+R];for(je(f,E,F,S,l),D=0;D<l;D++)c[D*d+R]=E[D]}for(D=0;D<l;D++){for(R=0;R<d;R++)f[R]=c[D*d+R];for(je(f,E,F,S,d),R=0;R<d;R++)c[D*d+R]=Math.sqrt(E[R])}}function je(c,d,l,f,E){l[0]=0,f[0]=-se,f[1]=+se;for(var F=1,S=0;F<E;F++){for(var R=(c[F]+F*F-(c[l[S]]+l[S]*l[S]))/(2*F-2*l[S]);R<=f[S];)S--,R=(c[F]+F*F-(c[l[S]]+l[S]*l[S]))/(2*F-2*l[S]);l[++S]=F,f[S]=R,f[S+1]=+se}for(F=0,S=0;F<E;F++){for(;f[S+1]<F;)S++;d[F]=(F-l[S])*(F-l[S])+c[l[S]]}}ke.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var d=this.ctx.getImageData(0,0,this.size,this.size),l=new Uint8ClampedArray(this.size*this.size),f=0;f<this.size*this.size;f++){var E=d.data[4*f+3]/255;this.gridOuter[f]=E===1?0:E===0?se:Math.pow(Math.max(0,.5-E),2),this.gridInner[f]=E===1?se:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(Ee(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Ee(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),f=0;f<this.size*this.size;f++)l[f]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[f]-this.gridInner[f])/this.radius+this.cutoff))));return l},K.default=te;var mt=function(c,d){this.requestManager=c,this.localIdeographFontFamily=d,this.entries={}};mt.prototype.setURL=function(c){this.url=c},mt.prototype.getGlyphs=function(c,d){var l=this,f=[];for(var E in c)for(var F=0,S=c[E];F<S.length;F+=1)f.push({stack:E,id:S[F]});i.asyncAll(f,function(R,D){var z=R.stack,$=R.id,ee=l.entries[z];ee||(ee=l.entries[z]={glyphs:{},requests:{},ranges:{}});var re=ee.glyphs[$];if(re===void 0){if(re=l._tinySDF(ee,z,$))return ee.glyphs[$]=re,void D(null,{stack:z,id:$,glyph:re});var _e=Math.floor($/256);if(256*_e>65535)D(new Error("glyphs > 65535 not supported"));else if(ee.ranges[_e])D(null,{stack:z,id:$,glyph:re});else{var de=ee.requests[_e];de||(de=ee.requests[_e]=[],mt.loadGlyphRange(z,_e,l.url,l.requestManager,function(Se,ce){if(ce){for(var Ae in ce)l._doesCharSupportLocalGlyph(+Ae)||(ee.glyphs[+Ae]=ce[+Ae]);ee.ranges[_e]=!0}for(var De=0,Ze=de;De<Ze.length;De+=1)(0,Ze[De])(Se,ce);delete ee.requests[_e]})),de.push(function(Se,ce){Se?D(Se):ce&&D(null,{stack:z,id:$,glyph:ce[$]||null})})}}else D(null,{stack:z,id:$,glyph:re})},function(R,D){if(R)d(R);else if(D){for(var z={},$=0,ee=D;$<ee.length;$+=1){var re=ee[$],_e=re.stack,de=re.id,Se=re.glyph;(z[_e]||(z[_e]={}))[de]=Se&&{id:Se.id,bitmap:Se.bitmap.clone(),metrics:Se.metrics}}d(null,z)}})},mt.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](c)||i.isChar["Hangul Syllables"](c)||i.isChar.Hiragana(c)||i.isChar.Katakana(c))},mt.prototype._tinySDF=function(c,d,l){var f=this.localIdeographFontFamily;if(f&&this._doesCharSupportLocalGlyph(l)){var E=c.tinySDF;if(!E){var F="400";/bold/i.test(d)?F="900":/medium/i.test(d)?F="500":/light/i.test(d)&&(F="200"),E=c.tinySDF=new mt.TinySDF(24,3,8,.25,f,F)}return{id:l,bitmap:new i.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(l))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},mt.loadGlyphRange=function(c,d,l,f,E){var F=256*d,S=F+255,R=f.transformRequest(f.normalizeGlyphsURL(l).replace("{fontstack}",c).replace("{range}",F+"-"+S),i.ResourceType.Glyphs);i.getArrayBuffer(R,function(D,z){if(D)E(D);else if(z){for(var $={},ee=0,re=i.parseGlyphPBF(z);ee<re.length;ee+=1){var _e=re[ee];$[_e.id]=_e}E(null,$)}})},mt.TinySDF=K;var He=function(){this.specification=i.styleSpec.light.position};He.prototype.possiblyEvaluate=function(c,d){return i.sphericalToCartesian(c.expression.evaluate(d))},He.prototype.interpolate=function(c,d,l){return{x:i.number(c.x,d.x,l),y:i.number(c.y,d.y,l),z:i.number(c.z,d.z,l)}};var Fe=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new He,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),Le=function(c){function d(l){c.call(this),this._transitionable=new i.Transitionable(Fe),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getLight=function(){return this._transitionable.serialize()},d.prototype.setLight=function(l,f){if(f===void 0&&(f={}),!this._validate(i.validateLight,l,f))for(var E in l){var F=l[E];i.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),F):this._transitionable.setValue(E,F)}},d.prototype.updateTransitions=function(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)},d.prototype.hasTransition=function(){return this._transitioning.hasTransition()},d.prototype.recalculate=function(l){this.properties=this._transitioning.possiblyEvaluate(l)},d.prototype._validate=function(l,f,E){return(!E||E.validate!==!1)&&i.emitValidationErrors(this,l.call(i.validateStyle,i.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},d}(i.Evented),ze=function(c,d){this.width=c,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};ze.prototype.getDash=function(c,d){var l=c.join(",")+String(d);return this.dashEntry[l]||(this.dashEntry[l]=this.addDash(c,d)),this.dashEntry[l]},ze.prototype.getDashRanges=function(c,d,l){var f=[],E=c.length%2==1?-c[c.length-1]*l:0,F=c[0]*l,S=!0;f.push({left:E,right:F,isDash:S,zeroLength:c[0]===0});for(var R=c[0],D=1;D<c.length;D++){var z=c[D];f.push({left:E=R*l,right:F=(R+=z)*l,isDash:S=!S,zeroLength:z===0})}return f},ze.prototype.addRoundDash=function(c,d,l){for(var f=d/2,E=-l;E<=l;E++)for(var F=this.width*(this.nextRow+l+E),S=0,R=c[S],D=0;D<this.width;D++){D/R.right>1&&(R=c[++S]);var z=Math.abs(D-R.left),$=Math.abs(D-R.right),ee=Math.min(z,$),re=void 0,_e=E/l*(f+1);if(R.isDash){var de=f-Math.abs(_e);re=Math.sqrt(ee*ee+de*de)}else re=f-Math.sqrt(ee*ee+_e*_e);this.data[F+D]=Math.max(0,Math.min(255,re+128))}},ze.prototype.addRegularDash=function(c){for(var d=c.length-1;d>=0;--d){var l=c[d],f=c[d+1];l.zeroLength?c.splice(d,1):f&&f.isDash===l.isDash&&(f.left=l.left,c.splice(d,1))}var E=c[0],F=c[c.length-1];E.isDash===F.isDash&&(E.left=F.left-this.width,F.right=E.right+this.width);for(var S=this.width*this.nextRow,R=0,D=c[R],z=0;z<this.width;z++){z/D.right>1&&(D=c[++R]);var $=Math.abs(z-D.left),ee=Math.abs(z-D.right),re=Math.min($,ee);this.data[S+z]=Math.max(0,Math.min(255,(D.isDash?re:-re)+128))}},ze.prototype.addDash=function(c,d){var l=d?7:0,f=2*l+1;if(this.nextRow+f>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var E=0,F=0;F<c.length;F++)E+=c[F];if(E!==0){var S=this.width/E,R=this.getDashRanges(c,this.width,S);d?this.addRoundDash(R,S,l):this.addRegularDash(R)}var D={y:(this.nextRow+l+.5)/this.height,height:2*l/this.height,width:E};return this.nextRow+=f,this.dirty=!0,D},ze.prototype.bind=function(c){var d=c.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))};var st=function c(d,l){this.workerPool=d,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var f=this.workerPool.acquire(this.id),E=0;E<f.length;E++){var F=new c.Actor(f[E],l,this.id);F.name="Worker "+E,this.actors.push(F)}};function Vt(c,d,l){var f=function(E,F){if(E)return l(E);if(F){var S=i.pick(i.extend(F,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);F.vector_layers&&(S.vectorLayers=F.vector_layers,S.vectorLayerIds=S.vectorLayers.map(function(R){return R.id})),S.tiles=d.canonicalizeTileset(S,c.url),l(null,S)}};return c.url?i.getJSON(d.transformRequest(d.normalizeSourceURL(c.url),i.ResourceType.Source),f):i.browser.frame(function(){return f(null,c)})}st.prototype.broadcast=function(c,d,l){i.asyncAll(this.actors,function(f,E){f.send(c,d,E)},l=l||function(){})},st.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},st.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},st.Actor=i.Actor;var nr=function(c,d,l){this.bounds=i.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=d||0,this.maxzoom=l||24};nr.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},nr.prototype.contains=function(c){var d=Math.pow(2,c.z),l=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*d),f=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*d),E=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*d),F=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*d);return c.x>=l&&c.x<E&&c.y>=f&&c.y<F};var Fr=function(c){function d(l,f,E,F){if(c.call(this),this.id=l,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(f,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(F)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(f,E){l._tileJSONRequest=null,l._loaded=!0,f?l.fire(new i.ErrorEvent(f)):E&&(i.extend(l,E),E.bounds&&(l.tileBounds=new nr(E.bounds,l.minzoom,l.maxzoom)),i.postTurnstileEvent(E.tiles,l.map._requestManager._customAccessToken),i.postMapLoadEvent(E.tiles,l.map._getMapId(),l.map._requestManager._skuToken,l.map._requestManager._customAccessToken),l.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},d.prototype.loaded=function(){return this._loaded},d.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setSourceProperty=function(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},d.prototype.setTiles=function(l){var f=this;return this.setSourceProperty(function(){f._options.tiles=l}),this},d.prototype.setUrl=function(l){var f=this;return this.setSourceProperty(function(){f.url=l,f._options.url=l}),this},d.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},d.prototype.serialize=function(){return i.extend({},this._options)},d.prototype.loadTile=function(l,f){var E=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),F={request:this.map._requestManager.transformRequest(E,i.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function S(R,D){return delete l.request,l.aborted?f(null):R&&R.status!==404?f(R):(D&&D.resourceTiming&&(l.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&l.setExpiryData(D),l.loadVectorData(D,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}F.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=f:l.request=l.actor.send("reloadTile",F,S.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",F,S.bind(this)))},d.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)},d.prototype.unloadTile=function(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)},d.prototype.hasTransition=function(){return!1},d}(i.Evented),$r=function(c){function d(l,f,E,F){c.call(this),this.id=l,this.dispatcher=E,this.setEventedParent(F),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},f),i.extend(this,i.pick(f,["url","scheme","tileSize"]))}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Vt(this._options,this.map._requestManager,function(f,E){l._tileJSONRequest=null,l._loaded=!0,f?l.fire(new i.ErrorEvent(f)):E&&(i.extend(l,E),E.bounds&&(l.tileBounds=new nr(E.bounds,l.minzoom,l.maxzoom)),i.postTurnstileEvent(E.tiles),i.postMapLoadEvent(E.tiles,l.map._getMapId(),l.map._requestManager._skuToken),l.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},d.prototype.loaded=function(){return this._loaded},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},d.prototype.serialize=function(){return i.extend({},this._options)},d.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},d.prototype.loadTile=function(l,f){var E=this,F=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);l.request=i.getImage(this.map._requestManager.transformRequest(F,i.ResourceType.Tile),function(S,R){if(delete l.request,l.aborted)l.state="unloaded",f(null);else if(S)l.state="errored",f(S);else if(R){E.map._refreshExpiredTiles&&l.setExpiryData(R),delete R.cacheControl,delete R.expires;var D=E.map.painter.context,z=D.gl;l.texture=E.map.painter.getTileTexture(R.width),l.texture?l.texture.update(R,{useMipmap:!0}):(l.texture=new i.Texture(D,R,z.RGBA,{useMipmap:!0}),l.texture.bind(z.LINEAR,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),D.extTextureFilterAnisotropic&&z.texParameterf(z.TEXTURE_2D,D.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,D.extTextureFilterAnisotropicMax)),l.state="loaded",i.cacheEntryPossiblyAdded(E.dispatcher),f(null)}})},d.prototype.abortTile=function(l,f){l.request&&(l.request.cancel(),delete l.request),f()},d.prototype.unloadTile=function(l,f){l.texture&&this.map.painter.saveTileTexture(l.texture),f()},d.prototype.hasTransition=function(){return!1},d}(i.Evented),mr=function(c){function d(l,f,E,F){c.call(this,l,f,E,F),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},d.prototype.loadTile=function(l,f){var E=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function F(S,R){S&&(l.state="errored",f(S)),R&&(l.dem=R,l.needsHillshadePrepare=!0,l.state="loaded",f(null))}l.request=i.getImage(this.map._requestManager.transformRequest(E,i.ResourceType.Tile),(function(S,R){if(delete l.request,l.aborted)l.state="unloaded",f(null);else if(S)l.state="errored",f(S);else if(R){this.map._refreshExpiredTiles&&l.setExpiryData(R),delete R.cacheControl,delete R.expires;var D=i.window.ImageBitmap&&R instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported()?R:i.browser.getImageData(R,1),z={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:D,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",z,F.bind(this)))}}).bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)},d.prototype._getNeighboringTiles=function(l){var f=l.canonical,E=Math.pow(2,f.z),F=(f.x-1+E)%E,S=f.x===0?l.wrap-1:l.wrap,R=(f.x+1+E)%E,D=f.x+1===E?l.wrap+1:l.wrap,z={};return z[new i.OverscaledTileID(l.overscaledZ,S,f.z,F,f.y).key]={backfilled:!1},z[new i.OverscaledTileID(l.overscaledZ,D,f.z,R,f.y).key]={backfilled:!1},f.y>0&&(z[new i.OverscaledTileID(l.overscaledZ,S,f.z,F,f.y-1).key]={backfilled:!1},z[new i.OverscaledTileID(l.overscaledZ,l.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},z[new i.OverscaledTileID(l.overscaledZ,D,f.z,R,f.y-1).key]={backfilled:!1}),f.y+1<E&&(z[new i.OverscaledTileID(l.overscaledZ,S,f.z,F,f.y+1).key]={backfilled:!1},z[new i.OverscaledTileID(l.overscaledZ,l.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},z[new i.OverscaledTileID(l.overscaledZ,D,f.z,R,f.y+1).key]={backfilled:!1}),z},d.prototype.unloadTile=function(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})},d}($r),Er=function(c){function d(l,f,E,F){c.call(this),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(F),this._data=f.data,this._options=i.extend({},f),this._collectResourceTiming=f.collectResourceTiming,this._resourceTiming=[],f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;var S=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(f.buffer!==void 0?f.buffer:128)*S,tolerance:(f.tolerance!==void 0?f.tolerance:.375)*S,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:f.clusterMaxZoom!==void 0?Math.min(f.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:i.EXTENT,radius:(f.clusterRadius||50)*S,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(f){if(f)l.fire(new i.ErrorEvent(f));else{var E={dataType:"source",sourceDataType:"metadata"};l._collectResourceTiming&&l._resourceTiming&&l._resourceTiming.length>0&&(E.resourceTiming=l._resourceTiming,l._resourceTiming=[]),l.fire(new i.Event("data",E))}})},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setData=function(l){var f=this;return this._data=l,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)f.fire(new i.ErrorEvent(E));else{var F={dataType:"source",sourceDataType:"content"};f._collectResourceTiming&&f._resourceTiming&&f._resourceTiming.length>0&&(F.resourceTiming=f._resourceTiming,f._resourceTiming=[]),f.fire(new i.Event("data",F))}}),this},d.prototype.getClusterExpansionZoom=function(l,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},f),this},d.prototype.getClusterChildren=function(l,f){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},f),this},d.prototype.getClusterLeaves=function(l,f,E,F){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:f,offset:E},F),this},d.prototype._updateWorkerData=function(l){var f=this;this._loaded=!1;var E=i.extend({},this.workerOptions),F=this._data;typeof F=="string"?(E.request=this.map._requestManager.transformRequest(i.browser.resolveURL(F),i.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(F),this.actor.send(this.type+".loadData",E,function(S,R){f._removed||R&&R.abandoned||(f._loaded=!0,R&&R.resourceTiming&&R.resourceTiming[f.id]&&(f._resourceTiming=R.resourceTiming[f.id].slice(0)),f.actor.send(f.type+".coalesce",{source:E.source},null),l(S))})},d.prototype.loaded=function(){return this._loaded},d.prototype.loadTile=function(l,f){var E=this,F=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(F,{type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(S,R){return delete l.request,l.unloadVectorData(),l.aborted?f(null):S?f(S):(l.loadVectorData(R,E.map.painter,F==="reloadTile"),f(null))})},d.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0},d.prototype.unloadTile=function(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})},d.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},d.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},d.prototype.hasTransition=function(){return!1},d}(i.Evented),Kr=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),eo=function(c){function d(l,f,E,F){c.call(this),this.id=l,this.dispatcher=E,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(F),this.options=f}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(l,f){var E=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(F,S){E._loaded=!0,F?E.fire(new i.ErrorEvent(F)):S&&(E.image=S,l&&(E.coordinates=l),f&&f(),E._finishLoading())})},d.prototype.loaded=function(){return this._loaded},d.prototype.updateImage=function(l){var f=this;return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,function(){f.texture=null}),this):this},d.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setCoordinates=function(l){var f=this;this.coordinates=l;var E=l.map(i.MercatorCoordinate.fromLngLat);this.tileID=function(S){for(var R=1/0,D=1/0,z=-1/0,$=-1/0,ee=0,re=S;ee<re.length;ee+=1){var _e=re[ee];R=Math.min(R,_e.x),D=Math.min(D,_e.y),z=Math.max(z,_e.x),$=Math.max($,_e.y)}var de=Math.max(z-R,$-D),Se=Math.max(0,Math.floor(-Math.log(de)/Math.LN2)),ce=Math.pow(2,Se);return new i.CanonicalTileID(Se,Math.floor((R+z)/2*ce),Math.floor((D+$)/2*ce))}(E),this.minzoom=this.maxzoom=this.tileID.z;var F=E.map(function(S){return f.tileID.getTilePoint(S)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(F[0].x,F[0].y,0,0),this._boundsArray.emplaceBack(F[1].x,F[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(F[3].x,F[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(F[2].x,F[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},d.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var l=this.map.painter.context,f=l.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var F=this.tiles[E];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture)}}},d.prototype.loadTile=function(l,f){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},f(null)):(l.state="errored",f(null))},d.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},d.prototype.hasTransition=function(){return!1},d}(i.Evented),go=function(c){function d(l,f,E,F){c.call(this,l,f,E,F),this.roundZoom=!0,this.type="video",this.options=f}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1;var f=this.options;this.urls=[];for(var E=0,F=f.urls;E<F.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(F[E],i.ResourceType.Source).url);i.getVideo(this.urls,function(S,R){l._loaded=!0,S?l.fire(new i.ErrorEvent(S)):R&&(l.video=R,l.video.loop=!0,l.video.setAttribute("playsinline",""),l.video.addEventListener("playing",function(){l.map.triggerRepaint()}),l.map&&l.video.play(),l._finishLoading())})},d.prototype.pause=function(){this.video&&this.video.pause()},d.prototype.play=function(){this.video&&this.video.play()},d.prototype.seek=function(l){if(this.video){var f=this.video.seekable;l<f.start(0)||l>f.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+f.start(0)+" and "+f.end(0)+"-second mark."))):this.video.currentTime=l}},d.prototype.getVideo=function(){return this.video},d.prototype.onAdd=function(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},d.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var l=this.map.painter.context,f=l.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(l,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this.tiles){var F=this.tiles[E];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture)}}},d.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},d.prototype.hasTransition=function(){return this.video&&!this.video.paused},d}(eo),wo=function(c){function d(l,f,E,F){c.call(this,l,f,E,F),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some(function(S){return!Array.isArray(S)||S.length!==2||S.some(function(R){return typeof R!="number"})})||this.fire(new i.ErrorEvent(new i.ValidationError("sources."+l,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+l,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+l,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof i.window.HTMLCanvasElement||this.fire(new i.ErrorEvent(new i.ValidationError("sources."+l,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+l,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},d.prototype.getCanvas=function(){return this.canvas},d.prototype.onAdd=function(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()},d.prototype.onRemove=function(){this.pause()},d.prototype.prepare=function(){var l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var f=this.map.painter.context,E=f.gl;for(var F in this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,Kr.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(f,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var S=this.tiles[F];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture)}}},d.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},d.prototype.hasTransition=function(){return this._playing},d.prototype._hasInvalidDimensions=function(){for(var l=0,f=[this.canvas.width,this.canvas.height];l<f.length;l+=1){var E=f[l];if(isNaN(E)||E<=0)return!0}return!1},d}(eo),no={vector:Fr,raster:$r,"raster-dem":mr,geojson:Er,video:go,image:eo,canvas:wo};function Xn(c,d){var l=i.identity([]);return i.translate(l,l,[1,1,0]),i.scale(l,l,[.5*c.width,.5*c.height,1]),i.multiply(l,l,c.calculatePosMatrix(d.toUnwrapped()))}function Fo(c,d,l,f,E,F){var S=function(Se,ce,Ae){if(Se)for(var De=0,Ze=Se;De<Ze.length;De+=1){var at=ce[Ze[De]];if(at&&at.source===Ae&&at.type==="fill-extrusion")return!0}else for(var Je in ce){var lt=ce[Je];if(lt.source===Ae&&lt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,d,c.id),R=F.maxPitchScaleFactor(),D=c.tilesIn(f,R,S);D.sort(On);for(var z=[],$=0,ee=D;$<ee.length;$+=1){var re=ee[$];z.push({wrappedTileID:re.tileID.wrapped().key,queryResults:re.tile.queryRenderedFeatures(d,l,c._state,re.queryGeometry,re.cameraQueryGeometry,re.scale,E,F,R,Xn(c.transform,re.tileID))})}var _e=function(Se){for(var ce={},Ae={},De=0,Ze=Se;De<Ze.length;De+=1){var at=Ze[De],Je=at.queryResults,lt=at.wrappedTileID,Pt=Ae[lt]=Ae[lt]||{};for(var Ht in Je)for(var Bt=Je[Ht],ir=Pt[Ht]=Pt[Ht]||{},Cr=ce[Ht]=ce[Ht]||[],Dr=0,Nr=Bt;Dr<Nr.length;Dr+=1){var Bo=Nr[Dr];ir[Bo.featureIndex]||(ir[Bo.featureIndex]=!0,Cr.push(Bo))}}return ce}(z);for(var de in _e)_e[de].forEach(function(Se){var ce=Se.feature,Ae=c.getFeatureState(ce.layer["source-layer"],ce.id);ce.source=ce.layer.source,ce.layer["source-layer"]&&(ce.sourceLayer=ce.layer["source-layer"]),ce.state=Ae});return _e}function On(c,d){var l=c.tileID,f=d.tileID;return l.overscaledZ-f.overscaledZ||l.canonical.y-f.canonical.y||l.wrap-f.wrap||l.canonical.x-f.canonical.x}var $e=function(c,d){this.max=c,this.onRemove=d,this.reset()};$e.prototype.reset=function(){for(var c in this.data)for(var d=0,l=this.data[c];d<l.length;d+=1){var f=l[d];f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value)}return this.data={},this.order=[],this},$e.prototype.add=function(c,d,l){var f=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var F={value:d,timeout:void 0};if(l!==void 0&&(F.timeout=setTimeout(function(){f.remove(c,F)},l)),this.data[E].push(F),this.order.push(E),this.order.length>this.max){var S=this._getAndRemoveByKey(this.order[0]);S&&this.onRemove(S)}return this},$e.prototype.has=function(c){return c.wrapped().key in this.data},$e.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},$e.prototype._getAndRemoveByKey=function(c){var d=this.data[c].shift();return d.timeout&&clearTimeout(d.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),d.value},$e.prototype.getByKey=function(c){var d=this.data[c];return d?d[0].value:null},$e.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},$e.prototype.remove=function(c,d){if(!this.has(c))return this;var l=c.wrapped().key,f=d===void 0?0:this.data[l].indexOf(d),E=this.data[l][f];return this.data[l].splice(f,1),E.timeout&&clearTimeout(E.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(E.value),this.order.splice(this.order.indexOf(l),1),this},$e.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this},$e.prototype.filter=function(c){var d=[];for(var l in this.data)for(var f=0,E=this.data[l];f<E.length;f+=1){var F=E[f];c(F.value)||d.push(F)}for(var S=0,R=d;S<R.length;S+=1){var D=R[S];this.remove(D.value.tileID,D)}};var Yt=function(c,d,l){this.context=c;var f=c.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!l,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer};Yt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Yt.prototype.updateData=function(c){var d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},Yt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Tr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function(c,d,l,f){this.length=d.length,this.attributes=l,this.itemSize=d.bytesPerElement,this.dynamicDraw=f,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(c){var d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,c.arrayBuffer)},At.prototype.enableAttributes=function(c,d){for(var l=0;l<this.attributes.length;l++){var f=d.attributes[this.attributes[l].name];f!==void 0&&c.enableVertexAttribArray(f)}},At.prototype.setVertexAttribPointers=function(c,d,l){for(var f=0;f<this.attributes.length;f++){var E=this.attributes[f],F=d.attributes[E.name];F!==void 0&&c.vertexAttribPointer(F,E.components,c[Tr[E.type]],!1,this.itemSize,E.offset+this.itemSize*(l||0))}},At.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var xr=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};xr.prototype.get=function(){return this.current},xr.prototype.set=function(c){},xr.prototype.getDefault=function(){return this.default},xr.prototype.setDefault=function(){this.set(this.default)};var io=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return i.Color.transparent},d.prototype.set=function(l){var f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},d}(xr),vo=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return 1},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)},d}(xr),ro=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return 0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)},d}(xr),Qr=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return[!0,!0,!0,!0]},d.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},d}(xr),Ao=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)},d}(xr),Kn=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return 255},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)},d}(xr),Jo=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},d.prototype.set=function(l){var f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)},d}(xr),rn=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]},d.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)},d}(xr),bi=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}},d}(xr),ue=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return[0,1]},d.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)},d}(xr),Fi=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}},d}(xr),Za=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.LESS},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)},d}(xr),Ai=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}},d}(xr),ps=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[l.ONE,l.ZERO]},d.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)},d}(xr),pn=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return i.Color.transparent},d.prototype.set=function(l){var f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},d}(xr),Si=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.FUNC_ADD},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)},d}(xr),ca=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}},d}(xr),Ti=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.BACK},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)},d}(xr),xs=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.CCW},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)},d}(xr),Hn=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)},d}(xr),cs=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.TEXTURE0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)},d}(xr),ba=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]},d.prototype.set=function(l){var f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},d}(xr),Ws=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}},d}(xr),qu=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}},d}(xr),Zs=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}},d}(xr),xp=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}},d}(xr),Xs=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){var f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1},d}(xr),Da=function(c){function d(l){c.call(this,l),this.vao=l.extVertexArrayObject}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)},d}(xr),Oa=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return 4},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}},d}(xr),Ps=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}},d}(xr),Ku=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}},d}(xr),jo=function(c){function d(l,f){c.call(this,l),this.context=l,this.parent=f}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d}(xr),U=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.setDirty=function(){this.dirty=!0},d.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}},d}(jo),G=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,l),this.current=l,this.dirty=!1}},d}(jo),W=function(c,d,l,f){this.context=c,this.width=d,this.height=l;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new U(c,E),f&&(this.depthAttachment=new G(c,E))};W.prototype.destroy=function(){var c=this.context.gl,d=this.colorAttachment.get();if(d&&c.deleteTexture(d),this.depthAttachment){var l=this.depthAttachment.get();l&&c.deleteRenderbuffer(l)}c.deleteFramebuffer(this.framebuffer)};var ne=function(c,d,l){this.func=c,this.mask=d,this.range=l};ne.ReadOnly=!1,ne.ReadWrite=!0,ne.disabled=new ne(519,ne.ReadOnly,[0,1]);var ye=function(c,d,l,f,E,F){this.test=c,this.ref=d,this.mask=l,this.fail=f,this.depthFail=E,this.pass=F};ye.disabled=new ye({func:519,mask:0},0,0,7680,7680,7680);var Me=function(c,d,l){this.blendFunction=c,this.blendColor=d,this.mask=l};Me.disabled=new Me(Me.Replace=[1,0],i.Color.transparent,[!1,!1,!1,!1]),Me.unblended=new Me(Me.Replace,i.Color.transparent,[!0,!0,!0,!0]),Me.alphaBlended=new Me([1,771],i.Color.transparent,[!0,!0,!0,!0]);var Oe=function(c,d,l){this.enable=c,this.mode=d,this.frontFace=l};Oe.disabled=new Oe(!1,1029,2305),Oe.backCCW=new Oe(!0,1029,2305);var J=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new io(this),this.clearDepth=new vo(this),this.clearStencil=new ro(this),this.colorMask=new Qr(this),this.depthMask=new Ao(this),this.stencilMask=new Kn(this),this.stencilFunc=new Jo(this),this.stencilOp=new rn(this),this.stencilTest=new bi(this),this.depthRange=new ue(this),this.depthTest=new Fi(this),this.depthFunc=new Za(this),this.blend=new Ai(this),this.blendFunc=new ps(this),this.blendColor=new pn(this),this.blendEquation=new Si(this),this.cullFace=new ca(this),this.cullFaceSide=new Ti(this),this.frontFace=new xs(this),this.program=new Hn(this),this.activeTexture=new cs(this),this.viewport=new ba(this),this.bindFramebuffer=new Ws(this),this.bindRenderbuffer=new qu(this),this.bindTexture=new Zs(this),this.bindVertexBuffer=new xp(this),this.bindElementBuffer=new Xs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Da(this),this.pixelStoreUnpack=new Oa(this),this.pixelStoreUnpackPremultiplyAlpha=new Ps(this),this.pixelStoreUnpackFlipY=new Ku(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};J.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},J.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},J.prototype.createIndexBuffer=function(c,d){return new Yt(this,c,d)},J.prototype.createVertexBuffer=function(c,d,l){return new At(this,c,d,l)},J.prototype.createRenderbuffer=function(c,d,l){var f=this.gl,E=f.createRenderbuffer();return this.bindRenderbuffer.set(E),f.renderbufferStorage(f.RENDERBUFFER,c,d,l),this.bindRenderbuffer.set(null),E},J.prototype.createFramebuffer=function(c,d,l){return new W(this,c,d,l)},J.prototype.clear=function(c){var d=c.color,l=c.depth,f=this.gl,E=0;d&&(E|=f.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(E|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),f.clear(E)},J.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},J.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},J.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},J.prototype.setColorMode=function(c){i.deepEqual(c.blendFunction,Me.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},J.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ge=function(c){function d(l,f,E){var F=this;c.call(this),this.id=l,this.dispatcher=E,this.on("data",function(S){S.dataType==="source"&&S.sourceDataType==="metadata"&&(F._sourceLoaded=!0),F._sourceLoaded&&!F._paused&&S.dataType==="source"&&S.sourceDataType==="content"&&(F.reload(),F.transform&&F.update(F.transform))}),this.on("error",function(){F._sourceErrored=!0}),this._source=function(S,R,D,z){var $=new no[R.type](S,R,D,z);if($.id!==S)throw new Error("Expected Source id to be "+S+" instead of "+$.id);return i.bindAll(["load","abort","unload","serialize","prepare"],$),$}(l,f,E,this),this._tiles={},this._cache=new $e(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.onAdd=function(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)},d.prototype.onRemove=function(l){this._source&&this._source.onRemove&&this._source.onRemove(l)},d.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var l in this._tiles){var f=this._tiles[l];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0},d.prototype.getSource=function(){return this._source},d.prototype.pause=function(){this._paused=!0},d.prototype.resume=function(){if(this._paused){var l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform)}},d.prototype._loadTile=function(l,f){return this._source.loadTile(l,f)},d.prototype._unloadTile=function(l){if(this._source.unloadTile)return this._source.unloadTile(l,function(){})},d.prototype._abortTile=function(l){if(this._source.abortTile)return this._source.abortTile(l,function(){})},d.prototype.serialize=function(){return this._source.serialize()},d.prototype.prepare=function(l){for(var f in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[f];E.upload(l),E.prepare(this.map.style.imageManager)}},d.prototype.getIds=function(){return i.values(this._tiles).map(function(l){return l.tileID}).sort(We).map(function(l){return l.key})},d.prototype.getRenderableIds=function(l){var f=this,E=[];for(var F in this._tiles)this._isIdRenderable(F,l)&&E.push(this._tiles[F]);return l?E.sort(function(S,R){var D=S.tileID,z=R.tileID,$=new i.Point(D.canonical.x,D.canonical.y)._rotate(f.transform.angle),ee=new i.Point(z.canonical.x,z.canonical.y)._rotate(f.transform.angle);return D.overscaledZ-z.overscaledZ||ee.y-$.y||ee.x-$.x}).map(function(S){return S.tileID.key}):E.map(function(S){return S.tileID}).sort(We).map(function(S){return S.key})},d.prototype.hasRenderableParent=function(l){var f=this.findLoadedParent(l,0);return!!f&&this._isIdRenderable(f.tileID.key)},d.prototype._isIdRenderable=function(l,f){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(f||!this._tiles[l].holdingForFade())},d.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var l in this._cache.reset(),this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")},d.prototype._reloadTile=function(l,f){var E=this._tiles[l];E&&(E.state!=="loading"&&(E.state=f),this._loadTile(E,this._tileLoaded.bind(this,E,l,f)))},d.prototype._tileLoaded=function(l,f,E,F){if(F)return l.state="errored",void(F.status!==404?this._source.fire(new i.ErrorEvent(F,{tile:l})):this.update(this.transform));l.timeAdded=i.browser.now(),E==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(f,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:l,coord:l.tileID}))},d.prototype._backfillDEM=function(l){for(var f=this.getRenderableIds(),E=0;E<f.length;E++){var F=f[E];if(l.neighboringTiles&&l.neighboringTiles[F]){var S=this.getTileByID(F);R(l,S),R(S,l)}}function R(D,z){D.needsHillshadePrepare=!0;var $=z.tileID.canonical.x-D.tileID.canonical.x,ee=z.tileID.canonical.y-D.tileID.canonical.y,re=Math.pow(2,D.tileID.canonical.z),_e=z.tileID.key;$===0&&ee===0||Math.abs(ee)>1||(Math.abs($)>1&&(Math.abs($+re)===1?$+=re:Math.abs($-re)===1&&($-=re)),z.dem&&D.dem&&(D.dem.backfillBorder(z.dem,$,ee),D.neighboringTiles&&D.neighboringTiles[_e]&&(D.neighboringTiles[_e].backfilled=!0)))}},d.prototype.getTile=function(l){return this.getTileByID(l.key)},d.prototype.getTileByID=function(l){return this._tiles[l]},d.prototype._retainLoadedChildren=function(l,f,E,F){for(var S in this._tiles){var R=this._tiles[S];if(!(F[S]||!R.hasData()||R.tileID.overscaledZ<=f||R.tileID.overscaledZ>E)){for(var D=R.tileID;R&&R.tileID.overscaledZ>f+1;){var z=R.tileID.scaledTo(R.tileID.overscaledZ-1);(R=this._tiles[z.key])&&R.hasData()&&(D=z)}for(var $=D;$.overscaledZ>f;)if(l[($=$.scaledTo($.overscaledZ-1)).key]){F[D.key]=D;break}}}},d.prototype.findLoadedParent=function(l,f){if(l.key in this._loadedParentTiles){var E=this._loadedParentTiles[l.key];return E&&E.tileID.overscaledZ>=f?E:null}for(var F=l.overscaledZ-1;F>=f;F--){var S=l.scaledTo(F),R=this._getLoadedTile(S);if(R)return R}},d.prototype._getLoadedTile=function(l){var f=this._tiles[l.key];return f&&f.hasData()?f:this._cache.getByKey(l.wrapped().key)},d.prototype.updateCacheSize=function(l){var f=Math.ceil(l.width/this._source.tileSize)+1,E=Math.ceil(l.height/this._source.tileSize)+1,F=Math.floor(f*E*5),S=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,F):F;this._cache.setMaxSize(S)},d.prototype.handleWrapJump=function(l){var f=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,f){var E={};for(var F in this._tiles){var S=this._tiles[F];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+f),E[S.tileID.key]=S}for(var R in this._tiles=E,this._timers)clearTimeout(this._timers[R]),delete this._timers[R];for(var D in this._tiles)this._setTileReloadTimer(D,this._tiles[D])}},d.prototype.update=function(l){var f=this;if(this.transform=l,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Pt){return new i.OverscaledTileID(Pt.canonical.z,Pt.wrap,Pt.canonical.z,Pt.canonical.x,Pt.canonical.y)}):(E=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(Pt){return f._source.hasTile(Pt)}))):E=[];var F=l.coveringZoomLevel(this._source),S=Math.max(F-d.maxOverzooming,this._source.minzoom),R=Math.max(F+d.maxUnderzooming,this._source.minzoom),D=this._updateRetainedTiles(E,F);if(ht(this._source.type)){for(var z={},$={},ee=0,re=Object.keys(D);ee<re.length;ee+=1){var _e=re[ee],de=D[_e],Se=this._tiles[_e];if(Se&&!(Se.fadeEndTime&&Se.fadeEndTime<=i.browser.now())){var ce=this.findLoadedParent(de,S);ce&&(this._addTile(ce.tileID),z[ce.tileID.key]=ce.tileID),$[_e]=de}}for(var Ae in this._retainLoadedChildren($,F,R,D),z)D[Ae]||(this._coveredTiles[Ae]=!0,D[Ae]=z[Ae])}for(var De in D)this._tiles[De].clearFadeHold();for(var Ze=0,at=i.keysDifference(this._tiles,D);Ze<at.length;Ze+=1){var Je=at[Ze],lt=this._tiles[Je];lt.hasSymbolBuckets&&!lt.holdingForFade()?lt.setHoldDuration(this.map._fadeDuration):lt.hasSymbolBuckets&&!lt.symbolFadeFinished()||this._removeTile(Je)}this._updateLoadedParentTileCache()}},d.prototype.releaseSymbolFadeTiles=function(){for(var l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)},d.prototype._updateRetainedTiles=function(l,f){for(var E={},F={},S=Math.max(f-d.maxOverzooming,this._source.minzoom),R=Math.max(f+d.maxUnderzooming,this._source.minzoom),D={},z=0,$=l;z<$.length;z+=1){var ee=$[z],re=this._addTile(ee);E[ee.key]=ee,re.hasData()||f<this._source.maxzoom&&(D[ee.key]=ee)}this._retainLoadedChildren(D,f,R,E);for(var _e=0,de=l;_e<de.length;_e+=1){var Se=de[_e],ce=this._tiles[Se.key];if(!ce.hasData()){if(f+1>this._source.maxzoom){var Ae=Se.children(this._source.maxzoom)[0],De=this.getTile(Ae);if(De&&De.hasData()){E[Ae.key]=Ae;continue}}else{var Ze=Se.children(this._source.maxzoom);if(E[Ze[0].key]&&E[Ze[1].key]&&E[Ze[2].key]&&E[Ze[3].key])continue}for(var at=ce.wasRequested(),Je=Se.overscaledZ-1;Je>=S;--Je){var lt=Se.scaledTo(Je);if(F[lt.key]||(F[lt.key]=!0,!(ce=this.getTile(lt))&&at&&(ce=this._addTile(lt)),ce&&(E[lt.key]=lt,at=ce.wasRequested(),ce.hasData())))break}}}return E},d.prototype._updateLoadedParentTileCache=function(){for(var l in this._loadedParentTiles={},this._tiles){for(var f=[],E=void 0,F=this._tiles[l].tileID;F.overscaledZ>0;){if(F.key in this._loadedParentTiles){E=this._loadedParentTiles[F.key];break}f.push(F.key);var S=F.scaledTo(F.overscaledZ-1);if(E=this._getLoadedTile(S))break;F=S}for(var R=0,D=f;R<D.length;R+=1)this._loadedParentTiles[D[R]]=E}},d.prototype._addTile=function(l){var f=this._tiles[l.key];if(f)return f;(f=this._cache.getAndRemove(l))&&(this._setTileReloadTimer(l.key,f),f.tileID=l,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,f)));var E=!!f;return E||(f=new i.Tile(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,l.key,f.state))),f?(f.uses++,this._tiles[l.key]=f,E||this._source.fire(new i.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f):null},d.prototype._setTileReloadTimer=function(l,f){var E=this;l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);var F=f.getExpiryTimeout();F&&(this._timers[l]=setTimeout(function(){E._reloadTile(l,"expired"),delete E._timers[l]},F))},d.prototype._removeTile=function(l){var f=this._tiles[l];f&&(f.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))},d.prototype.clearTiles=function(){for(var l in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(l);this._cache.reset()},d.prototype.tilesIn=function(l,f,E){var F=this,S=[],R=this.transform;if(!R)return S;for(var D=E?R.getCameraQueryGeometry(l):l,z=l.map(function(Je){return R.pointCoordinate(Je)}),$=D.map(function(Je){return R.pointCoordinate(Je)}),ee=this.getIds(),re=1/0,_e=1/0,de=-1/0,Se=-1/0,ce=0,Ae=$;ce<Ae.length;ce+=1){var De=Ae[ce];re=Math.min(re,De.x),_e=Math.min(_e,De.y),de=Math.max(de,De.x),Se=Math.max(Se,De.y)}for(var Ze=function(Je){var lt=F._tiles[ee[Je]];if(!lt.holdingForFade()){var Pt=lt.tileID,Ht=Math.pow(2,R.zoom-lt.tileID.overscaledZ),Bt=f*lt.queryPadding*i.EXTENT/lt.tileSize/Ht,ir=[Pt.getTilePoint(new i.MercatorCoordinate(re,_e)),Pt.getTilePoint(new i.MercatorCoordinate(de,Se))];if(ir[0].x-Bt<i.EXTENT&&ir[0].y-Bt<i.EXTENT&&ir[1].x+Bt>=0&&ir[1].y+Bt>=0){var Cr=z.map(function(Nr){return Pt.getTilePoint(Nr)}),Dr=$.map(function(Nr){return Pt.getTilePoint(Nr)});S.push({tile:lt,tileID:Pt,queryGeometry:Cr,cameraQueryGeometry:Dr,scale:Ht})}}},at=0;at<ee.length;at++)Ze(at);return S},d.prototype.getVisibleCoordinates=function(l){for(var f=this,E=this.getRenderableIds(l).map(function(D){return f._tiles[D].tileID}),F=0,S=E;F<S.length;F+=1){var R=S[F];R.posMatrix=this.transform.calculatePosMatrix(R.toUnwrapped())}return E},d.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(ht(this._source.type))for(var l in this._tiles){var f=this._tiles[l];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=i.browser.now())return!0}return!1},d.prototype.setFeatureState=function(l,f,E){this._state.updateState(l=l||"_geojsonTileLayer",f,E)},d.prototype.removeFeatureState=function(l,f,E){this._state.removeFeatureState(l=l||"_geojsonTileLayer",f,E)},d.prototype.getFeatureState=function(l,f){return this._state.getState(l=l||"_geojsonTileLayer",f)},d.prototype.setDependencies=function(l,f,E){var F=this._tiles[l];F&&F.setDependencies(f,E)},d.prototype.reloadTilesForDependencies=function(l,f){for(var E in this._tiles)this._tiles[E].hasDependency(l,f)&&this._reloadTile(E,"reloading");this._cache.filter(function(F){return!F.hasDependency(l,f)})},d}(i.Evented);function We(c,d){var l=Math.abs(2*c.wrap)-+(c.wrap<0),f=Math.abs(2*d.wrap)-+(d.wrap<0);return c.overscaledZ-d.overscaledZ||f-l||d.canonical.y-c.canonical.y||d.canonical.x-c.canonical.x}function ht(c){return c==="raster"||c==="image"||c==="video"}function Nt(){return new i.window.Worker(ol.workerUrl)}ge.maxOverzooming=10,ge.maxUnderzooming=3;var ct="mapboxgl_preloaded_worker_pool",wt=function(){this.active={}};wt.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<wt.workerCount;)this.workers.push(new Nt);return this.active[c]=!0,this.workers.slice()},wt.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(d){d.terminate()}),this.workers=null)},wt.prototype.isPreloaded=function(){return!!this.active[ct]},wt.prototype.numActive=function(){return Object.keys(this.active).length};var _r,yr=Math.floor(i.browser.hardwareConcurrency/2);function dt(){return _r||(_r=new wt),_r}function or(c,d){var l={};for(var f in c)f!=="ref"&&(l[f]=c[f]);return i.refProperties.forEach(function(E){E in d&&(l[E]=d[E])}),l}function Wt(c){c=c.slice();for(var d=Object.create(null),l=0;l<c.length;l++)d[c[l].id]=c[l];for(var f=0;f<c.length;f++)"ref"in c[f]&&(c[f]=or(c[f],d[c[f].ref]));return c}wt.workerCount=Math.max(Math.min(yr,6),1);var Xt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ao(c,d,l){l.push({command:Xt.addSource,args:[c,d[c]]})}function er(c,d,l){d.push({command:Xt.removeSource,args:[c]}),l[c]=!0}function So(c,d,l,f){er(c,l,f),ao(c,d,l)}function en(c,d,l){var f;for(f in c[l])if(c[l].hasOwnProperty(f)&&f!=="data"&&!i.deepEqual(c[l][f],d[l][f]))return!1;for(f in d[l])if(d[l].hasOwnProperty(f)&&f!=="data"&&!i.deepEqual(c[l][f],d[l][f]))return!1;return!0}function Eo(c,d,l,f,E,F){var S;for(S in d=d||{},c=c||{})c.hasOwnProperty(S)&&(i.deepEqual(c[S],d[S])||l.push({command:F,args:[f,S,d[S],E]}));for(S in d)d.hasOwnProperty(S)&&!c.hasOwnProperty(S)&&(i.deepEqual(c[S],d[S])||l.push({command:F,args:[f,S,d[S],E]}))}function No(c){return c.id}function so(c,d){return c[d.id]=d,c}var Gn=function(c,d){this.reset(c,d)};Gn.prototype.reset=function(c,d){this.points=c||[],this._distances=[0];for(var l=1;l<this.points.length;l++)this._distances[l]=this._distances[l-1]+this.points[l].dist(this.points[l-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Gn.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=i.clamp(c,0,1);for(var d=1,l=this._distances[d],f=c*this.paddedLength+this.padding;l<f&&d<this._distances.length;)l=this._distances[++d];var E=d-1,F=this._distances[E],S=l-F,R=S>0?(f-F)/S:0;return this.points[E].mult(1-R).add(this.points[d].mult(R))};var Ro=function(c,d,l){var f=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/l),this.yCellCount=Math.ceil(d/l);for(var F=0;F<this.xCellCount*this.yCellCount;F++)f.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=d,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0};function tn(c,d,l,f,E){var F=i.create();return d?(i.scale(F,F,[1/E,1/E,1]),l||i.rotateZ(F,F,f.angle)):i.multiply(F,f.labelPlaneMatrix,c),F}function zo(c,d,l,f,E){if(d){var F=i.clone(c);return i.scale(F,F,[E,E,1]),l||i.rotateZ(F,F,-f.angle),F}return f.glCoordMatrix}function uo(c,d){var l=[c.x,c.y,0,1];_n(l,l,d);var f=l[3];return{point:new i.Point(l[0]/f,l[1]/f),signedDistanceFromCamera:f}}function xo(c,d){return .5+c/d*.5}function Bi(c,d){var l=c[0]/c[3],f=c[1]/c[3];return l>=-d[0]&&l<=d[0]&&f>=-d[1]&&f<=d[1]}function mu(c,d,l,f,E,F,S,R){var D=f?c.textSizeData:c.iconSizeData,z=i.evaluateSizeForZoom(D,l.transform.zoom),$=[256/l.width*2+1,256/l.height*2+1],ee=f?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;ee.clear();for(var re=c.lineVertexArray,_e=f?c.text.placedSymbolArray:c.icon.placedSymbolArray,de=l.transform.width/l.transform.height,Se=!1,ce=0;ce<_e.length;ce++){var Ae=_e.get(ce);if(Ae.hidden||Ae.writingMode===i.WritingMode.vertical&&!Se)li(Ae.numGlyphs,ee);else{Se=!1;var De=[Ae.anchorX,Ae.anchorY,0,1];if(i.transformMat4(De,De,d),Bi(De,$)){var Ze=xo(l.transform.cameraToCenterDistance,De[3]),at=i.evaluateSizeForFeature(D,z,Ae),Je=S?at/Ze:at*Ze,lt=new i.Point(Ae.anchorX,Ae.anchorY),Pt=uo(lt,E).point,Ht={},Bt=_u(Ae,Je,!1,R,d,E,F,c.glyphOffsetArray,re,ee,Pt,lt,Ht,de);Se=Bt.useVertical,(Bt.notEnoughRoom||Se||Bt.needsFlipping&&_u(Ae,Je,!0,R,d,E,F,c.glyphOffsetArray,re,ee,Pt,lt,Ht,de).notEnoughRoom)&&li(Ae.numGlyphs,ee)}else li(Ae.numGlyphs,ee)}}f?c.text.dynamicLayoutVertexBuffer.updateData(ee):c.icon.dynamicLayoutVertexBuffer.updateData(ee)}function Ln(c,d,l,f,E,F,S,R,D,z,$){var ee=R.glyphStartIndex+R.numGlyphs,re=R.lineStartIndex,_e=R.lineStartIndex+R.lineLength,de=d.getoffsetX(R.glyphStartIndex),Se=d.getoffsetX(ee-1),ce=mn(c*de,l,f,E,F,S,R.segment,re,_e,D,z,$);if(!ce)return null;var Ae=mn(c*Se,l,f,E,F,S,R.segment,re,_e,D,z,$);return Ae?{first:ce,last:Ae}:null}function En(c,d,l,f){return c===i.WritingMode.horizontal&&Math.abs(l.y-d.y)>Math.abs(l.x-d.x)*f?{useVertical:!0}:(c===i.WritingMode.vertical?d.y<l.y:d.x>l.x)?{needsFlipping:!0}:null}function _u(c,d,l,f,E,F,S,R,D,z,$,ee,re,_e){var de,Se=d/24,ce=c.lineOffsetX*Se,Ae=c.lineOffsetY*Se;if(c.numGlyphs>1){var De=c.glyphStartIndex+c.numGlyphs,Ze=c.lineStartIndex,at=c.lineStartIndex+c.lineLength,Je=Ln(Se,R,ce,Ae,l,$,ee,c,D,F,re);if(!Je)return{notEnoughRoom:!0};var lt=uo(Je.first.point,S).point,Pt=uo(Je.last.point,S).point;if(f&&!l){var Ht=En(c.writingMode,lt,Pt,_e);if(Ht)return Ht}de=[Je.first];for(var Bt=c.glyphStartIndex+1;Bt<De-1;Bt++)de.push(mn(Se*R.getoffsetX(Bt),ce,Ae,l,$,ee,c.segment,Ze,at,D,F,re));de.push(Je.last)}else{if(f&&!l){var ir=uo(ee,E).point,Cr=c.lineStartIndex+c.segment+1,Dr=new i.Point(D.getx(Cr),D.gety(Cr)),Nr=uo(Dr,E),Bo=Nr.signedDistanceFromCamera>0?Nr.point:Xa(ee,Dr,ir,1,E),lr=En(c.writingMode,ir,Bo,_e);if(lr)return lr}var qr=mn(Se*R.getoffsetX(c.glyphStartIndex),ce,Ae,l,$,ee,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,D,F,re);if(!qr)return{notEnoughRoom:!0};de=[qr]}for(var lo=0,Xr=de;lo<Xr.length;lo+=1){var jr=Xr[lo];i.addDynamicAttributes(z,jr.point,jr.angle)}return{}}function Xa(c,d,l,f,E){var F=uo(c.add(c.sub(d)._unit()),E).point,S=l.sub(F);return l.add(S._mult(f/S.mag()))}function mn(c,d,l,f,E,F,S,R,D,z,$,ee){var re=f?c-d:c+d,_e=re>0?1:-1,de=0;f&&(_e*=-1,de=Math.PI),_e<0&&(de+=Math.PI);for(var Se=_e>0?R+S:R+S+1,ce=E,Ae=E,De=0,Ze=0,at=Math.abs(re),Je=[];De+Ze<=at;){if((Se+=_e)<R||Se>=D)return null;if(Ae=ce,Je.push(ce),(ce=ee[Se])===void 0){var lt=new i.Point(z.getx(Se),z.gety(Se)),Pt=uo(lt,$);if(Pt.signedDistanceFromCamera>0)ce=ee[Se]=Pt.point;else{var Ht=Se-_e;ce=Xa(De===0?F:new i.Point(z.getx(Ht),z.gety(Ht)),lt,Ae,at-De+1,$)}}De+=Ze,Ze=Ae.dist(ce)}var Bt=(at-De)/Ze,ir=ce.sub(Ae),Cr=ir.mult(Bt)._add(Ae);Cr._add(ir._unit()._perp()._mult(l*_e));var Dr=de+Math.atan2(ce.y-Ae.y,ce.x-Ae.x);return Je.push(Cr),{point:Cr,angle:Dr,path:Je}}Ro.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ro.prototype.insert=function(c,d,l,f,E){this._forEachCell(d,l,f,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(d),this.bboxes.push(l),this.bboxes.push(f),this.bboxes.push(E)},Ro.prototype.insertCircle=function(c,d,l,f){this._forEachCell(d-f,l-f,d+f,l+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(d),this.circles.push(l),this.circles.push(f)},Ro.prototype._insertBoxCell=function(c,d,l,f,E,F){this.boxCells[E].push(F)},Ro.prototype._insertCircleCell=function(c,d,l,f,E,F){this.circleCells[E].push(F)},Ro.prototype._query=function(c,d,l,f,E,F){if(l<0||c>this.width||f<0||d>this.height)return!E&&[];var S=[];if(c<=0&&d<=0&&this.width<=l&&this.height<=f){if(E)return!0;for(var R=0;R<this.boxKeys.length;R++)S.push({key:this.boxKeys[R],x1:this.bboxes[4*R],y1:this.bboxes[4*R+1],x2:this.bboxes[4*R+2],y2:this.bboxes[4*R+3]});for(var D=0;D<this.circleKeys.length;D++){var z=this.circles[3*D],$=this.circles[3*D+1],ee=this.circles[3*D+2];S.push({key:this.circleKeys[D],x1:z-ee,y1:$-ee,x2:z+ee,y2:$+ee})}return F?S.filter(F):S}return this._forEachCell(c,d,l,f,this._queryCell,S,{hitTest:E,seenUids:{box:{},circle:{}}},F),E?S.length>0:S},Ro.prototype._queryCircle=function(c,d,l,f,E){var F=c-l,S=c+l,R=d-l,D=d+l;if(S<0||F>this.width||D<0||R>this.height)return!f&&[];var z=[];return this._forEachCell(F,R,S,D,this._queryCellCircle,z,{hitTest:f,circle:{x:c,y:d,radius:l},seenUids:{box:{},circle:{}}},E),f?z.length>0:z},Ro.prototype.query=function(c,d,l,f,E){return this._query(c,d,l,f,!1,E)},Ro.prototype.hitTest=function(c,d,l,f,E){return this._query(c,d,l,f,!0,E)},Ro.prototype.hitTestCircle=function(c,d,l,f){return this._queryCircle(c,d,l,!0,f)},Ro.prototype._queryCell=function(c,d,l,f,E,F,S,R){var D=S.seenUids,z=this.boxCells[E];if(z!==null)for(var $=this.bboxes,ee=0,re=z;ee<re.length;ee+=1){var _e=re[ee];if(!D.box[_e]){D.box[_e]=!0;var de=4*_e;if(c<=$[de+2]&&d<=$[de+3]&&l>=$[de+0]&&f>=$[de+1]&&(!R||R(this.boxKeys[_e]))){if(S.hitTest)return F.push(!0),!0;F.push({key:this.boxKeys[_e],x1:$[de],y1:$[de+1],x2:$[de+2],y2:$[de+3]})}}}var Se=this.circleCells[E];if(Se!==null)for(var ce=this.circles,Ae=0,De=Se;Ae<De.length;Ae+=1){var Ze=De[Ae];if(!D.circle[Ze]){D.circle[Ze]=!0;var at=3*Ze;if(this._circleAndRectCollide(ce[at],ce[at+1],ce[at+2],c,d,l,f)&&(!R||R(this.circleKeys[Ze]))){if(S.hitTest)return F.push(!0),!0;var Je=ce[at],lt=ce[at+1],Pt=ce[at+2];F.push({key:this.circleKeys[Ze],x1:Je-Pt,y1:lt-Pt,x2:Je+Pt,y2:lt+Pt})}}}},Ro.prototype._queryCellCircle=function(c,d,l,f,E,F,S,R){var D=S.circle,z=S.seenUids,$=this.boxCells[E];if($!==null)for(var ee=this.bboxes,re=0,_e=$;re<_e.length;re+=1){var de=_e[re];if(!z.box[de]){z.box[de]=!0;var Se=4*de;if(this._circleAndRectCollide(D.x,D.y,D.radius,ee[Se+0],ee[Se+1],ee[Se+2],ee[Se+3])&&(!R||R(this.boxKeys[de])))return F.push(!0),!0}}var ce=this.circleCells[E];if(ce!==null)for(var Ae=this.circles,De=0,Ze=ce;De<Ze.length;De+=1){var at=Ze[De];if(!z.circle[at]){z.circle[at]=!0;var Je=3*at;if(this._circlesCollide(Ae[Je],Ae[Je+1],Ae[Je+2],D.x,D.y,D.radius)&&(!R||R(this.circleKeys[at])))return F.push(!0),!0}}},Ro.prototype._forEachCell=function(c,d,l,f,E,F,S,R){for(var D=this._convertToXCellCoord(c),z=this._convertToYCellCoord(d),$=this._convertToXCellCoord(l),ee=this._convertToYCellCoord(f),re=D;re<=$;re++)for(var _e=z;_e<=ee;_e++)if(E.call(this,c,d,l,f,this.xCellCount*_e+re,F,S,R))return},Ro.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},Ro.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},Ro.prototype._circlesCollide=function(c,d,l,f,E,F){var S=f-c,R=E-d,D=l+F;return D*D>S*S+R*R},Ro.prototype._circleAndRectCollide=function(c,d,l,f,E,F,S){var R=(F-f)/2,D=Math.abs(c-(f+R));if(D>R+l)return!1;var z=(S-E)/2,$=Math.abs(d-(E+z));if($>z+l)return!1;if(D<=R||$<=z)return!0;var ee=D-R,re=$-z;return ee*ee+re*re<=l*l};var Ys=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function li(c,d){for(var l=0;l<c;l++){var f=d.length;d.resize(f+4),d.float32.set(Ys,3*f)}}function _n(c,d,l){var f=d[0],E=d[1];return c[0]=l[0]*f+l[4]*E+l[12],c[1]=l[1]*f+l[5]*E+l[13],c[3]=l[3]*f+l[7]*E+l[15],c}var jn=function(c,d,l){d===void 0&&(d=new Ro(c.width+200,c.height+200,25)),l===void 0&&(l=new Ro(c.width+200,c.height+200,25)),this.transform=c,this.grid=d,this.ignoredGrid=l,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function cn(c,d,l){return d*(i.EXTENT/(c.tileSize*Math.pow(2,l-c.tileID.overscaledZ)))}jn.prototype.placeCollisionBox=function(c,d,l,f,E){var F=this.projectAndGetPerspectiveRatio(f,c.anchorPointX,c.anchorPointY),S=l*F.perspectiveRatio,R=c.x1*S+F.point.x,D=c.y1*S+F.point.y,z=c.x2*S+F.point.x,$=c.y2*S+F.point.y;return!this.isInsideGrid(R,D,z,$)||!d&&this.grid.hitTest(R,D,z,$,E)?{box:[],offscreen:!1}:{box:[R,D,z,$],offscreen:this.isOffscreen(R,D,z,$)}},jn.prototype.placeCollisionCircles=function(c,d,l,f,E,F,S,R,D,z,$,ee,re){var _e=[],de=new i.Point(d.anchorX,d.anchorY),Se=uo(de,F),ce=xo(this.transform.cameraToCenterDistance,Se.signedDistanceFromCamera),Ae=(z?E/ce:E*ce)/i.ONE_EM,De=uo(de,S).point,Ze=Ln(Ae,f,d.lineOffsetX*Ae,d.lineOffsetY*Ae,!1,De,de,d,l,S,{}),at=!1,Je=!1,lt=!0;if(Ze){for(var Pt=.5*ee*ce+re,Ht=new i.Point(-100,-100),Bt=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),ir=new Gn,Cr=Ze.first,Dr=Ze.last,Nr=[],Bo=Cr.path.length-1;Bo>=1;Bo--)Nr.push(Cr.path[Bo]);for(var lr=1;lr<Dr.path.length;lr++)Nr.push(Dr.path[lr]);var qr=2.5*Pt;if(R){var lo=Nr.map(function(Ca){return uo(Ca,R)});Nr=lo.some(function(Ca){return Ca.signedDistanceFromCamera<=0})?[]:lo.map(function(Ca){return Ca.point})}var Xr=[];if(Nr.length>0){for(var jr=Nr[0].clone(),po=Nr[0].clone(),Wr=1;Wr<Nr.length;Wr++)jr.x=Math.min(jr.x,Nr[Wr].x),jr.y=Math.min(jr.y,Nr[Wr].y),po.x=Math.max(po.x,Nr[Wr].x),po.y=Math.max(po.y,Nr[Wr].y);Xr=jr.x>=Ht.x&&po.x<=Bt.x&&jr.y>=Ht.y&&po.y<=Bt.y?[Nr]:po.x<Ht.x||jr.x>Bt.x||po.y<Ht.y||jr.y>Bt.y?[]:i.clipLine([Nr],Ht.x,Ht.y,Bt.x,Bt.y)}for(var zr=0,Qn=Xr;zr<Qn.length;zr+=1){var Rn;ir.reset(Qn[zr],.25*Pt),Rn=ir.length<=.5*Pt?1:Math.ceil(ir.paddedLength/qr)+1;for(var Ci=0;Ci<Rn;Ci++){var fi=Ci/Math.max(Rn-1,1),Tn=ir.lerp(fi),Cn=Tn.x+100,oa=Tn.y+100;_e.push(Cn,oa,Pt,0);var $i=Cn-Pt,Is=oa-Pt,na=Cn+Pt,ts=oa+Pt;if(lt=lt&&this.isOffscreen($i,Is,na,ts),Je=Je||this.isInsideGrid($i,Is,na,ts),!c&&this.grid.hitTestCircle(Cn,oa,Pt,$)&&(at=!0,!D))return{circles:[],offscreen:!1,collisionDetected:at}}}}return{circles:!D&&at||!Je?[]:_e,offscreen:lt,collisionDetected:at}},jn.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var d=[],l=1/0,f=1/0,E=-1/0,F=-1/0,S=0,R=c;S<R.length;S+=1){var D=R[S],z=new i.Point(D.x+100,D.y+100);l=Math.min(l,z.x),f=Math.min(f,z.y),E=Math.max(E,z.x),F=Math.max(F,z.y),d.push(z)}for(var $={},ee={},re=0,_e=this.grid.query(l,f,E,F).concat(this.ignoredGrid.query(l,f,E,F));re<_e.length;re+=1){var de=_e[re],Se=de.key;if($[Se.bucketInstanceId]===void 0&&($[Se.bucketInstanceId]={}),!$[Se.bucketInstanceId][Se.featureIndex]){var ce=[new i.Point(de.x1,de.y1),new i.Point(de.x2,de.y1),new i.Point(de.x2,de.y2),new i.Point(de.x1,de.y2)];i.polygonIntersectsPolygon(d,ce)&&($[Se.bucketInstanceId][Se.featureIndex]=!0,ee[Se.bucketInstanceId]===void 0&&(ee[Se.bucketInstanceId]=[]),ee[Se.bucketInstanceId].push(Se.featureIndex))}}return ee},jn.prototype.insertCollisionBox=function(c,d,l,f,E){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:l,featureIndex:f,collisionGroupID:E},c[0],c[1],c[2],c[3])},jn.prototype.insertCollisionCircles=function(c,d,l,f,E){for(var F=d?this.ignoredGrid:this.grid,S={bucketInstanceId:l,featureIndex:f,collisionGroupID:E},R=0;R<c.length;R+=4)F.insertCircle(S,c[R],c[R+1],c[R+2])},jn.prototype.projectAndGetPerspectiveRatio=function(c,d,l){var f=[d,l,0,1];return _n(f,f,c),{point:new i.Point((f[0]/f[3]+1)/2*this.transform.width+100,(-f[1]/f[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/f[3]*.5}},jn.prototype.isOffscreen=function(c,d,l,f){return l<100||c>=this.screenRightBoundary||f<100||d>this.screenBottomBoundary},jn.prototype.isInsideGrid=function(c,d,l,f){return l>=0&&c<this.gridRightBoundary&&f>=0&&d<this.gridBottomBoundary},jn.prototype.getViewportMatrix=function(){var c=i.identity([]);return i.translate(c,c,[-100,-100,0]),c};var ea=function(c,d,l,f){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?d:-d))):f&&l?1:0,this.placed=l};ea.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Zi=function(c,d,l,f,E){this.text=new ea(c?c.text:null,d,l,E),this.icon=new ea(c?c.icon:null,d,f,E)};Zi.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Jp=function(c,d,l){this.text=c,this.icon=d,this.skipFade=l},Fa=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Ml=function(c,d,l,f,E){this.bucketInstanceId=c,this.featureIndex=d,this.sourceLayerIndex=l,this.bucketIndex=f,this.tileID=E},Z=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function oe(c,d,l,f,E){var F=i.getAnchorAlignment(c),S=-(F.horizontalAlign-.5)*d,R=-(F.verticalAlign-.5)*l,D=i.evaluateVariableOffset(c,f);return new i.Point(S+D[0]*E,R+D[1]*E)}function we(c,d,l,f,E,F){var S=c.x1,R=c.x2,D=c.y1,z=c.y2,$=c.anchorPointX,ee=c.anchorPointY,re=new i.Point(d,l);return f&&re._rotate(E?F:-F),{x1:S+re.x,y1:D+re.y,x2:R+re.x,y2:z+re.y,anchorPointX:$,anchorPointY:ee}}Z.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var d=++this.maxGroupID;this.collisionGroups[c]={ID:d,predicate:function(l){return l.collisionGroupID===d}}}return this.collisionGroups[c]};var rt=function(c,d,l,f){this.transform=c.clone(),this.collisionIndex=new jn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new Z(l),this.collisionCircleArrays={},this.prevPlacement=f,f&&(f.prevPlacement=void 0),this.placedOrientations={}};function zt(c,d,l,f,E){c.emplaceBack(d?1:0,l?1:0,f||0,E||0),c.emplaceBack(d?1:0,l?1:0,f||0,E||0),c.emplaceBack(d?1:0,l?1:0,f||0,E||0),c.emplaceBack(d?1:0,l?1:0,f||0,E||0)}rt.prototype.getBucketParts=function(c,d,l,f){var E=l.getBucket(d),F=l.latestFeatureIndex;if(E&&F&&d.id===E.layerIds[0]){var S=l.collisionBoxArray,R=E.layers[0].layout,D=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),z=l.tileSize/i.EXTENT,$=this.transform.calculatePosMatrix(l.tileID.toUnwrapped()),ee=R.get("text-pitch-alignment")==="map",re=R.get("text-rotation-alignment")==="map",_e=cn(l,1,this.transform.zoom),de=tn($,ee,re,this.transform,_e),Se=null;if(ee){var ce=zo($,ee,re,this.transform,_e);Se=i.multiply([],this.transform.labelPlaneMatrix,ce)}this.retainedQueryData[E.bucketInstanceId]=new Ml(E.bucketInstanceId,F,E.sourceLayerIndex,E.index,l.tileID);var Ae={bucket:E,layout:R,posMatrix:$,textLabelPlaneMatrix:de,labelToScreenMatrix:Se,scale:D,textPixelRatio:z,holdingForFade:l.holdingForFade(),collisionBoxArray:S,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(f)for(var De=0,Ze=E.sortKeyRanges;De<Ze.length;De+=1){var at=Ze[De];c.push({sortKey:at.sortKey,symbolInstanceStart:at.symbolInstanceStart,symbolInstanceEnd:at.symbolInstanceEnd,parameters:Ae})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Ae})}},rt.prototype.attemptAnchorPlacement=function(c,d,l,f,E,F,S,R,D,z,$,ee,re,_e,de){var Se,ce=[ee.textOffset0,ee.textOffset1],Ae=oe(c,l,f,ce,E),De=this.collisionIndex.placeCollisionBox(we(d,Ae.x,Ae.y,F,S,this.transform.angle),$,R,D,z.predicate);if(!de||this.collisionIndex.placeCollisionBox(we(de,Ae.x,Ae.y,F,S,this.transform.angle),$,R,D,z.predicate).box.length!==0)return De.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(Se=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),this.variableOffsets[ee.crossTileID]={textOffset:ce,width:l,height:f,anchor:c,textBoxScale:E,prevAnchor:Se},this.markUsedJustification(re,c,ee,_e),re.allowVerticalPlacement&&(this.markUsedOrientation(re,_e,ee),this.placedOrientations[ee.crossTileID]=_e),{shift:Ae,placedGlyphBoxes:De}):void 0},rt.prototype.placeLayerBucketPart=function(c,d,l){var f=this,E=c.parameters,F=E.bucket,S=E.layout,R=E.posMatrix,D=E.textLabelPlaneMatrix,z=E.labelToScreenMatrix,$=E.textPixelRatio,ee=E.holdingForFade,re=E.collisionBoxArray,_e=E.partiallyEvaluatedTextSize,de=E.collisionGroup,Se=S.get("text-optional"),ce=S.get("icon-optional"),Ae=S.get("text-allow-overlap"),De=S.get("icon-allow-overlap"),Ze=S.get("text-rotation-alignment")==="map",at=S.get("text-pitch-alignment")==="map",Je=S.get("icon-text-fit")!=="none",lt=S.get("symbol-z-order")==="viewport-y",Pt=Ae&&(De||!F.hasIconData()||ce),Ht=De&&(Ae||!F.hasTextData()||Se);!F.collisionArrays&&re&&F.deserializeCollisionBoxes(re);var Bt=function(lr,qr){if(!d[lr.crossTileID])if(ee)f.placements[lr.crossTileID]=new Jp(!1,!1,!1);else{var lo,Xr=!1,jr=!1,po=!0,Wr=null,zr={box:null,offscreen:null},Qn={box:null,offscreen:null},Rn=null,Ci=null,fi=0,Tn=0,Cn=0;qr.textFeatureIndex?fi=qr.textFeatureIndex:lr.useRuntimeCollisionCircles&&(fi=lr.featureIndex),qr.verticalTextFeatureIndex&&(Tn=qr.verticalTextFeatureIndex);var oa=qr.textBox;if(oa){var $i=function(Io){var Mi=i.WritingMode.horizontal;if(F.allowVerticalPlacement&&!Io&&f.prevPlacement){var Jn=f.prevPlacement.placedOrientations[lr.crossTileID];Jn&&(f.placedOrientations[lr.crossTileID]=Jn,f.markUsedOrientation(F,Mi=Jn,lr))}return Mi},Is=function(Io,Mi){if(F.allowVerticalPlacement&&lr.numVerticalGlyphVertices>0&&qr.verticalTextBox)for(var Jn=0,Ds=F.writingModes;Jn<Ds.length&&(Ds[Jn]===i.WritingMode.vertical?(zr=Mi(),Qn=zr):zr=Io(),!(zr&&zr.box&&zr.box.length));Jn+=1);else zr=Io()};if(S.get("text-variable-anchor")){var na=S.get("text-variable-anchor");if(f.prevPlacement&&f.prevPlacement.variableOffsets[lr.crossTileID]){var ts=f.prevPlacement.variableOffsets[lr.crossTileID];na.indexOf(ts.anchor)>0&&(na=na.filter(function(Io){return Io!==ts.anchor})).unshift(ts.anchor)}var Ca=function(Io,Mi,Jn){for(var Ds=Io.x2-Io.x1,nl=Io.y2-Io.y1,Uu=lr.textBoxScale,Jl=Je&&!De?Mi:null,up={box:[],offscreen:!1},pp=Ae?2*na.length:na.length,ms=0;ms<pp;++ms){var il=f.attemptAnchorPlacement(na[ms%na.length],Io,Ds,nl,Uu,Ze,at,$,R,de,ms>=na.length,lr,F,Jn,Jl);if(il&&(up=il.placedGlyphBoxes)&&up.box&&up.box.length){Xr=!0,Wr=il.shift;break}}return up};Is(function(){return Ca(oa,qr.iconBox,i.WritingMode.horizontal)},function(){var Io=qr.verticalTextBox;return F.allowVerticalPlacement&&!(zr&&zr.box&&zr.box.length)&&lr.numVerticalGlyphVertices>0&&Io?Ca(Io,qr.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}}),zr&&(Xr=zr.box,po=zr.offscreen);var Np=$i(zr&&zr.box);if(!Xr&&f.prevPlacement){var sp=f.prevPlacement.variableOffsets[lr.crossTileID];sp&&(f.variableOffsets[lr.crossTileID]=sp,f.markUsedJustification(F,sp.anchor,lr,Np))}}else{var Ns=function(Io,Mi){var Jn=f.collisionIndex.placeCollisionBox(Io,Ae,$,R,de.predicate);return Jn&&Jn.box&&Jn.box.length&&(f.markUsedOrientation(F,Mi,lr),f.placedOrientations[lr.crossTileID]=Mi),Jn};Is(function(){return Ns(oa,i.WritingMode.horizontal)},function(){var Io=qr.verticalTextBox;return F.allowVerticalPlacement&&lr.numVerticalGlyphVertices>0&&Io?Ns(Io,i.WritingMode.vertical):{box:null,offscreen:null}}),$i(zr&&zr.box&&zr.box.length)}}if(Xr=(lo=zr)&&lo.box&&lo.box.length>0,po=lo&&lo.offscreen,lr.useRuntimeCollisionCircles){var Lu=F.text.placedSymbolArray.get(lr.centerJustifiedTextSymbolIndex),au=i.evaluateSizeForFeature(F.textSizeData,_e,Lu),hs=S.get("text-padding");Rn=f.collisionIndex.placeCollisionCircles(Ae,Lu,F.lineVertexArray,F.glyphOffsetArray,au,R,D,z,l,at,de.predicate,lr.collisionCircleDiameter,hs),Xr=Ae||Rn.circles.length>0&&!Rn.collisionDetected,po=po&&Rn.offscreen}if(qr.iconFeatureIndex&&(Cn=qr.iconFeatureIndex),qr.iconBox){var Bu=function(Io){var Mi=Je&&Wr?we(Io,Wr.x,Wr.y,Ze,at,f.transform.angle):Io;return f.collisionIndex.placeCollisionBox(Mi,De,$,R,de.predicate)};jr=Qn&&Qn.box&&Qn.box.length&&qr.verticalIconBox?(Ci=Bu(qr.verticalIconBox)).box.length>0:(Ci=Bu(qr.iconBox)).box.length>0,po=po&&Ci.offscreen}var zi=Se||lr.numHorizontalGlyphVertices===0&&lr.numVerticalGlyphVertices===0,kn=ce||lr.numIconVertices===0;if(zi||kn?kn?zi||(jr=jr&&Xr):Xr=jr&&Xr:jr=Xr=jr&&Xr,Xr&&lo&&lo.box&&f.collisionIndex.insertCollisionBox(lo.box,S.get("text-ignore-placement"),F.bucketInstanceId,Qn&&Qn.box&&Tn?Tn:fi,de.ID),jr&&Ci&&f.collisionIndex.insertCollisionBox(Ci.box,S.get("icon-ignore-placement"),F.bucketInstanceId,Cn,de.ID),Rn&&(Xr&&f.collisionIndex.insertCollisionCircles(Rn.circles,S.get("text-ignore-placement"),F.bucketInstanceId,fi,de.ID),l)){var ya=F.bucketInstanceId,rs=f.collisionCircleArrays[ya];rs===void 0&&(rs=f.collisionCircleArrays[ya]=new Fa);for(var fs=0;fs<Rn.circles.length;fs+=4)rs.circles.push(Rn.circles[fs+0]),rs.circles.push(Rn.circles[fs+1]),rs.circles.push(Rn.circles[fs+2]),rs.circles.push(Rn.collisionDetected?1:0)}f.placements[lr.crossTileID]=new Jp(Xr||Pt,jr||Ht,po||F.justReloaded),d[lr.crossTileID]=!0}};if(lt)for(var ir=F.getSortedSymbolIndexes(this.transform.angle),Cr=ir.length-1;Cr>=0;--Cr){var Dr=ir[Cr];Bt(F.symbolInstances.get(Dr),F.collisionArrays[Dr])}else for(var Nr=c.symbolInstanceStart;Nr<c.symbolInstanceEnd;Nr++)Bt(F.symbolInstances.get(Nr),F.collisionArrays[Nr]);if(l&&F.bucketInstanceId in this.collisionCircleArrays){var Bo=this.collisionCircleArrays[F.bucketInstanceId];i.invert(Bo.invProjMatrix,R),Bo.viewportMatrix=this.collisionIndex.getViewportMatrix()}F.justReloaded=!1},rt.prototype.markUsedJustification=function(c,d,l,f){var E;E=f===i.WritingMode.vertical?l.verticalPlacedTextSymbolIndex:{left:l.leftJustifiedTextSymbolIndex,center:l.centerJustifiedTextSymbolIndex,right:l.rightJustifiedTextSymbolIndex}[i.getAnchorJustification(d)];for(var F=0,S=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex,l.verticalPlacedTextSymbolIndex];F<S.length;F+=1){var R=S[F];R>=0&&(c.text.placedSymbolArray.get(R).crossTileID=E>=0&&R!==E?0:l.crossTileID)}},rt.prototype.markUsedOrientation=function(c,d,l){for(var f=d===i.WritingMode.horizontal||d===i.WritingMode.horizontalOnly?d:0,E=d===i.WritingMode.vertical?d:0,F=0,S=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex];F<S.length;F+=1)c.text.placedSymbolArray.get(S[F]).placedOrientation=f;l.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).placedOrientation=E)},rt.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var d=this.prevPlacement,l=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;var f=d?d.symbolFadeChange(c):1,E=d?d.opacities:{},F=d?d.variableOffsets:{},S=d?d.placedOrientations:{};for(var R in this.placements){var D=this.placements[R],z=E[R];z?(this.opacities[R]=new Zi(z,f,D.text,D.icon),l=l||D.text!==z.text.placed||D.icon!==z.icon.placed):(this.opacities[R]=new Zi(null,f,D.text,D.icon,D.skipFade),l=l||D.text||D.icon)}for(var $ in E){var ee=E[$];if(!this.opacities[$]){var re=new Zi(ee,f,!1,!1);re.isHidden()||(this.opacities[$]=re,l=l||ee.text.placed||ee.icon.placed)}}for(var _e in F)this.variableOffsets[_e]||!this.opacities[_e]||this.opacities[_e].isHidden()||(this.variableOffsets[_e]=F[_e]);for(var de in S)this.placedOrientations[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.placedOrientations[de]=S[de]);l?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:c)},rt.prototype.updateLayerOpacities=function(c,d){for(var l={},f=0,E=d;f<E.length;f+=1){var F=E[f],S=F.getBucket(c);S&&F.latestFeatureIndex&&c.id===S.layerIds[0]&&this.updateBucketOpacities(S,l,F.collisionBoxArray)}},rt.prototype.updateBucketOpacities=function(c,d,l){var f=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,F=new Zi(null,0,!1,!1,!0),S=E.get("text-allow-overlap"),R=E.get("icon-allow-overlap"),D=E.get("text-variable-anchor"),z=E.get("text-rotation-alignment")==="map",$=E.get("text-pitch-alignment")==="map",ee=E.get("icon-text-fit")!=="none",re=new Zi(null,0,S&&(R||!c.hasIconData()||E.get("icon-optional")),R&&(S||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&l&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(l);for(var _e=function(Ae,De,Ze){for(var at=0;at<De/4;at++)Ae.opacityVertexArray.emplaceBack(Ze)},de=function(Ae){var De=c.symbolInstances.get(Ae),Ze=De.numHorizontalGlyphVertices,at=De.numVerticalGlyphVertices,Je=De.crossTileID,lt=f.opacities[Je];d[Je]?lt=F:lt||(f.opacities[Je]=lt=re),d[Je]=!0;var Pt=De.numIconVertices>0,Ht=f.placedOrientations[De.crossTileID],Bt=Ht===i.WritingMode.vertical,ir=Ht===i.WritingMode.horizontal||Ht===i.WritingMode.horizontalOnly;if(Ze>0||at>0){var Cr=R0(lt.text);_e(c.text,Ze,Bt?Pp:Cr),_e(c.text,at,ir?Pp:Cr);var Dr=lt.text.isHidden();[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(zr){zr>=0&&(c.text.placedSymbolArray.get(zr).hidden=Dr||Bt?1:0)}),De.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(De.verticalPlacedTextSymbolIndex).hidden=Dr||ir?1:0);var Nr=f.variableOffsets[De.crossTileID];Nr&&f.markUsedJustification(c,Nr.anchor,De,Ht);var Bo=f.placedOrientations[De.crossTileID];Bo&&(f.markUsedJustification(c,"left",De,Bo),f.markUsedOrientation(c,Bo,De))}if(Pt){var lr=R0(lt.icon),qr=!(ee&&De.verticalPlacedIconSymbolIndex&&Bt);De.placedIconSymbolIndex>=0&&(_e(c.icon,De.numIconVertices,qr?lr:Pp),c.icon.placedSymbolArray.get(De.placedIconSymbolIndex).hidden=lt.icon.isHidden()),De.verticalPlacedIconSymbolIndex>=0&&(_e(c.icon,De.numVerticalIconVertices,qr?Pp:lr),c.icon.placedSymbolArray.get(De.verticalPlacedIconSymbolIndex).hidden=lt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var lo=c.collisionArrays[Ae];if(lo){var Xr=new i.Point(0,0);if(lo.textBox||lo.verticalTextBox){var jr=!0;if(D){var po=f.variableOffsets[Je];po?(Xr=oe(po.anchor,po.width,po.height,po.textOffset,po.textBoxScale),z&&Xr._rotate($?f.transform.angle:-f.transform.angle)):jr=!1}lo.textBox&&zt(c.textCollisionBox.collisionVertexArray,lt.text.placed,!jr||Bt,Xr.x,Xr.y),lo.verticalTextBox&&zt(c.textCollisionBox.collisionVertexArray,lt.text.placed,!jr||ir,Xr.x,Xr.y)}var Wr=!!(!ir&&lo.verticalIconBox);lo.iconBox&&zt(c.iconCollisionBox.collisionVertexArray,lt.icon.placed,Wr,ee?Xr.x:0,ee?Xr.y:0),lo.verticalIconBox&&zt(c.iconCollisionBox.collisionVertexArray,lt.icon.placed,!Wr,ee?Xr.x:0,ee?Xr.y:0)}}},Se=0;Se<c.symbolInstances.length;Se++)de(Se);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var ce=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ce.invProjMatrix,c.placementViewportMatrix=ce.viewportMatrix,c.collisionCircleArray=ce.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},rt.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},rt.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},rt.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},rt.prototype.stillRecent=function(c,d){var l=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*l>c},rt.prototype.setStale=function(){this.stale=!0};var wr=Math.pow(2,25),Lo=Math.pow(2,24),Yn=Math.pow(2,17),wi=Math.pow(2,16),di=Math.pow(2,9),Ya=Math.pow(2,8),w0=Math.pow(2,1);function R0(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var d=c.placed?1:0,l=Math.floor(127*c.opacity);return l*wr+d*Lo+l*Yn+d*wi+l*di+d*Ya+l*w0+d}var Pp=0,Il=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Il.prototype.continuePlacement=function(c,d,l,f,E){for(var F=this._bucketParts;this._currentTileIndex<c.length;)if(d.getBucketParts(F,f,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,F.sort(function(S,R){return S.sortKey-R.sortKey}));this._currentPartIndex<F.length;)if(d.placeLayerBucketPart(F[this._currentPartIndex],this._seenCrossTileIDs,l),this._currentPartIndex++,E())return!0;return!1};var ec=function(c,d,l,f,E,F,S){this.placement=new rt(c,E,F,S),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=l,this._showCollisionBoxes=f,this._done=!1};ec.prototype.isDone=function(){return this._done},ec.prototype.continuePlacement=function(c,d,l){for(var f=this,E=i.browser.now(),F=function(){var D=i.browser.now()-E;return!f._forceFullPlacement&&D>2};this._currentPlacementIndex>=0;){var S=d[c[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if(S.type==="symbol"&&(!S.minzoom||S.minzoom<=R)&&(!S.maxzoom||S.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new Il(S)),this._inProgressLayer.continuePlacement(l[S.source],this.placement,this._showCollisionBoxes,S,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},ec.prototype.commit=function(c){return this.placement.commit(c),this.placement};var C0=512/i.EXTENT/2,Oc=function(c,d,l){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=l;for(var f=0;f<d.length;f++){var E=d.get(f),F=E.key;this.indexedSymbolInstances[F]||(this.indexedSymbolInstances[F]=[]),this.indexedSymbolInstances[F].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};Oc.prototype.getScaledCoordinates=function(c,d){var l=C0/Math.pow(2,d.canonical.z-this.tileID.canonical.z);return{x:Math.floor((d.canonical.x*i.EXTENT+c.anchorX)*l),y:Math.floor((d.canonical.y*i.EXTENT+c.anchorY)*l)}},Oc.prototype.findMatches=function(c,d,l){for(var f=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z),E=0;E<c.length;E++){var F=c.get(E);if(!F.crossTileID){var S=this.indexedSymbolInstances[F.key];if(S)for(var R=this.getScaledCoordinates(F,d),D=0,z=S;D<z.length;D+=1){var $=z[D];if(Math.abs($.coord.x-R.x)<=f&&Math.abs($.coord.y-R.y)<=f&&!l[$.crossTileID]){l[$.crossTileID]=!0,F.crossTileID=$.crossTileID;break}}}}};var Ui=function(){this.maxCrossTileID=0};Ui.prototype.generate=function(){return++this.maxCrossTileID};var gu=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};gu.prototype.handleWrapJump=function(c){var d=Math.round((c-this.lng)/360);if(d!==0)for(var l in this.indexes){var f=this.indexes[l],E={};for(var F in f){var S=f[F];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+d),E[S.tileID.key]=S}this.indexes[l]=E}this.lng=c},gu.prototype.addBucket=function(c,d,l){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var f=0;f<d.symbolInstances.length;f++)d.symbolInstances.get(f).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var F in this.indexes){var S=this.indexes[F];if(Number(F)>c.overscaledZ)for(var R in S){var D=S[R];D.tileID.isChildOf(c)&&D.findMatches(d.symbolInstances,c,E)}else{var z=S[c.scaledTo(Number(F)).key];z&&z.findMatches(d.symbolInstances,c,E)}}for(var $=0;$<d.symbolInstances.length;$++){var ee=d.symbolInstances.get($);ee.crossTileID||(ee.crossTileID=l.generate(),E[ee.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Oc(c,d.symbolInstances,d.bucketInstanceId),!0},gu.prototype.removeBucketCrossTileIDs=function(c,d){for(var l in d.indexedSymbolInstances)for(var f=0,E=d.indexedSymbolInstances[l];f<E.length;f+=1)delete this.usedCrossTileIDs[c][E[f].crossTileID]},gu.prototype.removeStaleBuckets=function(c){var d=!1;for(var l in this.indexes){var f=this.indexes[l];for(var E in f)c[f[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(l,f[E]),delete f[E],d=!0)}return d};var vu=function(){this.layerIndexes={},this.crossTileIDs=new Ui,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};vu.prototype.addLayer=function(c,d,l){var f=this.layerIndexes[c.id];f===void 0&&(f=this.layerIndexes[c.id]=new gu);var E=!1,F={};f.handleWrapJump(l);for(var S=0,R=d;S<R.length;S+=1){var D=R[S],z=D.getBucket(c);z&&c.id===z.layerIds[0]&&(z.bucketInstanceId||(z.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(D.tileID,z,this.crossTileIDs)&&(E=!0),F[z.bucketInstanceId]=!0)}return f.removeStaleBuckets(F)&&(E=!0),E},vu.prototype.pruneUnusedLayers=function(c){var d={};for(var l in c.forEach(function(f){d[f]=!0}),this.layerIndexes)d[l]||delete this.layerIndexes[l]};var bs=function(c,d){return i.emitValidationErrors(c,d&&d.filter(function(l){return l.identifier!=="source.canvas"}))},Fs=i.pick(Xt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),$s=i.pick(Xt,["setCenter","setZoom","setBearing","setPitch"]),tc=function(){var c={},d=i.styleSpec.$version;for(var l in i.styleSpec.$root){var f,E=i.styleSpec.$root[l];E.required&&(f=l==="version"?d:E.type==="array"?[]:{})!=null&&(c[l]=f)}return c}(),Aa=function(c){function d(l,f){var E=this;f===void 0&&(f={}),c.call(this),this.map=l,this.dispatcher=new st(dt(),this),this.imageManager=new q,this.imageManager.setEventedParent(this),this.glyphManager=new mt(l._requestManager,f.localIdeographFontFamily),this.lineAtlas=new ze(256,512),this.crossTileSymbolIndex=new vu,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var F=this;this._rtlTextPluginCallback=d.registerForPluginStateChange(function(S){F.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:S.pluginStatus,pluginURL:S.pluginURL},function(R,D){if(i.triggerPluginCompletionEvent(R),D&&D.every(function($){return $}))for(var z in F.sourceCaches)F.sourceCaches[z].reload()})}),this.on("data",function(S){if(S.dataType==="source"&&S.sourceDataType==="metadata"){var R=E.sourceCaches[S.sourceId];if(R){var D=R.getSource();if(D&&D.vectorLayerIds)for(var z in E._layers){var $=E._layers[z];$.source===D.id&&E._validateLayer($)}}}})}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.loadURL=function(l,f){var E=this;f===void 0&&(f={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var F=typeof f.validate=="boolean"?f.validate:!i.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,f.accessToken);var S=this.map._requestManager.transformRequest(l,i.ResourceType.Style);this._request=i.getJSON(S,function(R,D){E._request=null,R?E.fire(new i.ErrorEvent(R)):D&&E._load(D,F)})},d.prototype.loadJSON=function(l,f){var E=this;f===void 0&&(f={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){E._request=null,E._load(l,f.validate!==!1)})},d.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(tc,!1)},d.prototype._load=function(l,f){if(!f||!bs(this,i.validateStyle(l))){for(var E in this._loaded=!0,this.stylesheet=l,l.sources)this.addSource(E,l.sources[E],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);var F=Wt(this.stylesheet.layers);this._order=F.map(function(z){return z.id}),this._layers={},this._serializedLayers={};for(var S=0,R=F;S<R.length;S+=1){var D=R[S];(D=i.createStyleLayer(D)).setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Le(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},d.prototype._loadSprite=function(l){var f=this;this._spriteRequest=function(E,F,S){var R,D,z,$=i.browser.devicePixelRatio>1?"@2x":"",ee=i.getJSON(F.transformRequest(F.normalizeSpriteURL(E,$,".json"),i.ResourceType.SpriteJSON),function(de,Se){ee=null,z||(z=de,R=Se,_e())}),re=i.getImage(F.transformRequest(F.normalizeSpriteURL(E,$,".png"),i.ResourceType.SpriteImage),function(de,Se){re=null,z||(z=de,D=Se,_e())});function _e(){if(z)S(z);else if(R&&D){var de=i.browser.getImageData(D),Se={};for(var ce in R){var Ae=R[ce],De=Ae.width,Ze=Ae.height,at=Ae.x,Je=Ae.y,lt=Ae.sdf,Pt=Ae.pixelRatio,Ht=Ae.stretchX,Bt=Ae.stretchY,ir=Ae.content,Cr=new i.RGBAImage({width:De,height:Ze});i.RGBAImage.copy(de,Cr,{x:at,y:Je},{x:0,y:0},{width:De,height:Ze}),Se[ce]={data:Cr,pixelRatio:Pt,sdf:lt,stretchX:Ht,stretchY:Bt,content:ir}}S(null,Se)}}return{cancel:function(){ee&&(ee.cancel(),ee=null),re&&(re.cancel(),re=null)}}}(l,this.map._requestManager,function(E,F){if(f._spriteRequest=null,E)f.fire(new i.ErrorEvent(E));else if(F)for(var S in F)f.imageManager.addImage(S,F[S]);f.imageManager.setLoaded(!0),f._availableImages=f.imageManager.listImages(),f.dispatcher.broadcast("setImages",f._availableImages),f.fire(new i.Event("data",{dataType:"style"}))})},d.prototype._validateLayer=function(l){var f=this.sourceCaches[l.source];if(f){var E=l.sourceLayer;if(E){var F=f.getSource();(F.type==="geojson"||F.vectorLayerIds&&F.vectorLayerIds.indexOf(E)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+F.id+'" as specified by style layer "'+l.id+'"')))}}},d.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()},d.prototype._serializeLayers=function(l){for(var f=[],E=0,F=l;E<F.length;E+=1){var S=this._layers[F[E]];S.type!=="custom"&&f.push(S.serialize())}return f},d.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(var f in this._layers)if(this._layers[f].hasTransition())return!0;return!1},d.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},d.prototype.update=function(l){if(this._loaded){var f=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);for(var S in(E.length||F.length)&&this._updateWorkerLayers(E,F),this._updatedSources){var R=this._updatedSources[S];R==="reload"?this._reloadSource(S):R==="clear"&&this._clearSource(S)}for(var D in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}var z={};for(var $ in this.sourceCaches){var ee=this.sourceCaches[$];z[$]=ee.used,ee.used=!1}for(var re=0,_e=this._order;re<_e.length;re+=1){var de=this._layers[_e[re]];de.recalculate(l,this._availableImages),!de.isHidden(l.zoom)&&de.source&&(this.sourceCaches[de.source].used=!0)}for(var Se in z){var ce=this.sourceCaches[Se];z[Se]!==ce.used&&ce.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Se}))}this.light.recalculate(l),this.z=l.zoom,f&&this.fire(new i.Event("data",{dataType:"style"}))}},d.prototype._updateTilesForChangedImages=function(){var l=Object.keys(this._changedImages);if(l.length){for(var f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}},d.prototype._updateWorkerLayers=function(l,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:f})},d.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},d.prototype.setState=function(l){var f=this;if(this._checkLoaded(),bs(this,i.validateStyle(l)))return!1;(l=i.clone$1(l)).layers=Wt(l.layers);var E=function(S,R){if(!S)return[{command:Xt.setStyle,args:[R]}];var D=[];try{if(!i.deepEqual(S.version,R.version))return[{command:Xt.setStyle,args:[R]}];i.deepEqual(S.center,R.center)||D.push({command:Xt.setCenter,args:[R.center]}),i.deepEqual(S.zoom,R.zoom)||D.push({command:Xt.setZoom,args:[R.zoom]}),i.deepEqual(S.bearing,R.bearing)||D.push({command:Xt.setBearing,args:[R.bearing]}),i.deepEqual(S.pitch,R.pitch)||D.push({command:Xt.setPitch,args:[R.pitch]}),i.deepEqual(S.sprite,R.sprite)||D.push({command:Xt.setSprite,args:[R.sprite]}),i.deepEqual(S.glyphs,R.glyphs)||D.push({command:Xt.setGlyphs,args:[R.glyphs]}),i.deepEqual(S.transition,R.transition)||D.push({command:Xt.setTransition,args:[R.transition]}),i.deepEqual(S.light,R.light)||D.push({command:Xt.setLight,args:[R.light]});var z={},$=[];(function(re,_e,de,Se){var ce;for(ce in _e=_e||{},re=re||{})re.hasOwnProperty(ce)&&(_e.hasOwnProperty(ce)||er(ce,de,Se));for(ce in _e)_e.hasOwnProperty(ce)&&(re.hasOwnProperty(ce)?i.deepEqual(re[ce],_e[ce])||(re[ce].type==="geojson"&&_e[ce].type==="geojson"&&en(re,_e,ce)?de.push({command:Xt.setGeoJSONSourceData,args:[ce,_e[ce].data]}):So(ce,_e,de,Se)):ao(ce,_e,de))})(S.sources,R.sources,$,z);var ee=[];S.layers&&S.layers.forEach(function(re){z[re.source]?D.push({command:Xt.removeLayer,args:[re.id]}):ee.push(re)}),D=D.concat($),function(re,_e,de){_e=_e||[];var Se,ce,Ae,De,Ze,at,Je,lt=(re=re||[]).map(No),Pt=_e.map(No),Ht=re.reduce(so,{}),Bt=_e.reduce(so,{}),ir=lt.slice(),Cr=Object.create(null);for(Se=0,ce=0;Se<lt.length;Se++)Bt.hasOwnProperty(Ae=lt[Se])?ce++:(de.push({command:Xt.removeLayer,args:[Ae]}),ir.splice(ir.indexOf(Ae,ce),1));for(Se=0,ce=0;Se<Pt.length;Se++)ir[ir.length-1-Se]!==(Ae=Pt[Pt.length-1-Se])&&(Ht.hasOwnProperty(Ae)?(de.push({command:Xt.removeLayer,args:[Ae]}),ir.splice(ir.lastIndexOf(Ae,ir.length-ce),1)):ce++,de.push({command:Xt.addLayer,args:[Bt[Ae],at=ir[ir.length-Se]]}),ir.splice(ir.length-Se,0,Ae),Cr[Ae]=!0);for(Se=0;Se<Pt.length;Se++)if(De=Ht[Ae=Pt[Se]],Ze=Bt[Ae],!Cr[Ae]&&!i.deepEqual(De,Ze))if(i.deepEqual(De.source,Ze.source)&&i.deepEqual(De["source-layer"],Ze["source-layer"])&&i.deepEqual(De.type,Ze.type)){for(Je in Eo(De.layout,Ze.layout,de,Ae,null,Xt.setLayoutProperty),Eo(De.paint,Ze.paint,de,Ae,null,Xt.setPaintProperty),i.deepEqual(De.filter,Ze.filter)||de.push({command:Xt.setFilter,args:[Ae,Ze.filter]}),i.deepEqual(De.minzoom,Ze.minzoom)&&i.deepEqual(De.maxzoom,Ze.maxzoom)||de.push({command:Xt.setLayerZoomRange,args:[Ae,Ze.minzoom,Ze.maxzoom]}),De)De.hasOwnProperty(Je)&&Je!=="layout"&&Je!=="paint"&&Je!=="filter"&&Je!=="metadata"&&Je!=="minzoom"&&Je!=="maxzoom"&&(Je.indexOf("paint.")===0?Eo(De[Je],Ze[Je],de,Ae,Je.slice(6),Xt.setPaintProperty):i.deepEqual(De[Je],Ze[Je])||de.push({command:Xt.setLayerProperty,args:[Ae,Je,Ze[Je]]}));for(Je in Ze)Ze.hasOwnProperty(Je)&&!De.hasOwnProperty(Je)&&Je!=="layout"&&Je!=="paint"&&Je!=="filter"&&Je!=="metadata"&&Je!=="minzoom"&&Je!=="maxzoom"&&(Je.indexOf("paint.")===0?Eo(De[Je],Ze[Je],de,Ae,Je.slice(6),Xt.setPaintProperty):i.deepEqual(De[Je],Ze[Je])||de.push({command:Xt.setLayerProperty,args:[Ae,Je,Ze[Je]]}))}else de.push({command:Xt.removeLayer,args:[Ae]}),at=ir[ir.lastIndexOf(Ae)+1],de.push({command:Xt.addLayer,args:[Ze,at]})}(ee,R.layers,D)}catch(re){console.warn("Unable to compute style diff:",re),D=[{command:Xt.setStyle,args:[R]}]}return D}(this.serialize(),l).filter(function(S){return!(S.command in $s)});if(E.length===0)return!1;var F=E.filter(function(S){return!(S.command in Fs)});if(F.length>0)throw new Error("Unimplemented: "+F.map(function(S){return S.command}).join(", ")+".");return E.forEach(function(S){S.command!=="setTransition"&&f[S.command].apply(f,S.args)}),this.stylesheet=l,!0},d.prototype.addImage=function(l,f){if(this.getImage(l))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(l,f),this._afterImageUpdated(l)},d.prototype.updateImage=function(l,f){this.imageManager.updateImage(l,f)},d.prototype.getImage=function(l){return this.imageManager.getImage(l)},d.prototype.removeImage=function(l){if(!this.getImage(l))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(l),this._afterImageUpdated(l)},d.prototype._afterImageUpdated=function(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},d.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},d.prototype.addSource=function(l,f,E){var F=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(f).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(i.validateStyle.source,"sources."+l,f,null,E))){this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);var S=this.sourceCaches[l]=new ge(l,f,this.dispatcher);S.style=this,S.setEventedParent(this,function(){return{isSourceLoaded:F.loaded(),source:S.serialize(),sourceId:l}}),S.onAdd(this.map),this._changed=!0}},d.prototype.removeSource=function(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(var f in this._layers)if(this._layers[f].source===l)return this.fire(new i.ErrorEvent(new Error('Source "'+l+'" cannot be removed while layer "'+f+'" is using it.')));var E=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],E.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},d.prototype.setGeoJSONSourceData=function(l,f){this._checkLoaded(),this.sourceCaches[l].getSource().setData(f),this._changed=!0},d.prototype.getSource=function(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()},d.prototype.addLayer=function(l,f,E){E===void 0&&(E={}),this._checkLoaded();var F=l.id;if(this.getLayer(F))this.fire(new i.ErrorEvent(new Error('Layer with id "'+F+'" already exists on this map')));else{var S;if(l.type==="custom"){if(bs(this,i.validateCustomStyleLayer(l)))return;S=i.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(F,l.source),l=i.clone$1(l),l=i.extend(l,{source:F})),this._validate(i.validateStyle.layer,"layers."+F,l,{arrayIndex:-1},E))return;S=i.createStyleLayer(l),this._validateLayer(S),S.setEventedParent(this,{layer:{id:F}}),this._serializedLayers[S.id]=S.serialize()}var R=f?this._order.indexOf(f):this._order.length;if(f&&R===-1)this.fire(new i.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.')));else{if(this._order.splice(R,0,F),this._layerOrderChanged=!0,this._layers[F]=S,this._removedLayers[F]&&S.source&&S.type!=="custom"){var D=this._removedLayers[F];delete this._removedLayers[F],D.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",this.sourceCaches[S.source].pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map)}}},d.prototype.moveLayer=function(l,f){if(this._checkLoaded(),this._changed=!0,this._layers[l]){if(l!==f){var E=this._order.indexOf(l);this._order.splice(E,1);var F=f?this._order.indexOf(f):this._order.length;f&&F===-1?this.fire(new i.ErrorEvent(new Error('Layer with id "'+f+'" does not exist on this map.'))):(this._order.splice(F,0,l),this._layerOrderChanged=!0)}}else this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be moved.")))},d.prototype.removeLayer=function(l){this._checkLoaded();var f=this._layers[l];if(f){f.setEventedParent(null);var E=this._order.indexOf(l);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map)}else this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be removed.")))},d.prototype.getLayer=function(l){return this._layers[l]},d.prototype.hasLayer=function(l){return l in this._layers},d.prototype.setLayerZoomRange=function(l,f,E){this._checkLoaded();var F=this.getLayer(l);F?F.minzoom===f&&F.maxzoom===E||(f!=null&&(F.minzoom=f),E!=null&&(F.maxzoom=E),this._updateLayer(F)):this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot have zoom extent.")))},d.prototype.setFilter=function(l,f,E){E===void 0&&(E={}),this._checkLoaded();var F=this.getLayer(l);if(F){if(!i.deepEqual(F.filter,f))return f==null?(F.filter=void 0,void this._updateLayer(F)):void(this._validate(i.validateStyle.filter,"layers."+F.id+".filter",f,null,E)||(F.filter=i.clone$1(f),this._updateLayer(F)))}else this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be filtered.")))},d.prototype.getFilter=function(l){return i.clone$1(this.getLayer(l).filter)},d.prototype.setLayoutProperty=function(l,f,E,F){F===void 0&&(F={}),this._checkLoaded();var S=this.getLayer(l);S?i.deepEqual(S.getLayoutProperty(f),E)||(S.setLayoutProperty(f,E,F),this._updateLayer(S)):this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},d.prototype.getLayoutProperty=function(l,f){var E=this.getLayer(l);if(E)return E.getLayoutProperty(f);this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style.")))},d.prototype.setPaintProperty=function(l,f,E,F){F===void 0&&(F={}),this._checkLoaded();var S=this.getLayer(l);S?i.deepEqual(S.getPaintProperty(f),E)||(S.setPaintProperty(f,E,F)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new i.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},d.prototype.getPaintProperty=function(l,f){return this.getLayer(l).getPaintProperty(f)},d.prototype.setFeatureState=function(l,f){this._checkLoaded();var E=l.source,F=l.sourceLayer,S=this.sourceCaches[E];if(S!==void 0){var R=S.getSource().type;R==="geojson"&&F?this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):R!=="vector"||F?(l.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),S.setFeatureState(F,l.id,f)):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},d.prototype.removeFeatureState=function(l,f){this._checkLoaded();var E=l.source,F=this.sourceCaches[E];if(F!==void 0){var S=F.getSource().type,R=S==="vector"?l.sourceLayer:void 0;S!=="vector"||R?f&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):F.removeFeatureState(R,l.id,f):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},d.prototype.getFeatureState=function(l){this._checkLoaded();var f=l.source,E=l.sourceLayer,F=this.sourceCaches[f];if(F!==void 0){if(F.getSource().type!=="vector"||E)return l.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),F.getFeatureState(E,l.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+f+"' does not exist in the map's style.")))},d.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},d.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(l){return l.serialize()}),layers:this._serializeLayers(this._order)},function(l){return l!==void 0})},d.prototype._updateLayer=function(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0},d.prototype._flattenAndSortRenderedFeatures=function(l){for(var f=this,E=function(Ht){return f._layers[Ht].type==="fill-extrusion"},F={},S=[],R=this._order.length-1;R>=0;R--){var D=this._order[R];if(E(D)){F[D]=R;for(var z=0,$=l;z<$.length;z+=1){var ee=$[z][D];if(ee)for(var re=0,_e=ee;re<_e.length;re+=1)S.push(_e[re])}}}S.sort(function(Ht,Bt){return Bt.intersectionZ-Ht.intersectionZ});for(var de=[],Se=this._order.length-1;Se>=0;Se--){var ce=this._order[Se];if(E(ce))for(var Ae=S.length-1;Ae>=0;Ae--){var De=S[Ae].feature;if(F[De.layer.id]<Se)break;de.push(De),S.pop()}else for(var Ze=0,at=l;Ze<at.length;Ze+=1){var Je=at[Ze][ce];if(Je)for(var lt=0,Pt=Je;lt<Pt.length;lt+=1)de.push(Pt[lt].feature)}}return de},d.prototype.queryRenderedFeatures=function(l,f,E){f&&f.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);var F={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var S=0,R=f.layers;S<R.length;S+=1){var D=R[S],z=this._layers[D];if(!z)return this.fire(new i.ErrorEvent(new Error("The layer '"+D+"' does not exist in the map's style and cannot be queried for features."))),[];F[z.source]=!0}}var $=[];for(var ee in f.availableImages=this._availableImages,this.sourceCaches)f.layers&&!F[ee]||$.push(Fo(this.sourceCaches[ee],this._layers,this._serializedLayers,l,f,E));return this.placement&&$.push(function(re,_e,de,Se,ce,Ae,De){for(var Ze={},at=Ae.queryRenderedSymbols(Se),Je=[],lt=0,Pt=Object.keys(at).map(Number);lt<Pt.length;lt+=1)Je.push(De[Pt[lt]]);Je.sort(On);for(var Ht=function(){var Nr=ir[Bt],Bo=Nr.featureIndex.lookupSymbolFeatures(at[Nr.bucketInstanceId],_e,Nr.bucketIndex,Nr.sourceLayerIndex,ce.filter,ce.layers,ce.availableImages,re);for(var lr in Bo){var qr=Ze[lr]=Ze[lr]||[],lo=Bo[lr];lo.sort(function(po,Wr){var zr=Nr.featureSortOrder;if(zr){var Qn=zr.indexOf(po.featureIndex);return zr.indexOf(Wr.featureIndex)-Qn}return Wr.featureIndex-po.featureIndex});for(var Xr=0,jr=lo;Xr<jr.length;Xr+=1)qr.push(jr[Xr])}},Bt=0,ir=Je;Bt<ir.length;Bt+=1)Ht();var Cr=function(Nr){Ze[Nr].forEach(function(Bo){var lr=Bo.feature,qr=de[re[Nr].source].getFeatureState(lr.layer["source-layer"],lr.id);lr.source=lr.layer.source,lr.layer["source-layer"]&&(lr.sourceLayer=lr.layer["source-layer"]),lr.state=qr})};for(var Dr in Ze)Cr(Dr);return Ze}(this._layers,this._serializedLayers,this.sourceCaches,l,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures($)},d.prototype.querySourceFeatures=function(l,f){f&&f.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);var E=this.sourceCaches[l];return E?function(F,S){for(var R=F.getRenderableIds().map(function(_e){return F.getTileByID(_e)}),D=[],z={},$=0;$<R.length;$++){var ee=R[$],re=ee.tileID.canonical.key;z[re]||(z[re]=!0,ee.querySourceFeatures(D,S))}return D}(E,f):[]},d.prototype.addSourceType=function(l,f,E){return d.getSourceType(l)?E(new Error('A source type called "'+l+'" already exists.')):(d.setSourceType(l,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:f.workerSourceURL},E):E(null,null))},d.prototype.getLight=function(){return this.light.getLight()},d.prototype.setLight=function(l,f){f===void 0&&(f={}),this._checkLoaded();var E=this.light.getLight(),F=!1;for(var S in l)if(!i.deepEqual(l[S],E[S])){F=!0;break}if(F){var R={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,f),this.light.updateTransitions(R)}},d.prototype._validate=function(l,f,E,F,S){return S===void 0&&(S={}),(!S||S.validate!==!1)&&bs(this,l.call(i.validateStyle,i.extend({key:f,style:this.serialize(),value:E,styleSpec:i.styleSpec},F)))},d.prototype._remove=function(){for(var l in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[l].setEventedParent(null);for(var f in this.sourceCaches)this.sourceCaches[f].clearTiles(),this.sourceCaches[f].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},d.prototype._clearSource=function(l){this.sourceCaches[l].clearTiles()},d.prototype._reloadSource=function(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()},d.prototype._updateSources=function(l){for(var f in this.sourceCaches)this.sourceCaches[f].update(l)},d.prototype._generateCollisionBoxes=function(){for(var l in this.sourceCaches)this._reloadSource(l)},d.prototype._updatePlacement=function(l,f,E,F,S){S===void 0&&(S=!1);for(var R=!1,D=!1,z={},$=0,ee=this._order;$<ee.length;$+=1){var re=this._layers[ee[$]];if(re.type==="symbol"){if(!z[re.source]){var _e=this.sourceCaches[re.source];z[re.source]=_e.getRenderableIds(!0).map(function(De){return _e.getTileByID(De)}).sort(function(De,Ze){return Ze.tileID.overscaledZ-De.tileID.overscaledZ||(De.tileID.isLessThan(Ze.tileID)?-1:1)})}var de=this.crossTileSymbolIndex.addLayer(re,z[re.source],l.center.lng);R=R||de}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((S=S||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),l.zoom))&&(this.pauseablePlacement=new ec(l,this._order,S,f,E,F,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),D=!0),R&&this.pauseablePlacement.placement.setStale()),D||R)for(var Se=0,ce=this._order;Se<ce.length;Se+=1){var Ae=this._layers[ce[Se]];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,z[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now())},d.prototype._releaseSymbolFadeTiles=function(){for(var l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()},d.prototype.getImages=function(l,f,E){this.imageManager.getImages(f.icons,E),this._updateTilesForChangedImages();var F=this.sourceCaches[f.source];F&&F.setDependencies(f.tileID.key,f.type,f.icons)},d.prototype.getGlyphs=function(l,f,E){this.glyphManager.getGlyphs(f.stacks,E)},d.prototype.getResource=function(l,f,E){return i.makeRequest(f,E)},d}(i.Evented);Aa.getSourceType=function(c){return no[c]},Aa.setSourceType=function(c,d){no[c]=d},Aa.registerForPluginStateChange=i.registerForPluginStateChange;var Bn=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),Eu=on(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),qs=on(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Lc=on(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),M0=on(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Bc=on("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Nl=on(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Dl=on(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ol=on("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),I0=on("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),N0=on("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),J1=on(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),rc=on(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),As=on(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),D0=on(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),ki=on(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Qu=on(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),xu=on(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),La=on(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Pu=on(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),$a=on(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Ks=on(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Ba=on(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Qs=on(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),bu=on(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),O0=on(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),L0=on(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function on(c,d){var l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=d.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=d.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),S=F?F.concat(E):E,R={};return{fragmentSource:c=c.replace(l,function(D,z,$,ee,re){return R[re]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_`+re+`
varying `+$+" "+ee+" "+re+`;
#else
uniform `+$+" "+ee+" u_"+re+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+re+`
    `+$+" "+ee+" "+re+" = u_"+re+`;
#endif
`}),vertexSource:d=d.replace(l,function(D,z,$,ee,re){var _e=ee==="float"?"vec2":"vec4",de=re.match(/color/)?"color":_e;return R[re]?z==="define"?`
#ifndef HAS_UNIFORM_u_`+re+`
uniform lowp float u_`+re+`_t;
attribute `+$+" "+_e+" a_"+re+`;
varying `+$+" "+ee+" "+re+`;
#else
uniform `+$+" "+ee+" u_"+re+`;
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_`+re+`
    `+re+" = a_"+re+`;
#else
    `+$+" "+ee+" "+re+" = u_"+re+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+re+`
    `+re+" = unpack_mix_"+de+"(a_"+re+", u_"+re+`_t);
#else
    `+$+" "+ee+" "+re+" = u_"+re+`;
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_`+re+`
uniform lowp float u_`+re+`_t;
attribute `+$+" "+_e+" a_"+re+`;
#else
uniform `+$+" "+ee+" u_"+re+`;
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_`+re+`
    `+$+" "+ee+" "+re+" = a_"+re+`;
#else
    `+$+" "+ee+" "+re+" = u_"+re+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+re+`
    `+$+" "+ee+" "+re+" = unpack_mix_"+de+"(a_"+re+", u_"+re+`_t);
#else
    `+$+" "+ee+" "+re+" = u_"+re+`;
#endif
`}),staticAttributes:f,staticUniforms:S}}var ed=Object.freeze({__proto__:null,prelude:Eu,background:qs,backgroundPattern:Lc,circle:M0,clippingMask:Bc,heatmap:Nl,heatmapTexture:Dl,collisionBox:Ol,collisionCircle:I0,debug:N0,fill:J1,fillOutline:rc,fillOutlinePattern:As,fillPattern:D0,fillExtrusion:ki,fillExtrusionPattern:Qu,hillshadePrepare:xu,hillshade:La,line:Pu,lineGradient:$a,linePattern:Ks,lineSDF:Ba,raster:Qs,symbolIcon:bu,symbolSDF:O0,symbolTextAndIcon:L0}),Uc=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ll(c){for(var d=[],l=0;l<c.length;l++)if(c[l]!==null){var f=c[l].split(" ");d.push(f.pop())}return d}Uc.prototype.bind=function(c,d,l,f,E,F,S,R){this.context=c;for(var D=this.boundPaintVertexBuffers.length!==f.length,z=0;!D&&z<f.length;z++)this.boundPaintVertexBuffers[z]!==f[z]&&(D=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===d&&this.boundLayoutVertexBuffer===l&&!D&&this.boundIndexBuffer===E&&this.boundVertexOffset===F&&this.boundDynamicVertexBuffer===S&&this.boundDynamicVertexBuffer2===R?(c.bindVertexArrayOES.set(this.vao),S&&S.bind(),E&&E.dynamicDraw&&E.bind(),R&&R.bind()):this.freshBind(d,l,f,E,F,S,R)},Uc.prototype.freshBind=function(c,d,l,f,E,F,S){var R,D=c.numAttributes,z=this.context,$=z.gl;if(z.extVertexArrayObject)this.vao&&this.destroy(),this.vao=z.extVertexArrayObject.createVertexArrayOES(),z.bindVertexArrayOES.set(this.vao),R=0,this.boundProgram=c,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=l,this.boundIndexBuffer=f,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=F,this.boundDynamicVertexBuffer2=S;else{R=z.currentNumAttributes||0;for(var ee=D;ee<R;ee++)$.disableVertexAttribArray(ee)}d.enableAttributes($,c);for(var re=0,_e=l;re<_e.length;re+=1)_e[re].enableAttributes($,c);F&&F.enableAttributes($,c),S&&S.enableAttributes($,c),d.bind(),d.setVertexAttribPointers($,c,E);for(var de=0,Se=l;de<Se.length;de+=1){var ce=Se[de];ce.bind(),ce.setVertexAttribPointers($,c,E)}F&&(F.bind(),F.setVertexAttribPointers($,c,E)),f&&f.bind(),S&&(S.bind(),S.setVertexAttribPointers($,c,E)),z.currentNumAttributes=D},Uc.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Un=function(c,d,l,f,E,F){var S=c.gl;this.program=S.createProgram();for(var R=Ll(l.staticAttributes),D=f?f.getBinderAttributes():[],z=R.concat(D),$=l.staticUniforms?Ll(l.staticUniforms):[],ee=f?f.getBinderUniforms():[],re=[],_e=0,de=$.concat(ee);_e<de.length;_e+=1){var Se=de[_e];re.indexOf(Se)<0&&re.push(Se)}var ce=f?f.defines():[];F&&ce.push("#define OVERDRAW_INSPECTOR;");var Ae=ce.concat(Eu.fragmentSource,l.fragmentSource).join(`
`),De=ce.concat(Eu.vertexSource,l.vertexSource).join(`
`),Ze=S.createShader(S.FRAGMENT_SHADER);if(S.isContextLost())this.failedToCreate=!0;else{S.shaderSource(Ze,Ae),S.compileShader(Ze),S.attachShader(this.program,Ze);var at=S.createShader(S.VERTEX_SHADER);if(S.isContextLost())this.failedToCreate=!0;else{S.shaderSource(at,De),S.compileShader(at),S.attachShader(this.program,at),this.attributes={};var Je={};this.numAttributes=z.length;for(var lt=0;lt<this.numAttributes;lt++)z[lt]&&(S.bindAttribLocation(this.program,lt,z[lt]),this.attributes[z[lt]]=lt);S.linkProgram(this.program),S.deleteShader(at),S.deleteShader(Ze);for(var Pt=0;Pt<re.length;Pt++){var Ht=re[Pt];if(Ht&&!Je[Ht]){var Bt=S.getUniformLocation(this.program,Ht);Bt&&(Je[Ht]=Bt)}}this.fixedUniforms=E(c,Je),this.binderUniforms=f?f.getUniforms(c,Je):[]}}};function Bl(c,d,l){var f=1/cn(l,1,d.transform.tileZoom),E=Math.pow(2,l.tileID.overscaledZ),F=l.tileSize*Math.pow(2,d.transform.tileZoom)/E,S=F*(l.tileID.canonical.x+l.tileID.wrap*E),R=F*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[f,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[S>>16,R>>16],u_pixel_coord_lower:[65535&S,65535&R]}}Un.prototype.draw=function(c,d,l,f,E,F,S,R,D,z,$,ee,re,_e,de,Se){var ce,Ae=c.gl;if(!this.failedToCreate){for(var De in c.program.set(this.program),c.setDepthMode(l),c.setStencilMode(f),c.setColorMode(E),c.setCullFace(F),this.fixedUniforms)this.fixedUniforms[De].set(S[De]);_e&&_e.setUniforms(c,this.binderUniforms,ee,{zoom:re});for(var Ze=(ce={},ce[Ae.LINES]=2,ce[Ae.TRIANGLES]=3,ce[Ae.LINE_STRIP]=1,ce)[d],at=0,Je=$.get();at<Je.length;at+=1){var lt=Je[at],Pt=lt.vaos||(lt.vaos={});(Pt[R]||(Pt[R]=new Uc)).bind(c,this,D,_e?_e.getPaintVertexBuffers():[],z,lt.vertexOffset,de,Se),Ae.drawElements(d,lt.primitiveLength*Ze,Ae.UNSIGNED_SHORT,lt.primitiveOffset*Ze*2)}}};var B0=function(c,d,l,f){var E=d.style.light,F=E.properties.get("position"),S=[F.x,F.y,F.z],R=i.create$1();E.properties.get("anchor")==="viewport"&&i.fromRotation(R,-d.transform.angle),i.transformMat3(S,S,R);var D=E.properties.get("color");return{u_matrix:c,u_lightpos:S,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[D.r,D.g,D.b],u_vertical_gradient:+l,u_opacity:f}},la=function(c,d,l,f,E,F,S){return i.extend(B0(c,d,l,f),Bl(F,d,S),{u_height_factor:-Math.pow(2,E.overscaledZ)/S.tileSize/8})},Js=function(c){return{u_matrix:c}},Ss=function(c,d,l,f){return i.extend(Js(c),Bl(l,d,f))},Fu=function(c,d){return{u_matrix:c,u_world:d}},kc=function(c,d,l,f,E){return i.extend(Ss(c,d,l,f),{u_world:E})},bp=function(c,d,l,f){var E,F,S=c.transform;if(f.paint.get("circle-pitch-alignment")==="map"){var R=cn(l,1,S.zoom);E=!0,F=[R,R]}else E=!1,F=S.pixelsToGLUnits;return{u_camera_to_center_distance:S.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(d.posMatrix,l,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:F}},ls=function(c,d,l){var f=cn(l,1,d.zoom),E=Math.pow(2,d.zoom-l.tileID.overscaledZ),F=l.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:d.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[d.pixelsToGLUnits[0]/(f*E),d.pixelsToGLUnits[1]/(f*E)],u_overscale_factor:F}},oc=function(c,d,l){return{u_matrix:c,u_inv_matrix:d,u_camera_to_center_distance:l.cameraToCenterDistance,u_viewport_size:[l.width,l.height]}},Au=function(c,d,l){return l===void 0&&(l=1),{u_matrix:c,u_color:d,u_overlay:0,u_overlay_scale:l}},eu=function(c){return{u_matrix:c}},Ul=function(c,d,l,f){return{u_matrix:c,u_extrude_scale:cn(d,1,l),u_intensity:f}},nc=function(c,d,l){var f=c.transform;return{u_matrix:ic(c,d,l),u_ratio:1/cn(d,1,f.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},dn=function(c,d,l,f){return i.extend(nc(c,d,l),{u_image:0,u_image_height:f})},zc=function(c,d,l,f){var E=c.transform,F=Su(d,E);return{u_matrix:ic(c,d,l),u_texsize:d.imageAtlasTexture.size,u_ratio:1/cn(d,1,E.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[F,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},td=function(c,d,l,f,E){var F=c.lineAtlas,S=Su(d,c.transform),R=l.layout.get("line-cap")==="round",D=F.getDash(f.from,R),z=F.getDash(f.to,R),$=D.width*E.fromScale,ee=z.width*E.toScale;return i.extend(nc(c,d,l),{u_patternscale_a:[S/$,-D.height/2],u_patternscale_b:[S/ee,-z.height/2],u_sdfgamma:F.width/(256*Math.min($,ee)*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:z.y,u_mix:E.t})};function Su(c,d){return 1/cn(c,1,d.tileZoom)}function ic(c,d,l){return c.translatePosMatrix(d.tileID.posMatrix,d,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}var kl=function(c,d,l,f,E){return{u_matrix:c,u_tl_parent:d,u_scale_parent:l,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(S=E.paint.get("raster-saturation"),S>0?1-1/(1.001-S):-S),u_contrast_factor:(F=E.paint.get("raster-contrast"),F>0?1/(1-F):1+F),u_spin_weights:Vc(E.paint.get("raster-hue-rotate"))};var F,S};function Vc(c){c*=Math.PI/180;var d=Math.sin(c),l=Math.cos(c);return[(2*l+1)/3,(-Math.sqrt(3)*d-l+1)/3,(Math.sqrt(3)*d-l+1)/3]}var tu,Tu=function(c,d,l,f,E,F,S,R,D,z){var $=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:$.cameraToCenterDistance,u_pitch:$.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:$.width/$.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:F,u_label_plane_matrix:S,u_coord_matrix:R,u_is_text:+D,u_pitch_with_map:+f,u_texsize:z,u_texture:0}},Ju=function(c,d,l,f,E,F,S,R,D,z,$){var ee=E.transform;return i.extend(Tu(c,d,l,f,E,F,S,R,D,z),{u_gamma_scale:f?Math.cos(ee._pitch)*ee.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+$})},Fp=function(c,d,l,f,E,F,S,R,D,z){return i.extend(Ju(c,d,l,f,E,F,S,R,!0,D,!0),{u_texsize_icon:z,u_texture_icon:1})},ep=function(c,d,l){return{u_matrix:c,u_opacity:d,u_color:l}},tp=function(c,d,l,f,E,F){return i.extend(function(S,R,D,z){var $=D.imageManager.getPattern(S.from.toString()),ee=D.imageManager.getPattern(S.to.toString()),re=D.imageManager.getPixelSize(),_e=re.width,de=re.height,Se=Math.pow(2,z.tileID.overscaledZ),ce=z.tileSize*Math.pow(2,D.transform.tileZoom)/Se,Ae=ce*(z.tileID.canonical.x+z.tileID.wrap*Se),De=ce*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:$.tl,u_pattern_br_a:$.br,u_pattern_tl_b:ee.tl,u_pattern_br_b:ee.br,u_texsize:[_e,de],u_mix:R.t,u_pattern_size_a:$.displaySize,u_pattern_size_b:ee.displaySize,u_scale_a:R.fromScale,u_scale_b:R.toScale,u_tile_units_to_pixels:1/cn(z,1,D.transform.tileZoom),u_pixel_coord_upper:[Ae>>16,De>>16],u_pixel_coord_lower:[65535&Ae,65535&De]}}(f,F,l,E),{u_matrix:c,u_opacity:d})},zl={fillExtrusion:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_lightpos:new i.Uniform3f(c,d.u_lightpos),u_lightintensity:new i.Uniform1f(c,d.u_lightintensity),u_lightcolor:new i.Uniform3f(c,d.u_lightcolor),u_vertical_gradient:new i.Uniform1f(c,d.u_vertical_gradient),u_opacity:new i.Uniform1f(c,d.u_opacity)}},fillExtrusionPattern:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_lightpos:new i.Uniform3f(c,d.u_lightpos),u_lightintensity:new i.Uniform1f(c,d.u_lightintensity),u_lightcolor:new i.Uniform3f(c,d.u_lightcolor),u_vertical_gradient:new i.Uniform1f(c,d.u_vertical_gradient),u_height_factor:new i.Uniform1f(c,d.u_height_factor),u_image:new i.Uniform1i(c,d.u_image),u_texsize:new i.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new i.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new i.Uniform3f(c,d.u_scale),u_fade:new i.Uniform1f(c,d.u_fade),u_opacity:new i.Uniform1f(c,d.u_opacity)}},fill:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix)}},fillPattern:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_image:new i.Uniform1i(c,d.u_image),u_texsize:new i.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new i.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new i.Uniform3f(c,d.u_scale),u_fade:new i.Uniform1f(c,d.u_fade)}},fillOutline:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_world:new i.Uniform2f(c,d.u_world)}},fillOutlinePattern:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_world:new i.Uniform2f(c,d.u_world),u_image:new i.Uniform1i(c,d.u_image),u_texsize:new i.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new i.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new i.Uniform3f(c,d.u_scale),u_fade:new i.Uniform1f(c,d.u_fade)}},circle:function(c,d){return{u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(c,d.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(c,d.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(c,d.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(c,d.u_matrix)}},collisionBox:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(c,d.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(c,d.u_extrude_scale),u_overscale_factor:new i.Uniform1f(c,d.u_overscale_factor)}},collisionCircle:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_inv_matrix:new i.UniformMatrix4f(c,d.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(c,d.u_viewport_size)}},debug:function(c,d){return{u_color:new i.UniformColor(c,d.u_color),u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_overlay:new i.Uniform1i(c,d.u_overlay),u_overlay_scale:new i.Uniform1f(c,d.u_overlay_scale)}},clippingMask:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix)}},heatmap:function(c,d){return{u_extrude_scale:new i.Uniform1f(c,d.u_extrude_scale),u_intensity:new i.Uniform1f(c,d.u_intensity),u_matrix:new i.UniformMatrix4f(c,d.u_matrix)}},heatmapTexture:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_world:new i.Uniform2f(c,d.u_world),u_image:new i.Uniform1i(c,d.u_image),u_color_ramp:new i.Uniform1i(c,d.u_color_ramp),u_opacity:new i.Uniform1f(c,d.u_opacity)}},hillshade:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_image:new i.Uniform1i(c,d.u_image),u_latrange:new i.Uniform2f(c,d.u_latrange),u_light:new i.Uniform2f(c,d.u_light),u_shadow:new i.UniformColor(c,d.u_shadow),u_highlight:new i.UniformColor(c,d.u_highlight),u_accent:new i.UniformColor(c,d.u_accent)}},hillshadePrepare:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_image:new i.Uniform1i(c,d.u_image),u_dimension:new i.Uniform2f(c,d.u_dimension),u_zoom:new i.Uniform1f(c,d.u_zoom),u_unpack:new i.Uniform4f(c,d.u_unpack)}},line:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_ratio:new i.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(c,d.u_units_to_pixels)}},lineGradient:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_ratio:new i.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(c,d.u_units_to_pixels),u_image:new i.Uniform1i(c,d.u_image),u_image_height:new i.Uniform1f(c,d.u_image_height)}},linePattern:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_texsize:new i.Uniform2f(c,d.u_texsize),u_ratio:new i.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_image:new i.Uniform1i(c,d.u_image),u_units_to_pixels:new i.Uniform2f(c,d.u_units_to_pixels),u_scale:new i.Uniform3f(c,d.u_scale),u_fade:new i.Uniform1f(c,d.u_fade)}},lineSDF:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_ratio:new i.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(c,d.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(c,d.u_patternscale_a),u_patternscale_b:new i.Uniform2f(c,d.u_patternscale_b),u_sdfgamma:new i.Uniform1f(c,d.u_sdfgamma),u_image:new i.Uniform1i(c,d.u_image),u_tex_y_a:new i.Uniform1f(c,d.u_tex_y_a),u_tex_y_b:new i.Uniform1f(c,d.u_tex_y_b),u_mix:new i.Uniform1f(c,d.u_mix)}},raster:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_tl_parent:new i.Uniform2f(c,d.u_tl_parent),u_scale_parent:new i.Uniform1f(c,d.u_scale_parent),u_buffer_scale:new i.Uniform1f(c,d.u_buffer_scale),u_fade_t:new i.Uniform1f(c,d.u_fade_t),u_opacity:new i.Uniform1f(c,d.u_opacity),u_image0:new i.Uniform1i(c,d.u_image0),u_image1:new i.Uniform1i(c,d.u_image1),u_brightness_low:new i.Uniform1f(c,d.u_brightness_low),u_brightness_high:new i.Uniform1f(c,d.u_brightness_high),u_saturation_factor:new i.Uniform1f(c,d.u_saturation_factor),u_contrast_factor:new i.Uniform1f(c,d.u_contrast_factor),u_spin_weights:new i.Uniform3f(c,d.u_spin_weights)}},symbolIcon:function(c,d){return{u_is_size_zoom_constant:new i.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new i.Uniform1f(c,d.u_size_t),u_size:new i.Uniform1f(c,d.u_size),u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new i.Uniform1f(c,d.u_pitch),u_rotate_symbol:new i.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new i.Uniform1f(c,d.u_fade_change),u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new i.Uniform1i(c,d.u_is_text),u_pitch_with_map:new i.Uniform1i(c,d.u_pitch_with_map),u_texsize:new i.Uniform2f(c,d.u_texsize),u_texture:new i.Uniform1i(c,d.u_texture)}},symbolSDF:function(c,d){return{u_is_size_zoom_constant:new i.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new i.Uniform1f(c,d.u_size_t),u_size:new i.Uniform1f(c,d.u_size),u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new i.Uniform1f(c,d.u_pitch),u_rotate_symbol:new i.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new i.Uniform1f(c,d.u_fade_change),u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new i.Uniform1i(c,d.u_is_text),u_pitch_with_map:new i.Uniform1i(c,d.u_pitch_with_map),u_texsize:new i.Uniform2f(c,d.u_texsize),u_texture:new i.Uniform1i(c,d.u_texture),u_gamma_scale:new i.Uniform1f(c,d.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(c,d.u_is_halo)}},symbolTextAndIcon:function(c,d){return{u_is_size_zoom_constant:new i.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new i.Uniform1f(c,d.u_size_t),u_size:new i.Uniform1f(c,d.u_size),u_camera_to_center_distance:new i.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new i.Uniform1f(c,d.u_pitch),u_rotate_symbol:new i.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new i.Uniform1f(c,d.u_fade_change),u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new i.Uniform1i(c,d.u_is_text),u_pitch_with_map:new i.Uniform1i(c,d.u_pitch_with_map),u_texsize:new i.Uniform2f(c,d.u_texsize),u_texsize_icon:new i.Uniform2f(c,d.u_texsize_icon),u_texture:new i.Uniform1i(c,d.u_texture),u_texture_icon:new i.Uniform1i(c,d.u_texture_icon),u_gamma_scale:new i.Uniform1f(c,d.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(c,d.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(c,d.u_is_halo)}},background:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_opacity:new i.Uniform1f(c,d.u_opacity),u_color:new i.UniformColor(c,d.u_color)}},backgroundPattern:function(c,d){return{u_matrix:new i.UniformMatrix4f(c,d.u_matrix),u_opacity:new i.Uniform1f(c,d.u_opacity),u_image:new i.Uniform1i(c,d.u_image),u_pattern_tl_a:new i.Uniform2f(c,d.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(c,d.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(c,d.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(c,d.u_pattern_br_b),u_texsize:new i.Uniform2f(c,d.u_texsize),u_mix:new i.Uniform1f(c,d.u_mix),u_pattern_size_a:new i.Uniform2f(c,d.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(c,d.u_pattern_size_b),u_scale_a:new i.Uniform1f(c,d.u_scale_a),u_scale_b:new i.Uniform1f(c,d.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(c,d.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(c,d.u_tile_units_to_pixels)}}};function rp(c,d,l,f,E,F,S){for(var R=c.context,D=R.gl,z=c.useProgram("collisionBox"),$=[],ee=0,re=0,_e=0;_e<f.length;_e++){var de=f[_e],Se=d.getTile(de),ce=Se.getBucket(l);if(ce){var Ae=de.posMatrix;E[0]===0&&E[1]===0||(Ae=c.translatePosMatrix(de.posMatrix,Se,E,F));var De=S?ce.textCollisionBox:ce.iconCollisionBox,Ze=ce.collisionCircleArray;if(Ze.length>0){var at=i.create(),Je=Ae;i.mul(at,ce.placementInvProjMatrix,c.transform.glCoordMatrix),i.mul(at,at,ce.placementViewportMatrix),$.push({circleArray:Ze,circleOffset:re,transform:Je,invTransform:at}),re=ee+=Ze.length/4}De&&z.draw(R,D.LINES,ne.disabled,ye.disabled,c.colorModeForRenderPass(),Oe.disabled,ls(Ae,c.transform,Se),l.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,null,c.transform.zoom,null,null,De.collisionVertexBuffer)}}if(S&&$.length){var lt=c.useProgram("collisionCircle"),Pt=new i.StructArrayLayout2f1f2i16;Pt.resize(4*ee),Pt._trim();for(var Ht=0,Bt=0,ir=$;Bt<ir.length;Bt+=1)for(var Cr=ir[Bt],Dr=0;Dr<Cr.circleArray.length/4;Dr++){var Nr=4*Dr,Bo=Cr.circleArray[Nr+0],lr=Cr.circleArray[Nr+1],qr=Cr.circleArray[Nr+2],lo=Cr.circleArray[Nr+3];Pt.emplace(Ht++,Bo,lr,qr,lo,0),Pt.emplace(Ht++,Bo,lr,qr,lo,1),Pt.emplace(Ht++,Bo,lr,qr,lo,2),Pt.emplace(Ht++,Bo,lr,qr,lo,3)}(!tu||tu.length<2*ee)&&(tu=function(Rn){var Ci=2*Rn,fi=new i.StructArrayLayout3ui6;fi.resize(Ci),fi._trim();for(var Tn=0;Tn<Ci;Tn++){var Cn=6*Tn;fi.uint16[Cn+0]=4*Tn+0,fi.uint16[Cn+1]=4*Tn+1,fi.uint16[Cn+2]=4*Tn+2,fi.uint16[Cn+3]=4*Tn+2,fi.uint16[Cn+4]=4*Tn+3,fi.uint16[Cn+5]=4*Tn+0}return fi}(ee));for(var Xr=R.createIndexBuffer(tu,!0),jr=R.createVertexBuffer(Pt,i.collisionCircleLayout.members,!0),po=0,Wr=$;po<Wr.length;po+=1){var zr=Wr[po],Qn=oc(zr.transform,zr.invTransform,c.transform);lt.draw(R,D.TRIANGLES,ne.disabled,ye.disabled,c.colorModeForRenderPass(),Oe.disabled,Qn,l.id,jr,Xr,i.SegmentVector.simpleSegment(0,2*zr.circleOffset,zr.circleArray.length,zr.circleArray.length/2),null,c.transform.zoom,null,null,null)}jr.destroy(),Xr.destroy()}}var qa=i.identity(new Float32Array(16));function Vl(c,d,l,f,E,F){var S=i.getAnchorAlignment(c),R=-(S.horizontalAlign-.5)*d,D=-(S.verticalAlign-.5)*l,z=i.evaluateVariableOffset(c,f);return new i.Point((R/E+z[0])*F,(D/E+z[1])*F)}function Hl(c,d,l,f,E,F,S,R,D,z,$){var ee=c.text.placedSymbolArray,re=c.text.dynamicLayoutVertexArray,_e=c.icon.dynamicLayoutVertexArray,de={};re.clear();for(var Se=0;Se<ee.length;Se++){var ce=ee.get(Se),Ae=ce.hidden||!ce.crossTileID||c.allowVerticalPlacement&&!ce.placedOrientation?null:f[ce.crossTileID];if(Ae){var De=new i.Point(ce.anchorX,ce.anchorY),Ze=uo(De,l?R:S),at=xo(F.cameraToCenterDistance,Ze.signedDistanceFromCamera),Je=E.evaluateSizeForFeature(c.textSizeData,z,ce)*at/i.ONE_EM;l&&(Je*=c.tilePixelRatio/D);for(var lt=Vl(Ae.anchor,Ae.width,Ae.height,Ae.textOffset,Ae.textBoxScale,Je),Pt=l?uo(De.add(lt),S).point:Ze.point.add(d?lt.rotate(-F.angle):lt),Ht=c.allowVerticalPlacement&&ce.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Bt=0;Bt<ce.numGlyphs;Bt++)i.addDynamicAttributes(re,Pt,Ht);$&&ce.associatedIconIndex>=0&&(de[ce.associatedIconIndex]={shiftedAnchor:Pt,angle:Ht})}else li(ce.numGlyphs,re)}if($){_e.clear();for(var ir=c.icon.placedSymbolArray,Cr=0;Cr<ir.length;Cr++){var Dr=ir.get(Cr);if(Dr.hidden)li(Dr.numGlyphs,_e);else{var Nr=de[Cr];if(Nr)for(var Bo=0;Bo<Dr.numGlyphs;Bo++)i.addDynamicAttributes(_e,Nr.shiftedAnchor,Nr.angle);else li(Dr.numGlyphs,_e)}}c.icon.dynamicLayoutVertexBuffer.updateData(_e)}c.text.dynamicLayoutVertexBuffer.updateData(re)}function Gl(c,d,l){return l.iconsInText&&d?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function wu(c,d,l,f,E,F,S,R,D,z,$,ee){for(var re=c.context,_e=re.gl,de=c.transform,Se=R==="map",ce=D==="map",Ae=Se&&l.layout.get("symbol-placement")!=="point",De=Se&&!ce&&!Ae,Ze=l.layout.get("symbol-sort-key").constantOr(1)!==void 0,at=!1,Je=c.depthModeForSublayer(0,ne.ReadOnly),lt=l.layout.get("text-variable-anchor"),Pt=[],Ht=0,Bt=f;Ht<Bt.length;Ht+=1){var ir=Bt[Ht],Cr=d.getTile(ir),Dr=Cr.getBucket(l);if(Dr){var Nr=E?Dr.text:Dr.icon;if(Nr&&Nr.segments.get().length){var Bo=Nr.programConfigurations.get(l.id),lr=E||Dr.sdfIcons,qr=E?Dr.textSizeData:Dr.iconSizeData,lo=ce||de.pitch!==0,Xr=c.useProgram(Gl(lr,E,Dr),Bo),jr=i.evaluateSizeForZoom(qr,de.zoom),po=void 0,Wr=[0,0],zr=void 0,Qn=void 0,Rn=null,Ci=void 0;if(E)zr=Cr.glyphAtlasTexture,Qn=_e.LINEAR,po=Cr.glyphAtlasTexture.size,Dr.iconsInText&&(Wr=Cr.imageAtlasTexture.size,Rn=Cr.imageAtlasTexture,Ci=lo||c.options.rotating||c.options.zooming||qr.kind==="composite"||qr.kind==="camera"?_e.LINEAR:_e.NEAREST);else{var fi=l.layout.get("icon-size").constantOr(0)!==1||Dr.iconsNeedLinear;zr=Cr.imageAtlasTexture,Qn=lr||c.options.rotating||c.options.zooming||fi||lo?_e.LINEAR:_e.NEAREST,po=Cr.imageAtlasTexture.size}var Tn=cn(Cr,1,c.transform.zoom),Cn=tn(ir.posMatrix,ce,Se,c.transform,Tn),oa=zo(ir.posMatrix,ce,Se,c.transform,Tn),$i=lt&&Dr.hasTextData(),Is=l.layout.get("icon-text-fit")!=="none"&&$i&&Dr.hasIconData();Ae&&mu(Dr,ir.posMatrix,c,E,Cn,oa,ce,z);var na=c.translatePosMatrix(ir.posMatrix,Cr,F,S),ts=Ae||E&&lt||Is?qa:Cn,Ca=c.translatePosMatrix(oa,Cr,F,S,!0),Np=lr&&l.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,sp={program:Xr,buffers:Nr,uniformValues:lr?Dr.iconsInText?Fp(qr.kind,jr,De,ce,c,na,ts,Ca,po,Wr):Ju(qr.kind,jr,De,ce,c,na,ts,Ca,E,po,!0):Tu(qr.kind,jr,De,ce,c,na,ts,Ca,E,po),atlasTexture:zr,atlasTextureIcon:Rn,atlasInterpolation:Qn,atlasInterpolationIcon:Ci,isSDF:lr,hasHalo:Np};if(Ze&&Dr.canOverlap){at=!0;for(var Ns=0,Lu=Nr.segments.get();Ns<Lu.length;Ns+=1){var au=Lu[Ns];Pt.push({segments:new i.SegmentVector([au]),sortKey:au.sortKey,state:sp})}}else Pt.push({segments:Nr.segments,sortKey:0,state:sp})}}}at&&Pt.sort(function(rs,fs){return rs.sortKey-fs.sortKey});for(var hs=0,Bu=Pt;hs<Bu.length;hs+=1){var zi=Bu[hs],kn=zi.state;if(re.activeTexture.set(_e.TEXTURE0),kn.atlasTexture.bind(kn.atlasInterpolation,_e.CLAMP_TO_EDGE),kn.atlasTextureIcon&&(re.activeTexture.set(_e.TEXTURE1),kn.atlasTextureIcon&&kn.atlasTextureIcon.bind(kn.atlasInterpolationIcon,_e.CLAMP_TO_EDGE)),kn.isSDF){var ya=kn.uniformValues;kn.hasHalo&&(ya.u_is_halo=1,Ts(kn.buffers,zi.segments,l,c,kn.program,Je,$,ee,ya)),ya.u_is_halo=0}Ts(kn.buffers,zi.segments,l,c,kn.program,Je,$,ee,kn.uniformValues)}}function Ts(c,d,l,f,E,F,S,R,D){var z=f.context;E.draw(z,z.gl.TRIANGLES,F,S,R,Oe.disabled,D,l.id,c.layoutVertexBuffer,c.indexBuffer,d,l.paint,f.transform.zoom,c.programConfigurations.get(l.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function Ap(c,d,l,f,E,F,S){var R,D,z,$,ee,re=c.context.gl,_e=l.paint.get("fill-pattern"),de=_e&&_e.constantOr(1),Se=l.getCrossfadeParameters();S?(D=de&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",R=re.LINES):(D=de?"fillPattern":"fill",R=re.TRIANGLES);for(var ce=0,Ae=f;ce<Ae.length;ce+=1){var De=Ae[ce],Ze=d.getTile(De);if(!de||Ze.patternsLoaded()){var at=Ze.getBucket(l);if(at){var Je=at.programConfigurations.get(l.id),lt=c.useProgram(D,Je);de&&(c.context.activeTexture.set(re.TEXTURE0),Ze.imageAtlasTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE),Je.updatePaintBuffers(Se));var Pt=_e.constantOr(null);if(Pt&&Ze.imageAtlas){var Ht=Ze.imageAtlas,Bt=Ht.patternPositions[Pt.to.toString()],ir=Ht.patternPositions[Pt.from.toString()];Bt&&ir&&Je.setConstantPatternPositions(Bt,ir)}var Cr=c.translatePosMatrix(De.posMatrix,Ze,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(S){$=at.indexBuffer2,ee=at.segments2;var Dr=[re.drawingBufferWidth,re.drawingBufferHeight];z=D==="fillOutlinePattern"&&de?kc(Cr,c,Se,Ze,Dr):Fu(Cr,Dr)}else $=at.indexBuffer,ee=at.segments,z=de?Ss(Cr,c,Se,Ze):Js(Cr);lt.draw(c.context,R,E,c.stencilModeForClipping(De),F,Oe.disabled,z,l.id,at.layoutVertexBuffer,$,ee,l.paint,c.transform.zoom,Je)}}}}function ac(c,d,l,f,E,F,S){for(var R=c.context,D=R.gl,z=l.paint.get("fill-extrusion-pattern"),$=z.constantOr(1),ee=l.getCrossfadeParameters(),re=l.paint.get("fill-extrusion-opacity"),_e=0,de=f;_e<de.length;_e+=1){var Se=de[_e],ce=d.getTile(Se),Ae=ce.getBucket(l);if(Ae){var De=Ae.programConfigurations.get(l.id),Ze=c.useProgram($?"fillExtrusionPattern":"fillExtrusion",De);$&&(c.context.activeTexture.set(D.TEXTURE0),ce.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),De.updatePaintBuffers(ee));var at=z.constantOr(null);if(at&&ce.imageAtlas){var Je=ce.imageAtlas,lt=Je.patternPositions[at.to.toString()],Pt=Je.patternPositions[at.from.toString()];lt&&Pt&&De.setConstantPatternPositions(lt,Pt)}var Ht=c.translatePosMatrix(Se.posMatrix,ce,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Bt=l.paint.get("fill-extrusion-vertical-gradient"),ir=$?la(Ht,c,Bt,re,Se,ee,ce):B0(Ht,c,Bt,re);Ze.draw(R,R.gl.TRIANGLES,E,F,S,Oe.backCCW,ir,l.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,l.paint,c.transform.zoom,De)}}}function Ru(c,d,l,f,E,F){var S=c.context,R=S.gl,D=d.fbo;if(D){var z=c.useProgram("hillshade");S.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,D.colorAttachment.get());var $=function(ee,re,_e){var de=_e.paint.get("hillshade-shadow-color"),Se=_e.paint.get("hillshade-highlight-color"),ce=_e.paint.get("hillshade-accent-color"),Ae=_e.paint.get("hillshade-illumination-direction")*(Math.PI/180);_e.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ae-=ee.transform.angle);var De,Ze,at,Je=!ee.options.moving;return{u_matrix:ee.transform.calculatePosMatrix(re.tileID.toUnwrapped(),Je),u_image:0,u_latrange:(De=re.tileID,Ze=Math.pow(2,De.canonical.z),at=De.canonical.y,[new i.MercatorCoordinate(0,at/Ze).toLngLat().lat,new i.MercatorCoordinate(0,(at+1)/Ze).toLngLat().lat]),u_light:[_e.paint.get("hillshade-exaggeration"),Ae],u_shadow:de,u_highlight:Se,u_accent:ce}}(c,d,l);z.draw(S,R.TRIANGLES,f,E,F,Oe.disabled,$,l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function rd(c,d,l,f,E,F){var S=c.context,R=S.gl,D=d.dem;if(D&&D.data){var z=D.dim,$=D.stride,ee=D.getPixels();if(S.activeTexture.set(R.TEXTURE1),S.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||c.getTileTexture($),d.demTexture){var re=d.demTexture;re.update(ee,{premultiply:!1}),re.bind(R.NEAREST,R.CLAMP_TO_EDGE)}else d.demTexture=new i.Texture(S,ee,R.RGBA,{premultiply:!1}),d.demTexture.bind(R.NEAREST,R.CLAMP_TO_EDGE);S.activeTexture.set(R.TEXTURE0);var _e=d.fbo;if(!_e){var de=new i.Texture(S,{width:z,height:z,data:null},R.RGBA);de.bind(R.LINEAR,R.CLAMP_TO_EDGE),(_e=d.fbo=S.createFramebuffer(z,z,!0)).colorAttachment.set(de.texture)}S.bindFramebuffer.set(_e.framebuffer),S.viewport.set([0,0,z,z]),c.useProgram("hillshadePrepare").draw(S,R.TRIANGLES,f,E,F,Oe.disabled,function(Se,ce){var Ae=ce.stride,De=i.create();return i.ortho(De,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(De,De,[0,-i.EXTENT,0]),{u_matrix:De,u_image:1,u_dimension:[Ae,Ae],u_zoom:Se.overscaledZ,u_unpack:ce.getUnpackVector()}}(d.tileID,D),l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),d.needsHillshadePrepare=!1}}function Hc(c,d,l,f,E){var F=f.paint.get("raster-fade-duration");if(F>0){var S=i.browser.now(),R=(S-c.timeAdded)/F,D=d?(S-d.timeAdded)/F:-1,z=l.getSource(),$=E.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),ee=!d||Math.abs(d.tileID.overscaledZ-$)>Math.abs(c.tileID.overscaledZ-$),re=ee&&c.refreshedUponExpiration?1:i.clamp(ee?R:1-D,0,1);return c.refreshedUponExpiration&&R>=1&&(c.refreshedUponExpiration=!1),d?{opacity:1,mix:1-re}:{opacity:re,mix:0}}return{opacity:1,mix:0}}var jl=new i.Color(1,0,0,1),Gc=new i.Color(0,1,0,1),U0=new i.Color(0,0,1,1),jc=new i.Color(1,0,1,1),Wl=new i.Color(0,1,1,1);function sc(c,d,l,f){op(c,0,d+l/2,c.transform.width,l,f)}function Zl(c,d,l,f){op(c,d-l/2,0,l,c.transform.height,f)}function op(c,d,l,f,E,F){var S=c.context,R=S.gl;R.enable(R.SCISSOR_TEST),R.scissor(d*i.browser.devicePixelRatio,l*i.browser.devicePixelRatio,f*i.browser.devicePixelRatio,E*i.browser.devicePixelRatio),S.clear({color:F}),R.disable(R.SCISSOR_TEST)}function Xl(c,d,l){var f=c.context,E=f.gl,F=l.posMatrix,S=c.useProgram("debug"),R=ne.disabled,D=ye.disabled,z=c.colorModeForRenderPass();f.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),S.draw(f,E.LINE_STRIP,R,D,z,Oe.disabled,Au(F,i.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var $=d.getTileByID(l.key).latestRawTileData,ee=Math.floor(($&&$.byteLength||0)/1024),re=d.getTile(l).tileSize,_e=512/Math.min(re,512)*(l.overscaledZ/c.transform.zoom)*.5,de=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(de+=" => "+l.overscaledZ),function(Se,ce){Se.initDebugOverlayCanvas();var Ae=Se.debugOverlayCanvas,De=Se.context.gl,Ze=Se.debugOverlayCanvas.getContext("2d");Ze.clearRect(0,0,Ae.width,Ae.height),Ze.shadowColor="white",Ze.shadowBlur=2,Ze.lineWidth=1.5,Ze.strokeStyle="white",Ze.textBaseline="top",Ze.font="bold 36px Open Sans, sans-serif",Ze.fillText(ce,5,5),Ze.strokeText(ce,5,5),Se.debugOverlayTexture.update(Ae),Se.debugOverlayTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE)}(c,de+" "+ee+"kb"),S.draw(f,E.TRIANGLES,R,D,Me.alphaBlended,Oe.disabled,Au(F,i.Color.transparent,_e),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var Cu={symbol:function(c,d,l,f,E){if(c.renderPass==="translucent"){var F=ye.disabled,S=c.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(R,D,z,$,ee,re,_e){for(var de=D.transform,Se=ee==="map",ce=re==="map",Ae=0,De=R;Ae<De.length;Ae+=1){var Ze=De[Ae],at=$.getTile(Ze),Je=at.getBucket(z);if(Je&&Je.text&&Je.text.segments.get().length){var lt=i.evaluateSizeForZoom(Je.textSizeData,de.zoom),Pt=cn(at,1,D.transform.zoom),Ht=tn(Ze.posMatrix,ce,Se,D.transform,Pt),Bt=z.layout.get("icon-text-fit")!=="none"&&Je.hasIconData();if(lt){var ir=Math.pow(2,de.zoom-at.tileID.overscaledZ);Hl(Je,Se,ce,_e,i.symbolSize,de,Ht,Ze.posMatrix,ir,lt,Bt)}}}}(f,c,l,d,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),E),l.paint.get("icon-opacity").constantOr(1)!==0&&wu(c,d,l,f,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),F,S),l.paint.get("text-opacity").constantOr(1)!==0&&wu(c,d,l,f,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),F,S),d.map.showCollisionBoxes&&(rp(c,d,l,f,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),rp(c,d,l,f,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))}},circle:function(c,d,l,f){if(c.renderPass==="translucent"){var E=l.paint.get("circle-opacity"),F=l.paint.get("circle-stroke-width"),S=l.paint.get("circle-stroke-opacity"),R=l.layout.get("circle-sort-key").constantOr(1)!==void 0;if(E.constantOr(1)!==0||F.constantOr(1)!==0&&S.constantOr(1)!==0){for(var D=c.context,z=D.gl,$=c.depthModeForSublayer(0,ne.ReadOnly),ee=ye.disabled,re=c.colorModeForRenderPass(),_e=[],de=0;de<f.length;de++){var Se=f[de],ce=d.getTile(Se),Ae=ce.getBucket(l);if(Ae){var De=Ae.programConfigurations.get(l.id),Ze={programConfiguration:De,program:c.useProgram("circle",De),layoutVertexBuffer:Ae.layoutVertexBuffer,indexBuffer:Ae.indexBuffer,uniformValues:bp(c,Se,ce,l)};if(R)for(var at=0,Je=Ae.segments.get();at<Je.length;at+=1){var lt=Je[at];_e.push({segments:new i.SegmentVector([lt]),sortKey:lt.sortKey,state:Ze})}else _e.push({segments:Ae.segments,sortKey:0,state:Ze})}}R&&_e.sort(function(Cr,Dr){return Cr.sortKey-Dr.sortKey});for(var Pt=0,Ht=_e;Pt<Ht.length;Pt+=1){var Bt=Ht[Pt],ir=Bt.state;ir.program.draw(D,z.TRIANGLES,$,ee,re,Oe.disabled,ir.uniformValues,l.id,ir.layoutVertexBuffer,ir.indexBuffer,Bt.segments,l.paint,c.transform.zoom,ir.programConfiguration)}}}},heatmap:function(c,d,l,f){if(l.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,F=E.gl,S=ye.disabled,R=new Me([F.ONE,F.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function(_e,de,Se){var ce=_e.gl;_e.activeTexture.set(ce.TEXTURE1),_e.viewport.set([0,0,de.width/4,de.height/4]);var Ae=Se.heatmapFbo;if(Ae)ce.bindTexture(ce.TEXTURE_2D,Ae.colorAttachment.get()),_e.bindFramebuffer.set(Ae.framebuffer);else{var De=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,De),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),Ae=Se.heatmapFbo=_e.createFramebuffer(de.width/4,de.height/4,!1),function(Ze,at,Je,lt){var Pt=Ze.gl;Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,at.width/4,at.height/4,0,Pt.RGBA,Ze.extRenderToTextureHalfFloat?Ze.extTextureHalfFloat.HALF_FLOAT_OES:Pt.UNSIGNED_BYTE,null),lt.colorAttachment.set(Je)}(_e,de,De,Ae)}})(E,c,l),E.clear({color:i.Color.transparent});for(var D=0;D<f.length;D++){var z=f[D];if(!d.hasRenderableParent(z)){var $=d.getTile(z),ee=$.getBucket(l);if(ee){var re=ee.programConfigurations.get(l.id);c.useProgram("heatmap",re).draw(E,F.TRIANGLES,ne.disabled,S,R,Oe.disabled,Ul(z.posMatrix,$,c.transform.zoom,l.paint.get("heatmap-intensity")),l.id,ee.layoutVertexBuffer,ee.indexBuffer,ee.segments,l.paint,c.transform.zoom,re)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(_e,de){var Se=_e.context,ce=Se.gl,Ae=de.heatmapFbo;if(Ae){Se.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,Ae.colorAttachment.get()),Se.activeTexture.set(ce.TEXTURE1);var De=de.colorRampTexture;De||(De=de.colorRampTexture=new i.Texture(Se,de.colorRamp,ce.RGBA)),De.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),_e.useProgram("heatmapTexture").draw(Se,ce.TRIANGLES,ne.disabled,ye.disabled,_e.colorModeForRenderPass(),Oe.disabled,function(Ze,at,Je,lt){var Pt=i.create();i.ortho(Pt,0,Ze.width,Ze.height,0,0,1);var Ht=Ze.context.gl;return{u_matrix:Pt,u_world:[Ht.drawingBufferWidth,Ht.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:at.paint.get("heatmap-opacity")}}(_e,de),de.id,_e.viewportBuffer,_e.quadTriangleIndexBuffer,_e.viewportSegments,de.paint,_e.transform.zoom)}}(c,l))},line:function(c,d,l,f){if(c.renderPass==="translucent"){var E=l.paint.get("line-opacity"),F=l.paint.get("line-width");if(E.constantOr(1)!==0&&F.constantOr(1)!==0)for(var S=c.depthModeForSublayer(0,ne.ReadOnly),R=c.colorModeForRenderPass(),D=l.paint.get("line-dasharray"),z=l.paint.get("line-pattern"),$=z.constantOr(1),ee=l.paint.get("line-gradient"),re=l.getCrossfadeParameters(),_e=$?"linePattern":D?"lineSDF":ee?"lineGradient":"line",de=c.context,Se=de.gl,ce=!0,Ae=0,De=f;Ae<De.length;Ae+=1){var Ze=De[Ae],at=d.getTile(Ze);if(!$||at.patternsLoaded()){var Je=at.getBucket(l);if(Je){var lt=Je.programConfigurations.get(l.id),Pt=c.context.program.get(),Ht=c.useProgram(_e,lt),Bt=ce||Ht.program!==Pt,ir=z.constantOr(null);if(ir&&at.imageAtlas){var Cr=at.imageAtlas,Dr=Cr.patternPositions[ir.to.toString()],Nr=Cr.patternPositions[ir.from.toString()];Dr&&Nr&&lt.setConstantPatternPositions(Dr,Nr)}var Bo=$?zc(c,at,l,re):D?td(c,at,l,D,re):ee?dn(c,at,l,Je.lineClipsArray.length):nc(c,at,l);if($)de.activeTexture.set(Se.TEXTURE0),at.imageAtlasTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE),lt.updatePaintBuffers(re);else if(D&&(Bt||c.lineAtlas.dirty))de.activeTexture.set(Se.TEXTURE0),c.lineAtlas.bind(de);else if(ee){var lr=Je.gradients[l.id],qr=lr.texture;if(l.gradientVersion!==lr.version){var lo=256;if(l.stepInterpolant){var Xr=d.getSource().maxzoom,jr=Ze.canonical.z===Xr?Math.ceil(1<<c.transform.maxZoom-Ze.canonical.z):1;lo=i.clamp(i.nextPowerOfTwo(Je.maxLineLength/i.EXTENT*1024*jr),256,de.maxTextureSize)}lr.gradient=i.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:lo,image:lr.gradient||void 0,clips:Je.lineClipsArray}),lr.texture?lr.texture.update(lr.gradient):lr.texture=new i.Texture(de,lr.gradient,Se.RGBA),lr.version=l.gradientVersion,qr=lr.texture}de.activeTexture.set(Se.TEXTURE0),qr.bind(l.stepInterpolant?Se.NEAREST:Se.LINEAR,Se.CLAMP_TO_EDGE)}Ht.draw(de,Se.TRIANGLES,S,c.stencilModeForClipping(Ze),R,Oe.disabled,Bo,l.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,l.paint,c.transform.zoom,lt,Je.layoutVertexBuffer2),ce=!1}}}}},fill:function(c,d,l,f){var E=l.paint.get("fill-color"),F=l.paint.get("fill-opacity");if(F.constantOr(1)!==0){var S=c.colorModeForRenderPass(),R=l.paint.get("fill-pattern"),D=c.opaquePassEnabledForLayer()&&!R.constantOr(1)&&E.constantOr(i.Color.transparent).a===1&&F.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===D){var z=c.depthModeForSublayer(1,c.renderPass==="opaque"?ne.ReadWrite:ne.ReadOnly);Ap(c,d,l,f,z,S,!1)}if(c.renderPass==="translucent"&&l.paint.get("fill-antialias")){var $=c.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,ne.ReadOnly);Ap(c,d,l,f,$,S,!0)}}},"fill-extrusion":function(c,d,l,f){var E=l.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var F=new ne(c.context.gl.LEQUAL,ne.ReadWrite,c.depthRangeFor3D);if(E!==1||l.paint.get("fill-extrusion-pattern").constantOr(1))ac(c,d,l,f,F,ye.disabled,Me.disabled),ac(c,d,l,f,F,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var S=c.colorModeForRenderPass();ac(c,d,l,f,F,ye.disabled,S)}}},hillshade:function(c,d,l,f){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,F=c.depthModeForSublayer(0,ne.ReadOnly),S=c.colorModeForRenderPass(),R=c.renderPass==="translucent"?c.stencilConfigForOverlap(f):[{},f],D=R[0],z=0,$=R[1];z<$.length;z+=1){var ee=$[z],re=d.getTile(ee);re.needsHillshadePrepare&&c.renderPass==="offscreen"?rd(c,re,l,F,ye.disabled,S):c.renderPass==="translucent"&&Ru(c,re,l,F,D[ee.overscaledZ],S)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,d,l,f){if(c.renderPass==="translucent"&&l.paint.get("raster-opacity")!==0&&f.length)for(var E=c.context,F=E.gl,S=d.getSource(),R=c.useProgram("raster"),D=c.colorModeForRenderPass(),z=S instanceof eo?[{},f]:c.stencilConfigForOverlap(f),$=z[0],ee=z[1],re=ee[ee.length-1].overscaledZ,_e=!c.options.moving,de=0,Se=ee;de<Se.length;de+=1){var ce=Se[de],Ae=c.depthModeForSublayer(ce.overscaledZ-re,l.paint.get("raster-opacity")===1?ne.ReadWrite:ne.ReadOnly,F.LESS),De=d.getTile(ce),Ze=c.transform.calculatePosMatrix(ce.toUnwrapped(),_e);De.registerFadeDuration(l.paint.get("raster-fade-duration"));var at=d.findLoadedParent(ce,0),Je=Hc(De,at,d,l,c.transform),lt=void 0,Pt=void 0,Ht=l.paint.get("raster-resampling")==="nearest"?F.NEAREST:F.LINEAR;E.activeTexture.set(F.TEXTURE0),De.texture.bind(Ht,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(F.TEXTURE1),at?(at.texture.bind(Ht,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST),lt=Math.pow(2,at.tileID.overscaledZ-De.tileID.overscaledZ),Pt=[De.tileID.canonical.x*lt%1,De.tileID.canonical.y*lt%1]):De.texture.bind(Ht,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST);var Bt=kl(Ze,Pt||[0,0],lt||1,Je,l);S instanceof eo?R.draw(E,F.TRIANGLES,Ae,ye.disabled,D,Oe.disabled,Bt,l.id,S.boundsBuffer,c.quadTriangleIndexBuffer,S.boundsSegments):R.draw(E,F.TRIANGLES,Ae,$[ce.overscaledZ],D,Oe.disabled,Bt,l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,d,l){var f=l.paint.get("background-color"),E=l.paint.get("background-opacity");if(E!==0){var F=c.context,S=F.gl,R=c.transform,D=R.tileSize,z=l.paint.get("background-pattern");if(!c.isPatternMissing(z)){var $=!z&&f.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===$){var ee=ye.disabled,re=c.depthModeForSublayer(0,$==="opaque"?ne.ReadWrite:ne.ReadOnly),_e=c.colorModeForRenderPass(),de=c.useProgram(z?"backgroundPattern":"background"),Se=R.coveringTiles({tileSize:D});z&&(F.activeTexture.set(S.TEXTURE0),c.imageManager.bind(c.context));for(var ce=l.getCrossfadeParameters(),Ae=0,De=Se;Ae<De.length;Ae+=1){var Ze=De[Ae],at=c.transform.calculatePosMatrix(Ze.toUnwrapped()),Je=z?tp(at,E,c,z,{tileID:Ze,tileSize:D},ce):ep(at,E,f);de.draw(F,S.TRIANGLES,re,ee,_e,Oe.disabled,Je,l.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,d,l){for(var f=0;f<l.length;f++)Xl(c,d,l[f])},custom:function(c,d,l){var f=c.context,E=l.implementation;if(c.renderPass==="offscreen"){var F=E.prerender;F&&(c.setCustomLayerDefaults(),f.setColorMode(c.colorModeForRenderPass()),F.call(E,f.gl,c.transform.customLayerMatrix()),f.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),f.setColorMode(c.colorModeForRenderPass()),f.setStencilMode(ye.disabled);var S=E.renderingMode==="3d"?new ne(c.context.gl.LEQUAL,ne.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,ne.ReadOnly);f.setDepthMode(S),E.render(f.gl,c.transform.customLayerMatrix()),f.setDirty(),c.setBaseState(),f.bindFramebuffer.set(null)}}},yn=function(c,d){this.context=new J(c),this.transform=d,this._tileTextures={},this.setup(),this.numSublayers=ge.maxUnderzooming+ge.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new vu,this.gpuTimers={}};yn.prototype.resize=function(c,d){if(this.width=c*i.browser.devicePixelRatio,this.height=d*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var l=0,f=this.style._order;l<f.length;l+=1)this.style._layers[f[l]].resize()},yn.prototype.setup=function(){var c=this.context,d=new i.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(i.EXTENT,0),d.emplaceBack(0,i.EXTENT),d.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(d,Bn.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var l=new i.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(i.EXTENT,0),l.emplaceBack(0,i.EXTENT),l.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=c.createVertexBuffer(l,Bn.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var f=new i.StructArrayLayout4i8;f.emplaceBack(0,0,0,0),f.emplaceBack(i.EXTENT,0,i.EXTENT,0),f.emplaceBack(0,i.EXTENT,0,i.EXTENT),f.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(f,Kr.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var E=new i.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Bn.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var F=new i.StructArrayLayout1ui2;F.emplaceBack(0),F.emplaceBack(1),F.emplaceBack(3),F.emplaceBack(2),F.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(F);var S=new i.StructArrayLayout3ui6;S.emplaceBack(0,1,2),S.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(S),this.emptyTexture=new i.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var R=this.context.gl;this.stencilClearMode=new ye({func:R.ALWAYS,mask:0},0,255,R.ZERO,R.ZERO,R.ZERO)},yn.prototype.clearStencil=function(){var c=this.context,d=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var l=i.create();i.ortho(l,0,this.width,this.height,0,0,1),i.scale(l,l,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,d.TRIANGLES,ne.disabled,this.stencilClearMode,Me.disabled,Oe.disabled,eu(l),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yn.prototype._renderTileClippingMasks=function(c,d){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&d&&d.length){this.currentStencilSource=c.source;var l=this.context,f=l.gl;this.nextStencilID+d.length>256&&this.clearStencil(),l.setColorMode(Me.disabled),l.setDepthMode(ne.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var F=0,S=d;F<S.length;F+=1){var R=S[F],D=this._tileClippingMaskIDs[R.key]=this.nextStencilID++;E.draw(l,f.TRIANGLES,ne.disabled,new ye({func:f.ALWAYS,mask:0},D,255,f.KEEP,f.KEEP,f.REPLACE),Me.disabled,Oe.disabled,eu(R.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,d=this.context.gl;return new ye({func:d.NOTEQUAL,mask:255},c,255,d.KEEP,d.KEEP,d.REPLACE)},yn.prototype.stencilModeForClipping=function(c){var d=this.context.gl;return new ye({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,d.KEEP,d.KEEP,d.REPLACE)},yn.prototype.stencilConfigForOverlap=function(c){var d,l=this.context.gl,f=c.sort(function(D,z){return z.overscaledZ-D.overscaledZ}),E=f[f.length-1].overscaledZ,F=f[0].overscaledZ-E+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();for(var S={},R=0;R<F;R++)S[R+E]=new ye({func:l.GEQUAL,mask:255},R+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=F,[S,f]}return[(d={},d[E]=ye.disabled,d),f]},yn.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new Me([c.CONSTANT_COLOR,c.ONE],new i.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Me.unblended:Me.alphaBlended},yn.prototype.depthModeForSublayer=function(c,d,l){if(!this.opaquePassEnabledForLayer())return ne.disabled;var f=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new ne(l||this.context.gl.LEQUAL,d,[f,f])},yn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yn.prototype.render=function(c,d){var l=this;this.style=c,this.options=d,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var f=this.style._order,E=this.style.sourceCaches;for(var F in E){var S=E[F];S.used&&S.prepare(this.context)}var R,D,z={},$={},ee={};for(var re in E){var _e=E[re];z[re]=_e.getVisibleCoordinates(),$[re]=z[re].slice().reverse(),ee[re]=_e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var de=0;de<f.length;de++)if(this.style._layers[f[de]].is3D()){this.opaquePassCutoff=de;break}this.renderPass="offscreen";for(var Se=0,ce=f;Se<ce.length;Se+=1){var Ae=this.style._layers[ce[Se]];if(Ae.hasOffscreenPass()&&!Ae.isHidden(this.transform.zoom)){var De=$[Ae.source];(Ae.type==="custom"||De.length)&&this.renderLayer(this,E[Ae.source],Ae,De)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){var Ze=this.style._layers[f[this.currentLayer]],at=E[Ze.source],Je=z[Ze.source];this._renderTileClippingMasks(Ze,Je),this.renderLayer(this,at,Ze,Je)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){var lt=this.style._layers[f[this.currentLayer]],Pt=E[lt.source],Ht=(lt.type==="symbol"?ee:$)[lt.source];this._renderTileClippingMasks(lt,z[lt.source]),this.renderLayer(this,Pt,lt,Ht)}this.options.showTileBoundaries&&(i.values(this.style._layers).forEach(function(Bt){Bt.source&&!Bt.isHidden(l.transform.zoom)&&(Bt.source!==(D&&D.id)&&(D=l.style.sourceCaches[Bt.source]),(!R||R.getSource().maxzoom<D.getSource().maxzoom)&&(R=D))}),R&&Cu.debug(this,R,R.getVisibleCoordinates())),this.options.showPadding&&function(Bt){var ir=Bt.transform.padding;sc(Bt,Bt.transform.height-(ir.top||0),3,jl),sc(Bt,ir.bottom||0,3,Gc),Zl(Bt,ir.left||0,3,U0),Zl(Bt,Bt.transform.width-(ir.right||0),3,jc);var Cr=Bt.transform.centerPoint;(function(Dr,Nr,Bo,lr){op(Dr,Nr-1,Bo-10,2,20,lr),op(Dr,Nr-10,Bo-1,20,2,lr)})(Bt,Cr.x,Bt.transform.height-Cr.y,Wl)}(this),this.context.setDefault()},yn.prototype.renderLayer=function(c,d,l,f){l.isHidden(this.transform.zoom)||(l.type==="background"||l.type==="custom"||f.length)&&(this.id=l.id,this.gpuTimingStart(l),Cu[l.type](c,d,l,f,this.style.placement.variableOffsets),this.gpuTimingEnd())},yn.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var d=this.context.extTimerQuery,l=this.gpuTimers[c.id];l||(l=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),l.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,l.query)}},yn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},yn.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},yn.prototype.queryGpuTimers=function(c){var d={};for(var l in c){var f=c[l],E=this.context.extTimerQuery,F=E.getQueryObjectEXT(f.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(f.query),d[l]=F}return d},yn.prototype.translatePosMatrix=function(c,d,l,f,E){if(!l[0]&&!l[1])return c;var F=E?f==="map"?this.transform.angle:0:f==="viewport"?-this.transform.angle:0;if(F){var S=Math.sin(F),R=Math.cos(F);l=[l[0]*R-l[1]*S,l[0]*S+l[1]*R]}var D=[E?l[0]:cn(d,l[0],this.transform.zoom),E?l[1]:cn(d,l[1],this.transform.zoom),0],z=new Float32Array(16);return i.translate(z,c,D),z},yn.prototype.saveTileTexture=function(c){var d=this._tileTextures[c.size[0]];d?d.push(c):this._tileTextures[c.size[0]]=[c]},yn.prototype.getTileTexture=function(c){var d=this._tileTextures[c];return d&&d.length>0?d.pop():null},yn.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var d=this.imageManager.getPattern(c.from.toString()),l=this.imageManager.getPattern(c.to.toString());return!d||!l},yn.prototype.useProgram=function(c,d){this.cache=this.cache||{};var l=""+c+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[l]||(this.cache[l]=new Un(this.context,c,ed[c],d,zl[c],this._showOverdrawInspector)),this.cache[l]},yn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yn.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},yn.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Wc=function(c,d){this.points=c,this.planes=d};Wc.fromInvProjectionMatrix=function(c,d,l){var f=Math.pow(2,l),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(S){return i.transformMat4([],S,c)}).map(function(S){return i.scale$1([],S,1/S[3]/d*f)}),F=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(S){var R=i.sub([],E[S[0]],E[S[1]]),D=i.sub([],E[S[2]],E[S[1]]),z=i.normalize([],i.cross([],R,D)),$=-i.dot(z,E[S[1]]);return z.concat($)});return new Wc(E,F)};var ws=function(c,d){this.min=c,this.max=d,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};ws.prototype.quadrant=function(c){for(var d=[c%2==0,c<2],l=i.clone$2(this.min),f=i.clone$2(this.max),E=0;E<d.length;E++)l[E]=d[E]?this.min[E]:this.center[E],f[E]=d[E]?this.center[E]:this.max[E];return f[2]=this.max[2],new ws(l,f)},ws.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},ws.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},ws.prototype.intersects=function(c){for(var d=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],l=!0,f=0;f<c.planes.length;f++){for(var E=c.planes[f],F=0,S=0;S<d.length;S++)F+=i.dot$1(E,d[S])>=0;if(F===0)return 0;F!==d.length&&(l=!1)}if(l)return 2;for(var R=0;R<3;R++){for(var D=Number.MAX_VALUE,z=-Number.MAX_VALUE,$=0;$<c.points.length;$++){var ee=c.points[$][R]-this.min[R];D=Math.min(D,ee),z=Math.max(z,ee)}if(z<0||D>this.max[R]-this.min[R])return 0}return 1};var Mu=function(c,d,l,f){if(c===void 0&&(c=0),d===void 0&&(d=0),l===void 0&&(l=0),f===void 0&&(f=0),isNaN(c)||c<0||isNaN(d)||d<0||isNaN(l)||l<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=d,this.left=l,this.right=f};Mu.prototype.interpolate=function(c,d,l){return d.top!=null&&c.top!=null&&(this.top=i.number(c.top,d.top,l)),d.bottom!=null&&c.bottom!=null&&(this.bottom=i.number(c.bottom,d.bottom,l)),d.left!=null&&c.left!=null&&(this.left=i.number(c.left,d.left,l)),d.right!=null&&c.right!=null&&(this.right=i.number(c.right,d.right,l)),this},Mu.prototype.getCenter=function(c,d){var l=i.clamp((this.left+c-this.right)/2,0,c),f=i.clamp((this.top+d-this.bottom)/2,0,d);return new i.Point(l,f)},Mu.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},Mu.prototype.clone=function(){return new Mu(this.top,this.bottom,this.left,this.right)},Mu.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Do=function(c,d,l,f,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=d||22,this._minPitch=l??0,this._maxPitch=f??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Mu,this._posMatrixCache={},this._alignedPosMatrixCache={}},hn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Do.prototype.clone=function(){var c=new Do(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},hn.minZoom.get=function(){return this._minZoom},hn.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},hn.maxZoom.get=function(){return this._maxZoom},hn.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},hn.minPitch.get=function(){return this._minPitch},hn.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},hn.maxPitch.get=function(){return this._maxPitch},hn.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},hn.renderWorldCopies.get=function(){return this._renderWorldCopies},hn.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},hn.worldSize.get=function(){return this.tileSize*this.scale},hn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},hn.size.get=function(){return new i.Point(this.width,this.height)},hn.bearing.get=function(){return-this.angle/Math.PI*180},hn.bearing.set=function(c){var d=-i.wrap(c,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},hn.pitch.get=function(){return this._pitch/Math.PI*180},hn.pitch.set=function(c){var d=i.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())},hn.fov.get=function(){return this._fov/Math.PI*180},hn.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},hn.zoom.get=function(){return this._zoom},hn.zoom.set=function(c){var d=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom,this._constrain(),this._calcMatrices())},hn.center.get=function(){return this._center},hn.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},hn.padding.get=function(){return this._edgeInsets.toJSON()},hn.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},hn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Do.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Do.prototype.interpolatePadding=function(c,d,l){this._unmodified=!1,this._edgeInsets.interpolate(c,d,l),this._constrain(),this._calcMatrices()},Do.prototype.coveringZoomLevel=function(c){var d=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,d)},Do.prototype.getVisibleUnwrappedCoordinates=function(c){var d=[new i.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var l=this.pointCoordinate(new i.Point(0,0)),f=this.pointCoordinate(new i.Point(this.width,0)),E=this.pointCoordinate(new i.Point(this.width,this.height)),F=this.pointCoordinate(new i.Point(0,this.height)),S=Math.floor(Math.min(l.x,f.x,E.x,F.x)),R=Math.floor(Math.max(l.x,f.x,E.x,F.x)),D=S-1;D<=R+1;D++)D!==0&&d.push(new i.UnwrappedTileID(D,c));return d},Do.prototype.coveringTiles=function(c){var d=this.coveringZoomLevel(c),l=d;if(c.minzoom!==void 0&&d<c.minzoom)return[];c.maxzoom!==void 0&&d>c.maxzoom&&(d=c.maxzoom);var f=i.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,d),F=[E*f.x,E*f.y,0],S=Wc.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d),R=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(R=d);var D=function(Bt){return{aabb:new ws([Bt*E,0,0],[(Bt+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Bt,fullyVisible:!1}},z=[],$=[],ee=d,re=c.reparseOverscaled?l:d;if(this._renderWorldCopies)for(var _e=1;_e<=3;_e++)z.push(D(-_e)),z.push(D(_e));for(z.push(D(0));z.length>0;){var de=z.pop(),Se=de.x,ce=de.y,Ae=de.fullyVisible;if(!Ae){var De=de.aabb.intersects(S);if(De===0)continue;Ae=De===2}var Ze=de.aabb.distanceX(F),at=de.aabb.distanceY(F),Je=Math.max(Math.abs(Ze),Math.abs(at));if(de.zoom===ee||Je>3+(1<<ee-de.zoom)-2&&de.zoom>=R)$.push({tileID:new i.OverscaledTileID(de.zoom===ee?re:de.zoom,de.wrap,de.zoom,Se,ce),distanceSq:i.sqrLen([F[0]-.5-Se,F[1]-.5-ce])});else for(var lt=0;lt<4;lt++){var Pt=(Se<<1)+lt%2,Ht=(ce<<1)+(lt>>1);z.push({aabb:de.aabb.quadrant(lt),zoom:de.zoom+1,x:Pt,y:Ht,wrap:de.wrap,fullyVisible:Ae})}}return $.sort(function(Bt,ir){return Bt.distanceSq-ir.distanceSq}).map(function(Bt){return Bt.tileID})},Do.prototype.resize=function(c,d){this.width=c,this.height=d,this.pixelsToGLUnits=[2/c,-2/d],this._constrain(),this._calcMatrices()},hn.unmodified.get=function(){return this._unmodified},Do.prototype.zoomScale=function(c){return Math.pow(2,c)},Do.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Do.prototype.project=function(c){var d=i.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(c.lng)*this.worldSize,i.mercatorYfromLat(d)*this.worldSize)},Do.prototype.unproject=function(c){return new i.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},hn.point.get=function(){return this.project(this.center)},Do.prototype.setLocationAtPoint=function(c,d){var l=this.pointCoordinate(d),f=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),F=new i.MercatorCoordinate(E.x-(l.x-f.x),E.y-(l.y-f.y));this.center=this.coordinateLocation(F),this._renderWorldCopies&&(this.center=this.center.wrap())},Do.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Do.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Do.prototype.locationCoordinate=function(c){return i.MercatorCoordinate.fromLngLat(c)},Do.prototype.coordinateLocation=function(c){return c.toLngLat()},Do.prototype.pointCoordinate=function(c){var d=[c.x,c.y,0,1],l=[c.x,c.y,1,1];i.transformMat4(d,d,this.pixelMatrixInverse),i.transformMat4(l,l,this.pixelMatrixInverse);var f=d[3],E=l[3],F=d[1]/f,S=l[1]/E,R=d[2]/f,D=l[2]/E,z=R===D?0:(0-R)/(D-R);return new i.MercatorCoordinate(i.number(d[0]/f,l[0]/E,z)/this.worldSize,i.number(F,S,z)/this.worldSize)},Do.prototype.coordinatePoint=function(c){var d=[c.x*this.worldSize,c.y*this.worldSize,0,1];return i.transformMat4(d,d,this.pixelMatrix),new i.Point(d[0]/d[3],d[1]/d[3])},Do.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Do.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Do.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Do.prototype.calculatePosMatrix=function(c,d){d===void 0&&(d=!1);var l=c.key,f=d?this._alignedPosMatrixCache:this._posMatrixCache;if(f[l])return f[l];var E=c.canonical,F=this.worldSize/this.zoomScale(E.z),S=E.x+Math.pow(2,E.z)*c.wrap,R=i.identity(new Float64Array(16));return i.translate(R,R,[S*F,E.y*F,0]),i.scale(R,R,[F/i.EXTENT,F/i.EXTENT,1]),i.multiply(R,d?this.alignedProjMatrix:this.projMatrix,R),f[l]=new Float32Array(R),f[l]},Do.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Do.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,d,l,f,E=-90,F=90,S=-180,R=180,D=this.size,z=this._unmodified;if(this.latRange){var $=this.latRange;E=i.mercatorYfromLat($[1])*this.worldSize,c=(F=i.mercatorYfromLat($[0])*this.worldSize)-E<D.y?D.y/(F-E):0}if(this.lngRange){var ee=this.lngRange;S=i.mercatorXfromLng(ee[0])*this.worldSize,d=(R=i.mercatorXfromLng(ee[1])*this.worldSize)-S<D.x?D.x/(R-S):0}var re=this.point,_e=Math.max(d||0,c||0);if(_e)return this.center=this.unproject(new i.Point(d?(R+S)/2:re.x,c?(F+E)/2:re.y)),this.zoom+=this.scaleZoom(_e),this._unmodified=z,void(this._constraining=!1);if(this.latRange){var de=re.y,Se=D.y/2;de-Se<E&&(f=E+Se),de+Se>F&&(f=F-Se)}if(this.lngRange){var ce=re.x,Ae=D.x/2;ce-Ae<S&&(l=S+Ae),ce+Ae>R&&(l=R-Ae)}l===void 0&&f===void 0||(this.center=this.unproject(new i.Point(l!==void 0?l:re.x,f!==void 0?f:re.y))),this._unmodified=z,this._constraining=!1}},Do.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var d=Math.PI/2+this._pitch,l=this._fov*(.5+c.y/this.height),f=Math.sin(l)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-d-l,.01,Math.PI-.01)),E=this.point,F=E.x,S=E.y,R=1.01*(Math.cos(Math.PI/2-this._pitch)*f+this.cameraToCenterDistance),D=this.height/50,z=new Float64Array(16);i.perspective(z,this._fov,this.width/this.height,D,R),z[8]=2*-c.x/this.width,z[9]=2*c.y/this.height,i.scale(z,z,[1,-1,1]),i.translate(z,z,[0,0,-this.cameraToCenterDistance]),i.rotateX(z,z,this._pitch),i.rotateZ(z,z,this.angle),i.translate(z,z,[-F,-S,0]),this.mercatorMatrix=i.scale([],z,[this.worldSize,this.worldSize,this.worldSize]),i.scale(z,z,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=z,this.invProjMatrix=i.invert([],this.projMatrix);var $=this.width%2/2,ee=this.height%2/2,re=Math.cos(this.angle),_e=Math.sin(this.angle),de=F-Math.round(F)+re*$+_e*ee,Se=S-Math.round(S)+re*ee+_e*$,ce=new Float64Array(z);if(i.translate(ce,ce,[de>.5?de-1:de,Se>.5?Se-1:Se,0]),this.alignedProjMatrix=ce,z=i.create(),i.scale(z,z,[this.width/2,-this.height/2,1]),i.translate(z,z,[1,-1,0]),this.labelPlaneMatrix=z,z=i.create(),i.scale(z,z,[1,-1,1]),i.translate(z,z,[-1,-1,0]),i.scale(z,z,[2/this.width,2/this.height,1]),this.glCoordMatrix=z,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(z=i.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=z,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Do.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new i.Point(0,0)),d=[c.x*this.worldSize,c.y*this.worldSize,0,1];return i.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance},Do.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,c))},Do.prototype.getCameraQueryGeometry=function(c){var d=this.getCameraPoint();if(c.length===1)return[c[0],d];for(var l=d.x,f=d.y,E=d.x,F=d.y,S=0,R=c;S<R.length;S+=1){var D=R[S];l=Math.min(l,D.x),f=Math.min(f,D.y),E=Math.max(E,D.x),F=Math.max(F,D.y)}return[new i.Point(l,f),new i.Point(E,f),new i.Point(E,F),new i.Point(l,F),new i.Point(l,f)]},Object.defineProperties(Do.prototype,hn);var Ua=function(c){var d,l,f,E;this._hashName=c&&encodeURIComponent(c),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(d=this._updateHashUnthrottled.bind(this),l=!1,f=null,E=function(){f=null,l&&(d(),f=setTimeout(E,300),l=!1)},function(){return l=!0,f||E(),f})};Ua.prototype.addTo=function(c){return this._map=c,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ua.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ua.prototype.getHashString=function(c){var d=this._map.getCenter(),l=Math.round(100*this._map.getZoom())/100,f=Math.ceil((l*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,f),F=Math.round(d.lng*E)/E,S=Math.round(d.lat*E)/E,R=this._map.getBearing(),D=this._map.getPitch(),z="";if(z+=c?"/"+F+"/"+S+"/"+l:l+"/"+S+"/"+F,(R||D)&&(z+="/"+Math.round(10*R)/10),D&&(z+="/"+Math.round(D)),this._hashName){var $=this._hashName,ee=!1,re=i.window.location.hash.slice(1).split("&").map(function(_e){var de=_e.split("=")[0];return de===$?(ee=!0,de+"="+z):_e}).filter(function(_e){return _e});return ee||re.push($+"="+z),"#"+re.join("&")}return"#"+z},Ua.prototype._getCurrentHash=function(){var c,d=this,l=i.window.location.hash.replace("#","");return this._hashName?(l.split("&").map(function(f){return f.split("=")}).forEach(function(f){f[0]===d._hashName&&(c=f)}),(c&&c[1]||"").split("/")):l.split("/")},Ua.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(l){return isNaN(l)})){var d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:d,pitch:+(c[4]||0)}),!0}return!1},Ua.prototype._updateHashUnthrottled=function(){var c=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,c)}catch{}};var uc={linearity:.3,easing:i.bezier(0,0,.3,1)},Sp=i.extend({deceleration:2500,maxSpeed:1400},uc),pc=i.extend({deceleration:20,maxSpeed:1400},uc),k0=i.extend({deceleration:1e3,maxSpeed:360},uc),Zc=i.extend({deceleration:1e3,maxSpeed:90},uc),cc=function(c){this._map=c,this.clear()};function Iu(c,d){(!c.duration||c.duration<d.duration)&&(c.duration=d.duration,c.easing=d.easing)}function yi(c,d,l){var f=l.maxSpeed,E=l.linearity,F=l.deceleration,S=i.clamp(c*E/(d/1e3),-f,f),R=Math.abs(S)/(F*E);return{easing:l.easing,duration:1e3*R,amount:S*(R/2)}}cc.prototype.clear=function(){this._inertiaBuffer=[]},cc.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:c})},cc.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,d=i.browser.now();c.length>0&&d-c[0].time>160;)c.shift()},cc.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var d={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},l=0,f=this._inertiaBuffer;l<f.length;l+=1){var E=f[l].settings;d.zoom+=E.zoomDelta||0,d.bearing+=E.bearingDelta||0,d.pitch+=E.pitchDelta||0,E.panDelta&&d.pan._add(E.panDelta),E.around&&(d.around=E.around),E.pinchAround&&(d.pinchAround=E.pinchAround)}var F=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(d.pan.mag()){var R=yi(d.pan.mag(),F,i.extend({},Sp,c||{}));S.offset=d.pan.mult(R.amount/d.pan.mag()),S.center=this._map.transform.center,Iu(S,R)}if(d.zoom){var D=yi(d.zoom,F,pc);S.zoom=this._map.transform.zoom+D.amount,Iu(S,D)}if(d.bearing){var z=yi(d.bearing,F,k0);S.bearing=this._map.transform.bearing+i.clamp(z.amount,-179,179),Iu(S,z)}if(d.pitch){var $=yi(d.pitch,F,Zc);S.pitch=this._map.transform.pitch+$.amount,Iu(S,$)}if(S.zoom||S.bearing){var ee=d.pinchAround===void 0?d.around:d.pinchAround;S.around=ee?this._map.unproject(ee):this._map.getCenter()}return this.clear(),i.extend(S,{noMoveStart:!0})}};var An=function(c){function d(f,E,F,S){S===void 0&&(S={});var R=m.mousePos(E.getCanvasContainer(),F),D=E.unproject(R);c.call(this,f,i.extend({point:R,lngLat:D,originalEvent:F},S)),this._defaultPrevented=!1,this.target=E}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(i.Event),Tp=function(c){function d(f,E,F){var S=f==="touchend"?F.changedTouches:F.touches,R=m.touchPos(E.getCanvasContainer(),S),D=R.map(function(ee){return E.unproject(ee)}),z=R.reduce(function(ee,re,_e,de){return ee.add(re.div(de.length))},new i.Point(0,0)),$=E.unproject(z);c.call(this,f,{points:R,point:z,lngLats:D,lngLat:$,originalEvent:F}),this._defaultPrevented=!1}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(i.Event),Yl=function(c){function d(f,E,F){c.call(this,f,{originalEvent:F}),this._defaultPrevented=!1}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(i.Event),Wn=function(c,d){this._map=c,this._clickTolerance=d.clickTolerance};Wn.prototype.reset=function(){delete this._mousedownPos},Wn.prototype.wheel=function(c){return this._firePreventable(new Yl(c.type,this._map,c))},Wn.prototype.mousedown=function(c,d){return this._mousedownPos=d,this._firePreventable(new An(c.type,this._map,c))},Wn.prototype.mouseup=function(c){this._map.fire(new An(c.type,this._map,c))},Wn.prototype.click=function(c,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new An(c.type,this._map,c))},Wn.prototype.dblclick=function(c){return this._firePreventable(new An(c.type,this._map,c))},Wn.prototype.mouseover=function(c){this._map.fire(new An(c.type,this._map,c))},Wn.prototype.mouseout=function(c){this._map.fire(new An(c.type,this._map,c))},Wn.prototype.touchstart=function(c){return this._firePreventable(new Tp(c.type,this._map,c))},Wn.prototype.touchmove=function(c){this._map.fire(new Tp(c.type,this._map,c))},Wn.prototype.touchend=function(c){this._map.fire(new Tp(c.type,this._map,c))},Wn.prototype.touchcancel=function(c){this._map.fire(new Tp(c.type,this._map,c))},Wn.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Wn.prototype.isEnabled=function(){return!0},Wn.prototype.isActive=function(){return!1},Wn.prototype.enable=function(){},Wn.prototype.disable=function(){};var hr=function(c){this._map=c};hr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},hr.prototype.mousemove=function(c){this._map.fire(new An(c.type,this._map,c))},hr.prototype.mousedown=function(){this._delayContextMenu=!0},hr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new An("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},hr.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new An(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},hr.prototype.isEnabled=function(){return!0},hr.prototype.isActive=function(){return!1},hr.prototype.enable=function(){},hr.prototype.disable=function(){};var da=function(c,d){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=d.clickTolerance||1};function lc(c,d){for(var l={},f=0;f<c.length;f++)l[c[f].identifier]=d[f];return l}da.prototype.isEnabled=function(){return!!this._enabled},da.prototype.isActive=function(){return!!this._active},da.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},da.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},da.prototype.mousedown=function(c,d){this.isEnabled()&&c.shiftKey&&c.button===0&&(m.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)},da.prototype.mousemoveWindow=function(c,d){if(this._active){var l=d;if(!(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)){var f=this._startPos;this._lastPos=l,this._box||(this._box=m.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(f.x,l.x),F=Math.max(f.x,l.x),S=Math.min(f.y,l.y),R=Math.max(f.y,l.y);m.setTransform(this._box,"translate("+E+"px,"+S+"px)"),this._box.style.width=F-E+"px",this._box.style.height=R-S+"px"}}},da.prototype.mouseupWindow=function(c,d){var l=this;if(this._active&&c.button===0){var f=this._startPos,E=d;if(this.reset(),m.suppressClick(),f.x!==E.x||f.y!==E.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(F){return F.fitScreenCoordinates(f,E,l._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},da.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},da.prototype.blur=function(){this.reset()},da.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(m.remove(this._box),this._box=null),m.enableDrag(),delete this._startPos,delete this._lastPos},da.prototype._fireEvent=function(c,d){return this._map.fire(new i.Event(c,{originalEvent:d}))};var wp=function(c){this.reset(),this.numTouches=c.numTouches};wp.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},wp.prototype.touchstart=function(c,d,l){(this.centroid||l.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),l.length===this.numTouches&&(this.centroid=function(f){for(var E=new i.Point(0,0),F=0,S=f;F<S.length;F+=1)E._add(S[F]);return E.div(f.length)}(d),this.touches=lc(l,d)))},wp.prototype.touchmove=function(c,d,l){if(!this.aborted&&this.centroid){var f=lc(l,d);for(var E in this.touches){var F=f[E];(!F||F.dist(this.touches[E])>30)&&(this.aborted=!0)}}},wp.prototype.touchend=function(c,d,l){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),l.length===0){var f=!this.aborted&&this.centroid;if(this.reset(),f)return f}};var ta=function(c){this.singleTap=new wp(c),this.numTaps=c.numTaps,this.reset()};ta.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ta.prototype.touchstart=function(c,d,l){this.singleTap.touchstart(c,d,l)},ta.prototype.touchmove=function(c,d,l){this.singleTap.touchmove(c,d,l)},ta.prototype.touchend=function(c,d,l){var f=this.singleTap.touchend(c,d,l);if(f){var E=c.timeStamp-this.lastTime<500,F=!this.lastTap||this.lastTap.dist(f)<30;if(E&&F||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}};var nn=function(){this._zoomIn=new ta({numTouches:1,numTaps:2}),this._zoomOut=new ta({numTouches:2,numTaps:1}),this.reset()};nn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},nn.prototype.touchstart=function(c,d,l){this._zoomIn.touchstart(c,d,l),this._zoomOut.touchstart(c,d,l)},nn.prototype.touchmove=function(c,d,l){this._zoomIn.touchmove(c,d,l),this._zoomOut.touchmove(c,d,l)},nn.prototype.touchend=function(c,d,l){var f=this,E=this._zoomIn.touchend(c,d,l),F=this._zoomOut.touchend(c,d,l);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(S){return S.easeTo({duration:300,zoom:S.getZoom()+1,around:S.unproject(E)},{originalEvent:c})}}):F?(this._active=!0,c.preventDefault(),setTimeout(function(){return f.reset()},0),{cameraAnimation:function(S){return S.easeTo({duration:300,zoom:S.getZoom()-1,around:S.unproject(F)},{originalEvent:c})}}):void 0},nn.prototype.touchcancel=function(){this.reset()},nn.prototype.enable=function(){this._enabled=!0},nn.prototype.disable=function(){this._enabled=!1,this.reset()},nn.prototype.isEnabled=function(){return this._enabled},nn.prototype.isActive=function(){return this._active};var Xc={0:1,2:2},Kt=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};Kt.prototype.blur=function(){this.reset()},Kt.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Kt.prototype._correctButton=function(c,d){return!1},Kt.prototype._move=function(c,d){return{}},Kt.prototype.mousedown=function(c,d){if(!this._lastPoint){var l=m.mouseButton(c);this._correctButton(c,l)&&(this._lastPoint=d,this._eventButton=l)}},Kt.prototype.mousemoveWindow=function(c,d){var l=this._lastPoint;if(l){if(c.preventDefault(),function(f,E){var F=Xc[E];return f.buttons===void 0||(f.buttons&F)!==F}(c,this._eventButton))this.reset();else if(this._moved||!(d.dist(l)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(l,d)}},Kt.prototype.mouseupWindow=function(c){this._lastPoint&&m.mouseButton(c)===this._eventButton&&(this._moved&&m.suppressClick(),this.reset())},Kt.prototype.enable=function(){this._enabled=!0},Kt.prototype.disable=function(){this._enabled=!1,this.reset()},Kt.prototype.isEnabled=function(){return this._enabled},Kt.prototype.isActive=function(){return this._active};var ru=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.mousedown=function(l,f){c.prototype.mousedown.call(this,l,f),this._lastPoint&&(this._active=!0)},d.prototype._correctButton=function(l,f){return f===0&&!l.ctrlKey},d.prototype._move=function(l,f){return{around:f,panDelta:f.sub(l)}},d}(Kt),dc=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype._correctButton=function(l,f){return f===0&&l.ctrlKey||f===2},d.prototype._move=function(l,f){var E=.8*(f.x-l.x);if(E)return this._active=!0,{bearingDelta:E}},d.prototype.contextmenu=function(l){l.preventDefault()},d}(Kt),Yc=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype._correctButton=function(l,f){return f===0&&l.ctrlKey||f===2},d.prototype._move=function(l,f){var E=-.5*(f.y-l.y);if(E)return this._active=!0,{pitchDelta:E}},d.prototype.contextmenu=function(l){l.preventDefault()},d}(Kt),Ka=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};Ka.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Ka.prototype.touchstart=function(c,d,l){return this._calculateTransform(c,d,l)},Ka.prototype.touchmove=function(c,d,l){if(this._active&&!(l.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,d,l)},Ka.prototype.touchend=function(c,d,l){this._calculateTransform(c,d,l),this._active&&l.length<this._minTouches&&this.reset()},Ka.prototype.touchcancel=function(){this.reset()},Ka.prototype._calculateTransform=function(c,d,l){l.length>0&&(this._active=!0);var f=lc(l,d),E=new i.Point(0,0),F=new i.Point(0,0),S=0;for(var R in f){var D=f[R],z=this._touches[R];z&&(E._add(D),F._add(D.sub(z)),S++,f[R]=D)}if(this._touches=f,!(S<this._minTouches)&&F.mag()){var $=F.div(S);if(this._sum._add($),!(this._sum.mag()<this._clickTolerance))return{around:E.div(S),panDelta:$}}},Ka.prototype.enable=function(){this._enabled=!0},Ka.prototype.disable=function(){this._enabled=!1,this.reset()},Ka.prototype.isEnabled=function(){return this._enabled},Ka.prototype.isActive=function(){return this._active};var Sa=function(){this.reset()};function $c(c,d,l){for(var f=0;f<c.length;f++)if(c[f].identifier===l)return d[f]}function qc(c,d){return Math.log(c/d)/Math.LN2}Sa.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Sa.prototype._start=function(c){},Sa.prototype._move=function(c,d,l){return{}},Sa.prototype.touchstart=function(c,d,l){this._firstTwoTouches||l.length<2||(this._firstTwoTouches=[l[0].identifier,l[1].identifier],this._start([d[0],d[1]]))},Sa.prototype.touchmove=function(c,d,l){if(this._firstTwoTouches){c.preventDefault();var f=this._firstTwoTouches,E=f[1],F=$c(l,d,f[0]),S=$c(l,d,E);if(F&&S){var R=this._aroundCenter?null:F.add(S).div(2);return this._move([F,S],R,c)}}},Sa.prototype.touchend=function(c,d,l){if(this._firstTwoTouches){var f=this._firstTwoTouches,E=f[1],F=$c(l,d,f[0]),S=$c(l,d,E);F&&S||(this._active&&m.suppressClick(),this.reset())}},Sa.prototype.touchcancel=function(){this.reset()},Sa.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var ra=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},d.prototype._start=function(l){this._startDistance=this._distance=l[0].dist(l[1])},d.prototype._move=function(l,f){var E=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(qc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:qc(this._distance,E),pinchAround:f}},d}(Sa);function Rs(c,d){return 180*c.angleWith(d)/Math.PI}var z0=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},d.prototype._start=function(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])},d.prototype._move=function(l,f){var E=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Rs(this._vector,E),pinchAround:f}},d.prototype._isBelowThreshold=function(l){this._minDiameter=Math.min(this._minDiameter,l.mag());var f=25/(Math.PI*this._minDiameter)*360,E=Rs(l,this._startVector);return Math.abs(E)<f},d}(Sa);function Rp(c){return Math.abs(c.y)>Math.abs(c.x)}var Kc=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},d.prototype._start=function(l){this._lastPoints=l,Rp(l[0].sub(l[1]))&&(this._valid=!1)},d.prototype._move=function(l,f,E){var F=l[0].sub(this._lastPoints[0]),S=l[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(F,S,E.timeStamp),this._valid)return this._lastPoints=l,this._active=!0,{pitchDelta:(F.y+S.y)/2*-.5}},d.prototype.gestureBeginsVertically=function(l,f,E){if(this._valid!==void 0)return this._valid;var F=l.mag()>=2,S=f.mag()>=2;if(F||S){if(!F||!S)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var R=l.y>0==f.y>0;return Rp(l)&&Rp(f)&&R}},d}(Sa),$l={panStep:100,bearingStep:15,pitchStep:10},Ta=function(){var c=$l;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function ka(c){return c*(2-c)}Ta.prototype.blur=function(){this.reset()},Ta.prototype.reset=function(){this._active=!1},Ta.prototype.keydown=function(c){var d=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var l=0,f=0,E=0,F=0,S=0;switch(c.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:c.shiftKey?f=-1:(c.preventDefault(),F=-1);break;case 39:c.shiftKey?f=1:(c.preventDefault(),F=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),S=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),S=1);break;default:return}return this._rotationDisabled&&(f=0,E=0),{cameraAnimation:function(R){var D=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:ka,zoom:l?Math.round(D)+l*(c.shiftKey?2:1):D,bearing:R.getBearing()+f*d._bearingStep,pitch:R.getPitch()+E*d._pitchStep,offset:[-F*d._panStep,-S*d._panStep],center:R.getCenter()},{originalEvent:c})}}}},Ta.prototype.enable=function(){this._enabled=!0},Ta.prototype.disable=function(){this._enabled=!1,this.reset()},Ta.prototype.isEnabled=function(){return this._enabled},Ta.prototype.isActive=function(){return this._active},Ta.prototype.disableRotation=function(){this._rotationDisabled=!0},Ta.prototype.enableRotation=function(){this._rotationDisabled=!1};var co=function(c,d){this._map=c,this._el=c.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,i.bindAll(["_onTimeout"],this)};co.prototype.setZoomRate=function(c){this._defaultZoomRate=c},co.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},co.prototype.isEnabled=function(){return!!this._enabled},co.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},co.prototype.isZooming=function(){return!!this._zooming},co.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},co.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},co.prototype.wheel=function(c){if(this.isEnabled()){var d=c.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,l=i.browser.now(),f=l-(this._lastWheelEventTime||0);this._lastWheelEventTime=l,d!==0&&d%4.000244140625==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(f*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),c.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=c,this._delta-=d,this._active||this._start(c)),c.preventDefault()}},co.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},co.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var d=m.mousePos(this._el,c);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(d)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},co.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var d=this._map.transform;if(this._delta!==0){var l=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,f=2/(1+Math.exp(-Math.abs(this._delta*l)));this._delta<0&&f!==0&&(f=1/f);var E=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):d.scale;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(E*f))),this._type==="wheel"&&(this._startZoom=d.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var F,S=typeof this._targetZoom=="number"?this._targetZoom:d.zoom,R=this._startZoom,D=this._easing,z=!1;if(this._type==="wheel"&&R&&D){var $=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),ee=D($);F=i.number(R,S,ee),$<1?this._frameId||(this._frameId=!0):z=!0}else F=S,z=!0;return this._active=!0,z&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!z,zoomDelta:F-d.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},co.prototype._smoothOutEasing=function(c){var d=i.ease;if(this._prevEase){var l=this._prevEase,f=(i.browser.now()-l.start)/l.duration,E=l.easing(f+.01)-l.easing(f),F=.27/Math.sqrt(E*E+1e-4)*.01,S=Math.sqrt(.0729-F*F);d=i.bezier(F,S,.25,1)}return this._prevEase={start:i.browser.now(),duration:c,easing:d},d},co.prototype.blur=function(){this.reset()},co.prototype.reset=function(){this._active=!1};var za=function(c,d){this._clickZoom=c,this._tapZoom=d};za.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},za.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},za.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},za.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Va=function(){this.reset()};Va.prototype.reset=function(){this._active=!1},Va.prototype.blur=function(){this.reset()},Va.prototype.dblclick=function(c,d){return c.preventDefault(),{cameraAnimation:function(l){l.easeTo({duration:300,zoom:l.getZoom()+(c.shiftKey?-1:1),around:l.unproject(d)},{originalEvent:c})}}},Va.prototype.enable=function(){this._enabled=!0},Va.prototype.disable=function(){this._enabled=!1,this.reset()},Va.prototype.isEnabled=function(){return this._enabled},Va.prototype.isActive=function(){return this._active};var Ri=function(){this._tap=new ta({numTouches:1,numTaps:1}),this.reset()};Ri.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ri.prototype.touchstart=function(c,d,l){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?l.length>0&&(this._swipePoint=d[0],this._swipeTouch=l[0].identifier):this._tap.touchstart(c,d,l))},Ri.prototype.touchmove=function(c,d,l){if(this._tapTime){if(this._swipePoint){if(l[0].identifier!==this._swipeTouch)return;var f=d[0],E=f.y-this._swipePoint.y;return this._swipePoint=f,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,d,l)},Ri.prototype.touchend=function(c,d,l){this._tapTime?this._swipePoint&&l.length===0&&this.reset():this._tap.touchend(c,d,l)&&(this._tapTime=c.timeStamp)},Ri.prototype.touchcancel=function(){this.reset()},Ri.prototype.enable=function(){this._enabled=!0},Ri.prototype.disable=function(){this._enabled=!1,this.reset()},Ri.prototype.isEnabled=function(){return this._enabled},Ri.prototype.isActive=function(){return this._active};var Nu=function(c,d,l){this._el=c,this._mousePan=d,this._touchPan=l};Nu.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Nu.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Nu.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Nu.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ou=function(c,d,l){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=d,this._mousePitch=l};ou.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ou.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ou.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ou.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Qa=function(c,d,l,f){this._el=c,this._touchZoom=d,this._touchRotate=l,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0};Qa.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Qa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Qa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Qa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Qa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Qa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Xi=function(c){return c.zoom||c.drag||c.pitch||c.rotate},Cp=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d}(i.Event);function Rr(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var gr=function(c,d){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new cc(c),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d),i.bindAll(["handleEvent","handleWindowEvent"],this);var l=this._el;this._listeners=[[l,"touchstart",{passive:!0}],[l,"touchmove",{passive:!1}],[l,"touchend",void 0],[l,"touchcancel",void 0],[l,"mousedown",void 0],[l,"mousemove",void 0],[l,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[l,"mouseover",void 0],[l,"mouseout",void 0],[l,"dblclick",void 0],[l,"click",void 0],[l,"keydown",{capture:!1}],[l,"keyup",void 0],[l,"wheel",{passive:!1}],[l,"contextmenu",void 0],[i.window,"blur",void 0]];for(var f=0,E=this._listeners;f<E.length;f+=1){var F=E[f],S=F[0];m.addEventListener(S,F[1],S===i.window.document?this.handleWindowEvent:this.handleEvent,F[2])}};gr.prototype.destroy=function(){for(var c=0,d=this._listeners;c<d.length;c+=1){var l=d[c],f=l[0];m.removeEventListener(f,l[1],f===i.window.document?this.handleWindowEvent:this.handleEvent,l[2])}},gr.prototype._addDefaultHandlers=function(c){var d=this._map,l=d.getCanvasContainer();this._add("mapEvent",new Wn(d,c));var f=d.boxZoom=new da(d,c);this._add("boxZoom",f);var E=new nn,F=new Va;d.doubleClickZoom=new za(F,E),this._add("tapZoom",E),this._add("clickZoom",F);var S=new Ri;this._add("tapDragZoom",S);var R=d.touchPitch=new Kc;this._add("touchPitch",R);var D=new dc(c),z=new Yc(c);d.dragRotate=new ou(c,D,z),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);var $=new ru(c),ee=new Ka(c);d.dragPan=new Nu(l,$,ee),this._add("mousePan",$),this._add("touchPan",ee,["touchZoom","touchRotate"]);var re=new z0,_e=new ra;d.touchZoomRotate=new Qa(l,_e,re,S),this._add("touchRotate",re,["touchPan","touchZoom"]),this._add("touchZoom",_e,["touchPan","touchRotate"]);var de=d.scrollZoom=new co(d,this);this._add("scrollZoom",de,["mousePan"]);var Se=d.keyboard=new Ta;this._add("keyboard",Se),this._add("blockableMapEvent",new hr(d));for(var ce=0,Ae=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ce<Ae.length;ce+=1){var De=Ae[ce];c.interactive&&c[De]&&d[De].enable(c[De])}},gr.prototype._add=function(c,d,l){this._handlers.push({handlerName:c,handler:d,allowed:l}),this._handlersById[c]=d},gr.prototype.stop=function(c){if(!this._updatingCamera){for(var d=0,l=this._handlers;d<l.length;d+=1)l[d].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},gr.prototype.isActive=function(){for(var c=0,d=this._handlers;c<d.length;c+=1)if(d[c].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return!!Xi(this._eventsInProgress)||this.isZooming()},gr.prototype._blockedByActive=function(c,d,l){for(var f in c)if(f!==l&&(!d||d.indexOf(f)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},gr.prototype._getMapTouches=function(c){for(var d=[],l=0,f=c;l<f.length;l+=1){var E=f[l];this._el.contains(E.target)&&d.push(E)}return d},gr.prototype.handleEvent=function(c,d){this._updatingCamera=!0;for(var l=c.type==="renderFrame"?void 0:c,f={needsRenderFrame:!1},E={},F={},S=c.touches?this._getMapTouches(c.touches):void 0,R=S?m.touchPos(this._el,S):m.mousePos(this._el,c),D=0,z=this._handlers;D<z.length;D+=1){var $=z[D],ee=$.handlerName,re=$.handler,_e=$.allowed;if(re.isEnabled()){var de=void 0;this._blockedByActive(F,_e,ee)?re.reset():re[d||c.type]&&(de=re[d||c.type](c,R,S),this.mergeHandlerResult(f,E,de,ee,l),de&&de.needsRenderFrame&&this._triggerRenderFrame()),(de||re.isActive())&&(F[ee]=re)}}var Se={};for(var ce in this._previousActiveHandlers)F[ce]||(Se[ce]=l);this._previousActiveHandlers=F,(Object.keys(Se).length||Rr(f))&&(this._changes.push([f,E,Se]),this._triggerRenderFrame()),(Object.keys(F).length||Rr(f))&&this._map._stop(!0),this._updatingCamera=!1;var Ae=f.cameraAnimation;Ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ae(this._map))},gr.prototype.mergeHandlerResult=function(c,d,l,f,E){if(l){i.extend(c,l);var F={handlerName:f,originalEvent:l.originalEvent||E};l.zoomDelta!==void 0&&(d.zoom=F),l.panDelta!==void 0&&(d.drag=F),l.pitchDelta!==void 0&&(d.pitch=F),l.bearingDelta!==void 0&&(d.rotate=F)}},gr.prototype._applyChanges=function(){for(var c={},d={},l={},f=0,E=this._changes;f<E.length;f+=1){var F=E[f],S=F[0],R=F[1],D=F[2];S.panDelta&&(c.panDelta=(c.panDelta||new i.Point(0,0))._add(S.panDelta)),S.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+S.pitchDelta),S.around!==void 0&&(c.around=S.around),S.pinchAround!==void 0&&(c.pinchAround=S.pinchAround),S.noInertia&&(c.noInertia=S.noInertia),i.extend(d,R),i.extend(l,D)}this._updateMapTransform(c,d,l),this._changes=[]},gr.prototype._updateMapTransform=function(c,d,l){var f=this._map,E=f.transform;if(!Rr(c))return this._fireEvents(d,l,!0);var F=c.panDelta,S=c.zoomDelta,R=c.bearingDelta,D=c.pitchDelta,z=c.around,$=c.pinchAround;$!==void 0&&(z=$),f._stop(!0),z=z||f.transform.centerPoint;var ee=E.pointLocation(F?z.sub(F):z);R&&(E.bearing+=R),D&&(E.pitch+=D),S&&(E.zoom+=S),E.setLocationAtPoint(ee,z),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(d,l,!0)},gr.prototype._fireEvents=function(c,d,l){var f=this,E=Xi(this._eventsInProgress),F=Xi(c),S={};for(var R in c)this._eventsInProgress[R]||(S[R+"start"]=c[R].originalEvent),this._eventsInProgress[R]=c[R];for(var D in!E&&F&&this._fireEvent("movestart",F.originalEvent),S)this._fireEvent(D,S[D]);for(var z in F&&this._fireEvent("move",F.originalEvent),c)this._fireEvent(z,c[z].originalEvent);var $,ee={};for(var re in this._eventsInProgress){var _e=this._eventsInProgress[re],de=_e.handlerName,Se=_e.originalEvent;this._handlersById[de].isActive()||(delete this._eventsInProgress[re],ee[re+"end"]=$=d[de]||Se)}for(var ce in ee)this._fireEvent(ce,ee[ce]);var Ae=Xi(this._eventsInProgress);if(l&&(E||F)&&!Ae){this._updatingCamera=!0;var De=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ze=function(at){return at!==0&&-f._bearingSnap<at&&at<f._bearingSnap};De?(Ze(De.bearing||this._map.getBearing())&&(De.bearing=0),this._map.easeTo(De,{originalEvent:$})):(this._map.fire(new i.Event("moveend",{originalEvent:$})),Ze(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},gr.prototype._fireEvent=function(c,d){this._map.fire(new i.Event(c,d?{originalEvent:d}:{}))},gr.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(d){delete c._frameId,c.handleEvent(new Cp("renderFrame",{timeStamp:d})),c._applyChanges()})},gr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var wa=function(c){function d(l,f){c.call(this),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=f.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},d.prototype.setCenter=function(l,f){return this.jumpTo({center:l},f)},d.prototype.panBy=function(l,f,E){return l=i.Point.convert(l).mult(-1),this.panTo(this.transform.center,i.extend({offset:l},f),E)},d.prototype.panTo=function(l,f,E){return this.easeTo(i.extend({center:l},f),E)},d.prototype.getZoom=function(){return this.transform.zoom},d.prototype.setZoom=function(l,f){return this.jumpTo({zoom:l},f),this},d.prototype.zoomTo=function(l,f,E){return this.easeTo(i.extend({zoom:l},f),E)},d.prototype.zoomIn=function(l,f){return this.zoomTo(this.getZoom()+1,l,f),this},d.prototype.zoomOut=function(l,f){return this.zoomTo(this.getZoom()-1,l,f),this},d.prototype.getBearing=function(){return this.transform.bearing},d.prototype.setBearing=function(l,f){return this.jumpTo({bearing:l},f),this},d.prototype.getPadding=function(){return this.transform.padding},d.prototype.setPadding=function(l,f){return this.jumpTo({padding:l},f),this},d.prototype.rotateTo=function(l,f,E){return this.easeTo(i.extend({bearing:l},f),E)},d.prototype.resetNorth=function(l,f){return this.rotateTo(0,i.extend({duration:1e3},l),f),this},d.prototype.resetNorthPitch=function(l,f){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},l),f),this},d.prototype.snapToNorth=function(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this},d.prototype.getPitch=function(){return this.transform.pitch},d.prototype.setPitch=function(l,f){return this.jumpTo({pitch:l},f),this},d.prototype.cameraForBounds=function(l,f){l=i.LngLatBounds.convert(l);var E=f&&f.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),E,f)},d.prototype._cameraForBoxAndBearing=function(l,f,E,F){var S={top:0,bottom:0,right:0,left:0};if(typeof(F=i.extend({padding:S,offset:[0,0],maxZoom:this.transform.maxZoom},F)).padding=="number"){var R=F.padding;F.padding={top:R,bottom:R,right:R,left:R}}F.padding=i.extend(S,F.padding);var D=this.transform,z=D.padding,$=D.project(i.LngLat.convert(l)),ee=D.project(i.LngLat.convert(f)),re=$.rotate(-E*Math.PI/180),_e=ee.rotate(-E*Math.PI/180),de=new i.Point(Math.max(re.x,_e.x),Math.max(re.y,_e.y)),Se=new i.Point(Math.min(re.x,_e.x),Math.min(re.y,_e.y)),ce=de.sub(Se),Ae=(D.width-(z.left+z.right+F.padding.left+F.padding.right))/ce.x,De=(D.height-(z.top+z.bottom+F.padding.top+F.padding.bottom))/ce.y;if(!(De<0||Ae<0)){var Ze=Math.min(D.scaleZoom(D.scale*Math.min(Ae,De)),F.maxZoom),at=typeof F.offset.x=="number"?new i.Point(F.offset.x,F.offset.y):i.Point.convert(F.offset),Je=new i.Point((F.padding.left-F.padding.right)/2,(F.padding.top-F.padding.bottom)/2).rotate(E*Math.PI/180),lt=at.add(Je).mult(D.scale/D.zoomScale(Ze));return{center:D.unproject($.add(ee).div(2).sub(lt)),zoom:Ze,bearing:E}}i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},d.prototype.fitBounds=function(l,f,E){return this._fitInternal(this.cameraForBounds(l,f),f,E)},d.prototype.fitScreenCoordinates=function(l,f,E,F,S){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(l)),this.transform.pointLocation(i.Point.convert(f)),E,F),F,S)},d.prototype._fitInternal=function(l,f,E){return l?(delete(f=i.extend(l,f)).padding,f.linear?this.easeTo(f,E):this.flyTo(f,E)):this},d.prototype.jumpTo=function(l,f){this.stop();var E=this.transform,F=!1,S=!1,R=!1;return"zoom"in l&&E.zoom!==+l.zoom&&(F=!0,E.zoom=+l.zoom),l.center!==void 0&&(E.center=i.LngLat.convert(l.center)),"bearing"in l&&E.bearing!==+l.bearing&&(S=!0,E.bearing=+l.bearing),"pitch"in l&&E.pitch!==+l.pitch&&(R=!0,E.pitch=+l.pitch),l.padding==null||E.isPaddingEqual(l.padding)||(E.padding=l.padding),this.fire(new i.Event("movestart",f)).fire(new i.Event("move",f)),F&&this.fire(new i.Event("zoomstart",f)).fire(new i.Event("zoom",f)).fire(new i.Event("zoomend",f)),S&&this.fire(new i.Event("rotatestart",f)).fire(new i.Event("rotate",f)).fire(new i.Event("rotateend",f)),R&&this.fire(new i.Event("pitchstart",f)).fire(new i.Event("pitch",f)).fire(new i.Event("pitchend",f)),this.fire(new i.Event("moveend",f))},d.prototype.easeTo=function(l,f){var E=this;this._stop(!1,l.easeId),((l=i.extend({offset:[0,0],duration:500,easing:i.ease},l)).animate===!1||!l.essential&&i.browser.prefersReducedMotion)&&(l.duration=0);var F=this.transform,S=this.getZoom(),R=this.getBearing(),D=this.getPitch(),z=this.getPadding(),$="zoom"in l?+l.zoom:S,ee="bearing"in l?this._normalizeBearing(l.bearing,R):R,re="pitch"in l?+l.pitch:D,_e="padding"in l?l.padding:F.padding,de=i.Point.convert(l.offset),Se=F.centerPoint.add(de),ce=F.pointLocation(Se),Ae=i.LngLat.convert(l.center||ce);this._normalizeCenter(Ae);var De,Ze,at=F.project(ce),Je=F.project(Ae).sub(at),lt=F.zoomScale($-S);l.around&&(De=i.LngLat.convert(l.around),Ze=F.locationPoint(De));var Pt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||$!==S,this._rotating=this._rotating||R!==ee,this._pitching=this._pitching||re!==D,this._padding=!F.isPaddingEqual(_e),this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,Pt),this._ease(function(Ht){if(E._zooming&&(F.zoom=i.number(S,$,Ht)),E._rotating&&(F.bearing=i.number(R,ee,Ht)),E._pitching&&(F.pitch=i.number(D,re,Ht)),E._padding&&(F.interpolatePadding(z,_e,Ht),Se=F.centerPoint.add(de)),De)F.setLocationAtPoint(De,Ze);else{var Bt=F.zoomScale(F.zoom-S),ir=$>S?Math.min(2,lt):Math.max(.5,lt),Cr=Math.pow(ir,1-Ht),Dr=F.unproject(at.add(Je.mult(Ht*Cr)).mult(Bt));F.setLocationAtPoint(F.renderWorldCopies?Dr.wrap():Dr,Se)}E._fireMoveEvents(f)},function(Ht){E._afterEase(f,Ht)},l),this},d.prototype._prepareEase=function(l,f,E){E===void 0&&(E={}),this._moving=!0,f||E.moving||this.fire(new i.Event("movestart",l)),this._zooming&&!E.zooming&&this.fire(new i.Event("zoomstart",l)),this._rotating&&!E.rotating&&this.fire(new i.Event("rotatestart",l)),this._pitching&&!E.pitching&&this.fire(new i.Event("pitchstart",l))},d.prototype._fireMoveEvents=function(l){this.fire(new i.Event("move",l)),this._zooming&&this.fire(new i.Event("zoom",l)),this._rotating&&this.fire(new i.Event("rotate",l)),this._pitching&&this.fire(new i.Event("pitch",l))},d.prototype._afterEase=function(l,f){if(!this._easeId||!f||this._easeId!==f){delete this._easeId;var E=this._zooming,F=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new i.Event("zoomend",l)),F&&this.fire(new i.Event("rotateend",l)),S&&this.fire(new i.Event("pitchend",l)),this.fire(new i.Event("moveend",l))}},d.prototype.flyTo=function(l,f){var E=this;if(!l.essential&&i.browser.prefersReducedMotion){var F=i.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(F,f)}this.stop(),l=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},l);var S=this.transform,R=this.getZoom(),D=this.getBearing(),z=this.getPitch(),$=this.getPadding(),ee="zoom"in l?i.clamp(+l.zoom,S.minZoom,S.maxZoom):R,re="bearing"in l?this._normalizeBearing(l.bearing,D):D,_e="pitch"in l?+l.pitch:z,de="padding"in l?l.padding:S.padding,Se=S.zoomScale(ee-R),ce=i.Point.convert(l.offset),Ae=S.centerPoint.add(ce),De=S.pointLocation(Ae),Ze=i.LngLat.convert(l.center||De);this._normalizeCenter(Ze);var at=S.project(De),Je=S.project(Ze).sub(at),lt=l.curve,Pt=Math.max(S.width,S.height),Ht=Pt/Se,Bt=Je.mag();if("minZoom"in l){var ir=i.clamp(Math.min(l.minZoom,R,ee),S.minZoom,S.maxZoom),Cr=Pt/S.zoomScale(ir-R);lt=Math.sqrt(Cr/Bt*2)}var Dr=lt*lt;function Nr(Wr){var zr=(Ht*Ht-Pt*Pt+(Wr?-1:1)*Dr*Dr*Bt*Bt)/(2*(Wr?Ht:Pt)*Dr*Bt);return Math.log(Math.sqrt(zr*zr+1)-zr)}function Bo(Wr){return(Math.exp(Wr)-Math.exp(-Wr))/2}function lr(Wr){return(Math.exp(Wr)+Math.exp(-Wr))/2}var qr=Nr(0),lo=function(Wr){return lr(qr)/lr(qr+lt*Wr)},Xr=function(Wr){return Pt*((lr(qr)*(Bo(zr=qr+lt*Wr)/lr(zr))-Bo(qr))/Dr)/Bt;var zr},jr=(Nr(1)-qr)/lt;if(Math.abs(Bt)<1e-6||!isFinite(jr)){if(Math.abs(Pt-Ht)<1e-6)return this.easeTo(l,f);var po=Ht<Pt?-1:1;jr=Math.abs(Math.log(Ht/Pt))/lt,Xr=function(){return 0},lo=function(Wr){return Math.exp(po*lt*Wr)}}return l.duration="duration"in l?+l.duration:1e3*jr/("screenSpeed"in l?+l.screenSpeed/lt:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=D!==re,this._pitching=_e!==z,this._padding=!S.isPaddingEqual(de),this._prepareEase(f,!1),this._ease(function(Wr){var zr=Wr*jr,Qn=1/lo(zr);S.zoom=Wr===1?ee:R+S.scaleZoom(Qn),E._rotating&&(S.bearing=i.number(D,re,Wr)),E._pitching&&(S.pitch=i.number(z,_e,Wr)),E._padding&&(S.interpolatePadding($,de,Wr),Ae=S.centerPoint.add(ce));var Rn=Wr===1?Ze:S.unproject(at.add(Je.mult(Xr(zr))).mult(Qn));S.setLocationAtPoint(S.renderWorldCopies?Rn.wrap():Rn,Ae),E._fireMoveEvents(f)},function(){return E._afterEase(f)},l),this},d.prototype.isEasing=function(){return!!this._easeFrameId},d.prototype.stop=function(){return this._stop()},d.prototype._stop=function(l,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,f)}if(!l){var F=this.handlers;F&&F.stop(!1)}return this},d.prototype._ease=function(l,f,E){E.animate===!1||E.duration===0?(l(1),f()):(this._easeStart=i.browser.now(),this._easeOptions=E,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},d.prototype._renderFrameCallback=function(){var l=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},d.prototype._normalizeBearing=function(l,f){l=i.wrap(l,-180,180);var E=Math.abs(l-f);return Math.abs(l-360-f)<E&&(l-=360),Math.abs(l+360-f)<E&&(l+=360),l},d.prototype._normalizeCenter=function(l){var f=this.transform;if(f.renderWorldCopies&&!f.lngRange){var E=l.lng-f.center.lng;l.lng+=E>180?-360:E<-180?360:0}},d}(i.Evented),Yi=function(c){c===void 0&&(c={}),this.options=c,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Yi.prototype.getDefaultPosition=function(){return"bottom-right"},Yi.prototype.onAdd=function(c){var d=this.options&&this.options.compact;return this._map=c,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=m.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=m.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Yi.prototype.onRemove=function(){m.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Yi.prototype._setElementTitle=function(c,d){var l=this._map._getUIString("AttributionControl."+d);c.title=l,c.setAttribute("aria-label",l)},Yi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Yi.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(c){var l=d.reduce(function(f,E,F){return E.value&&(f+=E.key+"="+E.value+(F<d.length-1?"&":"")),f},"?");c.href=i.config.FEEDBACK_URL+"/"+l+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Yi.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Yi.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(R){return typeof R!="string"?"":R})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var d=this._map.style.stylesheet;this.styleOwner=d.owner,this.styleId=d.id}var l=this._map.style.sourceCaches;for(var f in l){var E=l[f];if(E.used){var F=E.getSource();F.attribution&&c.indexOf(F.attribution)<0&&c.push(F.attribution)}}c.sort(function(R,D){return R.length-D.length});var S=(c=c.filter(function(R,D){for(var z=D+1;z<c.length;z++)if(c[z].indexOf(R)>=0)return!1;return!0})).join(" | ");S!==this._attribHTML&&(this._attribHTML=S,c.length?(this._innerContainer.innerHTML=S,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Yi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var ds=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};ds.prototype.onAdd=function(c){this._map=c,this._container=m.create("div","mapboxgl-ctrl");var d=m.create("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ds.prototype.onRemove=function(){m.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ds.prototype.getDefaultPosition=function(){return"bottom-left"},ds.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},ds.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var d in c)if(c[d].getSource().mapbox_logo)return!0;return!1}},ds.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var d=c[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}};var Sn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Sn.prototype.add=function(c){var d=++this._id;return this._queue.push({callback:c,id:d,cancelled:!1}),d},Sn.prototype.remove=function(c){for(var d=this._currentlyRunning,l=0,f=d?this._queue.concat(d):this._queue;l<f.length;l+=1){var E=f[l];if(E.id===c)return void(E.cancelled=!0)}},Sn.prototype.run=function(c){c===void 0&&(c=0);var d=this._currentlyRunning=this._queue;this._queue=[];for(var l=0,f=d;l<f.length;l+=1){var E=f[l];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Sn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ja={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},nu=i.window.HTMLImageElement,np=i.window.HTMLElement,Xo=i.window.ImageBitmap,hi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ql=function(c){function d(f){var E=this;if((f=i.extend({},hi,f)).minZoom!=null&&f.maxZoom!=null&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(f.minPitch!=null&&f.maxPitch!=null&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(f.minPitch!=null&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(f.maxPitch!=null&&f.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var F=new Do(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies);if(c.call(this,F,f),this._interactive=f.interactive,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._crossSourceCollisions=f.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=f.collectResourceTiming,this._renderTaskQueue=new Sn,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},Ja,f.locale),this._clickTolerance=f.clickTolerance,this._requestManager=new i.RequestManager(f.transformRequest,f.accessToken),typeof f.container=="string"){if(this._container=i.window.document.getElementById(f.container),!this._container)throw new Error("Container '"+f.container+"' not found.")}else{if(!(f.container instanceof np))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(f.maxBounds&&this.setMaxBounds(f.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),i.window!==void 0&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new gr(this,f),this._hash=f.hash&&new Ua(typeof f.hash=="string"&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,i.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localIdeographFontFamily:f.localIdeographFontFamily}),f.attributionControl&&this.addControl(new Yi({customAttribution:f.customAttribution})),this.addControl(new ds,f.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(S){E._update(S.dataType==="style"),E.fire(new i.Event(S.dataType+"data",S))}),this.on("dataloading",function(S){E.fire(new i.Event(S.dataType+"dataloading",S))})}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return d.prototype._getMapId=function(){return this._mapId},d.prototype.addControl=function(f,E){if(E===void 0&&(E=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var F=f.onAdd(this);this._controls.push(f);var S=this._controlPositions[E];return E.indexOf("bottom")!==-1?S.insertBefore(F,S.firstChild):S.appendChild(F),this},d.prototype.removeControl=function(f){if(!f||!f.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(f);return E>-1&&this._controls.splice(E,1),f.onRemove(this),this},d.prototype.hasControl=function(f){return this._controls.indexOf(f)>-1},d.prototype.resize=function(f){var E=this._containerDimensions(),F=E[0],S=E[1];if(F===this.transform.width&&S===this.transform.height)return this;this._resizeCanvas(F,S),this.transform.resize(F,S),this.painter.resize(F,S);var R=!this._moving;return R&&this.fire(new i.Event("movestart",f)).fire(new i.Event("move",f)),this.fire(new i.Event("resize",f)),R&&this.fire(new i.Event("moveend",f)),this},d.prototype.getBounds=function(){return this.transform.getBounds()},d.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},d.prototype.setMaxBounds=function(f){return this.transform.setMaxBounds(i.LngLatBounds.convert(f)),this._update()},d.prototype.setMinZoom=function(f){if((f=f??-2)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f&&this.setZoom(f),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},d.prototype.getMinZoom=function(){return this.transform.minZoom},d.prototype.setMaxZoom=function(f){if((f=f??22)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f&&this.setZoom(f),this;throw new Error("maxZoom must be greater than the current minZoom")},d.prototype.getMaxZoom=function(){return this.transform.maxZoom},d.prototype.setMinPitch=function(f){if((f=f??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f&&this.setPitch(f),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},d.prototype.getMinPitch=function(){return this.transform.minPitch},d.prototype.setMaxPitch=function(f){if((f=f??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f&&this.setPitch(f),this;throw new Error("maxPitch must be greater than the current minPitch")},d.prototype.getMaxPitch=function(){return this.transform.maxPitch},d.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},d.prototype.setRenderWorldCopies=function(f){return this.transform.renderWorldCopies=f,this._update()},d.prototype.project=function(f){return this.transform.locationPoint(i.LngLat.convert(f))},d.prototype.unproject=function(f){return this.transform.pointLocation(i.Point.convert(f))},d.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},d.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},d.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},d.prototype._createDelegatedListener=function(f,E,F){var S,R=this;if(f==="mouseenter"||f==="mouseover"){var D=!1;return{layer:E,listener:F,delegates:{mousemove:function($){var ee=R.getLayer(E)?R.queryRenderedFeatures($.point,{layers:[E]}):[];ee.length?D||(D=!0,F.call(R,new An(f,R,$.originalEvent,{features:ee}))):D=!1},mouseout:function(){D=!1}}}}if(f==="mouseleave"||f==="mouseout"){var z=!1;return{layer:E,listener:F,delegates:{mousemove:function($){(R.getLayer(E)?R.queryRenderedFeatures($.point,{layers:[E]}):[]).length?z=!0:z&&(z=!1,F.call(R,new An(f,R,$.originalEvent)))},mouseout:function($){z&&(z=!1,F.call(R,new An(f,R,$.originalEvent)))}}}}return{layer:E,listener:F,delegates:(S={},S[f]=function($){var ee=R.getLayer(E)?R.queryRenderedFeatures($.point,{layers:[E]}):[];ee.length&&($.features=ee,F.call(R,$),delete $.features)},S)}},d.prototype.on=function(f,E,F){if(F===void 0)return c.prototype.on.call(this,f,E);var S=this._createDelegatedListener(f,E,F);for(var R in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(S),S.delegates)this.on(R,S.delegates[R]);return this},d.prototype.once=function(f,E,F){if(F===void 0)return c.prototype.once.call(this,f,E);var S=this._createDelegatedListener(f,E,F);for(var R in S.delegates)this.once(R,S.delegates[R]);return this},d.prototype.off=function(f,E,F){var S=this;return F===void 0?c.prototype.off.call(this,f,E):(this._delegatedListeners&&this._delegatedListeners[f]&&function(R){for(var D=R[f],z=0;z<D.length;z++){var $=D[z];if($.layer===E&&$.listener===F){for(var ee in $.delegates)S.off(ee,$.delegates[ee]);return D.splice(z,1),S}}}(this._delegatedListeners),this)},d.prototype.queryRenderedFeatures=function(f,E){if(!this.style)return[];var F;if(E!==void 0||f===void 0||f instanceof i.Point||Array.isArray(f)||(E=f,f=void 0),E=E||{},(f=f||[[0,0],[this.transform.width,this.transform.height]])instanceof i.Point||typeof f[0]=="number")F=[i.Point.convert(f)];else{var S=i.Point.convert(f[0]),R=i.Point.convert(f[1]);F=[S,new i.Point(R.x,S.y),R,new i.Point(S.x,R.y),S]}return this.style.queryRenderedFeatures(F,E,this.transform)},d.prototype.querySourceFeatures=function(f,E){return this.style.querySourceFeatures(f,E)},d.prototype.setStyle=function(f,E){return(E=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&f?(this._diffStyle(f,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(f,E))},d.prototype._getUIString=function(f){var E=this._locale[f];if(E==null)throw new Error("Missing UI string '"+f+"'");return E},d.prototype._updateStyle=function(f,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),f?(this.style=new Aa(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof f=="string"?this.style.loadURL(f):this.style.loadJSON(f),this):(delete this.style,this)},d.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Aa(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},d.prototype._diffStyle=function(f,E){var F=this;if(typeof f=="string"){var S=this._requestManager.normalizeStyleURL(f),R=this._requestManager.transformRequest(S,i.ResourceType.Style);i.getJSON(R,function(D,z){D?F.fire(new i.ErrorEvent(D)):z&&F._updateDiff(z,E)})}else typeof f=="object"&&this._updateDiff(f,E)},d.prototype._updateDiff=function(f,E){try{this.style.setState(f)&&this._update(!0)}catch(F){i.warnOnce("Unable to perform style diff: "+(F.message||F.error||F)+".  Rebuilding the style from scratch."),this._updateStyle(f,E)}},d.prototype.getStyle=function(){if(this.style)return this.style.serialize()},d.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},d.prototype.addSource=function(f,E){return this._lazyInitEmptyStyle(),this.style.addSource(f,E),this._update(!0)},d.prototype.isSourceLoaded=function(f){var E=this.style&&this.style.sourceCaches[f];if(E!==void 0)return E.loaded();this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+f+"'")))},d.prototype.areTilesLoaded=function(){var f=this.style&&this.style.sourceCaches;for(var E in f){var F=f[E]._tiles;for(var S in F){var R=F[S];if(R.state!=="loaded"&&R.state!=="errored")return!1}}return!0},d.prototype.addSourceType=function(f,E,F){return this._lazyInitEmptyStyle(),this.style.addSourceType(f,E,F)},d.prototype.removeSource=function(f){return this.style.removeSource(f),this._update(!0)},d.prototype.getSource=function(f){return this.style.getSource(f)},d.prototype.addImage=function(f,E,F){F===void 0&&(F={});var S=F.pixelRatio;S===void 0&&(S=1);var R=F.sdf;R===void 0&&(R=!1);var D=F.stretchX,z=F.stretchY,$=F.content;if(this._lazyInitEmptyStyle(),E instanceof nu||Xo&&E instanceof Xo){var ee=i.browser.getImageData(E);this.style.addImage(f,{data:new i.RGBAImage({width:ee.width,height:ee.height},ee.data),pixelRatio:S,stretchX:D,stretchY:z,content:$,sdf:R,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var re=E;this.style.addImage(f,{data:new i.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:S,stretchX:D,stretchY:z,content:$,sdf:R,version:0,userImage:re}),re.onAdd&&re.onAdd(this,f)}},d.prototype.updateImage=function(f,E){var F=this.style.getImage(f);if(!F)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var S=E instanceof nu||Xo&&E instanceof Xo?i.browser.getImageData(E):E,R=S.width,D=S.height,z=S.data;return R===void 0||D===void 0?this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):R!==F.data.width||D!==F.data.height?this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(F.data.replace(z,!(E instanceof nu||Xo&&E instanceof Xo)),void this.style.updateImage(f,F))},d.prototype.hasImage=function(f){return f?!!this.style.getImage(f):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},d.prototype.removeImage=function(f){this.style.removeImage(f)},d.prototype.loadImage=function(f,E){i.getImage(this._requestManager.transformRequest(f,i.ResourceType.Image),E)},d.prototype.listImages=function(){return this.style.listImages()},d.prototype.addLayer=function(f,E){return this._lazyInitEmptyStyle(),this.style.addLayer(f,E),this._update(!0)},d.prototype.moveLayer=function(f,E){return this.style.moveLayer(f,E),this._update(!0)},d.prototype.removeLayer=function(f){return this.style.removeLayer(f),this._update(!0)},d.prototype.getLayer=function(f){return this.style.getLayer(f)},d.prototype.setLayerZoomRange=function(f,E,F){return this.style.setLayerZoomRange(f,E,F),this._update(!0)},d.prototype.setFilter=function(f,E,F){return F===void 0&&(F={}),this.style.setFilter(f,E,F),this._update(!0)},d.prototype.getFilter=function(f){return this.style.getFilter(f)},d.prototype.setPaintProperty=function(f,E,F,S){return S===void 0&&(S={}),this.style.setPaintProperty(f,E,F,S),this._update(!0)},d.prototype.getPaintProperty=function(f,E){return this.style.getPaintProperty(f,E)},d.prototype.setLayoutProperty=function(f,E,F,S){return S===void 0&&(S={}),this.style.setLayoutProperty(f,E,F,S),this._update(!0)},d.prototype.getLayoutProperty=function(f,E){return this.style.getLayoutProperty(f,E)},d.prototype.setLight=function(f,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(f,E),this._update(!0)},d.prototype.getLight=function(){return this.style.getLight()},d.prototype.setFeatureState=function(f,E){return this.style.setFeatureState(f,E),this._update()},d.prototype.removeFeatureState=function(f,E){return this.style.removeFeatureState(f,E),this._update()},d.prototype.getFeatureState=function(f){return this.style.getFeatureState(f)},d.prototype.getContainer=function(){return this._container},d.prototype.getCanvasContainer=function(){return this._canvasContainer},d.prototype.getCanvas=function(){return this._canvas},d.prototype._containerDimensions=function(){var f=0,E=0;return this._container&&(f=this._container.clientWidth||400,E=this._container.clientHeight||300),[f,E]},d.prototype._detectMissingCSS=function(){i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},d.prototype._setupContainer=function(){var f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=m.create("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();var E=this._canvasContainer=m.create("div","mapboxgl-canvas-container",f);this._interactive&&E.classList.add("mapboxgl-interactive"),this._canvas=m.create("canvas","mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var F=this._containerDimensions();this._resizeCanvas(F[0],F[1]);var S=this._controlContainer=m.create("div","mapboxgl-control-container",f),R=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(D){R[D]=m.create("div","mapboxgl-ctrl-"+D,S)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},d.prototype._resizeCanvas=function(f,E){var F=i.browser.devicePixelRatio||1;this._canvas.width=F*f,this._canvas.height=F*E,this._canvas.style.width=f+"px",this._canvas.style.height=E+"px"},d.prototype._setupPainter=function(){var f=i.extend({},y.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);E?(this.painter=new yn(E,this.transform),i.webpSupported.testSupport(E)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))},d.prototype._contextLost=function(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:f}))},d.prototype._contextRestored=function(f){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:f}))},d.prototype._onMapScroll=function(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},d.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},d.prototype._update=function(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this},d.prototype._requestRenderFrame=function(f){return this._update(),this._renderTaskQueue.add(f)},d.prototype._cancelRenderFrame=function(f){this._renderTaskQueue.remove(f)},d.prototype._render=function(f){var E,F=this,S=0,R=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=R.createQueryEXT(),R.beginQueryEXT(R.TIME_ELAPSED_EXT,E),S=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(f),!this._removed){var D=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var z=this.transform.zoom,$=i.browser.now();this.style.zoomHistory.update(z,$);var ee=new i.EvaluationParameters(z,{now:$,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),re=ee.crossFadingFactor();re===1&&re===this._crossFadingFactor||(D=!0,this._crossFadingFactor=re),this.style.update(ee)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||D)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var _e=i.browser.now()-S;R.endQueryEXT(R.TIME_ELAPSED_EXT,E),setTimeout(function(){var ce=R.getQueryObjectEXT(E,R.QUERY_RESULT_EXT)/1e6;R.deleteQueryEXT(E),F.fire(new i.Event("gpu-timing-frame",{cpuTime:_e,gpuTime:ce}))},50)}if(this.listens("gpu-timing-layer")){var de=this.painter.collectGpuTimers();setTimeout(function(){var ce=F.painter.queryGpuTimers(de);F.fire(new i.Event("gpu-timing-layer",{layerTimes:ce}))},50)}var Se=this._sourcesDirty||this._styleDirty||this._placementDirty;return Se||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),!this._loaded||this._fullyLoaded||Se||(this._fullyLoaded=!0),this}},d.prototype.remove=function(){this._hash&&this._hash.remove();for(var f=0,E=this._controls;f<E.length;f+=1)E[f].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),i.window!==void 0&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var F=this.painter.context.gl.getExtension("WEBGL_lose_context");F&&F.loseContext(),Du(this._canvasContainer),Du(this._controlContainer),Du(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},d.prototype.triggerRepaint=function(){var f=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(E){f._frame=null,f._render(E)}))},d.prototype._onWindowOnline=function(){this._update()},d.prototype._onWindowResize=function(f){this._trackResize&&this.resize({originalEvent:f})._update()},l.showTileBoundaries.get=function(){return!!this._showTileBoundaries},l.showTileBoundaries.set=function(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())},l.showPadding.get=function(){return!!this._showPadding},l.showPadding.set=function(f){this._showPadding!==f&&(this._showPadding=f,this._update())},l.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},l.showCollisionBoxes.set=function(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())},l.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},l.showOverdrawInspector.set=function(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())},l.repaint.get=function(){return!!this._repaint},l.repaint.set=function(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())},l.vertices.get=function(){return!!this._vertices},l.vertices.set=function(f){this._vertices=f,this._update()},d.prototype._setCacheLimits=function(f,E){i.setCacheLimits(f,E)},l.version.get=function(){return i.version},Object.defineProperties(d.prototype,l),d}(wa);function Du(c){c.parentNode&&c.parentNode.removeChild(c)}var Qc={showCompass:!0,showZoom:!0,visualizePitch:!1},iu=function(c){var d=this;this.options=i.extend({},Qc,c),this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(l){return l.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(l){return d._map.zoomIn({},{originalEvent:l})}),m.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(l){return d._map.zoomOut({},{originalEvent:l})}),m.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(l){d.options.visualizePitch?d._map.resetNorthPitch({},{originalEvent:l}):d._map.resetNorth({},{originalEvent:l})}),this._compassIcon=m.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};iu.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),d=c===this._map.getMaxZoom(),l=c===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())},iu.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},iu.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ra(this._map,this._compass,this.options.visualizePitch)),this._container},iu.prototype.onRemove=function(){m.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},iu.prototype._createButton=function(c,d){var l=m.create("button",c,this._container);return l.type="button",l.addEventListener("click",d),l},iu.prototype._setButtonTitle=function(c,d){var l=this._map._getUIString("NavigationControl."+d);c.title=l,c.setAttribute("aria-label",l)};var Ra=function(c,d,l){l===void 0&&(l=!1),this._clickTolerance=10,this.element=d,this.mouseRotate=new dc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,l&&(this.mousePitch=new Yc({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener(d,"mousedown",this.mousedown),m.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),m.addEventListener(d,"touchmove",this.touchmove),m.addEventListener(d,"touchend",this.touchend),m.addEventListener(d,"touchcancel",this.reset)};function Mp(c,d,l){if(c=new i.LngLat(c.lng,c.lat),d){var f=new i.LngLat(c.lng-360,c.lat),E=new i.LngLat(c.lng+360,c.lat),F=l.locationPoint(c).distSqr(d);l.locationPoint(f).distSqr(d)<F?c=f:l.locationPoint(E).distSqr(d)<F&&(c=E)}for(;Math.abs(c.lng-l.center.lng)>180;){var S=l.locationPoint(c);if(S.x>=0&&S.y>=0&&S.x<=l.width&&S.y<=l.height)break;c.lng>l.center.lng?c.lng-=360:c.lng+=360}return c}Ra.prototype.down=function(c,d){this.mouseRotate.mousedown(c,d),this.mousePitch&&this.mousePitch.mousedown(c,d),m.disableDrag()},Ra.prototype.move=function(c,d){var l=this.map,f=this.mouseRotate.mousemoveWindow(c,d);if(f&&f.bearingDelta&&l.setBearing(l.getBearing()+f.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,d);E&&E.pitchDelta&&l.setPitch(l.getPitch()+E.pitchDelta)}},Ra.prototype.off=function(){var c=this.element;m.removeEventListener(c,"mousedown",this.mousedown),m.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),m.removeEventListener(c,"touchmove",this.touchmove),m.removeEventListener(c,"touchend",this.touchend),m.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},Ra.prototype.offTemp=function(){m.enableDrag(),m.removeEventListener(i.window,"mousemove",this.mousemove),m.removeEventListener(i.window,"mouseup",this.mouseup)},Ra.prototype.mousedown=function(c){this.down(i.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),m.mousePos(this.element,c)),m.addEventListener(i.window,"mousemove",this.mousemove),m.addEventListener(i.window,"mouseup",this.mouseup)},Ra.prototype.mousemove=function(c){this.move(c,m.mousePos(this.element,c))},Ra.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},Ra.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=m.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},Ra.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=m.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},Ra.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ra.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Cs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Jc(c,d,l){var f=c.classList;for(var E in Cs)f.remove("mapboxgl-"+l+"-anchor-"+E);f.add("mapboxgl-"+l+"-anchor-"+d)}var Ip,yc=function(c){function d(l,f){if(c.call(this),(l instanceof i.window.HTMLElement||f)&&(l=i.extend({element:l},f)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=i.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=m.create("div"),this._element.setAttribute("aria-label","Map marker");var E=m.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var F=m.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"stroke","none"),F.setAttributeNS(null,"stroke-width","1"),F.setAttributeNS(null,"fill","none"),F.setAttributeNS(null,"fill-rule","evenodd");var S=m.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill-rule","nonzero");var R=m.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"transform","translate(3.0, 29.0)"),R.setAttributeNS(null,"fill","#000000");for(var D=0,z=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];D<z.length;D+=1){var $=z[D],ee=m.createNS("http://www.w3.org/2000/svg","ellipse");ee.setAttributeNS(null,"opacity","0.04"),ee.setAttributeNS(null,"cx","10.5"),ee.setAttributeNS(null,"cy","5.80029008"),ee.setAttributeNS(null,"rx",$.rx),ee.setAttributeNS(null,"ry",$.ry),R.appendChild(ee)}var re=m.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"fill",this._color);var _e=m.createNS("http://www.w3.org/2000/svg","path");_e.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),re.appendChild(_e);var de=m.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"opacity","0.25"),de.setAttributeNS(null,"fill","#000000");var Se=m.createNS("http://www.w3.org/2000/svg","path");Se.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),de.appendChild(Se);var ce=m.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ce.setAttributeNS(null,"fill","#FFFFFF");var Ae=m.createNS("http://www.w3.org/2000/svg","g");Ae.setAttributeNS(null,"transform","translate(8.0, 8.0)");var De=m.createNS("http://www.w3.org/2000/svg","circle");De.setAttributeNS(null,"fill","#000000"),De.setAttributeNS(null,"opacity","0.25"),De.setAttributeNS(null,"cx","5.5"),De.setAttributeNS(null,"cy","5.5"),De.setAttributeNS(null,"r","5.4999962");var Ze=m.createNS("http://www.w3.org/2000/svg","circle");Ze.setAttributeNS(null,"fill","#FFFFFF"),Ze.setAttributeNS(null,"cx","5.5"),Ze.setAttributeNS(null,"cy","5.5"),Ze.setAttributeNS(null,"r","5.4999962"),Ae.appendChild(De),Ae.appendChild(Ze),S.appendChild(R),S.appendChild(re),S.appendChild(de),S.appendChild(ce),S.appendChild(Ae),E.appendChild(S),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=i.Point.convert(l&&l.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(at){at.preventDefault()}),this._element.addEventListener("mousedown",function(at){at.preventDefault()}),Jc(this._element,this._anchor,"marker"),this._popup=null}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.addTo=function(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},d.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),m.remove(this._element),this._popup&&this._popup.remove(),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(l){return this._lngLat=i.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},d.prototype.getElement=function(){return this._element},d.prototype.setPopup=function(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){var f=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(24.6+f)],"bottom-right":[-f,-1*(24.6+f)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},d.prototype._onKeyPress=function(l){var f=l.code,E=l.charCode||l.keyCode;f!=="Space"&&f!=="Enter"&&E!==32&&E!==13||this.togglePopup()},d.prototype._onMapClick=function(l){var f=l.originalEvent.target,E=this._element;this._popup&&(f===E||E.contains(f))&&this.togglePopup()},d.prototype.getPopup=function(){return this._popup},d.prototype.togglePopup=function(){var l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this},d.prototype._update=function(l){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mp(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(f="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),l&&l.type!=="moveend"||(this._pos=this._pos.round()),m.setTransform(this._element,Cs[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+f)}},d.prototype.getOffset=function(){return this._offset},d.prototype.setOffset=function(l){return this._offset=i.Point.convert(l),this._update(),this},d.prototype._onMove=function(l){if(!this._isDragging){var f=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},d.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},d.prototype._addDragHandler=function(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},d.prototype.setDraggable=function(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},d.prototype.isDraggable=function(){return this._draggable},d.prototype.setRotation=function(l){return this._rotation=l||0,this._update(),this},d.prototype.getRotation=function(){return this._rotation},d.prototype.setRotationAlignment=function(l){return this._rotationAlignment=l||"auto",this._update(),this},d.prototype.getRotationAlignment=function(){return this._rotationAlignment},d.prototype.setPitchAlignment=function(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this},d.prototype.getPitchAlignment=function(){return this._pitchAlignment},d}(i.Evented),el={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ip=0,ap=!1,Kl=function(c){function d(l){c.call(this),this.options=i.extend({},el,l),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.onAdd=function(l){var f;return this._map=l,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),f=this._setupUI,Ip!==void 0?f(Ip):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(E){f(Ip=E.state!=="denied")}):f(Ip=!!i.window.navigator.geolocation),this._container},d.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),m.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ip=0,ap=!1},d.prototype._isOutOfMapMaxBounds=function(l){var f=this._map.getMaxBounds(),E=l.coords;return f&&(E.longitude<f.getWest()||E.longitude>f.getEast()||E.latitude<f.getSouth()||E.latitude>f.getNorth())},d.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},d.prototype._onSuccess=function(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",l)),this._finish()}},d.prototype._updateCamera=function(l){var f=new i.LngLat(l.coords.longitude,l.coords.latitude),E=l.coords.accuracy,F=this._map.getBearing(),S=i.extend({bearing:F},this.options.fitBoundsOptions);this._map.fitBounds(f.toBounds(E),S,{geolocateSource:!0})},d.prototype._updateMarker=function(l){if(l){var f=new i.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},d.prototype._updateCircleRadius=function(){var l=this._map._container.clientHeight/2,f=this._map.unproject([0,l]),E=this._map.unproject([1,l]),F=f.distanceTo(E),S=Math.ceil(2*this._accuracy/F);this._circleElement.style.width=S+"px",this._circleElement.style.height=S+"px"},d.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},d.prototype._onError=function(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&ap)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",l)),this._finish()}},d.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},d.prototype._setupUI=function(l){var f=this;if(this._container.addEventListener("contextmenu",function(S){return S.preventDefault()}),this._geolocateButton=m.create("button","mapboxgl-ctrl-geolocate",this._container),m.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",l===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var F=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=F,this._geolocateButton.setAttribute("aria-label",F)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=m.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new yc(this._dotElement),this._circleElement=m.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(S){S.geolocateSource||f._watchState!=="ACTIVE_LOCK"||S.originalEvent&&S.originalEvent.type==="resize"||(f._watchState="BACKGROUND",f._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),f._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),f.fire(new i.Event("trackuserlocationend")))})},d.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ip--,ap=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++ip>1?(l={maximumAge:6e5,timeout:0},ap=!0):(l=this.options.positionOptions,ap=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,l)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},d.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},d}(i.Evented),Ms={maxWidth:100,unit:"metric"},ys=function(c){this.options=i.extend({},Ms,c),i.bindAll(["_onMove","setUnit"],this)};function tl(c,d,l){var f=l&&l.maxWidth||100,E=c._container.clientHeight/2,F=c.unproject([0,E]),S=c.unproject([f,E]),R=F.distanceTo(S);if(l&&l.unit==="imperial"){var D=3.2808*R;D>5280?Ou(d,f,D/5280,c._getUIString("ScaleControl.Miles")):Ou(d,f,D,c._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?Ou(d,f,R/1852,c._getUIString("ScaleControl.NauticalMiles")):R>=1e3?Ou(d,f,R/1e3,c._getUIString("ScaleControl.Kilometers")):Ou(d,f,R,c._getUIString("ScaleControl.Meters"))}function Ou(c,d,l,f){var E,F,S,R=(E=l,(F=Math.pow(10,(""+Math.floor(E)).length-1))*(S=(S=E/F)>=10?10:S>=5?5:S>=3?3:S>=2?2:S>=1?1:function(D){var z=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*z)/z}(S)));c.style.width=d*(R/l)+"px",c.innerHTML=R+"&nbsp;"+f}ys.prototype.getDefaultPosition=function(){return"bottom-left"},ys.prototype._onMove=function(){tl(this._map,this._container,this.options)},ys.prototype.onAdd=function(c){return this._map=c,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ys.prototype.onRemove=function(){m.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ys.prototype.setUnit=function(c){this.options.unit=c,tl(this._map,this._container,this.options)};var es=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof i.window.HTMLElement?this._container=c.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};es.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},es.prototype.onRemove=function(){m.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},es.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},es.prototype._setupUI=function(){var c=this._fullscreenButton=m.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);m.create("span","mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},es.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},es.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},es.prototype._isFullscreen=function(){return this._fullscreen},es.prototype._changeIcon=function(){(i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},es.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ql={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},hc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),rl=function(c){function d(l){c.call(this),this.options=i.extend(Object.create(Ql),l),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.addTo=function(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},d.prototype.isOpen=function(){return!!this._map},d.prototype.remove=function(){return this._content&&m.remove(this._content),this._container&&(m.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(l){return this._lngLat=i.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},d.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},d.prototype.getElement=function(){return this._container},d.prototype.setText=function(l){return this.setDOMContent(i.window.document.createTextNode(l))},d.prototype.setHTML=function(l){var f,E=i.window.document.createDocumentFragment(),F=i.window.document.createElement("body");for(F.innerHTML=l;f=F.firstChild;)E.appendChild(f);return this.setDOMContent(E)},d.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},d.prototype.setMaxWidth=function(l){return this.options.maxWidth=l,this._update(),this},d.prototype.setDOMContent=function(l){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=m.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(l),this._createCloseButton(),this._update(),this._focusFirstElement(),this},d.prototype.addClassName=function(l){this._container&&this._container.classList.add(l)},d.prototype.removeClassName=function(l){this._container&&this._container.classList.remove(l)},d.prototype.setOffset=function(l){return this.options.offset=l,this._update(),this},d.prototype.toggleClassName=function(l){if(this._container)return this._container.classList.toggle(l)},d.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=m.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},d.prototype._onMouseUp=function(l){this._update(l.point)},d.prototype._onMouseMove=function(l){this._update(l.point)},d.prototype._onDrag=function(l){this._update(l.point)},d.prototype._update=function(l){var f=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=m.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=m.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(ee){return f._container.classList.add(ee)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mp(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||l)){var E=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat),F=this.options.anchor,S=function ee(re){if(re){if(typeof re=="number"){var _e=Math.round(Math.sqrt(.5*Math.pow(re,2)));return{center:new i.Point(0,0),top:new i.Point(0,re),"top-left":new i.Point(_e,_e),"top-right":new i.Point(-_e,_e),bottom:new i.Point(0,-re),"bottom-left":new i.Point(_e,-_e),"bottom-right":new i.Point(-_e,-_e),left:new i.Point(re,0),right:new i.Point(-re,0)}}if(re instanceof i.Point||Array.isArray(re)){var de=i.Point.convert(re);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}return{center:i.Point.convert(re.center||[0,0]),top:i.Point.convert(re.top||[0,0]),"top-left":i.Point.convert(re["top-left"]||[0,0]),"top-right":i.Point.convert(re["top-right"]||[0,0]),bottom:i.Point.convert(re.bottom||[0,0]),"bottom-left":i.Point.convert(re["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(re["bottom-right"]||[0,0]),left:i.Point.convert(re.left||[0,0]),right:i.Point.convert(re.right||[0,0])}}return ee(new i.Point(0,0))}(this.options.offset);if(!F){var R,D=this._container.offsetWidth,z=this._container.offsetHeight;R=E.y+S.bottom.y<z?["top"]:E.y>this._map.transform.height-z?["bottom"]:[],E.x<D/2?R.push("left"):E.x>this._map.transform.width-D/2&&R.push("right"),F=R.length===0?"bottom":R.join("-")}var $=E.add(S[F]).round();m.setTransform(this._container,Cs[F]+" translate("+$.x+"px,"+$.y+"px)"),Jc(this._container,F,"popup")}},d.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var l=this._container.querySelector(hc);l&&l.focus()}},d.prototype._onClose=function(){this.remove()},d}(i.Evented),ol={version:i.version,supported:y,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:ql,NavigationControl:iu,GeolocateControl:Kl,AttributionControl:Yi,ScaleControl:ys,FullscreenControl:es,Popup:rl,Marker:yc,Style:Aa,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:function(){dt().acquire(ct)},clearPrewarmedResources:function(){var c=_r;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(ct),_r=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(c){i.config.ACCESS_TOKEN=c},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(c){i.config.API_URL=c},get workerCount(){return wt.workerCount},set workerCount(c){wt.workerCount=c},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){i.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){i.clearTileCache(c)},workerUrl:""};return ol}),s})})(_9);var rO=_9.exports;const iy=vp(rO);class oO{constructor(){H(this,"viewport",void 0)}syncWithMapCamera(t){const{center:r,zoom:n,pitch:s,bearing:u,viewportHeight:i,viewportWidth:y}=t;this.viewport=new m9({width:y,height:i,longitude:r&&r[0],latitude:r&&r[1],zoom:n,pitch:s,bearing:u})}getZoom(){return this.viewport.zoom}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(t,r){return this.viewport.projectFlat(t,r)}}const nO=["id","attributionControl","style","token","rotation","mapInstance"];function iO(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||n)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var u=t.body||t.getElementsByTagName("body")[0];u?u.parentNode.insertBefore(s,u):t.documentElement.appendChild(s)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),s.appendChild(i),i}}iO(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`);window.mapboxgl=iy;let aO=0;const ng="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg";class sO extends tO{constructor(...t){super(...t),H(this,"version","MAPBOX"),H(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(t,r={x:0,y:0,z:0}){const{x:n,y:s}=this.lngLatToMercator(t,0);return[n-r.x,s-r.y]}lngLatToMercator(t,r){const{x:n=0,y:s=0,z:u=0}=window.mapboxgl.MercatorCoordinate.fromLngLat(t,r);return{x:n,y:s,z:u}}getModelMatrix(t,r,n,s=[1,1,1],u={x:0,y:0,z:0}){const i=window.mapboxgl.MercatorCoordinate.fromLngLat(t,r),y=i.meterInMercatorCoordinateUnits(),m=Vf();return nf(m,m,fp(i.x-u.x,i.y-u.y,i.z||0-u.z)),af(m,m,fp(y*s[0],-y*s[1],y*s[2])),p6(m,m,n[0]),zg(m,m,n[1]),Vg(m,m,n[2]),m}init(){var t=this;return ft(function*(){const r=t.config,{id:n="map",attributionControl:s=!1,style:u="light",token:i=ng,rotation:y=0,mapInstance:m}=r,g=Kp(r,nO);t.viewport=new oO,!m&&!window.mapboxgl&&console.error(t.configService.getSceneWarninfo("SDK")),i===ng&&u!=="blank"&&!window.mapboxgl.accessToken&&!m&&console.warn(t.configService.getSceneWarninfo("MapToken")),!m&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=i),m?(t.map=m,t.$mapContainer=t.map.getContainer()):(t.$mapContainer=t.creatMapContainer(n),t.map=new window.mapboxgl.Map(Et({container:t.$mapContainer,style:t.getMapStyleValue(u),attributionControl:s,bearing:y},g))),t.map.on("load",()=>{t.handleCameraChanged()}),t.map.on("move",t.handleCameraChanged),t.handleCameraChanged()})()}destroy(){var t;(t=this.$mapContainer)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(t,...r){this.eventEmitter.emit(t,...r)}once(t,...r){this.eventEmitter.once(t,...r)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var t;return(t=this.getMapContainer())===null||t===void 0?void 0:t.querySelector(".mapboxgl-canvas-container")}meterToCoord(t,r){const n=new iy.LngLat(t[0],t[1]),s=new iy.LngLat(r[0],r[1]),u=n.distanceTo(s),i=iy.MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),y=iy.MercatorCoordinate.fromLngLat({lng:r[0],lat:r[1]}),{x:m,y:g}=i,{x,y:b}=y;return Math.sqrt(Math.pow(m-x,2)+Math.pow(g-b,2))*4194304*2/u}exportMap(t){const r=this.map.getCanvas();return t==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}creatMapContainer(t){let r=t;typeof t=="string"&&(r=document.getElementById(t));const n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,n.id="l7_mapbox_div"+aO++,r.appendChild(n),n}}function uO(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||n)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var u=t.body||t.getElementsByTagName("body")[0];u?u.parentNode.insertBefore(s,u):t.documentElement.appendChild(s)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),s.appendChild(i),i}}uO(`.mapboxgl-ctrl-logo {
  display: none !important;
}
`);class pO extends LD{getServiceConstructor(){return sO}}var Xu=function(e){return e==null},cO={}.toString,lO=function(e,t){return cO.call(e)==="[object "+t+"]"},dO=function(e,t,r){return e<t?t:e>r?r:e},S1=function(e){return lO(e,"Number")},g9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(m,g,x){this.fn=m,this.context=g,this.once=x||!1}function u(m,g,x,b,A){if(typeof x!="function")throw new TypeError("The listener must be a function");var w=new s(x,b||m,A),M=r?r+g:g;return m._events[M]?m._events[M].fn?m._events[M]=[m._events[M],w]:m._events[M].push(w):(m._events[M]=w,m._eventsCount++),m}function i(m,g){--m._eventsCount===0?m._events=new n:delete m._events[g]}function y(){this._events=new n,this._eventsCount=0}y.prototype.eventNames=function(){var g=[],x,b;if(this._eventsCount===0)return g;for(b in x=this._events)t.call(x,b)&&g.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(x)):g},y.prototype.listeners=function(g){var x=r?r+g:g,b=this._events[x];if(!b)return[];if(b.fn)return[b.fn];for(var A=0,w=b.length,M=new Array(w);A<w;A++)M[A]=b[A].fn;return M},y.prototype.listenerCount=function(g){var x=r?r+g:g,b=this._events[x];return b?b.fn?1:b.length:0},y.prototype.emit=function(g,x,b,A,w,M){var V=r?r+g:g;if(!this._events[V])return!1;var k=this._events[V],Q=arguments.length,q,K;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),Q){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,x),!0;case 3:return k.fn.call(k.context,x,b),!0;case 4:return k.fn.call(k.context,x,b,A),!0;case 5:return k.fn.call(k.context,x,b,A,w),!0;case 6:return k.fn.call(k.context,x,b,A,w,M),!0}for(K=1,q=new Array(Q-1);K<Q;K++)q[K-1]=arguments[K];k.fn.apply(k.context,q)}else{var te=k.length,se;for(K=0;K<te;K++)switch(k[K].once&&this.removeListener(g,k[K].fn,void 0,!0),Q){case 1:k[K].fn.call(k[K].context);break;case 2:k[K].fn.call(k[K].context,x);break;case 3:k[K].fn.call(k[K].context,x,b);break;case 4:k[K].fn.call(k[K].context,x,b,A);break;default:if(!q)for(se=1,q=new Array(Q-1);se<Q;se++)q[se-1]=arguments[se];k[K].fn.apply(k[K].context,q)}}return!0},y.prototype.on=function(g,x,b){return u(this,g,x,b,!1)},y.prototype.once=function(g,x,b){return u(this,g,x,b,!0)},y.prototype.removeListener=function(g,x,b,A){var w=r?r+g:g;if(!this._events[w])return this;if(!x)return i(this,w),this;var M=this._events[w];if(M.fn)M.fn===x&&(!A||M.once)&&(!b||M.context===b)&&i(this,w);else{for(var V=0,k=[],Q=M.length;V<Q;V++)(M[V].fn!==x||A&&!M[V].once||b&&M[V].context!==b)&&k.push(M[V]);k.length?this._events[w]=k.length===1?k[0]:k:i(this,w)}return this},y.prototype.removeAllListeners=function(g){var x;return g?(x=r?r+g:g,this._events[x]&&i(this,x)):(this._events=new n,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=r,y.EventEmitter=y,e.exports=y})(g9);var yO=g9.exports;const v9=vp(yO);var ve;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",e[e.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.CULL_FACE=2884]="CULL_FACE",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.BLEND=3042]="BLEND",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.DITHER=3024]="DITHER",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DOUBLE=5130]="DOUBLE",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.ALWAYS=519]="ALWAYS",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.GEQUAL=518]="GEQUAL",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",e[e.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.READ_BUFFER=3074]="READ_BUFFER",e[e.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",e[e.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",e[e.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",e[e.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",e[e.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",e[e.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",e[e.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",e[e.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",e[e.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",e[e.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",e[e.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",e[e.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",e[e.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",e[e.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",e[e.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",e[e.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",e[e.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",e[e.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",e[e.RED=6403]="RED",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB10_A2=32857]="RGB10_A2",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",e[e.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",e[e.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",e[e.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",e[e.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",e[e.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",e[e.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",e[e.SRGB=35904]="SRGB",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",e[e.RGBA32F=34836]="RGBA32F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.RGB16F=34843]="RGB16F",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R16F=33325]="R16F",e[e.R32F=33326]="R32F",e[e.RG16F=33327]="RG16F",e[e.RG32F=33328]="RG32F",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2UI=36975]="RGB10_A2UI",e[e.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",e[e.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.RG=33319]="RG",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",e[e.CURRENT_QUERY=34917]="CURRENT_QUERY",e[e.QUERY_RESULT=34918]="QUERY_RESULT",e[e.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",e[e.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",e[e.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",e[e.DRAW_BUFFER0=34853]="DRAW_BUFFER0",e[e.DRAW_BUFFER1=34854]="DRAW_BUFFER1",e[e.DRAW_BUFFER2=34855]="DRAW_BUFFER2",e[e.DRAW_BUFFER3=34856]="DRAW_BUFFER3",e[e.DRAW_BUFFER4=34857]="DRAW_BUFFER4",e[e.DRAW_BUFFER5=34858]="DRAW_BUFFER5",e[e.DRAW_BUFFER6=34859]="DRAW_BUFFER6",e[e.DRAW_BUFFER7=34860]="DRAW_BUFFER7",e[e.DRAW_BUFFER8=34861]="DRAW_BUFFER8",e[e.DRAW_BUFFER9=34862]="DRAW_BUFFER9",e[e.DRAW_BUFFER10=34863]="DRAW_BUFFER10",e[e.DRAW_BUFFER11=34864]="DRAW_BUFFER11",e[e.DRAW_BUFFER12=34865]="DRAW_BUFFER12",e[e.DRAW_BUFFER13=34866]="DRAW_BUFFER13",e[e.DRAW_BUFFER14=34867]="DRAW_BUFFER14",e[e.DRAW_BUFFER15=34868]="DRAW_BUFFER15",e[e.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e[e.MAX_SAMPLES=36183]="MAX_SAMPLES",e[e.SAMPLER_BINDING=35097]="SAMPLER_BINDING",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",e[e.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",e[e.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",e[e.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",e[e.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",e[e.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",e[e.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",e[e.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",e[e.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",e[e.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",e[e.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",e[e.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",e[e.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",e[e.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",e[e.UNIFORM_TYPE=35383]="UNIFORM_TYPE",e[e.UNIFORM_SIZE=35384]="UNIFORM_SIZE",e[e.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",e[e.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",e[e.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",e[e.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",e[e.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",e[e.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",e[e.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS",e[e.SYNC_FENCE=37142]="SYNC_FENCE",e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED",e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED",e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STREAM_COPY=35042]="STREAM_COPY",e[e.STATIC_READ=35045]="STATIC_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e[e.INVALID_INDEX=4294967295]="INVALID_INDEX",e[e.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",e[e.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",e[e.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",e[e.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",e[e.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.UNSIGNED_INT_24_8_WEBGL=34042]="UNSIGNED_INT_24_8_WEBGL",e[e.HALF_FLOAT_OES=36193]="HALF_FLOAT_OES",e[e.RGBA32F_EXT=34836]="RGBA32F_EXT",e[e.RGB32F_EXT=34837]="RGB32F_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",e[e.UNSIGNED_NORMALIZED_EXT=35863]="UNSIGNED_NORMALIZED_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.SRGB_EXT=35904]="SRGB_EXT",e[e.SRGB_ALPHA_EXT=35906]="SRGB_ALPHA_EXT",e[e.SRGB8_ALPHA8_EXT=35907]="SRGB8_ALPHA8_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT_OES",e[e.COLOR_ATTACHMENT0_WEBGL=36064]="COLOR_ATTACHMENT0_WEBGL",e[e.COLOR_ATTACHMENT1_WEBGL=36065]="COLOR_ATTACHMENT1_WEBGL",e[e.COLOR_ATTACHMENT2_WEBGL=36066]="COLOR_ATTACHMENT2_WEBGL",e[e.COLOR_ATTACHMENT3_WEBGL=36067]="COLOR_ATTACHMENT3_WEBGL",e[e.COLOR_ATTACHMENT4_WEBGL=36068]="COLOR_ATTACHMENT4_WEBGL",e[e.COLOR_ATTACHMENT5_WEBGL=36069]="COLOR_ATTACHMENT5_WEBGL",e[e.COLOR_ATTACHMENT6_WEBGL=36070]="COLOR_ATTACHMENT6_WEBGL",e[e.COLOR_ATTACHMENT7_WEBGL=36071]="COLOR_ATTACHMENT7_WEBGL",e[e.COLOR_ATTACHMENT8_WEBGL=36072]="COLOR_ATTACHMENT8_WEBGL",e[e.COLOR_ATTACHMENT9_WEBGL=36073]="COLOR_ATTACHMENT9_WEBGL",e[e.COLOR_ATTACHMENT10_WEBGL=36074]="COLOR_ATTACHMENT10_WEBGL",e[e.COLOR_ATTACHMENT11_WEBGL=36075]="COLOR_ATTACHMENT11_WEBGL",e[e.COLOR_ATTACHMENT12_WEBGL=36076]="COLOR_ATTACHMENT12_WEBGL",e[e.COLOR_ATTACHMENT13_WEBGL=36077]="COLOR_ATTACHMENT13_WEBGL",e[e.COLOR_ATTACHMENT14_WEBGL=36078]="COLOR_ATTACHMENT14_WEBGL",e[e.COLOR_ATTACHMENT15_WEBGL=36079]="COLOR_ATTACHMENT15_WEBGL",e[e.DRAW_BUFFER0_WEBGL=34853]="DRAW_BUFFER0_WEBGL",e[e.DRAW_BUFFER1_WEBGL=34854]="DRAW_BUFFER1_WEBGL",e[e.DRAW_BUFFER2_WEBGL=34855]="DRAW_BUFFER2_WEBGL",e[e.DRAW_BUFFER3_WEBGL=34856]="DRAW_BUFFER3_WEBGL",e[e.DRAW_BUFFER4_WEBGL=34857]="DRAW_BUFFER4_WEBGL",e[e.DRAW_BUFFER5_WEBGL=34858]="DRAW_BUFFER5_WEBGL",e[e.DRAW_BUFFER6_WEBGL=34859]="DRAW_BUFFER6_WEBGL",e[e.DRAW_BUFFER7_WEBGL=34860]="DRAW_BUFFER7_WEBGL",e[e.DRAW_BUFFER8_WEBGL=34861]="DRAW_BUFFER8_WEBGL",e[e.DRAW_BUFFER9_WEBGL=34862]="DRAW_BUFFER9_WEBGL",e[e.DRAW_BUFFER10_WEBGL=34863]="DRAW_BUFFER10_WEBGL",e[e.DRAW_BUFFER11_WEBGL=34864]="DRAW_BUFFER11_WEBGL",e[e.DRAW_BUFFER12_WEBGL=34865]="DRAW_BUFFER12_WEBGL",e[e.DRAW_BUFFER13_WEBGL=34866]="DRAW_BUFFER13_WEBGL",e[e.DRAW_BUFFER14_WEBGL=34867]="DRAW_BUFFER14_WEBGL",e[e.DRAW_BUFFER15_WEBGL=34868]="DRAW_BUFFER15_WEBGL",e[e.MAX_COLOR_ATTACHMENTS_WEBGL=36063]="MAX_COLOR_ATTACHMENTS_WEBGL",e[e.MAX_DRAW_BUFFERS_WEBGL=34852]="MAX_DRAW_BUFFERS_WEBGL",e[e.VERTEX_ARRAY_BINDING_OES=34229]="VERTEX_ARRAY_BINDING_OES",e[e.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",e[e.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",e[e.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",e[e.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",e[e.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",e[e.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",e[e.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT"})(ve||(ve={}));var Qo;(function(e){e[e.Buffer=0]="Buffer",e[e.Texture=1]="Texture",e[e.RenderTarget=2]="RenderTarget",e[e.Sampler=3]="Sampler",e[e.Program=4]="Program",e[e.Bindings=5]="Bindings",e[e.InputLayout=6]="InputLayout",e[e.RenderPipeline=7]="RenderPipeline",e[e.ComputePipeline=8]="ComputePipeline",e[e.Readback=9]="Readback",e[e.QueryPool=10]="QueryPool",e[e.RenderBundle=11]="RenderBundle"})(Qo||(Qo={}));var un;(function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"})(un||(un={}));var Ny;(function(e){e[e.CCW=2305]="CCW",e[e.CW=2304]="CW"})(Ny||(Ny={}));var Gs;(function(e){e[e.NONE=0]="NONE",e[e.FRONT=1]="FRONT",e[e.BACK=2]="BACK",e[e.FRONT_AND_BACK=3]="FRONT_AND_BACK"})(Gs||(Gs={}));var Uo;(function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC=768]="SRC",e[e.ONE_MINUS_SRC=769]="ONE_MINUS_SRC",e[e.DST=774]="DST",e[e.ONE_MINUS_DST=775]="ONE_MINUS_DST",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.CONST=32769]="CONST",e[e.ONE_MINUS_CONSTANT=32770]="ONE_MINUS_CONSTANT",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"})(Uo||(Uo={}));var xa;(function(e){e[e.ADD=32774]="ADD",e[e.SUBSTRACT=32778]="SUBSTRACT",e[e.REVERSE_SUBSTRACT=32779]="REVERSE_SUBSTRACT",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX"})(xa||(xa={}));var vs;(function(e){e[e.CLAMP_TO_EDGE=0]="CLAMP_TO_EDGE",e[e.REPEAT=1]="REPEAT",e[e.MIRRORED_REPEAT=2]="MIRRORED_REPEAT"})(vs||(vs={}));var Pi;(function(e){e[e.POINT=0]="POINT",e[e.BILINEAR=1]="BILINEAR"})(Pi||(Pi={}));var pa;(function(e){e[e.NO_MIP=0]="NO_MIP",e[e.NEAREST=1]="NEAREST",e[e.LINEAR=2]="LINEAR"})(pa||(pa={}));var ji;(function(e){e[e.POINTS=0]="POINTS",e[e.TRIANGLES=1]="TRIANGLES",e[e.TRIANGLE_STRIP=2]="TRIANGLE_STRIP",e[e.LINES=3]="LINES",e[e.LINE_STRIP=4]="LINE_STRIP"})(ji||(ji={}));var bn;(function(e){e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE"})(bn||(bn={}));var gp;(function(e){e[e.STATIC=1]="STATIC",e[e.DYNAMIC=2]="DYNAMIC"})(gp||(gp={}));var b0;(function(e){e[e.VERTEX=1]="VERTEX",e[e.INSTANCE=2]="INSTANCE"})(b0||(b0={}));var ig;(function(e){e.LOADED="loaded"})(ig||(ig={}));var ko;(function(e){e[e.TEXTURE_2D=0]="TEXTURE_2D",e[e.TEXTURE_2D_ARRAY=1]="TEXTURE_2D_ARRAY",e[e.TEXTURE_3D=2]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP=3]="TEXTURE_CUBE_MAP"})(ko||(ko={}));var us;(function(e){e[e.SAMPLED=1]="SAMPLED",e[e.RENDER_TARGET=2]="RENDER_TARGET",e[e.STORAGE=4]="STORAGE"})(us||(us={}));var Ea;(function(e){e[e.NONE=0]="NONE",e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e[e.RGB=7]="RGB",e[e.ALL=15]="ALL"})(Ea||(Ea={}));var pi;(function(e){e[e.KEEP=7680]="KEEP",e[e.ZERO=0]="ZERO",e[e.REPLACE=7681]="REPLACE",e[e.INVERT=5386]="INVERT",e[e.INCREMENT_CLAMP=7682]="INCREMENT_CLAMP",e[e.DECREMENT_CLAMP=7683]="DECREMENT_CLAMP",e[e.INCREMENT_WRAP=34055]="INCREMENT_WRAP",e[e.DECREMENT_WRAP=34056]="DECREMENT_WRAP"})(pi||(pi={}));var ui;(function(e){e[e.Float=0]="Float",e[e.UnfilterableFloat=1]="UnfilterableFloat",e[e.Uint=2]="Uint",e[e.Sint=3]="Sint",e[e.Depth=4]="Depth"})(ui||(ui={}));var qp;(function(e){e[e.LOWER_LEFT=0]="LOWER_LEFT",e[e.UPPER_LEFT=1]="UPPER_LEFT"})(qp||(qp={}));var Z1;(function(e){e[e.NEGATIVE_ONE=0]="NEGATIVE_ONE",e[e.ZERO=1]="ZERO"})(Z1||(Z1={}));var Mf;(function(e){e[e.OcclusionConservative=0]="OcclusionConservative"})(Mf||(Mf={}));var bt;(function(e){e[e.U8=1]="U8",e[e.U16=2]="U16",e[e.U32=3]="U32",e[e.S8=4]="S8",e[e.S16=5]="S16",e[e.S32=6]="S32",e[e.F16=7]="F16",e[e.F32=8]="F32",e[e.BC1=65]="BC1",e[e.BC2=66]="BC2",e[e.BC3=67]="BC3",e[e.BC4_UNORM=68]="BC4_UNORM",e[e.BC4_SNORM=69]="BC4_SNORM",e[e.BC5_UNORM=70]="BC5_UNORM",e[e.BC5_SNORM=71]="BC5_SNORM",e[e.U16_PACKED_5551=97]="U16_PACKED_5551",e[e.U16_PACKED_565=98]="U16_PACKED_565",e[e.D24=129]="D24",e[e.D32F=130]="D32F",e[e.D24S8=131]="D24S8",e[e.D32FS8=132]="D32FS8"})(bt||(bt={}));var br;(function(e){e[e.R=1]="R",e[e.RG=2]="RG",e[e.RGB=3]="RGB",e[e.RGBA=4]="RGBA",e[e.A=5]="A"})(br||(br={}));var cr;(function(e){e[e.None=0]="None",e[e.Normalized=1]="Normalized",e[e.sRGB=2]="sRGB",e[e.Depth=4]="Depth",e[e.Stencil=8]="Stencil",e[e.RenderTarget=16]="RenderTarget",e[e.Luminance=32]="Luminance"})(cr||(cr={}));function kr(e,t,r){return e<<16|t<<8|r}var Ue;(function(e){e[e.ALPHA=kr(bt.U8,br.A,cr.None)]="ALPHA",e[e.U8_LUMINANCE=kr(bt.U8,br.A,cr.Luminance)]="U8_LUMINANCE",e[e.F16_LUMINANCE=kr(bt.F16,br.A,cr.Luminance)]="F16_LUMINANCE",e[e.F32_LUMINANCE=kr(bt.F32,br.A,cr.Luminance)]="F32_LUMINANCE",e[e.F16_R=kr(bt.F16,br.R,cr.None)]="F16_R",e[e.F16_RG=kr(bt.F16,br.RG,cr.None)]="F16_RG",e[e.F16_RGB=kr(bt.F16,br.RGB,cr.None)]="F16_RGB",e[e.F16_RGBA=kr(bt.F16,br.RGBA,cr.None)]="F16_RGBA",e[e.F32_R=kr(bt.F32,br.R,cr.None)]="F32_R",e[e.F32_RG=kr(bt.F32,br.RG,cr.None)]="F32_RG",e[e.F32_RGB=kr(bt.F32,br.RGB,cr.None)]="F32_RGB",e[e.F32_RGBA=kr(bt.F32,br.RGBA,cr.None)]="F32_RGBA",e[e.U8_R=kr(bt.U8,br.R,cr.None)]="U8_R",e[e.U8_R_NORM=kr(bt.U8,br.R,cr.Normalized)]="U8_R_NORM",e[e.U8_RG=kr(bt.U8,br.RG,cr.None)]="U8_RG",e[e.U8_RG_NORM=kr(bt.U8,br.RG,cr.Normalized)]="U8_RG_NORM",e[e.U8_RGB=kr(bt.U8,br.RGB,cr.None)]="U8_RGB",e[e.U8_RGB_NORM=kr(bt.U8,br.RGB,cr.Normalized)]="U8_RGB_NORM",e[e.U8_RGB_SRGB=kr(bt.U8,br.RGB,cr.sRGB|cr.Normalized)]="U8_RGB_SRGB",e[e.U8_RGBA=kr(bt.U8,br.RGBA,cr.None)]="U8_RGBA",e[e.U8_RGBA_NORM=kr(bt.U8,br.RGBA,cr.Normalized)]="U8_RGBA_NORM",e[e.U8_RGBA_SRGB=kr(bt.U8,br.RGBA,cr.sRGB|cr.Normalized)]="U8_RGBA_SRGB",e[e.U16_R=kr(bt.U16,br.R,cr.None)]="U16_R",e[e.U16_R_NORM=kr(bt.U16,br.R,cr.Normalized)]="U16_R_NORM",e[e.U16_RG_NORM=kr(bt.U16,br.RG,cr.Normalized)]="U16_RG_NORM",e[e.U16_RGBA_NORM=kr(bt.U16,br.RGBA,cr.Normalized)]="U16_RGBA_NORM",e[e.U16_RGBA=kr(bt.U16,br.RGBA,cr.None)]="U16_RGBA",e[e.U16_RGB=kr(bt.U16,br.RGB,cr.None)]="U16_RGB",e[e.U16_RG=kr(bt.U16,br.RG,cr.None)]="U16_RG",e[e.U32_R=kr(bt.U32,br.R,cr.None)]="U32_R",e[e.U32_RG=kr(bt.U32,br.RG,cr.None)]="U32_RG",e[e.U32_RGB=kr(bt.U32,br.RGB,cr.None)]="U32_RGB",e[e.U32_RGBA=kr(bt.U32,br.RGBA,cr.None)]="U32_RGBA",e[e.S8_R=kr(bt.S8,br.R,cr.None)]="S8_R",e[e.S8_R_NORM=kr(bt.S8,br.R,cr.Normalized)]="S8_R_NORM",e[e.S8_RG_NORM=kr(bt.S8,br.RG,cr.Normalized)]="S8_RG_NORM",e[e.S8_RGB_NORM=kr(bt.S8,br.RGB,cr.Normalized)]="S8_RGB_NORM",e[e.S8_RGBA_NORM=kr(bt.S8,br.RGBA,cr.Normalized)]="S8_RGBA_NORM",e[e.S16_R=kr(bt.S16,br.R,cr.None)]="S16_R",e[e.S16_RG=kr(bt.S16,br.RG,cr.None)]="S16_RG",e[e.S16_RG_NORM=kr(bt.S16,br.RG,cr.Normalized)]="S16_RG_NORM",e[e.S16_RGB_NORM=kr(bt.S16,br.RGB,cr.Normalized)]="S16_RGB_NORM",e[e.S16_RGBA=kr(bt.S16,br.RGBA,cr.None)]="S16_RGBA",e[e.S16_RGBA_NORM=kr(bt.S16,br.RGBA,cr.Normalized)]="S16_RGBA_NORM",e[e.S32_R=kr(bt.S32,br.R,cr.None)]="S32_R",e[e.S32_RG=kr(bt.S32,br.RG,cr.None)]="S32_RG",e[e.S32_RGB=kr(bt.S32,br.RGB,cr.None)]="S32_RGB",e[e.S32_RGBA=kr(bt.S32,br.RGBA,cr.None)]="S32_RGBA",e[e.U16_RGBA_5551=kr(bt.U16_PACKED_5551,br.RGBA,cr.Normalized)]="U16_RGBA_5551",e[e.U16_RGB_565=kr(bt.U16_PACKED_565,br.RGB,cr.Normalized)]="U16_RGB_565",e[e.BC1=kr(bt.BC1,br.RGBA,cr.Normalized)]="BC1",e[e.BC1_SRGB=kr(bt.BC1,br.RGBA,cr.Normalized|cr.sRGB)]="BC1_SRGB",e[e.BC2=kr(bt.BC2,br.RGBA,cr.Normalized)]="BC2",e[e.BC2_SRGB=kr(bt.BC2,br.RGBA,cr.Normalized|cr.sRGB)]="BC2_SRGB",e[e.BC3=kr(bt.BC3,br.RGBA,cr.Normalized)]="BC3",e[e.BC3_SRGB=kr(bt.BC3,br.RGBA,cr.Normalized|cr.sRGB)]="BC3_SRGB",e[e.BC4_UNORM=kr(bt.BC4_UNORM,br.R,cr.Normalized)]="BC4_UNORM",e[e.BC4_SNORM=kr(bt.BC4_SNORM,br.R,cr.Normalized)]="BC4_SNORM",e[e.BC5_UNORM=kr(bt.BC5_UNORM,br.RG,cr.Normalized)]="BC5_UNORM",e[e.BC5_SNORM=kr(bt.BC5_SNORM,br.RG,cr.Normalized)]="BC5_SNORM",e[e.D24=kr(bt.D24,br.R,cr.Depth)]="D24",e[e.D24_S8=kr(bt.D24S8,br.RG,cr.Depth|cr.Stencil)]="D24_S8",e[e.D32F=kr(bt.D32F,br.R,cr.Depth)]="D32F",e[e.D32F_S8=kr(bt.D32FS8,br.RG,cr.Depth|cr.Stencil)]="D32F_S8",e[e.U8_RGB_RT=kr(bt.U8,br.RGB,cr.RenderTarget|cr.Normalized)]="U8_RGB_RT",e[e.U8_RGBA_RT=kr(bt.U8,br.RGBA,cr.RenderTarget|cr.Normalized)]="U8_RGBA_RT",e[e.U8_RGBA_RT_SRGB=kr(bt.U8,br.RGBA,cr.RenderTarget|cr.Normalized|cr.sRGB)]="U8_RGBA_RT_SRGB"})(Ue||(Ue={}));function X6(e){return e>>>8&255}function Qp(e){return e>>>16&255}function X1(e){return e&255}function E9(e){switch(e){case bt.F32:case bt.U32:case bt.S32:return 4;case bt.U16:case bt.S16:case bt.F16:return 2;case bt.U8:case bt.S8:return 1;default:throw new Error("whoops")}}function x9(e){return E9(Qp(e))}function hO(e){var t=E9(Qp(e)),r=X6(e);return t*r}function P9(e){var t=X1(e);if(t&cr.Depth)return ui.Depth;if(t&cr.Normalized)return ui.Float;var r=Qp(e);if(r===bt.F16||r===bt.F32)return ui.Float;if(r===bt.U8||r===bt.U16||r===bt.U32)return ui.Uint;if(r===bt.S8||r===bt.S16||r===bt.S32)return ui.Sint;throw new Error("whoops")}function _o(e,t){if(t===void 0&&(t=""),!e)throw new Error("Assert fail: ".concat(t))}function h0(e){if(e!=null)return e;throw new Error("Missing object")}function b9(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function F9(e,t){e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a}function A9(e){var t=e.r,r=e.g,n=e.b,s=e.a;return{r:t,g:r,b:n,a:s}}function Hy(e,t,r,n){return n===void 0&&(n=1),{r:e,g:t,b:r,a:n}}var em=Hy(0,0,0,0);Hy(0,0,0,1);var fO=Hy(1,1,1,0);Hy(1,1,1,1);function If(e){return!!(e&&!(e&e-1))}function _l(e,t){return e??t}function mO(e){return e===void 0?null:e}function Nf(e,t){var r=t-1;return e+r&~r}function _O(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=t();return r}function gO(e,t){t===void 0&&(t=1);var r=e.split(`
`);return r.map(function(n,s){return"".concat(vO(""+(t+s),4," "),"  ").concat(n)}).join(`
`)}function vO(e,t,r){for(;e.length<t;)e="".concat(r).concat(e);return e}function ag(e,t){e.blendDstFactor=t.blendDstFactor,e.blendSrcFactor=t.blendSrcFactor,e.blendMode=t.blendMode}function Df(e,t){return e===void 0&&(e={}),e.compare=t.compare,e.depthFailOp=t.depthFailOp,e.passOp=t.passOp,e.failOp=t.failOp,e.mask=t.mask,e}function S9(e,t){return e===void 0&&(e={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),ag(e.rgbBlendState,t.rgbBlendState),ag(e.alphaBlendState,t.alphaBlendState),e.channelWriteMask=t.channelWriteMask,e}function T9(e,t){e.length!==t.length&&(e.length=t.length);for(var r=0;r<t.length;r++)e[r]=S9(e[r],t[r])}function EO(e,t){t.attachmentsState!==void 0&&T9(e.attachmentsState,t.attachmentsState),e.blendConstant&&t.blendConstant&&F9(e.blendConstant,t.blendConstant),e.depthCompare=_l(t.depthCompare,e.depthCompare),e.depthWrite=_l(t.depthWrite,e.depthWrite),e.stencilWrite=_l(t.stencilWrite,e.stencilWrite),e.stencilFront&&t.stencilFront&&Df(e.stencilFront,t.stencilFront),e.stencilBack&&t.stencilBack&&Df(e.stencilBack,t.stencilBack),e.cullMode=_l(t.cullMode,e.cullMode),e.frontFace=_l(t.frontFace,e.frontFace),e.polygonOffset=_l(t.polygonOffset,e.polygonOffset),e.polygonOffsetFactor=_l(t.polygonOffsetFactor,e.polygonOffsetFactor),e.polygonOffsetUnits=_l(t.polygonOffsetUnits,e.polygonOffsetUnits)}function Y1(e){var t=Object.assign({},e);return t.attachmentsState=[],T9(t.attachmentsState,e.attachmentsState),t.blendConstant=t.blendConstant&&A9(t.blendConstant),t.stencilFront=Df(void 0,e.stencilFront),t.stencilBack=Df(void 0,e.stencilBack),t}var sg={blendMode:xa.ADD,blendSrcFactor:Uo.ONE,blendDstFactor:Uo.ZERO},$1={attachmentsState:[{channelWriteMask:Ea.ALL,rgbBlendState:sg,alphaBlendState:sg}],blendConstant:A9(em),depthWrite:!0,depthCompare:un.LEQUAL,stencilWrite:!1,stencilFront:{compare:un.ALWAYS,passOp:pi.KEEP,depthFailOp:pi.KEEP,failOp:pi.KEEP},stencilBack:{compare:un.ALWAYS,passOp:pi.KEEP,depthFailOp:pi.KEEP,failOp:pi.KEEP},cullMode:Gs.NONE,frontFace:Ny.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};function xO(e,t){e===void 0&&(e=null),t===void 0&&(t=$1);var r=Y1(t);return e!==null&&EO(r,e),r}xO({depthCompare:un.ALWAYS,depthWrite:!1},$1);var w9={texture:null,sampler:null,formatKind:ui.Float,dimension:ko.TEXTURE_2D};function bl(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function T1(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=t(e[n]);return r}function PO(e,t){return e.texture===t.texture&&e.binding===t.binding}function ug(e,t){return e.buffer===t.buffer&&e.size===t.size&&e.binding===t.binding&&e.offset===t.offset}function bO(e,t){return e===null?t===null:t===null?!1:e.sampler===t.sampler&&e.texture===t.texture&&e.dimension===t.dimension&&e.formatKind===t.formatKind&&e.comparison===t.comparison}function FO(e,t){return e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],!(e.samplerBindings.length!==t.samplerBindings.length||!bl(e.samplerBindings,t.samplerBindings,bO)||!bl(e.uniformBufferBindings,t.uniformBufferBindings,ug)||!bl(e.storageBufferBindings,t.storageBufferBindings,ug)||!bl(e.storageTextureBindings,t.storageTextureBindings,PO))}function pg(e,t){return e.blendMode==t.blendMode&&e.blendSrcFactor===t.blendSrcFactor&&e.blendDstFactor===t.blendDstFactor}function AO(e,t){return!(!pg(e.rgbBlendState,t.rgbBlendState)||!pg(e.alphaBlendState,t.alphaBlendState)||e.channelWriteMask!==t.channelWriteMask)}function Of(e,t){return e.compare==t.compare&&e.depthFailOp===t.depthFailOp&&e.failOp===t.failOp&&e.passOp===t.passOp&&e.mask===t.mask}function SO(e,t){return!bl(e.attachmentsState,t.attachmentsState,AO)||e.blendConstant&&t.blendConstant&&!b9(e.blendConstant,t.blendConstant)||e.stencilFront&&t.stencilFront&&!Of(e.stencilFront,t.stencilFront)||e.stencilBack&&t.stencilBack&&!Of(e.stencilBack,t.stencilBack)?!1:e.depthCompare===t.depthCompare&&e.depthWrite===t.depthWrite&&e.stencilWrite===t.stencilWrite&&e.cullMode===t.cullMode&&e.frontFace===t.frontFace&&e.polygonOffset===t.polygonOffset&&e.polygonOffsetFactor===t.polygonOffsetFactor&&e.polygonOffsetUnits===t.polygonOffsetUnits}function R9(e,t){return e.id===t.id}function TO(e,t){return e===t}function wO(e,t){return!(e.topology!==t.topology||e.inputLayout!==t.inputLayout||e.sampleCount!==t.sampleCount||e.megaStateDescriptor&&t.megaStateDescriptor&&!SO(e.megaStateDescriptor,t.megaStateDescriptor)||!R9(e.program,t.program)||!bl(e.colorAttachmentFormats,t.colorAttachmentFormats,TO)||e.depthStencilAttachmentFormat!==t.depthStencilAttachmentFormat)}function RO(e,t){return e.offset===t.offset&&e.shaderLocation===t.shaderLocation&&e.format===t.format&&e.divisor===t.divisor}function CO(e,t){return Xu(e)?Xu(t):Xu(t)?!1:e.arrayStride===t.arrayStride&&e.stepMode===t.stepMode&&bl(e.attributes,t.attributes,RO)}function MO(e,t){return!(e.indexBufferFormat!==t.indexBufferFormat||!bl(e.vertexBufferDescriptors,t.vertexBufferDescriptors,CO)||!R9(e.program,t.program))}function IO(e){var t=e.sampler,r=e.texture,n=e.dimension,s=e.formatKind,u=e.comparison;return{sampler:t,texture:r,dimension:n,formatKind:s,comparison:u}}function cg(e){var t=e.buffer,r=e.size,n=e.binding,s=e.offset;return{binding:n,buffer:t,offset:s,size:r}}function NO(e){var t=e.binding,r=e.texture;return{binding:t,texture:r}}function DO(e){var t=e.samplerBindings&&T1(e.samplerBindings,IO),r=e.uniformBufferBindings&&T1(e.uniformBufferBindings,cg),n=e.storageBufferBindings&&T1(e.storageBufferBindings,cg),s=e.storageTextureBindings&&T1(e.storageTextureBindings,NO);return{samplerBindings:t,uniformBufferBindings:r,storageBufferBindings:n,storageTextureBindings:s,pipeline:e.pipeline}}function OO(e){var t=e.inputLayout,r=e.program,n=e.topology,s=e.megaStateDescriptor&&Y1(e.megaStateDescriptor),u=e.colorAttachmentFormats.slice(),i=e.depthStencilAttachmentFormat,y=e.sampleCount;return{inputLayout:t,megaStateDescriptor:s,program:r,topology:n,colorAttachmentFormats:u,depthStencilAttachmentFormat:i,sampleCount:y}}function LO(e){var t=e.shaderLocation,r=e.format,n=e.offset,s=e.divisor;return{shaderLocation:t,format:r,offset:n,divisor:s}}function BO(e){if(Xu(e))return e;var t=e.arrayStride,r=e.stepMode,n=T1(e.attributes,LO);return{arrayStride:t,stepMode:r,attributes:n}}function UO(e){var t=T1(e.vertexBufferDescriptors,BO),r=e.indexBufferFormat,n=e.program;return{vertexBufferDescriptors:t,indexBufferFormat:r,program:n}}var Go,kO=/([^[]*)(\[[0-9]+\])?/;function zO(e){if(e[e.length-1]!=="]")return{name:e,length:1,isArray:!1};var t=e.match(kO);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:Number(t[2])||1,isArray:!!t[2]}}function gs(){var e=null;return function(t,r,n){var s=e!==n;return s&&(t.uniform1i(r,n),e=n),s}}function ai(e,t,r,n){var s=null,u=null;return function(i,y,m){var g=t(m,r),x=g.length,b=!1;if(s===null)s=new Float32Array(x),u=x,b=!0;else{_o(u===x,"Uniform length cannot change.");for(var A=0;A<x;++A)if(g[A]!==s[A]){b=!0;break}}return b&&(n(i,e,y,g),s.set(g)),b}}function as(e,t,r,n){e[t](r,n)}function Rc(e,t,r,n){e[t](r,!1,n)}var VO={},HO={},GO={},lg=[0];function Y6(e,t,r,n){t===1&&typeof e=="boolean"&&(e=e?1:0),Number.isFinite(e)&&(lg[0]=e,e=lg);var s=e.length;if(e instanceof r)return e;var u=n[s];u||(u=new r(s),n[s]=u);for(var i=0;i<s;i++)u[i]=e[i];return u}function cu(e,t){return Y6(e,t,Float32Array,VO)}function gl(e,t){return Y6(e,t,Int32Array,HO)}function kh(e,t){return Y6(e,t,Uint32Array,GO)}var jO=(Go={},Go[ve.FLOAT]=ai.bind(null,"uniform1fv",cu,1,as),Go[ve.FLOAT_VEC2]=ai.bind(null,"uniform2fv",cu,2,as),Go[ve.FLOAT_VEC3]=ai.bind(null,"uniform3fv",cu,3,as),Go[ve.FLOAT_VEC4]=ai.bind(null,"uniform4fv",cu,4,as),Go[ve.INT]=ai.bind(null,"uniform1iv",gl,1,as),Go[ve.INT_VEC2]=ai.bind(null,"uniform2iv",gl,2,as),Go[ve.INT_VEC3]=ai.bind(null,"uniform3iv",gl,3,as),Go[ve.INT_VEC4]=ai.bind(null,"uniform4iv",gl,4,as),Go[ve.BOOL]=ai.bind(null,"uniform1iv",gl,1,as),Go[ve.BOOL_VEC2]=ai.bind(null,"uniform2iv",gl,2,as),Go[ve.BOOL_VEC3]=ai.bind(null,"uniform3iv",gl,3,as),Go[ve.BOOL_VEC4]=ai.bind(null,"uniform4iv",gl,4,as),Go[ve.FLOAT_MAT2]=ai.bind(null,"uniformMatrix2fv",cu,4,Rc),Go[ve.FLOAT_MAT3]=ai.bind(null,"uniformMatrix3fv",cu,9,Rc),Go[ve.FLOAT_MAT4]=ai.bind(null,"uniformMatrix4fv",cu,16,Rc),Go[ve.UNSIGNED_INT]=ai.bind(null,"uniform1uiv",kh,1,as),Go[ve.UNSIGNED_INT_VEC2]=ai.bind(null,"uniform2uiv",kh,2,as),Go[ve.UNSIGNED_INT_VEC3]=ai.bind(null,"uniform3uiv",kh,3,as),Go[ve.UNSIGNED_INT_VEC4]=ai.bind(null,"uniform4uiv",kh,4,as),Go[ve.FLOAT_MAT2x3]=ai.bind(null,"uniformMatrix2x3fv",cu,6,Rc),Go[ve.FLOAT_MAT2x4]=ai.bind(null,"uniformMatrix2x4fv",cu,8,Rc),Go[ve.FLOAT_MAT3x2]=ai.bind(null,"uniformMatrix3x2fv",cu,6,Rc),Go[ve.FLOAT_MAT3x4]=ai.bind(null,"uniformMatrix3x4fv",cu,12,Rc),Go[ve.FLOAT_MAT4x2]=ai.bind(null,"uniformMatrix4x2fv",cu,8,Rc),Go[ve.FLOAT_MAT4x3]=ai.bind(null,"uniformMatrix4x3fv",cu,12,Rc),Go[ve.SAMPLER_2D]=gs,Go[ve.SAMPLER_CUBE]=gs,Go[ve.SAMPLER_3D]=gs,Go[ve.SAMPLER_2D_SHADOW]=gs,Go[ve.SAMPLER_2D_ARRAY]=gs,Go[ve.SAMPLER_2D_ARRAY_SHADOW]=gs,Go[ve.SAMPLER_CUBE_SHADOW]=gs,Go[ve.INT_SAMPLER_2D]=gs,Go[ve.INT_SAMPLER_3D]=gs,Go[ve.INT_SAMPLER_CUBE]=gs,Go[ve.INT_SAMPLER_2D_ARRAY]=gs,Go[ve.UNSIGNED_INT_SAMPLER_2D]=gs,Go[ve.UNSIGNED_INT_SAMPLER_3D]=gs,Go[ve.UNSIGNED_INT_SAMPLER_CUBE]=gs,Go[ve.UNSIGNED_INT_SAMPLER_2D_ARRAY]=gs,Go);function dg(e,t,r){var n=jO[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,e,t)}var WO={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function ZO(e){return Object.prototype.toString.call(e)in WO}function Zd(e,t){return"#define ".concat(e," ").concat(t)}function XO(e){var t={};return e.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(r,n,s){var u=Number(s);return t[n]=isNaN(u)?s:u,""}),t}function YO(e,t){var r=[];return e.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(n,s,u){var i=Number(s);return r.push({location:isNaN(i)?t[s]:i,name:u}),""}),r}function yg(e){if(e===void 0)return null;var t=/binding\s*=\s*(\d+)/.exec(e);if(t!==null){var r=parseInt(t[1],10);if(!Number.isNaN(r))return r}return null}function hg(e){var t="",r=e;return[r,t]}function q1(e,t,r,n,s){var u;n===void 0&&(n=null),s===void 0&&(s=!0);var i=e.glslVersion==="#version 100",y=t==="frag"&&((u=r.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm))===null||u===void 0?void 0:u.length)>1,m=r.replace(`\r
`,`
`).split(`
`).map(function(ke){return ke.replace(/[/][/].*$/,"")}).filter(function(ke){var Ee=!ke||/^\s+$/.test(ke);return!Ee}),g="";n!==null&&(g=Object.keys(n).map(function(ke){return Zd(ke,n[ke])}).join(`
`));var x=m.find(function(ke){return ke.startsWith("precision")})||"precision mediump float;",b=s?m.filter(function(ke){return!ke.startsWith("precision")}).join(`
`):m.join(`
`),A="";if(e.viewportOrigin===qp.UPPER_LEFT&&(A+="".concat(Zd("VIEWPORT_ORIGIN_TL","1"),`
`)),e.clipSpaceNearZ===Z1.ZERO&&(A+="".concat(Zd("CLIPSPACE_NEAR_ZERO","1"),`
`)),e.explicitBindingLocations){var w=0,M=0,V=0;b=b.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(ke,Ee,je,mt){var He=je?"".concat(je,", "):"";return"layout(".concat(He,"set = ").concat(w,", binding = ").concat(M++,") uniform ").concat(mt)}),w++,M=0,_o(e.separateSamplerTextures),b=b.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(ke,Ee,je,mt,He){var Fe=yg(je);Fe===null&&(Fe=M++);var Le=hp(hg(mt),2),ze=Le[0],st=Le[1];return t==="frag"?`
layout(set = `.concat(w,", binding = ").concat(Fe*2+0,") uniform texture").concat(ze," T_").concat(He,`;
layout(set = `).concat(w,", binding = ").concat(Fe*2+1,") uniform sampler").concat(st," S_").concat(He,";").trim():""}),b=b.replace(t==="frag"?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(ke,Ee){return"layout(location = ".concat(V++,") ").concat(Ee)}),A+="".concat(Zd("gl_VertexID","gl_VertexIndex"),`
`),A+="".concat(Zd("gl_InstanceID","gl_InstanceIndex"),`
`),x=x.replace(/^precision (.*) sampler(.*);$/gm,"")}else{var k=0;b=b.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(ke,Ee,je,mt,He){var Fe=yg(je);return Fe===null&&(Fe=k++),"uniform sampler".concat(mt," ").concat(He,"; // BINDING=").concat(Fe)})}if(b=b.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return"SAMPLER_".concat(Ee,"(P_").concat(je,")")}),b=b.replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return"PP_SAMPLER_".concat(Ee,"(P_").concat(je,")")}),b=b.replace(/\bPU_TEXTURE\((.*?)\)/g,function(ke,Ee){return"TEXTURE(P_".concat(Ee,")")}),e.separateSamplerTextures)b=b.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){var mt=hp(hg(Ee),2),He=mt[0],Fe=mt[1];return"texture".concat(He," T_P_").concat(je,", sampler").concat(Fe," S_P_").concat(je)}),b=b.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return"T_".concat(je,", S_").concat(je)}),b=b.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return"sampler".concat(Ee,"(T_").concat(je,", S_").concat(je,")")}),b=b.replace(/\bTEXTURE\((.*?)\)/g,function(ke,Ee){return"T_".concat(Ee)});else{var Q=[];b=b.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return"sampler".concat(Ee," P_").concat(je)}),b=b.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return je}),b=b.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(ke,Ee,je){return Q.push([je,Ee]),je}),i&&Q.forEach(function(ke){var Ee=hp(ke,2),je=Ee[0],mt=Ee[1];b=b.replace(new RegExp("texture\\(".concat(je),"g"),function(){return"texture".concat(mt,"(").concat(je)})}),b=b.replace(/\bTEXTURE\((.*?)\)/g,function(ke,Ee){return Ee})}var q="".concat(i?"":e.glslVersion,`
`).concat(i&&y?`#extension GL_EXT_draw_buffers : require
`:"",`
`).concat(i&&t==="frag"?`#extension GL_OES_standard_derivatives : enable
`:"").concat(s?x:"",`
`).concat(A||"").concat(g?g+`
`:"",`
`).concat(b,`
`).trim();if(e.explicitBindingLocations&&t==="frag"&&(q=q.replace(/^\b(out)\b/g,function(ke,Ee){return"layout(location = 0) ".concat(Ee)})),i){if(t==="frag"&&(q=q.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(ke,Ee,je){return"varying ".concat(Ee," ").concat(je,`;
`)})),t==="vert"&&(q=q.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(ke,Ee,je){return"varying ".concat(Ee," ").concat(je,`;
`)}),q=q.replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(ke,Ee,je){return"attribute ".concat(Ee," ").concat(je,`;
`)})),q=q.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(ke,Ee){return Ee.trim().replace(/^.*$/gm,function(je){var mt=je.trim();return mt.startsWith("#")?mt:je?"uniform ".concat(mt):""})}),t==="frag")if(y){var K=[];q=q.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(ke,Ee){return K.push(Ee),"vec4 ".concat(Ee,`;
`)});var te=q.lastIndexOf("}");q=q.substring(0,te)+`
    `.concat(K.map(function(ke,Ee){return"gl_FragData[".concat(Ee,"] = ").concat(ke,`;
    `)}).join(`
`))+q.substring(te)}else{var se;if(q=q.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(ke,Ee,je){return se=je,"".concat(Ee," ").concat(je,`;
`)}),se){var te=q.lastIndexOf("}");q=q.substring(0,te)+`
  gl_FragColor = vec4(`.concat(se,`);
`)+q.substring(te)}}q=q.replace(/^\s*layout\((.*)\)/gm,"")}return q}var $u=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=e.call(this)||this;return u.id=n,u.device=s,u.device.resourceCreationTracker!==null&&u.device.resourceCreationTracker.trackResourceCreated(u),u}return t.prototype.destroy=function(){this.device.resourceCreationTracker!==null&&this.device.resourceCreationTracker.trackResourceDestroyed(this)},t}(v9),$O=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.Bindings;var y=u.uniformBufferBindings,m=u.samplerBindings;return i.uniformBufferBindings=y||[],i.samplerBindings=m||[],i.bindingLayouts=i.createBindingLayouts(),i}return t.prototype.createBindingLayouts=function(){var r=0,n=0,s=[],u=this.uniformBufferBindings.length,i=this.samplerBindings.length;return s.push({firstUniformBuffer:r,numUniformBuffers:u,firstSampler:n,numSamplers:i}),r+=u,n+=i,{numUniformBuffers:r,numSamplers:n,bindingLayoutTables:s}},t}($u);function Ir(e){return typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?!0:!!(e&&e._version===2)}function C9(e){var t=Qp(e);switch(t){case bt.BC1:case bt.BC2:case bt.BC3:case bt.BC4_UNORM:case bt.BC4_SNORM:case bt.BC5_UNORM:case bt.BC5_SNORM:return!0;default:return!1}}function M9(e){var t=X1(e);if(t&cr.Normalized)return!1;var r=Qp(e);return r===bt.S8||r===bt.S16||r===bt.S32||r===bt.U8||r===bt.U16||r===bt.U32}function qO(e){switch(e){case gp.STATIC:return ve.STATIC_DRAW;case gp.DYNAMIC:return ve.DYNAMIC_DRAW}}function fg(e){if(e&bn.INDEX)return ve.ELEMENT_ARRAY_BUFFER;if(e&bn.VERTEX)return ve.ARRAY_BUFFER;if(e&bn.UNIFORM)return ve.UNIFORM_BUFFER}function KO(e){switch(e){case ji.TRIANGLES:return ve.TRIANGLES;case ji.POINTS:return ve.POINTS;case ji.TRIANGLE_STRIP:return ve.TRIANGLE_STRIP;case ji.LINES:return ve.LINES;case ji.LINE_STRIP:return ve.LINE_STRIP;default:throw new Error("Unknown primitive topology mode")}}function QO(e){switch(e){case bt.U8:return ve.UNSIGNED_BYTE;case bt.U16:return ve.UNSIGNED_SHORT;case bt.U32:return ve.UNSIGNED_INT;case bt.S8:return ve.BYTE;case bt.S16:return ve.SHORT;case bt.S32:return ve.INT;case bt.F16:return ve.HALF_FLOAT;case bt.F32:return ve.FLOAT;default:throw new Error("whoops")}}function JO(e){switch(e){case br.R:return 1;case br.RG:return 2;case br.RGB:return 3;case br.RGBA:return 4;default:return 1}}function eL(e){var t=Qp(e),r=X6(e),n=X1(e),s=QO(t),u=JO(r),i=!!(n&cr.Normalized);return{size:u,type:s,normalized:i}}function tL(e){switch(e){case Ue.U8_R:return ve.UNSIGNED_BYTE;case Ue.U16_R:return ve.UNSIGNED_SHORT;case Ue.U32_R:return ve.UNSIGNED_INT;default:throw new Error("whoops")}}function Xd(e){switch(e){case vs.CLAMP_TO_EDGE:return ve.CLAMP_TO_EDGE;case vs.REPEAT:return ve.REPEAT;case vs.MIRRORED_REPEAT:return ve.MIRRORED_REPEAT;default:throw new Error("whoops")}}function zh(e,t){if(t===pa.LINEAR&&e===Pi.BILINEAR)return ve.LINEAR_MIPMAP_LINEAR;if(t===pa.LINEAR&&e===Pi.POINT)return ve.NEAREST_MIPMAP_LINEAR;if(t===pa.NEAREST&&e===Pi.BILINEAR)return ve.LINEAR_MIPMAP_NEAREST;if(t===pa.NEAREST&&e===Pi.POINT)return ve.NEAREST_MIPMAP_NEAREST;if(t===pa.NO_MIP&&e===Pi.BILINEAR)return ve.LINEAR;if(t===pa.NO_MIP&&e===Pi.POINT)return ve.NEAREST;throw new Error("Unknown texture filter mode")}function U1(e,t){t===void 0&&(t=0);var r=e;return r.gl_buffer_pages[t/r.pageByteSize|0]}function b1(e){var t=e;return t.gl_texture}function n6(e){var t=e;return t.gl_sampler}function Yd(e,t){e.name=t,e.__SPECTOR_Metadata={name:t}}function mg(e,t){for(var r=[];;){var n=t.exec(e);if(!n)break;r.push(n)}return r}function vl(e){return e.blendMode==xa.ADD&&e.blendSrcFactor==Uo.ONE&&e.blendDstFactor===Uo.ZERO}function rL(e){switch(e){case Mf.OcclusionConservative:return ve.ANY_SAMPLES_PASSED_CONSERVATIVE;default:throw new Error("whoops")}}function oL(e){if(e===ko.TEXTURE_2D)return ve.TEXTURE_2D;if(e===ko.TEXTURE_2D_ARRAY)return ve.TEXTURE_2D_ARRAY;if(e===ko.TEXTURE_CUBE_MAP)return ve.TEXTURE_CUBE_MAP;if(e===ko.TEXTURE_3D)return ve.TEXTURE_3D;throw new Error("whoops")}function p2(e,t,r,n){return!(e%r!==0||t%n!==0)}var nL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.Buffer;var y=u.viewOrSize,m=u.usage,g=u.hint,x=g===void 0?gp.STATIC:g,b=s.uniformBufferMaxPageByteSize,A=s.gl,w=m&bn.UNIFORM;w||(Ir(A)?A.bindVertexArray(null):s.OES_vertex_array_object.bindVertexArrayOES(null));var M=S1(y)?Nf(y,4):Nf(y.byteLength,4);i.gl_buffer_pages=[];var V;if(w){for(var k=M;k>0;)i.gl_buffer_pages.push(i.createBufferPage(Math.min(k,b),m,x)),k-=b;V=b}else i.gl_buffer_pages.push(i.createBufferPage(M,m,x)),V=M;return i.pageByteSize=V,i.byteSize=M,i.usage=m,i.gl_target=fg(m),S1(y)||i.setSubData(0,new Uint8Array(y.buffer)),w||(Ir(A)?A.bindVertexArray(i.device.currentBoundVAO):s.OES_vertex_array_object.bindVertexArrayOES(i.device.currentBoundVAO)),i}return t.prototype.setSubData=function(r,n,s,u){s===void 0&&(s=0),u===void 0&&(u=n.byteLength-s);for(var i=this.device.gl,y=this.pageByteSize,m=r+u,g=r,x=r%y;g<m;){var b=Ir(i)?i.COPY_WRITE_BUFFER:this.gl_target,A=U1(this,g);if(A.ubo)return;i.bindBuffer(b,A),Ir(i)?i.bufferSubData(b,x,n,s,Math.min(m-g,y)):i.bufferSubData(b,x,n),g+=y,x=0,s+=y,this.device.debugGroupStatisticsBufferUpload()}},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.gl_buffer_pages.length;r++)this.gl_buffer_pages[r].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[r]);this.gl_buffer_pages=[]},t.prototype.createBufferPage=function(r,n,s){var u=this.device.gl,i=n&bn.UNIFORM;if(!Ir(u)&&i)return{ubo:!0};var y=this.device.ensureResourceExists(u.createBuffer()),m=fg(n),g=qO(s);return u.bindBuffer(m,y),u.bufferData(m,r,g),y},t}($u),iL=function(e){ci(t,e);function t(r){var n,s,u,i,y=r.id,m=r.device,g=r.descriptor,x,b=e.call(this,{id:y,device:m})||this;b.type=Qo.InputLayout;var A=g.vertexBufferDescriptors,w=g.indexBufferFormat,M=g.program;_o(w===Ue.U16_R||w===Ue.U32_R||w===null);var V=w!==null?tL(w):null,k=w!==null?x9(w):null,Q=b.device.gl,q=b.device.ensureResourceExists(Ir(Q)?Q.createVertexArray():m.OES_vertex_array_object.createVertexArrayOES());Ir(Q)?Q.bindVertexArray(q):m.OES_vertex_array_object.bindVertexArrayOES(q),Q.bindBuffer(Q.ARRAY_BUFFER,U1(b.device.fallbackVertexBuffer));try{for(var K=_0(g.vertexBufferDescriptors),te=K.next();!te.done;te=K.next()){var se=te.value,ke=se.stepMode,Ee=se.attributes;try{for(var je=(u=void 0,_0(Ee)),mt=je.next();!mt.done;mt=je.next()){var He=mt.value,Fe=He.shaderLocation,Le=He.format,ze=He.divisor,st=ze===void 0?1:ze,Vt=Ir(Q)?Fe:(x=M.attributes[Fe])===null||x===void 0?void 0:x.location,nr=eL(Le);if(He.vertexFormat=nr,!Xu(Vt)){M9(Le);var Fr=nr.size,$r=nr.type,mr=nr.normalized;Q.vertexAttribPointer(Vt,Fr,$r,mr,0,0),ke===b0.INSTANCE&&(Ir(Q)?Q.vertexAttribDivisor(Vt,st):m.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(Vt,st)),Q.enableVertexAttribArray(Vt)}}}catch(Er){u={error:Er}}finally{try{mt&&!mt.done&&(i=je.return)&&i.call(je)}finally{if(u)throw u.error}}}}catch(Er){n={error:Er}}finally{try{te&&!te.done&&(s=K.return)&&s.call(K)}finally{if(n)throw n.error}}return Ir(Q)?Q.bindVertexArray(null):m.OES_vertex_array_object.bindVertexArrayOES(null),b.vertexBufferDescriptors=A,b.vao=q,b.indexBufferFormat=w,b.indexBufferType=V,b.indexBufferCompByteSize=k,b.program=M,b}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(Ir(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null)},t}($u),i6=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=r.fake,y=e.call(this,{id:n,device:s})||this;y.type=Qo.Texture,u=Oi({dimension:ko.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},u);var m=y.device.gl,g,x,b=y.clampmipLevelCount(u);if(y.immutable=u.usage===us.RENDER_TARGET,y.pixelStore=u.pixelStore,y.format=u.format,y.dimension=u.dimension,y.formatKind=P9(u.format),y.width=u.width,y.height=u.height,y.depthOrArrayLayers=u.depthOrArrayLayers,y.mipmaps=b>=1,!i){x=y.device.ensureResourceExists(m.createTexture());var A=y.device.translateTextureType(u.format),w=y.device.translateTextureInternalFormat(u.format);if(y.device.setActiveTexture(m.TEXTURE0),y.device.currentTextures[0]=null,y.preprocessImage(),u.dimension===ko.TEXTURE_2D){if(g=ve.TEXTURE_2D,m.bindTexture(g,x),y.immutable)if(Ir(m))m.texStorage2D(g,b,w,u.width,u.height);else{var M=(w===ve.DEPTH_COMPONENT||y.isNPOT(),0);(y.format===Ue.D32F||y.format===Ue.D24_S8)&&!Ir(m)&&!s.WEBGL_depth_texture||(m.texImage2D(g,M,w,u.width,u.height,0,w,A,null),y.mipmaps&&(y.mipmaps=!1,m.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR),m.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,ve.CLAMP_TO_EDGE),m.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,ve.CLAMP_TO_EDGE)))}_o(u.depthOrArrayLayers===1)}else if(u.dimension===ko.TEXTURE_2D_ARRAY)g=ve.TEXTURE_2D_ARRAY,m.bindTexture(g,x),y.immutable&&Ir(m)&&m.texStorage3D(g,b,w,u.width,u.height,u.depthOrArrayLayers);else if(u.dimension===ko.TEXTURE_3D)g=ve.TEXTURE_3D,m.bindTexture(g,x),y.immutable&&Ir(m)&&m.texStorage3D(g,b,w,u.width,u.height,u.depthOrArrayLayers);else if(u.dimension===ko.TEXTURE_CUBE_MAP)g=ve.TEXTURE_CUBE_MAP,m.bindTexture(g,x),y.immutable&&Ir(m)&&m.texStorage2D(g,b,w,u.width,u.height),_o(u.depthOrArrayLayers===6);else throw new Error("whoops")}return y.gl_texture=x,y.gl_target=g,y.mipLevelCount=b,y}return t.prototype.setImageData=function(r,n){n===void 0&&(n=0);var s=this.device.gl;C9(this.format);var u=this.gl_target===ve.TEXTURE_3D||this.gl_target===ve.TEXTURE_2D_ARRAY,i=this.gl_target===ve.TEXTURE_CUBE_MAP,y=ZO(r[0]);this.device.setActiveTexture(s.TEXTURE0),this.device.currentTextures[0]=null;var m=r[0],g,x;y?(g=this.width,x=this.height):(g=m.width,x=m.height,this.width=g,this.height=x),s.bindTexture(this.gl_target,this.gl_texture);var b=this.device.translateTextureFormat(this.format),A=Ir(s)?this.device.translateInternalTextureFormat(this.format):b,w=this.device.translateTextureType(this.format);this.preprocessImage();for(var M=0;M<this.depthOrArrayLayers;M++){var V=r[M],k=this.gl_target;i&&(k=ve.TEXTURE_CUBE_MAP_POSITIVE_X+M%6),this.immutable?s.texSubImage2D(k,n,0,0,g,x,b,w,V):Ir(s)?u?s.texImage3D(k,n,A,g,x,this.depthOrArrayLayers,0,b,w,V):s.texImage2D(k,n,A,g,x,0,b,w,V):y?s.texImage2D(k,n,b,g,x,0,b,w,V):s.texImage2D(k,n,b,b,w,V)}this.mipmaps&&this.generateMipmap(u)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteTexture(b1(this))},t.prototype.clampmipLevelCount=function(r){if(r.dimension===ko.TEXTURE_2D_ARRAY&&r.depthOrArrayLayers>1){var n=Qp(r.format);if(n===bt.BC1)for(var s=r.width,u=r.height,i=0;i<r.mipLevelCount;i++){if(s<=2||u<=2)return i-1;s=Math.max(s/2|0,1),u=Math.max(u/2|0,1)}}return r.mipLevelCount},t.prototype.preprocessImage=function(){var r=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&r.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&r.pixelStorei(ve.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&r.pixelStorei(ve.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment))},t.prototype.generateMipmap=function(r){r===void 0&&(r=!1);var n=this.device.gl;return!Ir(n)&&this.isNPOT()?this:(this.gl_texture&&this.gl_target&&(n.bindTexture(this.gl_target,this.gl_texture),r?(n.texParameteri(this.gl_target,ve.TEXTURE_BASE_LEVEL,0),n.texParameteri(this.gl_target,ve.TEXTURE_MAX_LEVEL,Math.log2(this.width)),n.texParameteri(this.gl_target,ve.TEXTURE_MIN_FILTER,ve.LINEAR_MIPMAP_LINEAR),n.texParameteri(this.gl_target,ve.TEXTURE_MAG_FILTER,ve.LINEAR)):n.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.NEAREST_MIPMAP_LINEAR),n.generateMipmap(this.gl_target),n.bindTexture(this.gl_target,null)),this)},t.prototype.isNPOT=function(){var r=this.device.gl;return Ir(r)?!1:!If(this.width)||!If(this.height)},t}($u),aL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.RenderTarget,i.gl_renderbuffer=null,i.texture=null;var y=i.device.gl,m=u.format,g=u.width,x=u.height,b=u.sampleCount,A=b===void 0?1:b,w=u.texture,M=!1;if((m===Ue.D32F||m===Ue.D24_S8)&&w&&!Ir(y)&&!s.WEBGL_depth_texture&&(w.destroy(),i.texture=null,M=!0),!M&&w)i.texture=w;else{i.gl_renderbuffer=i.device.ensureResourceExists(y.createRenderbuffer()),y.bindRenderbuffer(y.RENDERBUFFER,i.gl_renderbuffer);var V=i.device.translateTextureInternalFormat(m,!0);Ir(y)&&A>1?y.renderbufferStorageMultisample(ve.RENDERBUFFER,A,V,g,x):y.renderbufferStorage(ve.RENDERBUFFER,V,g,x)}return i.format=m,i.width=g,i.height=x,i.sampleCount=A,i}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gl_renderbuffer!==null&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy()},t}($u),zs;(function(e){e[e.NeedsCompile=0]="NeedsCompile",e[e.Compiling=1]="Compiling",e[e.NeedsBind=2]="NeedsBind",e[e.ReadyToUse=3]="ReadyToUse"})(zs||(zs={}));var sL=function(e){ci(t,e);function t(r,n){var s=r.id,u=r.device,i=r.descriptor,y=e.call(this,{id:s,device:u})||this;y.rawVertexGLSL=n,y.type=Qo.Program,y.uniformSetters={},y.attributes=[];var m=y.device.gl;return y.descriptor=i,y.gl_program=y.device.ensureResourceExists(m.createProgram()),y.gl_shader_vert=null,y.gl_shader_frag=null,y.compileState=zs.NeedsCompile,y.tryCompileProgram(),y}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag)},t.prototype.tryCompileProgram=function(){_o(this.compileState===zs.NeedsCompile);var r=this.descriptor,n=r.vertex,s=r.fragment,u=this.device.gl;n!=null&&n.glsl&&(s!=null&&s.glsl)&&(this.gl_shader_vert=this.compileShader(n.postprocess?n.postprocess(n.glsl):n.glsl,u.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(s.postprocess?s.postprocess(s.glsl):s.glsl,u.FRAGMENT_SHADER),u.attachShader(this.gl_program,this.gl_shader_vert),u.attachShader(this.gl_program,this.gl_shader_frag),u.linkProgram(this.gl_program),this.compileState=zs.Compiling,Ir(u)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()))},t.prototype.readAttributesFromLinkedProgram=function(){for(var r,n=this.device.gl,s=n.getProgramParameter(this.gl_program,n.ACTIVE_ATTRIBUTES),u=XO(this.descriptor.vertex.glsl),i=YO(this.rawVertexGLSL,u),y=function(x){var b=n.getActiveAttrib(m.gl_program,x),A=b.name,w=b.type,M=b.size,V=n.getAttribLocation(m.gl_program,A),k=(r=i.find(function(Q){return Q.name===A}))===null||r===void 0?void 0:r.location;V>=0&&!Xu(k)&&(m.attributes[k]={name:A,location:V,type:w,size:M})},m=this,g=0;g<s;g++)y(g)},t.prototype.readUniformLocationsFromLinkedProgram=function(){for(var r=this.device.gl,n=r.getProgramParameter(this.gl_program,r.ACTIVE_UNIFORMS),s=0;s<n;s++){var u=r.getActiveUniform(this.gl_program,s),i=zO(u.name).name,y=r.getUniformLocation(this.gl_program,i);if(this.uniformSetters[i]=dg(r,y,u),u&&u.size>1)for(var m=0;m<u.size;m++)y=r.getUniformLocation(this.gl_program,"".concat(i,"[").concat(m,"]")),this.uniformSetters["".concat(i,"[").concat(m,"]")]=dg(r,y,u)}},t.prototype.compileShader=function(r,n){var s=this.device.gl,u=this.device.ensureResourceExists(s.createShader(n));return s.shaderSource(u,r),s.compileShader(u),u},t.prototype.setUniformsLegacy=function(r){r===void 0&&(r={});var n=this.device.gl;if(!Ir(n)){var s=!1;for(var u in r){s||(n.useProgram(this.gl_program),s=!0);var i=r[u],y=this.uniformSetters[u];if(y){var m=i;m instanceof i6&&(m=m.textureIndex),y(m)}}}return this},t}($u),uL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.QueryPool;var y=i.device.gl;if(Ir(y)){var m=u.elemCount,g=u.type;i.gl_query=_O(m,function(){return i.device.ensureResourceExists(y.createQuery())}),i.gl_query_type=rL(g)}return i}return t.prototype.queryResultOcclusion=function(r){var n=this.device.gl;if(Ir(n)){var s=this.gl_query[r];return n.getQueryParameter(s,n.QUERY_RESULT_AVAILABLE)?!!n.getQueryParameter(s,n.QUERY_RESULT):null}return null},t.prototype.destroy=function(){e.prototype.destroy.call(this);var r=this.device.gl;if(Ir(r))for(var n=0;n<this.gl_query.length;n++)r.deleteQuery(this.gl_query[n])},t}($u),pL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=e.call(this,{id:n,device:s})||this;return u.type=Qo.Readback,u.gl_pbo=null,u.gl_sync=null,u}return t.prototype.clientWaitAsync=function(r,n,s){n===void 0&&(n=0),s===void 0&&(s=10);var u=this.device.gl;return new Promise(function(i,y){function m(){var g=u.clientWaitSync(r,n,0);if(g==u.WAIT_FAILED){y();return}if(g==u.TIMEOUT_EXPIRED){setTimeout(m,dO(s,0,u.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return}i()}m()})},t.prototype.getBufferSubDataAsync=function(r,n,s,u,i,y){return R1(this,void 0,void 0,function(){var m;return C1(this,function(g){switch(g.label){case 0:return m=this.device.gl,Ir(m)?(this.gl_sync=m.fenceSync(m.SYNC_GPU_COMMANDS_COMPLETE,0),m.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)]):[3,2];case 1:return g.sent(),m.bindBuffer(r,n),m.getBufferSubData(r,s,u,i,y),m.bindBuffer(r,null),[2,u];case 2:return[2]}})})},t.prototype.readTexture=function(r,n,s,u,i,y,m,g){return m===void 0&&(m=0),g===void 0&&(g=y.byteLength||0),R1(this,void 0,void 0,function(){var x,b,A,w,M;return C1(this,function(V){return x=this.device.gl,b=r,A=this.device.translateTextureFormat(b.format),w=this.device.translateTextureType(b.format),M=hO(b.format),Ir(x)?(this.gl_pbo=this.device.ensureResourceExists(x.createBuffer()),x.bindBuffer(x.PIXEL_PACK_BUFFER,this.gl_pbo),x.bufferData(x.PIXEL_PACK_BUFFER,g,x.STREAM_READ),x.bindBuffer(x.PIXEL_PACK_BUFFER,null),x.bindFramebuffer(ve.READ_FRAMEBUFFER,this.device.readbackFramebuffer),x.framebufferTexture2D(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,b.gl_texture,0),x.bindBuffer(x.PIXEL_PACK_BUFFER,this.gl_pbo),x.readPixels(n,s,u,i,A,w,m*M),x.bindBuffer(x.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(x.PIXEL_PACK_BUFFER,this.gl_pbo,0,y,m,0)]):[2,this.readTextureSync(r,n,s,u,i,y,m,g)]})})},t.prototype.readTextureSync=function(r,n,s,u,i,y,m,g){g===void 0&&(g=y.byteLength||0);var x=this.device.gl,b=r,A=this.device.translateTextureType(b.format);return x.bindFramebuffer(ve.FRAMEBUFFER,this.device.readbackFramebuffer),x.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,b.gl_texture,0),x.pixelStorei(x.PACK_ALIGNMENT,4),x.readPixels(n,s,u,i,x.RGBA,A,y),y},t.prototype.readBuffer=function(r,n,s,u,i){return R1(this,void 0,void 0,function(){var y;return C1(this,function(m){return y=this.device.gl,Ir(y)?[2,this.getBufferSubDataAsync(y.ARRAY_BUFFER,U1(r,n),n,s,u,i)]:[2,Promise.reject()]})})},t.prototype.destroy=function(){e.prototype.destroy.call(this),Ir(this.device.gl)&&(this.gl_sync!==null&&this.device.gl.deleteSync(this.gl_sync),this.gl_pbo!==null&&this.device.gl.deleteBuffer(this.gl_pbo))},t}($u),cL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i,y,m=e.call(this,{id:n,device:s})||this;return m.type=Qo.RenderPipeline,m.drawMode=KO((i=u.topology)!==null&&i!==void 0?i:ji.TRIANGLES),m.program=u.program,m.inputLayout=u.inputLayout,m.megaState=Oi(Oi({},Y1($1)),u.megaStateDescriptor),m.colorAttachmentFormats=u.colorAttachmentFormats.slice(),m.depthStencilAttachmentFormat=u.depthStencilAttachmentFormat,m.sampleCount=(y=u.sampleCount)!==null&&y!==void 0?y:1,m}return t}($u),lL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;return i.type=Qo.ComputePipeline,i.descriptor=u,i}return t}($u),dL=function(){function e(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map}return e.prototype.trackResourceCreated=function(t){this.creationStacks.set(t,new Error().stack),this.liveObjects.add(t)},e.prototype.trackResourceDestroyed=function(t){this.deletionStacks.has(t)&&console.warn("Object double freed:",t,`

Creation stack: `,this.creationStacks.get(t),`

Deletion stack: `,this.deletionStacks.get(t),`

This stack: `,new Error().stack),this.deletionStacks.set(t,new Error().stack),this.liveObjects.delete(t)},e.prototype.checkForLeaks=function(){var t,r;try{for(var n=_0(this.liveObjects.values()),s=n.next();!s.done;s=n.next()){var u=s.value;console.warn("Object leaked:",u,"Creation stack:",this.creationStacks.get(u))}}catch(i){t={error:i}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.setResourceLeakCheck=function(t,r){r?this.liveObjects.add(t):this.liveObjects.delete(t)},e}(),yL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i,y,m=e.call(this,{id:n,device:s})||this;m.type=Qo.Sampler;var g=m.device.gl;if(Ir(g)){var x=m.device.ensureResourceExists(g.createSampler());g.samplerParameteri(x,ve.TEXTURE_WRAP_S,Xd(u.addressModeU)),g.samplerParameteri(x,ve.TEXTURE_WRAP_T,Xd(u.addressModeV)),g.samplerParameteri(x,ve.TEXTURE_WRAP_R,Xd((i=u.addressModeW)!==null&&i!==void 0?i:u.addressModeU)),g.samplerParameteri(x,ve.TEXTURE_MIN_FILTER,zh(u.minFilter,u.mipmapFilter)),g.samplerParameteri(x,ve.TEXTURE_MAG_FILTER,zh(u.magFilter,pa.NO_MIP)),u.lodMinClamp!==void 0&&g.samplerParameterf(x,ve.TEXTURE_MIN_LOD,u.lodMinClamp),u.lodMaxClamp!==void 0&&g.samplerParameterf(x,ve.TEXTURE_MAX_LOD,u.lodMaxClamp),u.compareFunction!==void 0&&(g.samplerParameteri(x,g.TEXTURE_COMPARE_MODE,g.COMPARE_REF_TO_TEXTURE),g.samplerParameteri(x,g.TEXTURE_COMPARE_FUNC,u.compareFunction));var b=(y=u.maxAnisotropy)!==null&&y!==void 0?y:1;b>1&&m.device.EXT_texture_filter_anisotropic!==null&&(_o(u.minFilter===Pi.BILINEAR&&u.magFilter===Pi.BILINEAR&&u.mipmapFilter===pa.LINEAR),g.samplerParameterf(x,m.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,b)),m.gl_sampler=x}else m.descriptor=u;return m}return t.prototype.setTextureParameters=function(r,n,s){var u,i=this.device.gl,y=this.descriptor;this.isNPOT(n,s)?i.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR):i.texParameteri(r,ve.TEXTURE_MIN_FILTER,zh(y.minFilter,y.mipmapFilter)),i.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,Xd(y.addressModeU)),i.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,Xd(y.addressModeV)),i.texParameteri(r,ve.TEXTURE_MAG_FILTER,zh(y.magFilter,pa.NO_MIP));var m=(u=y.maxAnisotropy)!==null&&u!==void 0?u:1;m>1&&this.device.EXT_texture_filter_anisotropic!==null&&(_o(y.minFilter===Pi.BILINEAR&&y.magFilter===Pi.BILINEAR&&y.mipmapFilter===pa.LINEAR),i.texParameteri(r,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,m))},t.prototype.destroy=function(){e.prototype.destroy.call(this),Ir(this.device.gl)&&this.device.gl.deleteSampler(n6(this))},t.prototype.isNPOT=function(r,n){return!If(r)||!If(n)},t}($u),hL=function(){function e(){}return e.prototype.dispatchWorkgroups=function(t,r,n){},e.prototype.dispatchWorkgroupsIndirect=function(t,r){},e.prototype.setPipeline=function(t){},e.prototype.setBindings=function(t){},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e}(),fL=function(e){ci(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Qo.RenderBundle,r.commands=[],r}return t.prototype.push=function(r){this.commands.push(r)},t.prototype.replay=function(){this.commands.forEach(function(r){return r()})},t}($u),_g=65536,mL=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,_L=function(){function e(t,r){r===void 0&&(r={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=Y1($1),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=qp.LOWER_LEFT,this.clipSpaceNearZ=Z1.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=t,this.contextAttributes=h0(t.getContextAttributes()),Ir(t)?(this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.EXT_color_buffer_float=t.getExtension("EXT_color_buffer_float")):(this.OES_vertex_array_object=t.getExtension("OES_vertex_array_object"),this.ANGLE_instanced_arrays=t.getExtension("ANGLE_instanced_arrays"),this.OES_texture_float=t.getExtension("OES_texture_float"),this.WEBGL_draw_buffers=t.getExtension("WEBGL_draw_buffers"),this.WEBGL_depth_texture=t.getExtension("WEBGL_depth_texture"),this.WEBGL_color_buffer_float=t.getExtension("WEBGL_color_buffer_float"),this.EXT_color_buffer_half_float=t.getExtension("EXT_color_buffer_half_float"),t.getExtension("EXT_frag_depth"),t.getExtension("OES_element_index_uint"),t.getExtension("OES_standard_derivatives")),this.WEBGL_compressed_texture_s3tc=t.getExtension("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb=t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),this.EXT_texture_compression_rgtc=t.getExtension("EXT_texture_compression_rgtc"),this.EXT_texture_filter_anisotropic=t.getExtension("EXT_texture_filter_anisotropic"),this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.OES_texture_float_linear=t.getExtension("OES_texture_float_linear"),this.OES_texture_half_float_linear=t.getExtension("OES_texture_half_float_linear"),this.KHR_parallel_shader_compile=t.getExtension("KHR_parallel_shader_compile"),Ir(t)?(this.platformString="WebGL2",this.glslVersion="#version 300 es"):(this.platformString="WebGL1",this.glslVersion="#version 100"),this.scTexture=new i6({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:ko.TEXTURE_2D,mipLevelCount:1,usage:us.RENDER_TARGET,format:this.contextAttributes.alpha===!1?Ue.U8_RGB_RT:Ue.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=ui.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(ko.TEXTURE_2D,ui.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(ko.TEXTURE_2D,ui.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:bn.VERTEX,hint:gp.STATIC}),Ir(t)&&(this.fallbackTexture2DArray=this.createFallbackTexture(ko.TEXTURE_2D_ARRAY,ui.Float),this.fallbackTexture3D=this.createFallbackTexture(ko.TEXTURE_3D,ui.Float),this.fallbackTextureCube=this.createFallbackTexture(ko.TEXTURE_CUBE_MAP,ui.Float)),this.currentMegaState.depthCompare=un.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=Ea.ALL,t.enable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),this.checkLimits(),r.shaderDebug&&(this.shaderDebug=!0),r.trackResources&&(this.resourceCreationTracker=new dL)}return e.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy()},e.prototype.createFallbackTexture=function(t,r){var n=t===ko.TEXTURE_CUBE_MAP?6:1,s=r===ui.Depth?Ue.D32F:Ue.U8_RGBA_NORM,u=this.createTexture({dimension:t,format:s,usage:us.SAMPLED,width:1,height:1,depthOrArrayLayers:n,mipLevelCount:1});return r===ui.Float&&u.setImageData([new Uint8Array(4*n)]),b1(u)},e.prototype.getNextUniqueId=function(){return++this.resourceUniqueId},e.prototype.checkLimits=function(){var t=this.gl;if(this.maxVertexAttribs=t.getParameter(ve.MAX_VERTEX_ATTRIBS),Ir(t)){this.uniformBufferMaxPageByteSize=Math.min(t.getParameter(ve.MAX_UNIFORM_BLOCK_SIZE),_g),this.uniformBufferWordAlignment=t.getParameter(t.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var r=t.getInternalformatParameter(t.RENDERBUFFER,t.DEPTH32F_STENCIL8,t.SAMPLES);this.supportedSampleCounts=r?Rd([],hp(r),!1):[],this.occlusionQueriesRecommended=!0}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=_g;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(n,s){return n-s})},e.prototype.configureSwapChain=function(t,r,n){var s=this.scTexture;s.width=t,s.height=r,this.scPlatformFramebuffer=mO(n)},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.gl.canvas},e.prototype.getOnscreenTexture=function(){return this.scTexture},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){},e.prototype.translateTextureInternalFormat=function(t,r){switch(r===void 0&&(r=!1),t){case Ue.ALPHA:return ve.ALPHA;case Ue.U8_LUMINANCE:case Ue.F16_LUMINANCE:case Ue.F32_LUMINANCE:return ve.LUMINANCE;case Ue.F16_R:return ve.R16F;case Ue.F16_RG:return ve.RG16F;case Ue.F16_RGB:return ve.RGB16F;case Ue.F16_RGBA:return ve.RGBA16F;case Ue.F32_R:return ve.R32F;case Ue.F32_RG:return ve.RG32F;case Ue.F32_RGB:return ve.RGB32F;case Ue.F32_RGBA:return Ir(this.gl)?ve.RGBA32F:r?this.WEBGL_color_buffer_float.RGBA32F_EXT:ve.RGBA;case Ue.U8_R_NORM:return ve.R8;case Ue.U8_RG_NORM:return ve.RG8;case Ue.U8_RGB_NORM:case Ue.U8_RGB_RT:return ve.RGB8;case Ue.U8_RGB_SRGB:return ve.SRGB8;case Ue.U8_RGBA_NORM:case Ue.U8_RGBA_RT:return Ir(this.gl)?ve.RGBA8:r?ve.RGBA4:ve.RGBA;case Ue.U8_RGBA:return ve.RGBA;case Ue.U8_RGBA_SRGB:case Ue.U8_RGBA_RT_SRGB:return ve.SRGB8_ALPHA8;case Ue.U16_R:return ve.R16UI;case Ue.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case Ue.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case Ue.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case Ue.U16_RGBA_5551:return ve.RGB5_A1;case Ue.U16_RGB_565:return ve.RGB565;case Ue.U32_R:return ve.R32UI;case Ue.S8_RGBA_NORM:return ve.RGBA8_SNORM;case Ue.S8_RG_NORM:return ve.RG8_SNORM;case Ue.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case Ue.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case Ue.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case Ue.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case Ue.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case Ue.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case Ue.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case Ue.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case Ue.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case Ue.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case Ue.D32F_S8:return Ir(this.gl)?ve.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?ve.DEPTH_STENCIL:ve.DEPTH_COMPONENT16;case Ue.D24_S8:return Ir(this.gl)?ve.DEPTH24_STENCIL8:this.WEBGL_depth_texture?ve.DEPTH_STENCIL:ve.DEPTH_COMPONENT16;case Ue.D32F:return Ir(this.gl)?ve.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?ve.DEPTH_COMPONENT:ve.DEPTH_COMPONENT16;case Ue.D24:return Ir(this.gl)?ve.DEPTH_COMPONENT24:this.WEBGL_depth_texture?ve.DEPTH_COMPONENT:ve.DEPTH_COMPONENT16;default:throw new Error("whoops")}},e.prototype.translateTextureType=function(t){var r=Qp(t);switch(r){case bt.U8:return ve.UNSIGNED_BYTE;case bt.U16:return ve.UNSIGNED_SHORT;case bt.U32:return ve.UNSIGNED_INT;case bt.S8:return ve.BYTE;case bt.F16:return ve.HALF_FLOAT;case bt.F32:return ve.FLOAT;case bt.U16_PACKED_5551:return ve.UNSIGNED_SHORT_5_5_5_1;case bt.D32F:return Ir(this.gl)?ve.FLOAT:this.WEBGL_depth_texture?ve.UNSIGNED_INT:ve.UNSIGNED_BYTE;case bt.D24:return Ir(this.gl)?ve.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?ve.UNSIGNED_SHORT:ve.UNSIGNED_BYTE;case bt.D24S8:return Ir(this.gl)?ve.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?ve.UNSIGNED_INT_24_8_WEBGL:ve.UNSIGNED_BYTE;case bt.D32FS8:return ve.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw new Error("whoops")}},e.prototype.translateInternalTextureFormat=function(t){switch(t){case Ue.F32_R:return ve.R32F;case Ue.F32_RG:return ve.RG32F;case Ue.F32_RGB:return ve.RGB32F;case Ue.F32_RGBA:return ve.RGBA32F;case Ue.F16_R:return ve.R16F;case Ue.F16_RG:return ve.RG16F;case Ue.F16_RGB:return ve.RGB16F;case Ue.F16_RGBA:return ve.RGBA16F}return this.translateTextureFormat(t)},e.prototype.translateTextureFormat=function(t){if(C9(t)||t===Ue.F32_LUMINANCE||t===Ue.U8_LUMINANCE)return this.translateTextureInternalFormat(t);var r=Ir(this.gl)||!Ir(this.gl)&&!!this.WEBGL_depth_texture;switch(t){case Ue.D24_S8:case Ue.D32F_S8:return r?ve.DEPTH_STENCIL:ve.RGBA;case Ue.D24:case Ue.D32F:return r?ve.DEPTH_COMPONENT:ve.RGBA}var n=M9(t),s=X6(t);switch(s){case br.A:return ve.ALPHA;case br.R:return n?ve.RED_INTEGER:ve.RED;case br.RG:return n?ve.RG_INTEGER:ve.RG;case br.RGB:return n?ve.RGB_INTEGER:ve.RGB;case br.RGBA:return ve.RGBA}},e.prototype.setActiveTexture=function(t){this.currentActiveTexture!==t&&(this.gl.activeTexture(t),this.currentActiveTexture=t)},e.prototype.bindVAO=function(t){this.currentBoundVAO!==t&&(Ir(this.gl)?this.gl.bindVertexArray(t):this.OES_vertex_array_object.bindVertexArrayOES(t),this.currentBoundVAO=t)},e.prototype.programCompiled=function(t){_o(t.compileState!==zs.NeedsCompile),t.compileState===zs.Compiling&&(t.compileState=zs.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(t))},e.prototype.useProgram=function(t){this.currentProgram!==t&&(this.programCompiled(t),this.gl.useProgram(t.gl_program),this.currentProgram=t)},e.prototype.ensureResourceExists=function(t){if(t===null){var r=this.gl.getError();throw new Error("Created resource is null; GL error encountered: ".concat(r))}else return t},e.prototype.createBuffer=function(t){return new nL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new i6({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new yL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){return new aL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTargetFromTexture=function(t){var r=t,n=r.format,s=r.width,u=r.height,i=r.mipLevelCount;return _o(i===1),this.createRenderTarget({format:n,width:s,height:u,sampleCount:1,texture:t})},e.prototype.createProgram=function(t){var r,n,s,u=(r=t.vertex)===null||r===void 0?void 0:r.glsl;return!((n=t.vertex)===null||n===void 0)&&n.glsl&&(t.vertex.glsl=q1(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((s=t.fragment)===null||s===void 0)&&s.glsl&&(t.fragment.glsl=q1(this.queryVendorInfo(),"frag",t.fragment.glsl)),this.createProgramSimple(t,u)},e.prototype.createProgramSimple=function(t,r){var n=new sL({id:this.getNextUniqueId(),device:this,descriptor:t},r);return n},e.prototype.createBindings=function(t){return new $O({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new iL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new cL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePass=function(){return new hL},e.prototype.createComputePipeline=function(t){return new lL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createReadback=function(){return new pL({id:this.getNextUniqueId(),device:this})},e.prototype.createQueryPool=function(t,r){return new uL({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:r}})},e.prototype.formatRenderPassDescriptor=function(t){var r,n,s,u,i,y,m=t.colorAttachment;t.depthClearValue=(r=t.depthClearValue)!==null&&r!==void 0?r:"load",t.stencilClearValue=(n=t.stencilClearValue)!==null&&n!==void 0?n:"load";for(var g=0;g<m.length;g++)t.colorAttachmentLevel||(t.colorAttachmentLevel=[]),t.colorAttachmentLevel[g]=(s=t.colorAttachmentLevel[g])!==null&&s!==void 0?s:0,t.colorResolveToLevel||(t.colorResolveToLevel=[]),t.colorResolveToLevel[g]=(u=t.colorResolveToLevel[g])!==null&&u!==void 0?u:0,t.colorClearColor||(t.colorClearColor=[]),t.colorClearColor[g]=(i=t.colorClearColor[g])!==null&&i!==void 0?i:"load",t.colorStore||(t.colorStore=[]),t.colorStore[g]=(y=t.colorStore[g])!==null&&y!==void 0?y:!1},e.prototype.createRenderBundle=function(){return new fL({id:this.getNextUniqueId(),device:this})},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle=void 0},e.prototype.executeBundles=function(t){t.forEach(function(r){r.replay()})},e.prototype.createRenderPass=function(t){this.currentRenderPassDescriptor!==null&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=t,this.formatRenderPassDescriptor(t);var r=t.colorAttachment,n=t.colorAttachmentLevel,s=t.colorClearColor,u=t.colorResolveTo,i=t.colorResolveToLevel,y=t.depthStencilAttachment,m=t.depthClearValue,g=t.stencilClearValue,x=t.depthStencilResolveTo,b=u&&u.length===1&&u[0]===this.scTexture;this.setRenderPassParametersBegin(r.length,b);for(var A=0;A<r.length;A++)this.setRenderPassParametersColor(A,r[A],n[A],u[A],i[A],b);this.setRenderPassParametersDepthStencil(y,x,b),this.validateCurrentAttachments();for(var A=0;A<r.length;A++){var w=s[A];w!=="load"&&this.setRenderPassParametersClearColor(A,w.r,w.g,w.b,w.a)}return this.setRenderPassParametersClearDepthStencil(m,g),this},e.prototype.submitPass=function(t){_o(this.currentRenderPassDescriptor!==null),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null},e.prototype.copySubTexture2D=function(t,r,n,s,u,i){var y=this.gl,m=t,g=s;if(_o(g.mipLevelCount===1),_o(m.mipLevelCount===1),Ir(y))m===this.scTexture?y.bindFramebuffer(y.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(y.bindFramebuffer(y.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(y.DRAW_FRAMEBUFFER,y.COLOR_ATTACHMENT0,m,0)),y.bindFramebuffer(y.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(y.READ_FRAMEBUFFER,y.COLOR_ATTACHMENT0,g,0),y.blitFramebuffer(u,i,u+g.width,i+g.height,r,n,r+g.width,n+g.height,y.COLOR_BUFFER_BIT,y.LINEAR),y.bindFramebuffer(y.READ_FRAMEBUFFER,null),y.bindFramebuffer(y.DRAW_FRAMEBUFFER,null);else if(m===this.scTexture){var x=this.createRenderTargetFromTexture(s);this.submitBlitRenderPass(x,m)}},e.prototype.queryLimits=function(){return this},e.prototype.queryTextureFormatSupported=function(t,r,n){switch(t){case Ue.BC1_SRGB:case Ue.BC2_SRGB:case Ue.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb!==null?p2(r,n,4,4):!1;case Ue.BC1:case Ue.BC2:case Ue.BC3:return this.WEBGL_compressed_texture_s3tc!==null?p2(r,n,4,4):!1;case Ue.BC4_UNORM:case Ue.BC4_SNORM:case Ue.BC5_UNORM:case Ue.BC5_SNORM:return this.EXT_texture_compression_rgtc!==null?p2(r,n,4,4):!1;case Ue.U16_R_NORM:case Ue.U16_RG_NORM:case Ue.U16_RGBA_NORM:return this.EXT_texture_norm16!==null;case Ue.F32_R:case Ue.F32_RG:case Ue.F32_RGB:case Ue.F32_RGBA:return this.OES_texture_float_linear!==null;case Ue.F16_R:case Ue.F16_RG:case Ue.F16_RGB:case Ue.F16_RGBA:return this.OES_texture_half_float_linear!==null;default:return!0}},e.prototype.queryProgramReady=function(t){var r=this.gl;if(t.compileState===zs.NeedsCompile)throw new Error("whoops");if(t.compileState===zs.Compiling){var n=void 0;return this.KHR_parallel_shader_compile!==null?n=r.getProgramParameter(t.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR):n=!0,n&&this.programCompiled(t),n}return t.compileState===zs.NeedsBind||t.compileState===zs.ReadyToUse},e.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost()},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){return this.currentRenderPassDescriptor},e.prototype.queryRenderTarget=function(t){var r=t;return r},e.prototype.setResourceName=function(t,r){if(t.name=r,t.type===Qo.Buffer)for(var n=t.gl_buffer_pages,s=0;s<n.length;s++)Yd(n[s],"".concat(r," Page ").concat(s));else if(t.type===Qo.Texture)Yd(b1(t),r);else if(t.type===Qo.Sampler)Yd(n6(t),r);else if(t.type===Qo.RenderTarget){var u=t.gl_renderbuffer;u!==null&&Yd(u,r)}else t.type===Qo.InputLayout&&Yd(t.vao,r)},e.prototype.setResourceLeakCheck=function(t,r){this.resourceCreationTracker!==null&&this.resourceCreationTracker.setResourceLeakCheck(t,r)},e.prototype.checkForLeaks=function(){this.resourceCreationTracker!==null&&this.resourceCreationTracker.checkForLeaks()},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e.prototype.programPatched=function(t,r){_o(this.shaderDebug)},e.prototype.getBufferData=function(t,r,n){n===void 0&&(n=0);var s=this.gl;Ir(s)&&(s.bindBuffer(s.COPY_READ_BUFFER,U1(t,n*4)),s.getBufferSubData(s.COPY_READ_BUFFER,n*4,r))},e.prototype.debugGroupStatisticsDrawCall=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].drawCallCount+=t},e.prototype.debugGroupStatisticsBufferUpload=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].bufferUploadCount+=t},e.prototype.debugGroupStatisticsTextureBind=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].textureBindCount+=t},e.prototype.debugGroupStatisticsTriangles=function(t){for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].triangleCount+=t},e.prototype.reportShaderError=function(t,r){var n=this.gl,s=n.getShaderParameter(t,n.COMPILE_STATUS);if(!s){console.error(gO(r));var u=n.getExtension("WEBGL_debug_shaders");u&&console.error(u.getTranslatedShaderSource(t)),console.error(n.getShaderInfoLog(t))}return s},e.prototype.checkProgramCompilationForErrors=function(t){var r=this.gl,n=t.gl_program;if(!r.getProgramParameter(n,r.LINK_STATUS)){var s=t.descriptor;if(!this.reportShaderError(t.gl_shader_vert,s.vertex.glsl)||!this.reportShaderError(t.gl_shader_frag,s.fragment.glsl))return;console.error(r.getProgramInfoLog(t.gl_program))}},e.prototype.bindFramebufferAttachment=function(t,r,n,s){var u=this.gl;if(Xu(n))u.framebufferRenderbuffer(t,r,u.RENDERBUFFER,null);else if(n.type===Qo.RenderTarget)n.gl_renderbuffer!==null?u.framebufferRenderbuffer(t,r,u.RENDERBUFFER,n.gl_renderbuffer):n.texture!==null&&u.framebufferTexture2D(t,r,ve.TEXTURE_2D,b1(n.texture),s);else if(n.type===Qo.Texture){var i=b1(n);n.dimension===ko.TEXTURE_2D?u.framebufferTexture2D(t,r,ve.TEXTURE_2D,i,s):Ir(u)&&(n.dimension,ko.TEXTURE_2D_ARRAY)}},e.prototype.bindFramebufferDepthStencilAttachment=function(t,r){var n=this.gl,s=Xu(r)?cr.Depth|cr.Stencil:X1(r.format),u=!!(s&cr.Depth),i=!!(s&cr.Stencil);if(u&&i){var y=Ir(this.gl)||!Ir(this.gl)&&!!this.WEBGL_depth_texture;y?this.bindFramebufferAttachment(t,n.DEPTH_STENCIL_ATTACHMENT,r,0):this.bindFramebufferAttachment(t,n.DEPTH_ATTACHMENT,r,0)}else u?(this.bindFramebufferAttachment(t,n.DEPTH_ATTACHMENT,r,0),this.bindFramebufferAttachment(t,n.STENCIL_ATTACHMENT,null,0)):i&&(this.bindFramebufferAttachment(t,n.STENCIL_ATTACHMENT,r,0),this.bindFramebufferAttachment(t,n.DEPTH_ATTACHMENT,null,0))},e.prototype.validateCurrentAttachments=function(){for(var t=-1,r=-1,n=-1,s=0;s<this.currentColorAttachments.length;s++){var u=this.currentColorAttachments[s];u!==null&&(t===-1?(t=u.sampleCount,r=u.width,n=u.height):(_o(t===u.sampleCount),_o(r===u.width),_o(n===u.height)))}this.currentDepthStencilAttachment&&(t===-1?t=this.currentDepthStencilAttachment.sampleCount:(_o(t===this.currentDepthStencilAttachment.sampleCount),_o(r===this.currentDepthStencilAttachment.width),_o(n===this.currentDepthStencilAttachment.height))),this.currentSampleCount=t},e.prototype.setRenderPassParametersBegin=function(t,r){r===void 0&&(r=!1);var n=this.gl;if(!r&&(Ir(n)?n.bindFramebuffer(ve.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||n.bindFramebuffer(ve.FRAMEBUFFER,this.renderPassDrawFramebuffer),Ir(n)?n.drawBuffers([ve.COLOR_ATTACHMENT0,ve.COLOR_ATTACHMENT1,ve.COLOR_ATTACHMENT2,ve.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([ve.COLOR_ATTACHMENT0_WEBGL,ve.COLOR_ATTACHMENT1_WEBGL,ve.COLOR_ATTACHMENT2_WEBGL,ve.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass))for(var s=t;s<this.currentColorAttachments.length;s++){var u=Ir(n)?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,i=Ir(n)?ve.COLOR_ATTACHMENT0:ve.COLOR_ATTACHMENT0_WEBGL;n.framebufferRenderbuffer(u,i+s,ve.RENDERBUFFER,null),n.framebufferTexture2D(u,i+s,ve.TEXTURE_2D,null,0)}this.currentColorAttachments.length=t},e.prototype.setRenderPassParametersColor=function(t,r,n,s,u,i){i===void 0&&(i=!1);var y=this.gl,m=Ir(y);(this.currentColorAttachments[t]!==r||this.currentColorAttachmentLevels[t]!==n)&&(this.currentColorAttachments[t]=r,this.currentColorAttachmentLevels[t]=n,!i&&(m||!m&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(m?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,(m?ve.COLOR_ATTACHMENT0:ve.COLOR_ATTACHMENT0_WEBGL)+t,r,n),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[t]!==s||this.currentColorResolveToLevels[t]!==u)&&(this.currentColorResolveTos[t]=s,this.currentColorResolveToLevels[t]=u,s!==null&&(this.resolveColorAttachmentsChanged=!0))},e.prototype.setRenderPassParametersDepthStencil=function(t,r,n){n===void 0&&(n=!1);var s=this.gl;this.currentDepthStencilAttachment!==t&&(this.currentDepthStencilAttachment=t,!n&&!this.inBlitRenderPass&&this.bindFramebufferDepthStencilAttachment(Ir(s)?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==r&&(this.currentDepthStencilResolveTo=r,r&&(this.resolveDepthStencilAttachmentsChanged=!0))},e.prototype.setRenderPassParametersClearColor=function(t,r,n,s,u){var i=this.gl;if(this.OES_draw_buffers_indexed!==null){var y=this.currentMegaState.attachmentsState[t];y&&y.channelWriteMask!==Ea.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(t,!0,!0,!0,!0),y.channelWriteMask=Ea.ALL)}else{var y=this.currentMegaState.attachmentsState[0];y&&y.channelWriteMask!==Ea.ALL&&(i.colorMask(!0,!0,!0,!0),y.channelWriteMask=Ea.ALL)}this.setScissorRectEnabled(!1),Ir(i)?i.clearBufferfv(i.COLOR,t,[r,n,s,u]):(i.clearColor(r,n,s,u),i.clear(i.COLOR_BUFFER_BIT))},e.prototype.setRenderPassParametersClearDepthStencil=function(t,r){t===void 0&&(t="load"),r===void 0&&(r="load");var n=this.gl;t!=="load"&&(_o(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(n.depthMask(!0),this.currentMegaState.depthWrite=!0),Ir(n)?n.clearBufferfv(n.DEPTH,0,[t]):(n.clearDepth(t),n.clear(n.DEPTH_BUFFER_BIT))),r!=="load"&&(_o(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(n.enable(n.STENCIL_TEST),n.stencilMask(255),this.currentMegaState.stencilWrite=!0),Ir(n)?n.clearBufferiv(n.STENCIL,0,[r]):(n.clearStencil(r),n.clear(n.STENCIL_BUFFER_BIT)))},e.prototype.setBindings=function(t){var r=this,n;if(this.renderBundle){this.renderBundle.push(function(){return r.setBindings(t)});return}var s=this.gl,u=t,i=u.uniformBufferBindings,y=u.samplerBindings,m=u.bindingLayouts;_o(0<m.bindingLayoutTables.length);var g=m.bindingLayoutTables[0];_o(i.length>=g.numUniformBuffers),_o(y.length>=g.numSamplers);for(var x=0;x<i.length;x++){var b=i[x];if(b.size!==0){var A=g.firstUniformBuffer+x,w=b.buffer,M=b.offset||0,V=b.size||w.byteSize;if(w!==this.currentUniformBuffers[A]||M!==this.currentUniformBufferByteOffsets[A]||V!==this.currentUniformBufferByteSizes[A]){var k=M%w.pageByteSize,Q=w.gl_buffer_pages[M/w.pageByteSize|0];_o(k+V<=w.pageByteSize),Ir(s)&&s.bindBufferRange(s.UNIFORM_BUFFER,A,Q,k,V),this.currentUniformBuffers[A]=w,this.currentUniformBufferByteOffsets[A]=M,this.currentUniformBufferByteSizes[A]=V}}}for(var x=0;x<g.numSamplers;x++){var b=y[x],q=g.firstSampler+x,K=b!==null&&b.sampler!==null?n6(b.sampler):null,te=b!==null&&b.texture!==null?b1(b.texture):null;if(this.currentSamplers[q]!==K&&(Ir(s)&&s.bindSampler(q,K),this.currentSamplers[q]=K),this.currentTextures[q]!==te){if(this.setActiveTexture(s.TEXTURE0+q),te!==null){var se=h0(b).texture,ke=se.gl_target,Ee=se.width,je=se.height;b.texture.textureIndex=q,s.bindTexture(ke,te),Ir(s)||(n=b.sampler)===null||n===void 0||n.setTextureParameters(ke,Ee,je),this.debugGroupStatisticsTextureBind()}else{var mt=Oi(Oi({},b),w9),He=mt.dimension,Fe=mt.formatKind,ke=oL(He);s.bindTexture(ke,this.getFallbackTexture(Oi({gl_target:ke,formatKind:Fe},mt)))}this.currentTextures[q]=te}}},e.prototype.setViewport=function(t,r,n,s){var u=this.gl;u.viewport(t,r,n,s)},e.prototype.setScissorRect=function(t,r,n,s){var u=this.gl;this.setScissorRectEnabled(!0),u.scissor(t,r,n,s)},e.prototype.applyAttachmentStateIndexed=function(t,r,n){var s=this.gl,u=this.OES_draw_buffers_indexed;r.channelWriteMask!==n.channelWriteMask&&(u.colorMaskiOES(t,!!(n.channelWriteMask&Ea.RED),!!(n.channelWriteMask&Ea.GREEN),!!(n.channelWriteMask&Ea.BLUE),!!(n.channelWriteMask&Ea.ALPHA)),r.channelWriteMask=n.channelWriteMask);var i=r.rgbBlendState.blendMode!==n.rgbBlendState.blendMode||r.alphaBlendState.blendMode!==n.alphaBlendState.blendMode,y=r.rgbBlendState.blendSrcFactor!==n.rgbBlendState.blendSrcFactor||r.alphaBlendState.blendSrcFactor!==n.alphaBlendState.blendSrcFactor||r.rgbBlendState.blendDstFactor!==n.rgbBlendState.blendDstFactor||r.alphaBlendState.blendDstFactor!==n.alphaBlendState.blendDstFactor;(y||i)&&(vl(r.rgbBlendState)&&vl(r.alphaBlendState)?u.enableiOES(t,s.BLEND):vl(n.rgbBlendState)&&vl(n.alphaBlendState)&&u.disableiOES(t,s.BLEND)),i&&(u.blendEquationSeparateiOES(t,n.rgbBlendState.blendMode,n.alphaBlendState.blendMode),r.rgbBlendState.blendMode=n.rgbBlendState.blendMode,r.alphaBlendState.blendMode=n.alphaBlendState.blendMode),y&&(u.blendFuncSeparateiOES(t,n.rgbBlendState.blendSrcFactor,n.rgbBlendState.blendDstFactor,n.alphaBlendState.blendSrcFactor,n.alphaBlendState.blendDstFactor),r.rgbBlendState.blendSrcFactor=n.rgbBlendState.blendSrcFactor,r.alphaBlendState.blendSrcFactor=n.alphaBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor=n.rgbBlendState.blendDstFactor,r.alphaBlendState.blendDstFactor=n.alphaBlendState.blendDstFactor)},e.prototype.applyAttachmentState=function(t,r){var n=this.gl;t.channelWriteMask!==r.channelWriteMask&&(n.colorMask(!!(r.channelWriteMask&Ea.RED),!!(r.channelWriteMask&Ea.GREEN),!!(r.channelWriteMask&Ea.BLUE),!!(r.channelWriteMask&Ea.ALPHA)),t.channelWriteMask=r.channelWriteMask);var s=t.rgbBlendState.blendMode!==r.rgbBlendState.blendMode||t.alphaBlendState.blendMode!==r.alphaBlendState.blendMode,u=t.rgbBlendState.blendSrcFactor!==r.rgbBlendState.blendSrcFactor||t.alphaBlendState.blendSrcFactor!==r.alphaBlendState.blendSrcFactor||t.rgbBlendState.blendDstFactor!==r.rgbBlendState.blendDstFactor||t.alphaBlendState.blendDstFactor!==r.alphaBlendState.blendDstFactor;(u||s)&&(vl(t.rgbBlendState)&&vl(t.alphaBlendState)?n.enable(n.BLEND):vl(r.rgbBlendState)&&vl(r.alphaBlendState)&&n.disable(n.BLEND)),s&&(n.blendEquationSeparate(r.rgbBlendState.blendMode,r.alphaBlendState.blendMode),t.rgbBlendState.blendMode=r.rgbBlendState.blendMode,t.alphaBlendState.blendMode=r.alphaBlendState.blendMode),u&&(n.blendFuncSeparate(r.rgbBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor,r.alphaBlendState.blendSrcFactor,r.alphaBlendState.blendDstFactor),t.rgbBlendState.blendSrcFactor=r.rgbBlendState.blendSrcFactor,t.alphaBlendState.blendSrcFactor=r.alphaBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor=r.rgbBlendState.blendDstFactor,t.alphaBlendState.blendDstFactor=r.alphaBlendState.blendDstFactor)},e.prototype.setMegaState=function(t){var r=this.gl,n=this.currentMegaState;if(this.OES_draw_buffers_indexed!==null)for(var s=0;s<t.attachmentsState.length;s++)this.applyAttachmentStateIndexed(s,n.attachmentsState[0],t.attachmentsState[0]);else _o(t.attachmentsState.length===1),this.applyAttachmentState(n.attachmentsState[0],t.attachmentsState[0]);b9(n.blendConstant,t.blendConstant)||(r.blendColor(t.blendConstant.r,t.blendConstant.g,t.blendConstant.b,t.blendConstant.a),F9(n.blendConstant,t.blendConstant)),n.depthCompare!==t.depthCompare&&(r.depthFunc(t.depthCompare),n.depthCompare=t.depthCompare),!!n.depthWrite!=!!t.depthWrite&&(r.depthMask(t.depthWrite),n.depthWrite=t.depthWrite),!!n.stencilWrite!=!!t.stencilWrite&&(r.stencilMask(t.stencilWrite?255:0),n.stencilWrite=t.stencilWrite);var u=!1;if(!Of(n.stencilFront,t.stencilFront)){u=!0;var i=t.stencilFront,y=i.passOp,m=i.failOp,g=i.depthFailOp,x=i.compare;(n.stencilFront.passOp!==y||n.stencilFront.failOp!==m||n.stencilFront.depthFailOp!==g)&&(r.stencilOpSeparate(r.FRONT,m,g,y),n.stencilFront.passOp=y,n.stencilFront.failOp=m,n.stencilFront.depthFailOp=g),n.stencilFront.compare!==x&&(this.setStencilReference(0),n.stencilFront.compare=x)}if(!Of(n.stencilBack,t.stencilBack)){u=!0;var b=t.stencilBack,y=b.passOp,m=b.failOp,g=b.depthFailOp,x=b.compare;(n.stencilBack.passOp!==y||n.stencilBack.failOp!==m||n.stencilBack.depthFailOp!==g)&&(r.stencilOpSeparate(r.BACK,m,g,y),n.stencilBack.passOp=y,n.stencilBack.failOp=m,n.stencilBack.depthFailOp=g),n.stencilBack.compare!==x&&(this.setStencilReference(0),n.stencilBack.compare=x)}(n.stencilFront.mask!==t.stencilFront.mask||n.stencilBack.mask!==t.stencilBack.mask)&&(u=!0,n.stencilFront.mask=t.stencilFront.mask,n.stencilBack.mask=t.stencilBack.mask),u&&this.applyStencil(),n.cullMode!==t.cullMode&&(n.cullMode===Gs.NONE?r.enable(r.CULL_FACE):t.cullMode===Gs.NONE&&r.disable(r.CULL_FACE),t.cullMode===Gs.BACK?r.cullFace(r.BACK):t.cullMode===Gs.FRONT?r.cullFace(r.FRONT):t.cullMode===Gs.FRONT_AND_BACK&&r.cullFace(r.FRONT_AND_BACK),n.cullMode=t.cullMode),n.frontFace!==t.frontFace&&(r.frontFace(t.frontFace),n.frontFace=t.frontFace),n.polygonOffset!==t.polygonOffset&&(t.polygonOffset?r.enable(r.POLYGON_OFFSET_FILL):r.disable(r.POLYGON_OFFSET_FILL),n.polygonOffset=t.polygonOffset),(n.polygonOffsetFactor!==t.polygonOffsetFactor||n.polygonOffsetUnits!==t.polygonOffsetUnits)&&(r.polygonOffset(t.polygonOffsetFactor,t.polygonOffsetUnits),n.polygonOffsetFactor=t.polygonOffsetFactor,n.polygonOffsetUnits=t.polygonOffsetUnits)},e.prototype.validatePipelineFormats=function(t){for(var r=0;r<this.currentColorAttachments.length;r++)var n=this.currentColorAttachments[r];this.currentDepthStencilAttachment&&_o(this.currentDepthStencilAttachment.format===t.depthStencilAttachmentFormat),this.currentSampleCount!==-1&&_o(this.currentSampleCount===t.sampleCount)},e.prototype.setPipeline=function(t){var r=this;if(this.renderBundle){this.renderBundle.push(function(){return r.setPipeline(t)});return}this.currentPipeline=t,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var n=this.currentPipeline.program;if(this.useProgram(n),n.compileState===zs.NeedsBind){var s=this.gl,u=n.gl_program,i=n.descriptor,y=mg(i.vertex.glsl,mL);if(Ir(s))for(var m=0;m<y.length;m++){var g=hp(y[m],2),x=g[1],b=s.getUniformBlockIndex(u,x);b!==-1&&b!==4294967295&&s.uniformBlockBinding(u,b,m)}for(var A=mg(i.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),m=0;m<A.length;m++){var w=hp(A[m],3),M=w[1],V=w[2],k=s.getUniformLocation(u,M);s.uniform1i(k,parseInt(V))}n.compileState=zs.ReadyToUse}},e.prototype.setVertexInput=function(t,r,n){var s,u,i=this,y;if(this.renderBundle){this.renderBundle.push(function(){return i.setVertexInput(t,r,n)});return}if(t!==null){_o(this.currentPipeline.inputLayout===t);var m=t;this.bindVAO(m.vao);for(var g=this.gl,x=0;x<m.vertexBufferDescriptors.length;x++){var b=m.vertexBufferDescriptors[x],A=b.arrayStride,w=b.attributes;try{for(var M=(s=void 0,_0(w)),V=M.next();!V.done;V=M.next()){var k=V.value,Q=k.shaderLocation,q=k.offset,K=Ir(g)?Q:(y=m.program.attributes[Q])===null||y===void 0?void 0:y.location;if(!Xu(K)){var te=r[x];if(te===null)continue;var se=k.vertexFormat;g.bindBuffer(g.ARRAY_BUFFER,U1(te.buffer));var ke=(te.offset||0)+q;g.vertexAttribPointer(K,se.size,se.type,se.normalized,A,ke)}}}catch(je){s={error:je}}finally{try{V&&!V.done&&(u=M.return)&&u.call(M)}finally{if(s)throw s.error}}}if(_o(n!==null==(m.indexBufferFormat!==null)),n!==null){var Ee=n.buffer;_o(Ee.usage===bn.INDEX),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,U1(Ee)),this.currentIndexBufferByteOffset=n.offset||0}else this.currentIndexBufferByteOffset=null}else _o(this.currentPipeline.inputLayout===null),_o(n===null),this.bindVAO(null),this.currentIndexBufferByteOffset=0},e.prototype.setStencilReference=function(t){this.currentStencilRef!==t&&(this.currentStencilRef=t,this.applyStencil())},e.prototype.draw=function(t,r,n,s){var u,i=this;if(this.renderBundle){this.renderBundle.push(function(){return i.draw(t,r,n,s)});return}var y=this.gl,m=this.currentPipeline;if(r){var g=[m.drawMode,n||0,t,r];Ir(y)?y.drawArraysInstanced.apply(y,Rd([],hp(g),!1)):(u=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(u,Rd([],hp(g),!1))}else y.drawArrays(m.drawMode,n,t);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(r,1))},e.prototype.drawIndexed=function(t,r,n,s,u){var i,y=this;if(this.renderBundle){this.renderBundle.push(function(){return y.drawIndexed(t,r,n,s,u)});return}var m=this.gl,g=this.currentPipeline,x=h0(g.inputLayout),b=h0(this.currentIndexBufferByteOffset)+n*x.indexBufferCompByteSize;if(r){var A=[g.drawMode,t,x.indexBufferType,b,r];Ir(m)?m.drawElementsInstanced.apply(m,Rd([],hp(A),!1)):(i=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(i,Rd([],hp(A),!1))}else m.drawElements(g.drawMode,t,x.indexBufferType,b);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(r,1))},e.prototype.drawIndirect=function(t,r){},e.prototype.drawIndexedIndirect=function(t,r){},e.prototype.beginOcclusionQuery=function(t){var r=this.gl;if(Ir(r)){var n=this.currentRenderPassDescriptor.occlusionQueryPool;r.beginQuery(n.gl_query_type,n.gl_query[t])}},e.prototype.endOcclusionQuery=function(){var t=this.gl;if(Ir(t)){var r=this.currentRenderPassDescriptor.occlusionQueryPool;t.endQuery(r.gl_query_type)}},e.prototype.pipelineQueryReady=function(t){var r=t;return this.queryProgramReady(r.program)},e.prototype.pipelineForceReady=function(t){},e.prototype.endPass=function(){for(var t=this.gl,r=Ir(t),n=this.currentColorResolveTos.length===1&&this.currentColorResolveTos[0]===this.scTexture,s=!1,u=0;u<this.currentColorAttachments.length;u++){var i=this.currentColorAttachments[u];if(i!==null){var y=this.currentColorResolveTos[u],m=!1;y!==null&&(_o(i.width===y.width&&i.height===y.height),this.setScissorRectEnabled(!1),n||(r&&t.bindFramebuffer(t.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&r&&this.bindFramebufferAttachment(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,i,this.currentColorAttachmentLevels[u])),m=!0,n||(y===this.scTexture?t.bindFramebuffer(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,this.scPlatformFramebuffer):(t.bindFramebuffer(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&t.framebufferTexture2D(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,y.gl_texture,this.currentColorResolveToLevels[u]))),n||(r?(t.blitFramebuffer(0,0,i.width,i.height,0,0,y.width,y.height,t.COLOR_BUFFER_BIT,t.LINEAR),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(i,y)),s=!0),this.currentRenderPassDescriptor.colorStore[u]||!n&&!m&&(t.bindFramebuffer(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,t.COLOR_ATTACHMENT0,i,this.currentColorAttachmentLevels[u])),n||t.bindFramebuffer(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,null)}}this.resolveColorAttachmentsChanged=!1;var g=this.currentDepthStencilAttachment;if(g){var x=this.currentDepthStencilResolveTo,m=!1;x&&(_o(g.width===x.width&&g.height===x.height),this.setScissorRectEnabled(!1),n||(t.bindFramebuffer(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),t.bindFramebuffer(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,g),this.bindFramebufferDepthStencilAttachment(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,x))),m=!0,n||(r&&t.blitFramebuffer(0,0,g.width,g.height,0,0,x.width,x.height,t.DEPTH_BUFFER_BIT,t.NEAREST),t.bindFramebuffer(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,null)),s=!0),!n&&!this.currentRenderPassDescriptor.depthStencilStore&&(m||(t.bindFramebuffer(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,g),m=!0),r&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[t.DEPTH_STENCIL_ATTACHMENT])),!n&&m&&t.bindFramebuffer(r?ve.READ_FRAMEBUFFER:ve.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1}!n&&!s&&t.bindFramebuffer(r?ve.DRAW_FRAMEBUFFER:ve.FRAMEBUFFER,null)},e.prototype.setScissorRectEnabled=function(t){if(this.currentScissorEnabled!==t){var r=this.gl;t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST),this.currentScissorEnabled=t}},e.prototype.applyStencil=function(){Xu(this.currentStencilRef)||(this.gl.stencilFuncSeparate(ve.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(ve.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255))},e.prototype.getFallbackTexture=function(t){var r=t.gl_target,n=t.formatKind;if(r===ve.TEXTURE_2D)return n===ui.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===ve.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===ve.TEXTURE_3D)return this.fallbackTexture3D;if(r===ve.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.submitBlitRenderPass=function(t,r){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:`layout(location = 0) in vec2 a_Position;
out vec2 v_TexCoord;
void main() {
  v_TexCoord = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);

  #ifdef VIEWPORT_ORIGIN_TL
    v_TexCoord.y = 1.0 - v_TexCoord.y;
  #endif
}`},fragment:{glsl:`uniform sampler2D u_Texture;
in vec2 v_TexCoord;
out vec4 outputColor;
void main() {
  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);
}`}}),this.blitVertexBuffer=this.createBuffer({usage:bn.VERTEX|bn.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:4*2,stepMode:b0.VERTEX,attributes:[{format:Ue.F32_RG,offset:4*0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:ji.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[Ue.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:Y1($1)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:t.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:t}));var n=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var s=this.createRenderPass({colorAttachment:[t],colorResolveTo:[r],colorClearColor:[fO]}),u=this.getCanvas(),i=u.width,y=u.height;s.setPipeline(this.blitRenderPipeline),s.setBindings(this.blitBindings),s.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),s.setViewport(0,0,i,y),this.gl.disable(this.gl.BLEND),s.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=n,this.inBlitRenderPass=!1},e}(),gL=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return R1(this,void 0,void 0,function(){var r,n,s,u,i,y,m,g,x,b,A,w,M;return C1(this,function(V){return r=this.pluginOptions,n=r.targets,s=r.xrCompatible,u=r.antialias,i=u===void 0?!1:u,y=r.preserveDrawingBuffer,m=y===void 0?!1:y,g=r.premultipliedAlpha,x=g===void 0?!0:g,b=r.shaderDebug,A=r.trackResources,w={antialias:i,preserveDrawingBuffer:m,stencil:!0,premultipliedAlpha:x,xrCompatible:s},this.handleContextEvents(t),n.includes("webgl2")&&(M=t.getContext("webgl2",w)||t.getContext("experimental-webgl2",w)),!M&&n.includes("webgl1")&&(M=t.getContext("webgl",w)||t.getContext("experimental-webgl",w)),[2,new _L(M,{shaderDebug:b,trackResources:A})]})})},e.prototype.handleContextEvents=function(t){var r=this.pluginOptions,n=r.onContextLost,s=r.onContextRestored,u=r.onContextCreationError;u&&t.addEventListener("webglcontextcreationerror",u,!1),n&&t.addEventListener("webglcontextlost",n,!1),s&&t.addEventListener("webglcontextrestored",s,!1)},e}();let si;const I9=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&I9.decode();let ay=null;function ef(){return(ay===null||ay.byteLength===0)&&(ay=new Uint8Array(si.memory.buffer)),ay}function Lf(e,t){return e=e>>>0,I9.decode(ef().subarray(e,e+t))}const Mc=new Array(128).fill(void 0);Mc.push(void 0,null,!0,!1);let hy=Mc.length;function vL(e){hy===Mc.length&&Mc.push(Mc.length+1);const t=hy;return hy=Mc[t],Mc[t]=e,t}function tf(e){return Mc[e]}function EL(e){e<132||(Mc[e]=hy,hy=e)}function xL(e){const t=tf(e);return EL(e),t}let K1=0;const rf=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},PL=typeof rf.encodeInto=="function"?function(e,t){return rf.encodeInto(e,t)}:function(e,t){const r=rf.encode(e);return t.set(r),{read:e.length,written:r.length}};function Bf(e,t,r){if(r===void 0){const y=rf.encode(e),m=t(y.length,1)>>>0;return ef().subarray(m,m+y.length).set(y),K1=y.length,m}let n=e.length,s=t(n,1)>>>0;const u=ef();let i=0;for(;i<n;i++){const y=e.charCodeAt(i);if(y>127)break;u[s+i]=y}if(i!==n){i!==0&&(e=e.slice(i)),s=r(s,n,n=i+e.length*3,1)>>>0;const y=ef().subarray(s+i,s+n),m=PL(e,y);i+=m.written}return K1=i,s}let sy=null;function Uf(){return(sy===null||sy.byteLength===0)&&(sy=new Int32Array(si.memory.buffer)),sy}function bL(e,t,r){let n,s;try{const y=si.__wbindgen_add_to_stack_pointer(-16),m=Bf(e,si.__wbindgen_malloc,si.__wbindgen_realloc),g=K1,x=Bf(t,si.__wbindgen_malloc,si.__wbindgen_realloc),b=K1;si.glsl_compile(y,m,g,x,b,r);var u=Uf()[y/4+0],i=Uf()[y/4+1];return n=u,s=i,Lf(u,i)}finally{si.__wbindgen_add_to_stack_pointer(16),si.__wbindgen_free(n,s,1)}}class Dy{static __wrap(t){t=t>>>0;const r=Object.create(Dy.prototype);return r.__wbg_ptr=t,r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();si.__wbg_wgslcomposer_free(t)}constructor(){const t=si.wgslcomposer_new();return Dy.__wrap(t)}load_composable(t){const r=Bf(t,si.__wbindgen_malloc,si.__wbindgen_realloc),n=K1;si.wgslcomposer_load_composable(this.__wbg_ptr,r,n)}wgsl_compile(t){let r,n;try{const i=si.__wbindgen_add_to_stack_pointer(-16),y=Bf(t,si.__wbindgen_malloc,si.__wbindgen_realloc),m=K1;si.wgslcomposer_wgsl_compile(i,this.__wbg_ptr,y,m);var s=Uf()[i/4+0],u=Uf()[i/4+1];return r=s,n=u,Lf(s,u)}finally{si.__wbindgen_add_to_stack_pointer(16),si.__wbindgen_free(r,n,1)}}}async function FL(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function AL(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,r){const n=Lf(t,r);return vL(n)},e.wbg.__wbindgen_object_drop_ref=function(t){xL(t)},e.wbg.__wbg_log_1d3ae0273d8f4f8a=function(t){console.log(tf(t))},e.wbg.__wbg_log_576ca876af0d4a77=function(t,r){console.log(tf(t),tf(r))},e.wbg.__wbindgen_throw=function(t,r){throw new Error(Lf(t,r))},e}function SL(e,t){return si=e.exports,N9.__wbindgen_wasm_module=t,sy=null,ay=null,si}async function N9(e){if(si!==void 0)return si;const t=AL();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:n}=await FL(await e,t);return SL(r,n)}var ua;(function(e){e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.TEXTURE_BINDING=4]="TEXTURE_BINDING",e[e.STORAGE_BINDING=8]="STORAGE_BINDING",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(ua||(ua={}));var a6;(function(e){e[e.READ=1]="READ",e[e.WRITE=2]="WRITE"})(a6||(a6={}));function TL(e){var t=0;return e&us.SAMPLED&&(t|=ua.TEXTURE_BINDING|ua.COPY_DST|ua.COPY_SRC),e&us.STORAGE&&(t|=ua.TEXTURE_BINDING|ua.STORAGE_BINDING|ua.COPY_SRC|ua.COPY_DST),e&us.RENDER_TARGET&&(t|=ua.RENDER_ATTACHMENT|ua.TEXTURE_BINDING|ua.COPY_SRC|ua.COPY_DST),t}function $6(e){if(e===Ue.U8_R_NORM)return"r8unorm";if(e===Ue.S8_R_NORM)return"r8snorm";if(e===Ue.U8_RG_NORM)return"rg8unorm";if(e===Ue.S8_RG_NORM)return"rg8snorm";if(e===Ue.U32_R)return"r32uint";if(e===Ue.S32_R)return"r32sint";if(e===Ue.F32_R)return"r32float";if(e===Ue.U16_RG)return"rg16uint";if(e===Ue.S16_RG)return"rg16sint";if(e===Ue.F16_RG)return"rg16float";if(e===Ue.U8_RGBA_RT)return"bgra8unorm";if(e===Ue.U8_RGBA_RT_SRGB)return"bgra8unorm-srgb";if(e===Ue.U8_RGBA_NORM)return"rgba8unorm";if(e===Ue.U8_RGBA_SRGB)return"rgba8unorm-srgb";if(e===Ue.S8_RGBA_NORM)return"rgba8snorm";if(e===Ue.U32_RG)return"rg32uint";if(e===Ue.S32_RG)return"rg32sint";if(e===Ue.F32_RG)return"rg32float";if(e===Ue.U16_RGBA)return"rgba16uint";if(e===Ue.S16_RGBA)return"rgba16sint";if(e===Ue.F16_RGBA)return"rgba16float";if(e===Ue.F32_RGBA)return"rgba32float";if(e===Ue.U32_RGBA)return"rgba32uint";if(e===Ue.S32_RGBA)return"rgba32sint";if(e===Ue.D24)return"depth24plus";if(e===Ue.D24_S8)return"depth24plus-stencil8";if(e===Ue.D32F)return"depth32float";if(e===Ue.D32F_S8)return"depth32float-stencil8";if(e===Ue.BC1)return"bc1-rgba-unorm";if(e===Ue.BC1_SRGB)return"bc1-rgba-unorm-srgb";if(e===Ue.BC2)return"bc2-rgba-unorm";if(e===Ue.BC2_SRGB)return"bc2-rgba-unorm-srgb";if(e===Ue.BC3)return"bc3-rgba-unorm";if(e===Ue.BC3_SRGB)return"bc3-rgba-unorm-srgb";if(e===Ue.BC4_SNORM)return"bc4-r-snorm";if(e===Ue.BC4_UNORM)return"bc4-r-unorm";if(e===Ue.BC5_SNORM)return"bc5-rg-snorm";if(e===Ue.BC5_UNORM)return"bc5-rg-unorm";throw"whoops"}function wL(e){if(e===ko.TEXTURE_2D)return"2d";if(e===ko.TEXTURE_CUBE_MAP)return"2d";if(e===ko.TEXTURE_2D_ARRAY)return"2d";if(e===ko.TEXTURE_3D)return"3d";throw new Error("whoops")}function RL(e){if(e===ko.TEXTURE_2D)return"2d";if(e===ko.TEXTURE_CUBE_MAP)return"cube";if(e===ko.TEXTURE_2D_ARRAY)return"2d-array";if(e===ko.TEXTURE_3D)return"3d";throw new Error("whoops")}function CL(e){var t=0;return e&bn.INDEX&&(t|=GPUBufferUsage.INDEX),e&bn.VERTEX&&(t|=GPUBufferUsage.VERTEX),e&bn.UNIFORM&&(t|=GPUBufferUsage.UNIFORM),e&bn.STORAGE&&(t|=GPUBufferUsage.STORAGE),e&bn.COPY_SRC&&(t|=GPUBufferUsage.COPY_SRC),e&bn.INDIRECT&&(t|=GPUBufferUsage.INDIRECT),t|=GPUBufferUsage.COPY_DST,t}function c2(e){if(e===vs.CLAMP_TO_EDGE)return"clamp-to-edge";if(e===vs.REPEAT)return"repeat";if(e===vs.MIRRORED_REPEAT)return"mirror-repeat";throw new Error("whoops")}function gg(e){if(e===Pi.BILINEAR)return"linear";if(e===Pi.POINT)return"nearest";throw new Error("whoops")}function ML(e){if(e===pa.LINEAR)return"linear";if(e===pa.NEAREST)return"nearest";if(e===pa.NO_MIP)return"nearest";throw new Error("whoops")}function w1(e){var t=e;return t.gpuBuffer}function IL(e){var t=e;return t.gpuSampler}function NL(e){var t=e;return t.querySet}function DL(e){if(e===Mf.OcclusionConservative)return"occlusion";throw new Error("whoops")}function OL(e){switch(e){case ji.TRIANGLES:return"triangle-list";case ji.POINTS:return"point-list";case ji.TRIANGLE_STRIP:return"triangle-strip";case ji.LINES:return"line-list";case ji.LINE_STRIP:return"line-strip";default:throw new Error("Unknown primitive topology mode")}}function LL(e){if(e===Gs.NONE)return"none";if(e===Gs.FRONT)return"front";if(e===Gs.BACK)return"back";throw new Error("whoops")}function BL(e){if(e===Ny.CCW)return"ccw";if(e===Ny.CW)return"cw";throw new Error("whoops")}function UL(e,t){return{topology:OL(e),cullMode:LL(t.cullMode),frontFace:BL(t.frontFace)}}function vg(e){if(e===Uo.ZERO)return"zero";if(e===Uo.ONE)return"one";if(e===Uo.SRC)return"src";if(e===Uo.ONE_MINUS_SRC)return"one-minus-src";if(e===Uo.DST)return"dst";if(e===Uo.ONE_MINUS_DST)return"one-minus-dst";if(e===Uo.SRC_ALPHA)return"src-alpha";if(e===Uo.ONE_MINUS_SRC_ALPHA)return"one-minus-src-alpha";if(e===Uo.DST_ALPHA)return"dst-alpha";if(e===Uo.ONE_MINUS_DST_ALPHA)return"one-minus-dst-alpha";if(e===Uo.CONST)return"constant";if(e===Uo.ONE_MINUS_CONSTANT)return"one-minus-constant";if(e===Uo.SRC_ALPHA_SATURATE)return"src-alpha-saturated";throw new Error("whoops")}function kL(e){if(e===xa.ADD)return"add";if(e===xa.SUBSTRACT)return"subtract";if(e===xa.REVERSE_SUBSTRACT)return"reverse-subtract";if(e===xa.MIN)return"min";if(e===xa.MAX)return"max";throw new Error("whoops")}function Eg(e){return{operation:kL(e.blendMode),srcFactor:vg(e.blendSrcFactor),dstFactor:vg(e.blendDstFactor)}}function xg(e){return e.blendMode===xa.ADD&&e.blendSrcFactor===Uo.ONE&&e.blendDstFactor===Uo.ZERO}function zL(e){if(!(xg(e.rgbBlendState)&&xg(e.alphaBlendState)))return{color:Eg(e.rgbBlendState),alpha:Eg(e.alphaBlendState)}}function VL(e,t){return{format:$6(t),blend:zL(e),writeMask:e.channelWriteMask}}function HL(e,t){return t.attachmentsState.map(function(r,n){return VL(r,e[n])})}function of(e){if(e===un.NEVER)return"never";if(e===un.LESS)return"less";if(e===un.EQUAL)return"equal";if(e===un.LEQUAL)return"less-equal";if(e===un.GREATER)return"greater";if(e===un.NOTEQUAL)return"not-equal";if(e===un.GEQUAL)return"greater-equal";if(e===un.ALWAYS)return"always";throw new Error("whoops")}function v1(e){if(e===pi.KEEP)return"keep";if(e===pi.REPLACE)return"replace";if(e===pi.ZERO)return"zero";if(e===pi.DECREMENT_CLAMP)return"decrement-clamp";if(e===pi.DECREMENT_WRAP)return"decrement-wrap";if(e===pi.INCREMENT_CLAMP)return"increment-clamp";if(e===pi.INCREMENT_WRAP)return"increment-wrap";if(e===pi.INVERT)return"invert";throw new Error("whoops")}function GL(e,t){if(!Xu(e))return{format:$6(e),depthWriteEnabled:!!t.depthWrite,depthCompare:of(t.depthCompare),depthBias:t.polygonOffset?t.polygonOffsetUnits:0,depthBiasSlopeScale:t.polygonOffset?t.polygonOffsetFactor:0,stencilFront:{compare:of(t.stencilFront.compare),passOp:v1(t.stencilFront.passOp),failOp:v1(t.stencilFront.failOp),depthFailOp:v1(t.stencilFront.depthFailOp)},stencilBack:{compare:of(t.stencilBack.compare),passOp:v1(t.stencilBack.passOp),failOp:v1(t.stencilBack.failOp),depthFailOp:v1(t.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295}}function jL(e){if(e!==null){if(e===Ue.U16_R)return"uint16";if(e===Ue.U32_R)return"uint32";throw new Error("whoops")}}function WL(e){if(e===b0.VERTEX)return"vertex";if(e===b0.INSTANCE)return"instance";throw new Error("whoops")}function ZL(e){if(e===Ue.U8_R)return"uint8x2";if(e===Ue.U8_RG)return"uint8x2";if(e===Ue.U8_RGB)return"uint8x4";if(e===Ue.U8_RGBA)return"uint8x4";if(e===Ue.U8_RG_NORM)return"unorm8x2";if(e===Ue.U8_RGBA_NORM)return"unorm8x4";if(e===Ue.S8_RGB_NORM)return"snorm8x4";if(e===Ue.S8_RGBA_NORM)return"snorm8x4";if(e===Ue.U16_RG_NORM)return"unorm16x2";if(e===Ue.U16_RGBA_NORM)return"unorm16x4";if(e===Ue.S16_RG_NORM)return"snorm16x2";if(e===Ue.S16_RGBA_NORM)return"snorm16x4";if(e===Ue.S16_RG)return"uint16x2";if(e===Ue.F16_RG)return"float16x2";if(e===Ue.F16_RGBA)return"float16x4";if(e===Ue.F32_R)return"float32";if(e===Ue.F32_RG)return"float32x2";if(e===Ue.F32_RGB)return"float32x3";if(e===Ue.F32_RGBA)return"float32x4";throw"whoops"}function XL(e){var t=Qp(e);switch(t){case bt.BC1:case bt.BC2:case bt.BC3:case bt.BC4_SNORM:case bt.BC4_UNORM:case bt.BC5_SNORM:case bt.BC5_UNORM:return!0;default:return!1}}function YL(e){var t=Qp(e);switch(t){case bt.BC1:case bt.BC2:case bt.BC3:case bt.BC4_SNORM:case bt.BC4_UNORM:case bt.BC5_SNORM:case bt.BC5_UNORM:return 4;default:return 1}}function Pg(e,t,r,n){switch(r===void 0&&(r=!1),e){case Ue.S8_R:case Ue.S8_R_NORM:case Ue.S8_RG_NORM:case Ue.S8_RGB_NORM:case Ue.S8_RGBA_NORM:{var s=t instanceof ArrayBuffer?new Int8Array(t):new Int8Array(t);return n&&s.set(new Int8Array(n)),s}case Ue.U8_R:case Ue.U8_R_NORM:case Ue.U8_RG:case Ue.U8_RG_NORM:case Ue.U8_RGB:case Ue.U8_RGB_NORM:case Ue.U8_RGB_SRGB:case Ue.U8_RGBA:case Ue.U8_RGBA_NORM:case Ue.U8_RGBA_SRGB:{var u=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return n&&u.set(new Uint8Array(n)),u}case Ue.S16_R:case Ue.S16_RG:case Ue.S16_RG_NORM:case Ue.S16_RGB_NORM:case Ue.S16_RGBA:case Ue.S16_RGBA_NORM:{var i=t instanceof ArrayBuffer?new Int16Array(t):new Int16Array(r?t/2:t);return n&&i.set(new Int16Array(n)),i}case Ue.U16_R:case Ue.U16_RGB:case Ue.U16_RGBA_5551:case Ue.U16_RGBA_NORM:case Ue.U16_RG_NORM:case Ue.U16_R_NORM:{var y=t instanceof ArrayBuffer?new Uint16Array(t):new Uint16Array(r?t/2:t);return n&&y.set(new Uint16Array(n)),y}case Ue.S32_R:{var m=t instanceof ArrayBuffer?new Int32Array(t):new Int32Array(r?t/4:t);return n&&m.set(new Int32Array(n)),m}case Ue.U32_R:case Ue.U32_RG:{var g=t instanceof ArrayBuffer?new Uint32Array(t):new Uint32Array(r?t/4:t);return n&&g.set(new Uint32Array(n)),g}case Ue.F32_R:case Ue.F32_RG:case Ue.F32_RGB:case Ue.F32_RGBA:{var x=t instanceof ArrayBuffer?new Float32Array(t):new Float32Array(r?t/4:t);return n&&x.set(new Float32Array(n)),x}}var b=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return n&&b.set(new Uint8Array(n)),b}function $L(e){var t=(e&32768)>>15,r=(e&31744)>>10,n=e&1023;return r===0?(t?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):r==31?n?NaN:(t?-1:1)*(1/0):(t?-1:1)*Math.pow(2,r-15)*(1+n/Math.pow(2,10))}function D9(e){switch(e){case"r8unorm":case"r8snorm":case"r8uint":case"r8sint":return{width:1,height:1,length:1};case"r16uint":case"r16sint":case"r16float":case"rg8unorm":case"rg8snorm":case"rg8uint":case"rg8sint":return{width:1,height:1,length:2};case"r32uint":case"r32sint":case"r32float":case"rg16uint":case"rg16sint":case"rg16float":case"rgba8unorm":case"rgba8unorm-srgb":case"rgba8snorm":case"rgba8uint":case"rgba8sint":case"bgra8unorm":case"bgra8unorm-srgb":case"rgb9e5ufloat":case"rgb10a2unorm":case"rg11b10ufloat":return{width:1,height:1,length:4};case"rg32uint":case"rg32sint":case"rg32float":case"rgba16uint":case"rgba16sint":case"rgba16float":return{width:1,height:1,length:8};case"rgba32uint":case"rgba32sint":case"rgba32float":return{width:1,height:1,length:16};case"stencil8":throw new Error("No fixed size for Stencil8 format!");case"depth16unorm":return{width:1,height:1,length:2};case"depth24plus":throw new Error("No fixed size for Depth24Plus format!");case"depth24plus-stencil8":throw new Error("No fixed size for Depth24PlusStencil8 format!");case"depth32float":return{width:1,height:1,length:4};case"depth32float-stencil8":return{width:1,height:1,length:5};case"bc7-rgba-unorm":case"bc7-rgba-unorm-srgb":case"bc6h-rgb-ufloat":case"bc6h-rgb-float":case"bc2-rgba-unorm":case"bc2-rgba-unorm-srgb":case"bc3-rgba-unorm":case"bc3-rgba-unorm-srgb":case"bc5-rg-unorm":case"bc5-rg-snorm":return{width:4,height:4,length:16};case"bc4-r-unorm":case"bc4-r-snorm":case"bc1-rgba-unorm":case"bc1-rgba-unorm-srgb":return{width:4,height:4,length:8};default:return{width:1,height:1,length:4}}}var Ep=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=e.call(this)||this;return u.id=n,u.device=s,u}return t.prototype.destroy=function(){},t}(v9),qL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i,y,m=e.call(this,{id:n,device:s})||this;m.type=Qo.Bindings;var g=u.pipeline;_o(!!g);var x=u.uniformBufferBindings,b=u.storageBufferBindings,A=u.samplerBindings,w=u.storageTextureBindings;m.numUniformBuffers=(x==null?void 0:x.length)||0;var M=[[],[],[],[]],V=0;if(x&&x.length)for(var k=0;k<x.length;k++){var Q=u.uniformBufferBindings[k],q=Q.binding,K=Q.size,te=Q.offset,se=Q.buffer,ke={buffer:w1(se),offset:te??0,size:K};M[0].push({binding:q??V++,resource:ke})}if(A&&A.length){V=0;for(var k=0;k<A.length;k++){var Ee=Oi(Oi({},A[k]),w9),q=u.samplerBindings[k],je=q.texture!==null?q.texture:m.device.getFallbackTexture(Ee);Ee.dimension=je.dimension,Ee.formatKind=P9(je.format);var mt=je.gpuTextureView;if(M[1].push({binding:(i=q.textureBinding)!==null&&i!==void 0?i:V++,resource:mt}),q.samplerBinding!==-1){var He=q.sampler!==null?q.sampler:m.device.getFallbackSampler(Ee),Fe=IL(He);M[1].push({binding:(y=q.samplerBinding)!==null&&y!==void 0?y:V++,resource:Fe})}}}if(b&&b.length){V=0;for(var k=0;k<b.length;k++){var Le=u.storageBufferBindings[k],q=Le.binding,K=Le.size,te=Le.offset,se=Le.buffer,ke={buffer:w1(se),offset:te??0,size:K};M[2].push({binding:q??V++,resource:ke})}}if(w&&w.length){V=0;for(var k=0;k<w.length;k++){var ze=u.storageTextureBindings[k],q=ze.binding,je=ze.texture,mt=je.gpuTextureView;M[3].push({binding:q??V++,resource:mt})}}var st=M.findLastIndex(function(Vt){return!!Vt.length});return m.gpuBindGroup=M.map(function(Vt,nr){return nr<=st&&m.device.device.createBindGroup({layout:g.getBindGroupLayout(nr),entries:Vt})}),m}return t}(Ep),KL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.Buffer;var y=u.usage,m=u.viewOrSize,g=!!(y&bn.MAP_READ);i.usage=CL(y),g&&(i.usage=bn.MAP_READ|bn.COPY_DST);var x=!S1(m);if(i.view=S1(m)?null:m,i.size=S1(m)?Nf(m,4):Nf(m.byteLength,4),S1(m))i.gpuBuffer=i.device.device.createBuffer({usage:i.usage,size:i.size,mappedAtCreation:g?x:!1});else{i.gpuBuffer=i.device.device.createBuffer({usage:i.usage,size:i.size,mappedAtCreation:!0});var b=m&&m.constructor||Float32Array;new b(i.gpuBuffer.getMappedRange()).set(m),i.gpuBuffer.unmap()}return i}return t.prototype.setSubData=function(r,n,s,u){s===void 0&&(s=0),u===void 0&&(u=0);var i=this.gpuBuffer;u=u||n.byteLength,u=Math.min(u,this.size-r);var y=n.byteOffset+s,m=y+u,g=u+3&-4;if(g!==u){var x=new Uint8Array(n.buffer.slice(y,m));n=new Uint8Array(g),n.set(x),s=0,y=0,m=g,u=g}for(var b=1024*1024*15,A=0;m-(y+A)>b;)this.device.device.queue.writeBuffer(i,r+A,n.buffer,y+A,b),A+=b;this.device.device.queue.writeBuffer(i,r+A,n.buffer,y+A,u-A)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuBuffer.destroy()},t}(Ep),bg=function(){function e(){this.gpuComputePassEncoder=null}return e.prototype.dispatchWorkgroups=function(t,r,n){this.gpuComputePassEncoder.dispatchWorkgroups(t,r,n)},e.prototype.dispatchWorkgroupsIndirect=function(t,r){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(t.gpuBuffer,r)},e.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null},e.prototype.beginComputePass=function(t){_o(this.gpuComputePassEncoder===null),this.frameCommandEncoder=t,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor)},e.prototype.setPipeline=function(t){var r=t,n=h0(r.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(n)},e.prototype.setBindings=function(t){var r=this,n=t;n.gpuBindGroup.forEach(function(s,u){s&&r.gpuComputePassEncoder.setBindGroup(u,n.gpuBindGroup[u])})},e.prototype.pushDebugGroup=function(t){this.gpuComputePassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuComputePassEncoder.insertDebugMarker(t)},e}(),QL=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.ComputePipeline,i.gpuComputePipeline=null,i.descriptor=u;var y=u.program,m=y.computeStage;if(m===null)return i;var g={layout:"auto",compute:Oi({},m)};return i.gpuComputePipeline=i.device.device.createComputePipeline(g),i.name!==void 0&&(i.gpuComputePipeline.label=i.name),i}return t.prototype.getBindGroupLayout=function(r){return this.gpuComputePipeline.getBindGroupLayout(r)},t}(Ep),JL=function(e){ci(t,e);function t(r){var n,s,u,i,y=r.id,m=r.device,g=r.descriptor,x=e.call(this,{id:y,device:m})||this;x.type=Qo.InputLayout;var b=[];try{for(var A=_0(g.vertexBufferDescriptors),w=A.next();!w.done;w=A.next()){var M=w.value,V=M.arrayStride,k=M.stepMode,Q=M.attributes;b.push({arrayStride:V,stepMode:WL(k),attributes:[]});try{for(var q=(u=void 0,_0(Q)),K=q.next();!K.done;K=q.next()){var te=K.value,se=te.shaderLocation,ke=te.format,Ee=te.offset;b[b.length-1].attributes.push({shaderLocation:se,format:ZL(ke),offset:Ee})}}catch(je){u={error:je}}finally{try{K&&!K.done&&(i=q.return)&&i.call(q)}finally{if(u)throw u.error}}}}catch(je){n={error:je}}finally{try{w&&!w.done&&(s=A.return)&&s.call(A)}finally{if(n)throw n.error}}return x.indexFormat=jL(g.indexBufferFormat),x.buffers=b,x}return t}(Ep),Fg=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;return i.type=Qo.Program,i.vertexStage=null,i.fragmentStage=null,i.computeStage=null,i.descriptor=u,u.vertex&&(i.vertexStage=i.createShaderStage(u.vertex,"vertex")),u.fragment&&(i.fragmentStage=i.createShaderStage(u.fragment,"fragment")),u.compute&&(i.computeStage=i.createShaderStage(u.compute,"compute")),i}return t.prototype.setUniformsLegacy=function(r){},t.prototype.createShaderStage=function(r,n){var s,u,i=r.glsl,y=r.wgsl,m=r.entryPoint,g=r.postprocess,x=!1,b=y;if(!b)try{b=this.device.glsl_compile(i,n,x)}catch(Q){throw console.error(Q,i),new Error("whoops")}var A=function(Q){if(!b.includes(Q))return"continue";b=b.replace("var T_".concat(Q,": texture_2d<f32>;"),"var T_".concat(Q,": texture_depth_2d;")),b=b.replace(new RegExp("textureSample\\(T_".concat(Q,"(.*)\\);$"),"gm"),function(q,K){return"vec4<f32>(textureSample(T_".concat(Q).concat(K,"), 0.0, 0.0, 0.0);")})};try{for(var w=_0(["u_TextureFramebufferDepth"]),M=w.next();!M.done;M=w.next()){var V=M.value;A(V)}}catch(Q){s={error:Q}}finally{try{M&&!M.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}g&&(b=g(b));var k=this.device.device.createShaderModule({code:b});return{module:k,entryPoint:m||"main"}},t}(Ep),eB=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;i.type=Qo.QueryPool;var y=u.elemCount,m=u.type;return i.querySet=i.device.device.createQuerySet({type:DL(m),count:y}),i.resolveBuffer=i.device.device.createBuffer({size:y*8,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),i.cpuBuffer=i.device.device.createBuffer({size:y*8,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),i.results=null,i}return t.prototype.queryResultOcclusion=function(r){return this.results===null?null:this.results[r]!==BigInt(0)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy()},t}(Ep),tB=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=e.call(this,{id:n,device:s})||this;return u.type=Qo.Readback,u}return t.prototype.readTexture=function(r,n,s,u,i,y,m,g){return m===void 0&&(m=0),R1(this,void 0,void 0,function(){var x,b,A,w,M,V,k,Q;return C1(this,function(q){return x=r,b=0,A=D9(x.gpuTextureformat),w=Math.ceil(u/A.width)*A.length,M=Math.ceil(w/256)*256,V=M*i,k=this.device.createBuffer({usage:bn.STORAGE|bn.MAP_READ|bn.COPY_DST,hint:gp.STATIC,viewOrSize:V}),Q=this.device.device.createCommandEncoder(),Q.copyTextureToBuffer({texture:x.gpuTexture,mipLevel:0,origin:{x:n,y:s,z:Math.max(b,0)}},{buffer:k.gpuBuffer,offset:0,bytesPerRow:M},{width:u,height:i,depthOrArrayLayers:1}),this.device.device.queue.submit([Q.finish()]),[2,this.readBuffer(k,0,y.byteLength===V?y:null,m,V,x.format,!0,!1,w,M,i)]})})},t.prototype.readTextureSync=function(r,n,s,u,i,y,m,g){throw new Error("ERROR_MSG_METHOD_NOT_IMPLEMENTED")},t.prototype.readBuffer=function(r,n,s,u,i,y,m,g,x,b,A){var w=this;n===void 0&&(n=0),s===void 0&&(s=null),i===void 0&&(i=0),y===void 0&&(y=Ue.U8_RGB),m===void 0&&(m=!1),x===void 0&&(x=0),b===void 0&&(b=0),A===void 0&&(A=0);var M=r,V=i||M.size,k=s||M.view,Q=k&&k.constructor&&k.constructor.BYTES_PER_ELEMENT||x9(y),q=M;if(!(M.usage&bn.MAP_READ&&M.usage&bn.COPY_DST)){var K=this.device.device.createCommandEncoder();q=this.device.createBuffer({usage:bn.STORAGE|bn.MAP_READ|bn.COPY_DST,hint:gp.STATIC,viewOrSize:V}),K.copyBufferToBuffer(M.gpuBuffer,n,q.gpuBuffer,0,V),this.device.device.queue.submit([K.finish()])}return new Promise(function(te,se){q.gpuBuffer.mapAsync(a6.READ,n,V).then(function(){var ke=q.gpuBuffer.getMappedRange(n,V),Ee=k;if(m)Ee===null?Ee=Pg(y,V,!0,ke):Ee=Pg(y,Ee.buffer,void 0,ke);else if(Ee===null)switch(Q){case 1:Ee=new Uint8Array(V),Ee.set(new Uint8Array(ke));break;case 2:Ee=w.getHalfFloatAsFloatRGBAArrayBuffer(V/2,ke);break;case 4:Ee=new Float32Array(V/4),Ee.set(new Float32Array(ke));break}else switch(Q){case 1:Ee=new Uint8Array(Ee.buffer),Ee.set(new Uint8Array(ke));break;case 2:Ee=w.getHalfFloatAsFloatRGBAArrayBuffer(V/2,ke,k);break;case 4:var je=k&&k.constructor||Float32Array;Ee=new je(Ee.buffer),Ee.set(new je(ke));break}if(x!==b){Q===1&&!m&&(x*=2,b*=2);for(var mt=new Uint8Array(Ee.buffer),He=x,Fe=0,Le=1;Le<A;++Le){Fe=Le*b;for(var ze=0;ze<x;++ze)mt[He++]=mt[Fe++]}Q!==0&&!m?Ee=new Float32Array(mt.buffer,0,He/4):Ee=new Uint8Array(mt.buffer,0,He)}q.gpuBuffer.unmap(),te(Ee)},function(ke){return se(ke)})})},t.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(r,n,s){s||(s=new Float32Array(r));for(var u=new Uint16Array(n);r--;)s[r]=$L(u[r]);return s},t}(Ep),Ag=function(){function e(t){this.device=t,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:"load",depthStoreOp:"store",stencilLoadOp:"load",stencilStoreOp:"store"},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment}}return e.prototype.getEncoder=function(){var t;return((t=this.renderBundle)===null||t===void 0?void 0:t.renderBundleEncoder)||this.gpuRenderPassEncoder},e.prototype.getTextureView=function(t,r){return _o(r<t.mipLevelCount),t.mipLevelCount===1?t.gpuTextureView:t.gpuTexture.createView({baseMipLevel:r,mipLevelCount:1})},e.prototype.setRenderPassDescriptor=function(t){var r,n,s,u,i,y;this.descriptor=t,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var m=t.colorAttachment.length;this.gfxColorAttachment.length=m,this.gfxColorResolveTo.length=m;for(var g=0;g<t.colorAttachment.length;g++){var x=t.colorAttachment[g],b=t.colorResolveTo[g];if(x===null&&b!==null&&(x=b,b=null),this.gfxColorAttachment[g]=x,this.gfxColorResolveTo[g]=b,this.gfxColorAttachmentLevel[g]=((r=t.colorAttachmentLevel)===null||r===void 0?void 0:r[g])||0,this.gfxColorResolveToLevel[g]=((n=t.colorResolveToLevel)===null||n===void 0?void 0:n[g])||0,x!==null){this.gpuColorAttachments[g]===void 0&&(this.gpuColorAttachments[g]={});var A=this.gpuColorAttachments[g];A.view=this.getTextureView(x,((s=this.gfxColorAttachmentLevel)===null||s===void 0?void 0:s[g])||0);var w=(i=(u=t.colorClearColor)===null||u===void 0?void 0:u[g])!==null&&i!==void 0?i:"load";w==="load"?A.loadOp="load":(A.loadOp="clear",A.clearValue=w),A.storeOp=!((y=t.colorStore)===null||y===void 0)&&y[g]?"store":"discard",A.resolveTarget=void 0,b!==null&&(x.sampleCount>1?A.resolveTarget=this.getTextureView(b,this.gfxColorResolveToLevel[g]):A.storeOp="store")}else{this.gpuColorAttachments.length=g,this.gfxColorAttachment.length=g,this.gfxColorResolveTo.length=g;break}}if(this.gfxDepthStencilAttachment=t.depthStencilAttachment,this.gfxDepthStencilResolveTo=t.depthStencilResolveTo,t.depthStencilAttachment){var M=t.depthStencilAttachment,A=this.gpuDepthStencilAttachment;A.view=M.gpuTextureView;var V=!!(X1(M.format)&cr.Depth);V?(t.depthClearValue==="load"?A.depthLoadOp="load":(A.depthLoadOp="clear",A.depthClearValue=t.depthClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?A.depthStoreOp="store":A.depthStoreOp="discard"):(A.depthLoadOp=void 0,A.depthStoreOp=void 0);var k=!!(X1(M.format)&cr.Stencil);k?(t.stencilClearValue==="load"?A.stencilLoadOp="load":(A.stencilLoadOp="clear",A.stencilClearValue=t.stencilClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?A.stencilStoreOp="store":A.stencilStoreOp="discard"):(A.stencilLoadOp=void 0,A.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=Xu(t.occlusionQueryPool)?void 0:NL(t.occlusionQueryPool)},e.prototype.beginRenderPass=function(t,r){_o(this.gpuRenderPassEncoder===null),this.setRenderPassDescriptor(r),this.frameCommandEncoder=t,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor)},e.prototype.flipY=function(t,r){var n=this.device.swapChainHeight;return n-t-r},e.prototype.setViewport=function(t,r,n,s,u,i){u===void 0&&(u=0),i===void 0&&(i=1),this.gpuRenderPassEncoder.setViewport(t,this.flipY(r,s),n,s,u,i)},e.prototype.setScissorRect=function(t,r,n,s){this.gpuRenderPassEncoder.setScissorRect(t,this.flipY(r,s),n,s)},e.prototype.setPipeline=function(t){var r=t,n=h0(r.gpuRenderPipeline);this.getEncoder().setPipeline(n)},e.prototype.setVertexInput=function(t,r,n){if(t!==null){var s=this.getEncoder(),u=t;n!==null&&s.setIndexBuffer(w1(n.buffer),h0(u.indexFormat),n.offset);for(var i=0;i<r.length;i++){var y=r[i];y!==null&&s.setVertexBuffer(i,w1(y.buffer),y.offset)}}},e.prototype.setBindings=function(t){var r=t,n=this.getEncoder();r.gpuBindGroup.forEach(function(s,u){s&&n.setBindGroup(u,r.gpuBindGroup[u])})},e.prototype.setStencilReference=function(t){this.gpuRenderPassEncoder.setStencilReference(t)},e.prototype.draw=function(t,r,n,s){this.getEncoder().draw(t,r,n,s)},e.prototype.drawIndexed=function(t,r,n,s,u){this.getEncoder().drawIndexed(t,r,n,s,u)},e.prototype.drawIndirect=function(t,r){this.getEncoder().drawIndirect(w1(t),r)},e.prototype.drawIndexedIndirect=function(t,r){this.getEncoder().drawIndexedIndirect(w1(t),r)},e.prototype.beginOcclusionQuery=function(t){this.gpuRenderPassEncoder.beginOcclusionQuery(t)},e.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery()},e.prototype.pushDebugGroup=function(t){this.gpuRenderPassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuRenderPassEncoder.insertDebugMarker(t)},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle.finish()},e.prototype.executeBundles=function(t){this.gpuRenderPassEncoder.executeBundles(t.map(function(r){return r.renderBundle}))},e.prototype.finish=function(){var t;(t=this.gpuRenderPassEncoder)===null||t===void 0||t.end(),this.gpuRenderPassEncoder=null;for(var r=0;r<this.gfxColorAttachment.length;r++){var n=this.gfxColorAttachment[r],s=this.gfxColorResolveTo[r];n!==null&&s!==null&&n.sampleCount===1&&this.copyAttachment(s,this.gfxColorAttachmentLevel[r],n,this.gfxColorResolveToLevel[r])}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null},e.prototype.copyAttachment=function(t,r,n,s){_o(n.sampleCount===1);var u={texture:n.gpuTexture,mipLevel:s},i={texture:t.gpuTexture,mipLevel:r};_o(n.width>>>s===t.width>>>r),_o(n.height>>>s===t.height>>>r),_o(!!(n.usage&ua.COPY_SRC)),_o(!!(t.usage&ua.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(u,i,[t.width,t.height,1])},e}(),rB=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=e.call(this,{id:n,device:s})||this;return i.type=Qo.RenderPipeline,i.isCreatingAsync=!1,i.gpuRenderPipeline=null,i.descriptor=u,i.device.createRenderPipelineInternal(i,!1),i}return t.prototype.getBindGroupLayout=function(r){return this.gpuRenderPipeline.getBindGroupLayout(r)},t}(Ep),oB=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i,y,m=e.call(this,{id:n,device:s})||this;m.type=Qo.Sampler;var g=u.lodMinClamp,x=u.mipmapFilter===pa.NO_MIP?u.lodMinClamp:u.lodMaxClamp,b=(i=u.maxAnisotropy)!==null&&i!==void 0?i:1;return b>1&&_o(u.minFilter===Pi.BILINEAR&&u.magFilter===Pi.BILINEAR&&u.mipmapFilter===pa.LINEAR),m.gpuSampler=m.device.device.createSampler({addressModeU:c2(u.addressModeU),addressModeV:c2(u.addressModeV),addressModeW:c2((y=u.addressModeW)!==null&&y!==void 0?y:u.addressModeU),lodMinClamp:g,lodMaxClamp:x,minFilter:gg(u.minFilter),magFilter:gg(u.magFilter),mipmapFilter:ML(u.mipmapFilter),compare:u.compareFunction!==void 0?of(u.compareFunction):void 0,maxAnisotropy:b}),m}return t}(Ep),Vh=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=r.descriptor,i=r.skipCreate,y=r.sampleCount,m=e.call(this,{id:n,device:s})||this;m.type=Qo.Texture,m.flipY=!1;var g=u.format,x=u.dimension,b=u.width,A=u.height,w=u.depthOrArrayLayers,M=u.mipLevelCount,V=u.usage,k=u.pixelStore;return m.flipY=!!(k!=null&&k.unpackFlipY),m.device.createTextureShared({format:g,dimension:x??ko.TEXTURE_2D,width:b,height:A,depthOrArrayLayers:w??1,mipLevelCount:M??1,usage:V,sampleCount:y??1},m,i),m}return t.prototype.textureFromImageBitmapOrCanvas=function(r,n,s){for(var u=n[0].width,i=n[0].height,y={size:{width:u,height:i,depthOrArrayLayers:s},format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},m=r.createTexture(y),g=0;g<n.length;g++)r.queue.copyExternalImageToTexture({source:n[g],flipY:this.flipY},{texture:m,origin:[0,0,g]},[u,i]);return[m,u,i]},t.prototype.isImageBitmapOrCanvases=function(r){var n=r[0];return n instanceof ImageBitmap||n instanceof HTMLCanvasElement||n instanceof OffscreenCanvas},t.prototype.isVideo=function(r){var n=r[0];return n instanceof HTMLVideoElement},t.prototype.setImageData=function(r,n){var s,u=this,i=this.device.device,y,m,g;if(this.isImageBitmapOrCanvases(r))s=hp(this.textureFromImageBitmapOrCanvas(i,r,this.depthOrArrayLayers),3),y=s[0],m=s[1],g=s[2];else if(this.isVideo(r))y=i.importExternalTexture({source:r[0]});else{var x=D9(this.gpuTextureformat),b=Math.ceil(this.width/x.width)*x.length;r.forEach(function(A){i.queue.writeTexture({texture:u.gpuTexture},A,{bytesPerRow:b},{width:u.width,height:u.height})})}this.width=m,this.height=g,y&&(this.gpuTexture=y),this.gpuTextureView=this.gpuTexture.createView({dimension:RL(this.dimension)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuTexture.destroy()},t}(Ep),nB=function(e){ci(t,e);function t(r){var n=r.id,s=r.device,u=e.call(this,{id:n,device:s})||this;return u.type=Qo.RenderBundle,u.renderBundleEncoder=u.device.device.createRenderBundleEncoder({colorFormats:[u.device.swapChainFormat]}),u}return t.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish()},t}(Ep),iB=function(){function e(t,r,n,s,u,i){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=ua.RENDER_ATTACHMENT|ua.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString="WebGPU",this.glslVersion="#version 440",this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=qp.UPPER_LEFT,this.clipSpaceNearZ=Z1.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=r,this.canvas=n,this.canvasContext=s,this.glsl_compile=u,this.WGSLComposer=i,this.fallbackTexture2D=this.createFallbackTexture(ko.TEXTURE_2D,ui.Float),this.setResourceName(this.fallbackTexture2D,"Fallback Texture2D"),this.fallbackTexture2DDepth=this.createFallbackTexture(ko.TEXTURE_2D,ui.Depth),this.setResourceName(this.fallbackTexture2DDepth,"Fallback Depth Texture2D"),this.fallbackTexture2DArray=this.createFallbackTexture(ko.TEXTURE_2D_ARRAY,ui.Float),this.setResourceName(this.fallbackTexture2DArray,"Fallback Texture2DArray"),this.fallbackTexture3D=this.createFallbackTexture(ko.TEXTURE_3D,ui.Float),this.setResourceName(this.fallbackTexture3D,"Fallback Texture3D"),this.fallbackTextureCube=this.createFallbackTexture(ko.TEXTURE_CUBE_MAP,ui.Float),this.setResourceName(this.fallbackTextureCube,"Fallback TextureCube"),this.fallbackSamplerFiltering=this.createSampler({addressModeU:vs.REPEAT,addressModeV:vs.REPEAT,minFilter:Pi.POINT,magFilter:Pi.POINT,mipmapFilter:pa.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,"Fallback Sampler Filtering"),this.fallbackSamplerComparison=this.createSampler({addressModeU:vs.REPEAT,addressModeV:vs.REPEAT,minFilter:Pi.POINT,magFilter:Pi.POINT,mipmapFilter:pa.NEAREST,compareFunction:un.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,"Fallback Sampler Comparison Filtering"),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has("texture-compression-bc")),this.device.onuncapturederror=function(y){console.error(y.error)},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:"premultiplied"})}return e.prototype.destroy=function(){},e.prototype.configureSwapChain=function(t,r){this.swapChainWidth===t&&this.swapChainHeight===r||(this.swapChainWidth=t,this.swapChainHeight=r)},e.prototype.getOnscreenTexture=function(){var t=this.canvasContext.getCurrentTexture(),r=t.createView(),n=new Vh({id:0,device:this,descriptor:{format:Ue.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:ko.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return n.depthOrArrayLayers=1,n.sampleCount=1,n.gpuTexture=t,n.gpuTextureView=r,n.name="Onscreen",this.setResourceName(n,"Onscreen Texture"),n},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.canvas},e.prototype.beginFrame=function(){_o(this.frameCommandEncoderPool.length===0)},e.prototype.endFrame=function(){_o(this.frameCommandEncoderPool.every(function(t){return t!==null})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(t){return t.finish()})),this.frameCommandEncoderPool=[]},e.prototype.getNextUniqueId=function(){return++this._resourceUniqueId},e.prototype.createBuffer=function(t){return new KL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new Vh({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new oB({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){var r=new Vh({id:this.getNextUniqueId(),device:this,descriptor:Oi(Oi({},t),{dimension:ko.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:us.RENDER_TARGET}),sampleCount:t.sampleCount});return r.depthOrArrayLayers=1,r.type=Qo.RenderTarget,r},e.prototype.createRenderTargetFromTexture=function(t){var r=t,n=r.format,s=r.width,u=r.height,i=r.depthOrArrayLayers,y=r.sampleCount,m=r.mipLevelCount,g=r.gpuTexture,x=r.gpuTextureView,b=r.usage;_o(!!(b&ua.RENDER_ATTACHMENT));var A=new Vh({id:this.getNextUniqueId(),device:this,descriptor:{format:n,width:s,height:u,depthOrArrayLayers:i,dimension:ko.TEXTURE_2D,mipLevelCount:m,usage:b},skipCreate:!0});return A.depthOrArrayLayers=i,A.sampleCount=y,A.gpuTexture=g,A.gpuTextureView=x,A},e.prototype.createProgram=function(t){var r,n;return!((r=t.vertex)===null||r===void 0)&&r.glsl&&(t.vertex.glsl=q1(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((n=t.fragment)===null||n===void 0)&&n.glsl&&(t.fragment.glsl=q1(this.queryVendorInfo(),"frag",t.fragment.glsl)),new Fg({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createProgramSimple=function(t){return new Fg({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTextureShared=function(t,r,n){var s={width:t.width,height:t.height,depthOrArrayLayers:t.depthOrArrayLayers},u=t.mipLevelCount,i=$6(t.format),y=wL(t.dimension),m=TL(t.usage);if(r.gpuTextureformat=i,r.dimension=t.dimension,r.format=t.format,r.width=t.width,r.height=t.height,r.depthOrArrayLayers=t.depthOrArrayLayers,r.mipLevelCount=u,r.usage=m,r.sampleCount=t.sampleCount,!n){var g=this.device.createTexture({size:s,mipLevelCount:u,format:i,dimension:y,sampleCount:t.sampleCount,usage:m}),x=g.createView();r.gpuTexture=g,r.gpuTextureView=x}},e.prototype.getFallbackSampler=function(t){var r=t.formatKind;return r===ui.Depth&&t.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering},e.prototype.getFallbackTexture=function(t){var r=t.dimension,n=t.formatKind;if(r===ko.TEXTURE_2D)return n===ui.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===ko.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===ko.TEXTURE_3D)return this.fallbackTexture3D;if(r===ko.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.createFallbackTexture=function(t,r){var n=t===ko.TEXTURE_CUBE_MAP?6:1,s=r===ui.Float?Ue.U8_RGBA_NORM:Ue.D24;return this.createTexture({dimension:t,format:s,usage:us.SAMPLED,width:1,height:1,depthOrArrayLayers:n,mipLevelCount:1})},e.prototype.createBindings=function(t){return new qL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new JL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePipeline=function(t){return new QL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new rB({id:this.getNextUniqueId(),device:this,descriptor:Oi({},t)})},e.prototype.createQueryPool=function(t,r){return new eB({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:r}})},e.prototype.createRenderPipelineInternal=function(t,r){var n;if(t.gpuRenderPipeline===null){var s=t.descriptor,u=s.program,i=u.vertexStage,y=u.fragmentStage;if(!(i===null||y===null)){var m=s.megaStateDescriptor||{},g=m.stencilBack,x=m.stencilFront,b=Tv(m,["stencilBack","stencilFront"]),A=Y1($1);s.megaStateDescriptor=Oi(Oi(Oi({},A),{stencilBack:Oi(Oi({},A.stencilBack),g),stencilFront:Oi(Oi({},A.stencilFront),x)}),b);var w=s.megaStateDescriptor.attachmentsState[0];s.colorAttachmentFormats.forEach(function(te,se){s.megaStateDescriptor.attachmentsState[se]||(s.megaStateDescriptor.attachmentsState[se]=S9(void 0,w))});var M=UL((n=s.topology)!==null&&n!==void 0?n:ji.TRIANGLES,s.megaStateDescriptor),V=HL(s.colorAttachmentFormats,s.megaStateDescriptor),k=GL(s.depthStencilAttachmentFormat,s.megaStateDescriptor),Q=void 0;s.inputLayout!==null&&(Q=s.inputLayout.buffers);var q=s.sampleCount,K={layout:"auto",vertex:Oi(Oi({},i),{buffers:Q}),primitive:M,depthStencil:k,multisample:{count:q},fragment:Oi(Oi({},y),{targets:V})};t.gpuRenderPipeline=this.device.createRenderPipeline(K)}}},e.prototype.createReadback=function(){return new tB({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderBundle=function(){return new nB({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderPass=function(t){var r=this.renderPassPool.pop();r===void 0&&(r=new Ag(this));var n=this.frameCommandEncoderPool.pop();return n===void 0&&(n=this.device.createCommandEncoder()),r.beginRenderPass(n,t),r},e.prototype.createComputePass=function(){var t=this.computePassPool.pop();t===void 0&&(t=new bg);var r=this.frameCommandEncoderPool.pop();return r===void 0&&(r=this.device.createCommandEncoder()),t.beginComputePass(r),t},e.prototype.submitPass=function(t){var r=t;r instanceof Ag?(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.renderPassPool.push(r)):r instanceof bg&&(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.computePassPool.push(r))},e.prototype.copySubTexture2D=function(t,r,n,s,u,i,y){var m=this.device.createCommandEncoder(),g=t,x=s,b={texture:x.gpuTexture,origin:[u,i,0],mipLevel:0,aspect:"all"},A={texture:g.gpuTexture,origin:[r,n,0],mipLevel:0,aspect:"all"};_o(!!(x.usage&ua.COPY_SRC)),_o(!!(g.usage&ua.COPY_DST)),m.copyTextureToTexture(b,A,[x.width,x.height,y||1]),this.device.queue.submit([m.finish()])},e.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0}},e.prototype.queryTextureFormatSupported=function(t,r,n){if(XL(t)){if(!this.featureTextureCompressionBC)return!1;var s=YL(t);return r%s!==0||n%s!==0?!1:this.featureTextureCompressionBC}switch(t){case Ue.U16_RGBA_NORM:return!1;case Ue.F32_RGBA:return!1}return!0},e.prototype.queryPlatformAvailable=function(){return!0},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){var r=t;return r.descriptor},e.prototype.queryRenderTarget=function(t){var r=t;return r},e.prototype.setResourceName=function(t,r){if(t.name=r,t.type===Qo.Buffer){var n=t;n.gpuBuffer.label=r}else if(t.type===Qo.Texture){var n=t;n.gpuTexture.label=r,n.gpuTextureView.label=r}else if(t.type===Qo.RenderTarget){var n=t;n.gpuTexture.label=r,n.gpuTextureView.label=r}else if(t.type===Qo.Sampler){var n=t;n.gpuSampler.label=r}else if(t.type===Qo.RenderPipeline){var n=t;n.gpuRenderPipeline!==null&&(n.gpuRenderPipeline.label=r)}},e.prototype.setResourceLeakCheck=function(t,r){},e.prototype.checkForLeaks=function(){},e.prototype.programPatched=function(t){},e.prototype.pipelineQueryReady=function(t){var r=t;return r.gpuRenderPipeline!==null},e.prototype.pipelineForceReady=function(t){var r=t;this.createRenderPipelineInternal(r,!1)},e}(),aB=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return R1(this,void 0,void 0,function(){var r,n,s,u,i,y,m,g;return C1(this,function(x){switch(x.label){case 0:if(globalThis.navigator.gpu===void 0)return[2,null];r=null,x.label=1;case 1:return x.trys.push([1,3,,4]),n=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:n})];case 2:return r=x.sent(),[3,4];case 3:return s=x.sent(),console.log(s),[3,4];case 4:return r===null?[2,null]:(u=["depth32float-stencil8","texture-compression-bc","float32-filterable"],i=u.filter(function(b){return r.features.has(b)}),[4,r.requestDevice({requiredFeatures:i})]);case 5:if(y=x.sent(),y&&(m=this.pluginOptions.onContextLost,y.lost.then(function(){m&&m()})),y===null)return[2,null];if(g=t.getContext("webgpu"),!g)return[2,null];x.label=6;case 6:return x.trys.push([6,8,,9]),[4,N9(this.pluginOptions.shaderCompilerPath)];case 7:return x.sent(),[3,9];case 8:return x.sent(),[3,9];case 9:return[2,new iB(r,y,t,g,bL,Dy&&new Dy)]}})})},e}(),sB=class{constructor(e,t){const{buffer:r,offset:n,stride:s,normalized:u,size:i,divisor:y,shaderLocation:m}=t;this.buffer=r,this.attribute={shaderLocation:m,buffer:r.get(),offset:n||0,stride:s||0,normalized:u||!1,divisor:y||0},i&&(this.attribute.size=i)}get(){return this.buffer}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},kf={[L.FLOAT]:Float32Array,[L.UNSIGNED_BYTE]:Uint8Array,[L.SHORT]:Int16Array,[L.UNSIGNED_SHORT]:Uint16Array,[L.INT]:Int32Array,[L.UNSIGNED_INT]:Uint32Array},uB={[L.POINTS]:ji.POINTS,[L.LINES]:ji.LINES,[L.LINE_LOOP]:ji.LINES,[L.LINE_STRIP]:ji.LINE_STRIP,[L.TRIANGLES]:ji.TRIANGLES,[L.TRIANGLE_FAN]:ji.TRIANGLES,[L.TRIANGLE_STRIP]:ji.TRIANGLE_STRIP},pB={1:Ue.F32_R,2:Ue.F32_RG,3:Ue.F32_RGB,4:Ue.F32_RGBA},cB={[L.STATIC_DRAW]:gp.STATIC,[L.DYNAMIC_DRAW]:gp.DYNAMIC,[L.STREAM_DRAW]:gp.DYNAMIC},Sg={[L.REPEAT]:vs.REPEAT,[L.CLAMP_TO_EDGE]:vs.CLAMP_TO_EDGE,[L.MIRRORED_REPEAT]:vs.MIRRORED_REPEAT},lB={[L.NEVER]:un.NEVER,[L.ALWAYS]:un.ALWAYS,[L.LESS]:un.LESS,[L.LEQUAL]:un.LEQUAL,[L.GREATER]:un.GREATER,[L.GEQUAL]:un.GEQUAL,[L.EQUAL]:un.EQUAL,[L.NOTEQUAL]:un.NOTEQUAL},dB={[L.FRONT]:Gs.FRONT,[L.BACK]:Gs.BACK},Tg={[L.FUNC_ADD]:xa.ADD,[L.MIN_EXT]:xa.MIN,[L.MAX_EXT]:xa.MAX,[L.FUNC_SUBTRACT]:xa.SUBSTRACT,[L.FUNC_REVERSE_SUBTRACT]:xa.REVERSE_SUBSTRACT},Hh={[L.ZERO]:Uo.ZERO,[L.ONE]:Uo.ONE,[L.SRC_COLOR]:Uo.SRC,[L.ONE_MINUS_SRC_COLOR]:Uo.ONE_MINUS_SRC,[L.SRC_ALPHA]:Uo.SRC_ALPHA,[L.ONE_MINUS_SRC_ALPHA]:Uo.ONE_MINUS_SRC_ALPHA,[L.DST_COLOR]:Uo.DST,[L.ONE_MINUS_DST_COLOR]:Uo.ONE_MINUS_DST,[L.DST_ALPHA]:Uo.DST_ALPHA,[L.ONE_MINUS_DST_ALPHA]:Uo.ONE_MINUS_DST_ALPHA,[L.CONSTANT_COLOR]:Uo.CONST,[L.ONE_MINUS_CONSTANT_COLOR]:Uo.ONE_MINUS_CONSTANT,[L.CONSTANT_ALPHA]:Uo.CONST,[L.ONE_MINUS_CONSTANT_ALPHA]:Uo.ONE_MINUS_CONSTANT,[L.SRC_ALPHA_SATURATE]:Uo.SRC_ALPHA_SATURATE},E1={[L.REPLACE]:pi.REPLACE,[L.KEEP]:pi.KEEP,[L.ZERO]:pi.ZERO,[L.INVERT]:pi.INVERT,[L.INCR]:pi.INCREMENT_CLAMP,[L.DECR]:pi.DECREMENT_CLAMP,[L.INCR_WRAP]:pi.INCREMENT_WRAP,[L.DECR_WRAP]:pi.DECREMENT_WRAP},yB={[L.ALWAYS]:un.ALWAYS,[L.EQUAL]:un.EQUAL,[L.GEQUAL]:un.GEQUAL,[L.GREATER]:un.GREATER,[L.LEQUAL]:un.LEQUAL,[L.LESS]:un.LESS,[L.NEVER]:un.NEVER,[L.NOTEQUAL]:un.NOTEQUAL},hB={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function zf(e){return Object.prototype.toString.call(e)in hB}function fB(e,t){const r=e.length,n=Math.ceil(r/3),s=r+n,u=new Float32Array(s);for(let i=0;i<s;i+=4)u[i]=e[i/4*3],u[i+1]=e[i/4*3+1],u[i+2]=e[i/4*3+2],u[i+3]=t;return u}var mB=class{constructor(e,t){this.isDestroyed=!1;const{data:r,usage:n,type:s,isUBO:u,label:i}=t;let y;zf(r)?y=r:y=new kf[this.type||L.FLOAT](r),this.type=s,this.size=y.byteLength,this.buffer=e.createBuffer({viewOrSize:y,usage:u?bn.UNIFORM:bn.VERTEX,hint:cB[n||L.STATIC_DRAW]}),i&&e.setResourceName(this.buffer,i)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){let r;zf(e)?r=e:r=new kf[this.type||L.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(r.buffer))}};function ln(e,t=0){return e+=t,e+=e<<10,e+=e>>>6,e>>>0}function O9(e){return e+=e<<3,e^=e>>>11,e+=e<<15,e>>>0}function wg(){return 0}var _B=class{constructor(){this.keys=[],this.values=[]}},Gh=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map}findBucketIndex(e,t){for(let r=0;r<e.keys.length;r++)if(this.keyEqualFunc(t,e.keys[r]))return r;return-1}findBucket(e){const t=this.keyHashFunc(e);return this.buckets.get(t)}get(e){const t=this.findBucket(e);if(t===void 0)return null;const r=this.findBucketIndex(t,e);return r<0?null:t.values[r]}add(e,t){const r=this.keyHashFunc(e);this.buckets.get(r)===void 0&&this.buckets.set(r,new _B);const n=this.buckets.get(r);n.keys.push(e),n.values.push(t)}delete(e){const t=this.findBucket(e);if(t===void 0)return;const r=this.findBucketIndex(t,e);r!==-1&&(t.keys.splice(r,1),t.values.splice(r,1))}clear(){this.buckets.clear()}size(){let e=0;for(const t of this.buckets.values())e+=t.values.length;return e}*values(){for(const e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t]}};function Rg(e,t){return e=ln(e,t.blendMode),e=ln(e,t.blendSrcFactor),e=ln(e,t.blendDstFactor),e}function gB(e,t){return e=Rg(e,t.rgbBlendState),e=Rg(e,t.alphaBlendState),e=ln(e,t.channelWriteMask),e}function vB(e,t){return e=ln(e,t.r<<24|t.g<<16|t.b<<8|t.a),e}function EB(e,t){var r,n,s,u,i,y,m,g;for(let x=0;x<t.attachmentsState.length;x++)e=gB(e,t.attachmentsState[x]);return e=vB(e,t.blendConstant||em),e=ln(e,t.depthCompare),e=ln(e,t.depthWrite?1:0),e=ln(e,(r=t.stencilFront)==null?void 0:r.compare),e=ln(e,(n=t.stencilFront)==null?void 0:n.passOp),e=ln(e,(s=t.stencilFront)==null?void 0:s.failOp),e=ln(e,(u=t.stencilFront)==null?void 0:u.depthFailOp),e=ln(e,(i=t.stencilBack)==null?void 0:i.compare),e=ln(e,(y=t.stencilBack)==null?void 0:y.passOp),e=ln(e,(m=t.stencilBack)==null?void 0:m.failOp),e=ln(e,(g=t.stencilBack)==null?void 0:g.depthFailOp),e=ln(e,t.stencilWrite?1:0),e=ln(e,t.cullMode),e=ln(e,t.frontFace?1:0),e=ln(e,t.polygonOffset?1:0),e}function xB(e){let t=0;t=ln(t,e.program.id),e.inputLayout!==null&&(t=ln(t,e.inputLayout.id)),t=EB(t,e.megaStateDescriptor);for(let r=0;r<e.colorAttachmentFormats.length;r++)t=ln(t,e.colorAttachmentFormats[r]||0);return t=ln(t,e.depthStencilAttachmentFormat||0),O9(t)}function PB(e){let t=0;if(e.samplerBindings)for(let r=0;r<e.samplerBindings.length;r++){const n=e.samplerBindings[r];n!==null&&n.texture!==null&&(t=ln(t,n.texture.id))}if(e.uniformBufferBindings)for(let r=0;r<e.uniformBufferBindings.length;r++){const n=e.uniformBufferBindings[r];n!==null&&n.buffer!==null&&(t=ln(t,n.buffer.id),t=ln(t,n.binding),t=ln(t,n.offset),t=ln(t,n.size))}if(e.storageBufferBindings)for(let r=0;r<e.storageBufferBindings.length;r++){const n=e.storageBufferBindings[r];n!==null&&n.buffer!==null&&(t=ln(t,n.buffer.id),t=ln(t,n.binding),t=ln(t,n.offset),t=ln(t,n.size))}if(e.storageTextureBindings)for(let r=0;r<e.storageTextureBindings.length;r++){const n=e.storageTextureBindings[r];n!==null&&n.texture!==null&&(t=ln(t,n.texture.id),t=ln(t,n.binding))}return O9(t)}function bB(e,t){var r,n,s,u;return((r=e.vertex)==null?void 0:r.glsl)===((n=t.vertex)==null?void 0:n.glsl)&&((s=e.fragment)==null?void 0:s.glsl)===((u=t.fragment)==null?void 0:u.glsl)}function FB(e){var t,r;return{vertex:{glsl:(t=e.vertex)==null?void 0:t.glsl},fragment:{glsl:(r=e.fragment)==null?void 0:r.glsl}}}var AB=class{constructor(e){this.device=e,this.bindingsCache=new Gh(FO,PB),this.renderPipelinesCache=new Gh(wO,xB),this.inputLayoutsCache=new Gh(MO,wg),this.programCache=new Gh(bB,wg)}createBindings(e){var t;let r=this.bindingsCache.get(e);if(r===null){const n=DO(e);n.uniformBufferBindings=(t=n.uniformBufferBindings)==null?void 0:t.filter(({size:s})=>s&&s>0),r=this.device.createBindings(n),this.bindingsCache.add(n,r)}return r}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(t===null){const r=OO(e);r.colorAttachmentFormats=r.colorAttachmentFormats.filter(n=>n),t=this.device.createRenderPipeline(r),this.renderPipelinesCache.add(r,t)}return t}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(r=>!!r);let t=this.inputLayoutsCache.get(e);if(t===null){const r=UO(e);t=this.device.createInputLayout(r),this.inputLayoutsCache.add(r,t)}return t}createProgram(e){let t=this.programCache.get(e);if(t===null){const r=FB(e);t=this.device.createProgram(e),this.programCache.add(r,t)}return t}destroy(){for(const e of this.bindingsCache.values())e.destroy();for(const e of this.renderPipelinesCache.values())e.destroy();for(const e of this.inputLayoutsCache.values())e.destroy();for(const e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},SB=class{constructor(e,t){const{data:r,type:n,count:s=0}=t;let u;zf(r)?u=r:u=new kf[this.type||L.UNSIGNED_INT](r),this.type=n,this.count=s,this.indexBuffer=e.createBuffer({viewOrSize:u,usage:bn.INDEX})}get(){return this.indexBuffer}subData({data:e}){let t;zf(e)?t=e:t=new kf[this.type||L.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer))}destroy(){this.indexBuffer.destroy()}};function Cg(e){return!!(e&&e.texture)}var L9=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;const{wrapS:r=L.CLAMP_TO_EDGE,wrapT:n=L.CLAMP_TO_EDGE,aniso:s,mag:u=L.NEAREST,min:i=L.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:Sg[r],addressModeV:Sg[n],minFilter:i===L.NEAREST?Pi.POINT:Pi.BILINEAR,magFilter:u===L.NEAREST?Pi.POINT:Pi.BILINEAR,mipmapFilter:pa.NO_MIP,maxAnisotropy:s})}createTexture(e){const{type:t=L.UNSIGNED_BYTE,width:r,height:n,flipY:s=!1,format:u=L.RGBA,alignment:i=1,usage:y=Ey.SAMPLED,unorm:m=!1,label:g}=e;let{data:x}=e;this.width=r,this.height=n;let b=Ue.U8_RGBA_RT;if(t===L.UNSIGNED_BYTE&&u===L.RGBA)b=m?Ue.U8_RGBA_NORM:Ue.U8_RGBA_RT;else if(t===L.UNSIGNED_BYTE&&u===L.LUMINANCE)b=Ue.U8_LUMINANCE;else if(t===L.FLOAT&&u===L.RGB)this.device.queryVendorInfo().platformString==="WebGPU"?(x&&(x=fB(x,0)),b=Ue.F32_RGBA):b=Ue.F32_RGB;else if(t===L.FLOAT&&u===L.RGBA)b=Ue.F32_RGBA;else if(t===L.FLOAT&&u===L.RED)b=Ue.F32_R;else throw new Error(`create texture error, type: ${t}, format: ${u}`);this.texture=this.device.createTexture({format:b,width:r,height:n,usage:y===Ey.SAMPLED?us.SAMPLED:us.RENDER_TARGET,pixelStore:{unpackFlipY:s,packAlignment:i},mipLevelCount:1}),g&&this.device.setResourceName(this.texture,g),x&&this.texture.setImageData([x])}get(){return this.texture}update(e){const{data:t}=e;this.texture.setImageData([t])}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var e;!this.isDestroy&&!this.texture.destroyed&&((e=this.texture)==null||e.destroy()),this.isDestroy=!0}},B9=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(e=!1){const{width:t,height:r,color:n}=this.options;n&&(Cg(n)?(e&&n.resize({width:t,height:r}),this.colorTexture=n.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=n.width,this.height=n.height):t&&r&&(this.colorTexture=this.device.createTexture({format:Ue.U8_RGBA_RT,usage:us.RENDER_TARGET,width:t,height:r}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=r))}createDepthRenderTarget(e=!1){const{width:t,height:r,depth:n}=this.options;n&&(Cg(n)?(e&&n.resize({width:t,height:r}),this.depthTexture=n.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=n.width,this.height=n.height):t&&r&&(this.depthTexture=this.device.createTexture({format:Ue.D24_S8,usage:us.RENDER_TARGET,width:t,height:r}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=r))}get(){return this.colorRenderTarget}destroy(){var e,t;(e=this.colorRenderTarget)==null||e.destroy(),(t=this.depthRenderTarget)==null||t.destroy()}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},TB=Object.defineProperty,wB=Object.defineProperties,RB=Object.getOwnPropertyDescriptors,Mg=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,MB=Object.prototype.propertyIsEnumerable,Ig=(e,t,r)=>t in e?TB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d0=(e,t)=>{for(var r in t||(t={}))CB.call(t,r)&&Ig(e,r,t[r]);if(Mg)for(var r of Mg(t))MB.call(t,r)&&Ig(e,r,t[r]);return e},IB=(e,t)=>wB(e,RB(t)),{isPlainObject:NB,isTypedArray:DB}=Wi,OB=class{constructor(e,t,r){this.device=e,this.options=t,this.service=r,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];const{vs:n,fs:s,attributes:u,uniforms:i,count:y,elements:m,diagnosticDerivativeUniformityEnabled:g}=t;this.options=t;const x=g?"":this.service.viewportOrigin===qp.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=r.renderCache.createProgram({vertex:{glsl:n},fragment:{glsl:s,postprocess:M=>x+M}}),i&&(this.uniforms=this.extractUniforms(i));const b=[];let A=0;Object.keys(u).forEach(M=>{const V=u[M],k=V.get();this.vertexBuffers.push(k.get());const{offset:Q=0,stride:q=0,size:K=1,divisor:te=0,shaderLocation:se=0}=V.attribute;b.push({arrayStride:q||K*4,stepMode:b0.VERTEX,attributes:[{format:pB[K],shaderLocation:se,offset:Q,divisor:te}]}),A=k.size/K}),y||(this.options.count=A),m&&(this.indexBuffer=m.get());const w=e.createInputLayout({vertexBufferDescriptors:b,indexBufferFormat:m?Ue.U32_R:null,program:this.program});this.inputLayout=w,this.pipeline=this.createPipeline(t)}createPipeline(e,t){const{primitive:r=L.TRIANGLES,depth:n,cull:s,blend:u,stencil:i}=e,y=this.initDepthDrawParams({depth:n}),m=!!(y&&y.enable),g=this.initCullDrawParams({cull:s}),x=!!(g&&g.enable),b=this.getBlendDrawParams({blend:u}),A=!!(b&&b.enable),w=this.getStencilDrawParams({stencil:i}),M=!!(w&&w.enable);return this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:uB[r],colorAttachmentFormats:[Ue.U8_RGBA_RT],depthStencilAttachmentFormat:Ue.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:Ea.ALL,rgbBlendState:{blendMode:xa.ADD,blendSrcFactor:Uo.ONE,blendDstFactor:Uo.ZERO},alphaBlendState:{blendMode:xa.ADD,blendSrcFactor:Uo.ONE,blendDstFactor:Uo.ZERO}}:{channelWriteMask:M&&w.opFront.zpass===pi.REPLACE?Ea.NONE:Ea.ALL,rgbBlendState:{blendMode:A&&b.equation.rgb||xa.ADD,blendSrcFactor:A&&b.func.srcRGB||Uo.SRC_ALPHA,blendDstFactor:A&&b.func.dstRGB||Uo.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:A&&b.equation.alpha||xa.ADD,blendSrcFactor:A&&b.func.srcAlpha||Uo.ONE,blendDstFactor:A&&b.func.dstAlpha||Uo.ONE}}],blendConstant:A?em:void 0,depthWrite:m,depthCompare:m&&y.func||un.LESS,cullMode:x&&g.face||Gs.NONE,stencilWrite:M,stencilFront:{compare:M?w.func.cmp:un.ALWAYS,passOp:w.opFront.zpass,failOp:w.opFront.fail,depthFailOp:w.opFront.zfail,mask:w.opFront.mask},stencilBack:{compare:M?w.func.cmp:un.ALWAYS,passOp:w.opBack.zpass,failOp:w.opBack.fail,depthFailOp:w.opBack.zfail,mask:w.opBack.mask}}})}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=d0(d0({},this.uniforms),this.extractUniforms(e))}draw(e,t){const r=d0(d0({},this.options),e),{count:n=0,instances:s,elements:u,uniforms:i={},uniformBuffers:y,textures:m}=r;this.uniforms=d0(d0({},this.uniforms),this.extractUniforms(i));const{renderPass:g,currentFramebuffer:x,width:b,height:A,renderCache:w}=this.service;this.pipeline=this.createPipeline(r,t);const M=this.service.device,V=M.swapChainHeight;if(M.swapChainHeight=(x==null?void 0:x.height)||A,g.setViewport(0,0,(x==null?void 0:x.width)||b,(x==null?void 0:x.height)||A),M.swapChainHeight=V,g.setPipeline(this.pipeline),g.setStencilReference(1),g.setVertexInput(this.inputLayout,this.vertexBuffers.map(k=>({buffer:k})),u?{buffer:this.indexBuffer,offset:0}:null),y&&(this.bindings=w.createBindings({pipeline:this.pipeline,uniformBufferBindings:y.map((k,Q)=>{const q=k;return{binding:Q,buffer:q.get(),size:q.size}}),samplerBindings:m==null?void 0:m.map(k=>({texture:k.texture,sampler:k.sampler}))})),this.bindings&&(g.setBindings(this.bindings),Object.keys(this.uniforms).forEach(k=>{const Q=this.uniforms[k];Q instanceof L9?this.uniforms[k]=Q.get():Q instanceof B9&&(this.uniforms[k]=Q.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),u){const k=u.count;k===0?g.draw(n,s):g.drawIndexed(k,s)}else g.draw(n,s)}destroy(){var e,t,r;(e=this.vertexBuffers)==null||e.forEach(n=>n.destroy()),(t=this.indexBuffer)==null||t.destroy(),(r=this.bindings)==null||r.destroy(),this.inputLayout.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:e}){if(e)return{enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:lB[e.func||L.LESS],range:e.range||[0,1]}}getBlendDrawParams({blend:e}){const{enable:t,func:r,equation:n,color:s=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:Hh[r&&r.srcRGB||L.SRC_ALPHA],srcAlpha:Hh[r&&r.srcAlpha||L.SRC_ALPHA],dstRGB:Hh[r&&r.dstRGB||L.ONE_MINUS_SRC_ALPHA],dstAlpha:Hh[r&&r.dstAlpha||L.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Tg[n&&n.rgb||L.FUNC_ADD],alpha:Tg[n&&n.alpha||L.FUNC_ADD]},color:s}}getStencilDrawParams({stencil:e}){const{enable:t,mask:r=4294967295,func:n={cmp:L.ALWAYS,ref:0,mask:4294967295},opFront:s={fail:L.KEEP,zfail:L.KEEP,zpass:L.KEEP},opBack:u={fail:L.KEEP,zfail:L.KEEP,zpass:L.KEEP}}=e||{};return{enable:!!t,mask:r,func:IB(d0({},n),{cmp:yB[n.cmp]}),opFront:{fail:E1[s.fail],zfail:E1[s.zfail],zpass:E1[s.zpass],mask:n.mask},opBack:{fail:E1[u.fail],zfail:E1[u.zfail],zpass:E1[u.zpass],mask:n.mask}}}initCullDrawParams({cull:e}){if(e){const{enable:t,face:r=L.BACK}=e;return{enable:!!t,face:dB[r]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"")}),t}extractUniformsRecursively(e,t,r,n){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||DB(t)||t===""||"resize"in t){r[`${n&&n+"."}${e}`]=t;return}NB(t)&&Object.keys(t).forEach(s=>{this.extractUniformsRecursively(s,t[s],r,`${n&&n+"."}${e}`)}),Array.isArray(t)&&t.forEach((s,u)=>{Object.keys(s).forEach(i=>{this.extractUniformsRecursively(i,s[i],r,`${n&&n+"."}${e}[${u}]`)})})}};function LB(e){return typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?!0:!!(e&&e._version===2)}var l2=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),{isUndefined:jh}=Wi,BB=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new OB(this.device,e,this),this.createAttribute=e=>new sB(this.device,e),this.createBuffer=e=>new mB(this.device,e),this.createElements=e=>new SB(this.device,e),this.createTexture2D=e=>new L9(this.device,e),this.createFramebuffer=e=>new B9(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(e,t)=>l2(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=e=>{const{color:t,depth:r,stencil:n,framebuffer:s=null}=e;if(s)s.clearOptions={color:t,depth:r,stencil:n};else{const u=this.queryVerdorInfo();if(u==="WebGL1"){const i=this.getGLContext();jh(n)?jh(r)||(i.clearDepth(r),i.clear(i.DEPTH_BUFFER_BIT)):(i.clearStencil(n),i.clear(i.STENCIL_BUFFER_BIT))}else if(u==="WebGL2"){const i=this.getGLContext();jh(n)?jh(r)||i.clearBufferfv(i.DEPTH,0,[r]):i.clearBufferiv(i.STENCIL,0,[n])}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t},this.readPixels=e=>{const{framebuffer:t,x:r,y:n,width:s,height:u}=e,i=this.device.createReadback(),y=t.colorTexture,m=i.readTextureSync(y,r,this.viewportOrigin===qp.LOWER_LEFT?n:this.height-n,s,u,new Uint8Array(s*u*4));return i.destroy(),m},this.readPixelsAsync=e=>l2(this,null,function*(){const{framebuffer:t,x:r,y:n,width:s,height:u}=e,i=this.device.createReadback(),y=t.colorTexture,m=yield i.readTexture(y,r,this.viewportOrigin===qp.LOWER_LEFT?n:this.height-n,s,u,new Uint8Array(s*u*4));if(this.viewportOrigin!==qp.LOWER_LEFT)for(let g=0;g<m.length;g+=4){const x=m[g];m[g]=m[g+2],m[g+2]=x}return i.destroy(),m}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,(e=this.uniformBuffers)==null||e.forEach(t=>{t.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(e,t){return l2(this,null,function*(){const{enableWebGPU:r,shaderCompilerPath:n,antialias:s}=t;this.canvas=e;const i=yield(r?new aB({shaderCompilerPath:n}):new gL({targets:["webgl2","webgl1"],antialias:s,onContextLost(m){console.warn("context lost",m)},onContextCreationError(m){console.warn("context creation error",m)},onContextRestored(m){console.warn("context restored",m)}})).createSwapChain(e);i.configureSwapChain(e.width,e.height),this.device=i.getDevice(),this.swapChain=i,this.renderCache=new AB(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;const y=this.device.gl;this.extensionObject={OES_texture_float:!LB(y)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height)})}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:Ue.U8_RGBA_RT,width:e,height:t,usage:us.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:Ue.D24_S8,width:e,height:t,usage:us.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();const{currentFramebuffer:e,swapChain:t,mainColorRT:r,mainDepthRT:n}=this,s=e?e.colorRenderTarget:r,u=e?null:t.getOnscreenTexture(),i=e?e.depthRenderTarget:n,{color:y=[0,0,0,0],depth:m=1,stencil:g=0}=(e==null?void 0:e.clearOptions)||{},x=s?Hy(y[0]*255,y[1]*255,y[2]*255,y[3]):em,b=i?m:void 0,A=i?g:void 0,w=this.device.createRenderPass({colorAttachment:[s],colorResolveTo:[u],colorClearColor:[x],colorStore:[!0],depthStencilAttachment:i,depthClearValue:b,stencilClearValue:A});this.renderPass=w}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){const e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}},U9={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(s6,function(){var r=function(N){return N instanceof Uint8Array||N instanceof Uint16Array||N instanceof Uint32Array||N instanceof Int8Array||N instanceof Int16Array||N instanceof Int32Array||N instanceof Float32Array||N instanceof Float64Array||N instanceof Uint8ClampedArray},n=function(N,ie){for(var xe=Object.keys(ie),et=0;et<xe.length;++et)N[xe[et]]=ie[xe[et]];return N},s=`
`;function u(N){return typeof atob<"u"?atob(N):"base64:"+N}function i(N){var ie=new Error("(regl) "+N);throw console.error(ie),ie}function y(N,ie){N||i(ie)}function m(N){return N?": "+N:""}function g(N,ie,xe){N in ie||i("unknown parameter ("+N+")"+m(xe)+". possible values: "+Object.keys(ie).join())}function x(N,ie){r(N)||i("invalid parameter type"+m(ie)+". must be a typed array")}function b(N,ie){switch(ie){case"number":return typeof N=="number";case"object":return typeof N=="object";case"string":return typeof N=="string";case"boolean":return typeof N=="boolean";case"function":return typeof N=="function";case"undefined":return typeof N>"u";case"symbol":return typeof N=="symbol"}}function A(N,ie,xe){b(N,ie)||i("invalid parameter type"+m(xe)+". expected "+ie+", got "+typeof N)}function w(N,ie){N>=0&&(N|0)===N||i("invalid parameter type, ("+N+")"+m(ie)+". must be a nonnegative integer")}function M(N,ie,xe){ie.indexOf(N)<0&&i("invalid value"+m(xe)+". must be one of: "+ie)}var V=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function k(N){Object.keys(N).forEach(function(ie){V.indexOf(ie)<0&&i('invalid regl constructor argument "'+ie+'". must be one of '+V)})}function Q(N,ie){for(N=N+"";N.length<ie;)N=" "+N;return N}function q(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function K(N,ie){this.number=N,this.line=ie,this.errors=[]}function te(N,ie,xe){this.file=N,this.line=ie,this.message=xe}function se(){var N=new Error,ie=(N.stack||N).toString(),xe=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ie);if(xe)return xe[1];var et=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ie);return et?et[1]:"unknown"}function ke(){var N=new Error,ie=(N.stack||N).toString(),xe=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ie);if(xe)return xe[1];var et=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ie);return et?et[1]:"unknown"}function Ee(N,ie){var xe=N.split(`
`),et=1,_t=0,tt={unknown:new q,0:new q};tt.unknown.name=tt[0].name=ie||se(),tt.unknown.lines.push(new K(0,""));for(var Ye=0;Ye<xe.length;++Ye){var Ot=xe[Ye],Rt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Ot);if(Rt)switch(Rt[1]){case"line":var Zt=/(\d+)(\s+\d+)?/.exec(Rt[2]);Zt&&(et=Zt[1]|0,Zt[2]&&(_t=Zt[2]|0,_t in tt||(tt[_t]=new q)));break;case"define":var Ut=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Rt[2]);Ut&&(tt[_t].name=Ut[1]?u(Ut[2]):Ut[2]);break}tt[_t].lines.push(new K(et++,Ot))}return Object.keys(tt).forEach(function(Gt){var $t=tt[Gt];$t.lines.forEach(function(Ct){$t.index[Ct.number]=Ct})}),tt}function je(N){var ie=[];return N.split(`
`).forEach(function(xe){if(!(xe.length<5)){var et=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(xe);et?ie.push(new te(et[1]|0,et[2]|0,et[3].trim())):xe.length>0&&ie.push(new te("unknown",0,xe))}}),ie}function mt(N,ie){ie.forEach(function(xe){var et=N[xe.file];if(et){var _t=et.index[xe.line];if(_t){_t.errors.push(xe),et.hasErrors=!0;return}}N.unknown.hasErrors=!0,N.unknown.lines[0].errors.push(xe)})}function He(N,ie,xe,et,_t){if(!N.getShaderParameter(ie,N.COMPILE_STATUS)){var tt=N.getShaderInfoLog(ie),Ye=et===N.FRAGMENT_SHADER?"fragment":"vertex";Fr(xe,"string",Ye+" shader source must be a string",_t);var Ot=Ee(xe,_t),Rt=je(tt);mt(Ot,Rt),Object.keys(Ot).forEach(function(Zt){var Ut=Ot[Zt];if(!Ut.hasErrors)return;var Gt=[""],$t=[""];function Ct(jt,Ge){Gt.push(jt),$t.push(Ge||"")}Ct("file number "+Zt+": "+Ut.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ut.lines.forEach(function(jt){if(jt.errors.length>0){Ct(Q(jt.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ct(jt.line+s,"color:red; background-color:yellow; font-weight:bold");var Ge=0;jt.errors.forEach(function(pt){var Lt=pt.message,tr=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Lt);if(tr){var Ft=tr[1];switch(Lt=tr[2],Ft){case"assign":Ft="=";break}Ge=Math.max(jt.line.indexOf(Ft,Ge),0)}else Ge=0;Ct(Q("| ",6)),Ct(Q("^^^",Ge+3)+s,"font-weight:bold"),Ct(Q("| ",6)),Ct(Lt+s,"font-weight:bold")}),Ct(Q("| ",6)+s)}else Ct(Q(jt.number,4)+"|  "),Ct(jt.line+s,"color:red")}),typeof document<"u"&&!window.chrome?($t[0]=Gt.join("%c"),console.log.apply(console,$t)):console.log(Gt.join(""))}),y.raise("Error compiling "+Ye+" shader, "+Ot[0].name)}}function Fe(N,ie,xe,et,_t){if(!N.getProgramParameter(ie,N.LINK_STATUS)){var tt=N.getProgramInfoLog(ie),Ye=Ee(xe,_t),Ot=Ee(et,_t),Rt='Error linking program with vertex shader, "'+Ot[0].name+'", and fragment shader "'+Ye[0].name+'"';typeof document<"u"?console.log("%c"+Rt+s+"%c"+tt,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Rt+s+tt),y.raise(Rt)}}function Le(N){N._commandRef=se()}function ze(N,ie,xe,et){Le(N);function _t(Rt){return Rt?et.id(Rt):0}N._fragId=_t(N.static.frag),N._vertId=_t(N.static.vert);function tt(Rt,Zt){Object.keys(Zt).forEach(function(Ut){Rt[et.id(Ut)]=!0})}var Ye=N._uniformSet={};tt(Ye,ie.static),tt(Ye,ie.dynamic);var Ot=N._attributeSet={};tt(Ot,xe.static),tt(Ot,xe.dynamic),N._hasCount="count"in N.static||"count"in N.dynamic||"elements"in N.static||"elements"in N.dynamic}function st(N,ie){var xe=ke();i(N+" in command "+(ie||se())+(xe==="unknown"?"":" called from "+xe))}function Vt(N,ie,xe){N||st(ie,xe||se())}function nr(N,ie,xe,et){N in ie||st("unknown parameter ("+N+")"+m(xe)+". possible values: "+Object.keys(ie).join(),et||se())}function Fr(N,ie,xe,et){b(N,ie)||st("invalid parameter type"+m(xe)+". expected "+ie+", got "+typeof N,et||se())}function $r(N){N()}function mr(N,ie,xe){N.texture?M(N.texture._texture.internalformat,ie,"unsupported texture format for attachment"):M(N.renderbuffer._renderbuffer.format,xe,"unsupported renderbuffer format for attachment")}var Er=33071,Kr=9728,eo=9984,go=9985,wo=9986,no=9987,Xn=5120,Fo=5121,On=5122,$e=5123,Yt=5124,Tr=5125,At=5126,xr=32819,io=32820,vo=33635,ro=34042,Qr=36193,Ao={};Ao[Xn]=Ao[Fo]=1,Ao[On]=Ao[$e]=Ao[Qr]=Ao[vo]=Ao[xr]=Ao[io]=2,Ao[Yt]=Ao[Tr]=Ao[At]=Ao[ro]=4;function Kn(N,ie){return N===io||N===xr||N===vo?2:N===ro?4:Ao[N]*ie}function Jo(N){return!(N&N-1)&&!!N}function rn(N,ie,xe){var et,_t=ie.width,tt=ie.height,Ye=ie.channels;y(_t>0&&_t<=xe.maxTextureSize&&tt>0&&tt<=xe.maxTextureSize,"invalid texture shape"),(N.wrapS!==Er||N.wrapT!==Er)&&y(Jo(_t)&&Jo(tt),"incompatible wrap mode for texture, both width and height must be power of 2"),ie.mipmask===1?_t!==1&&tt!==1&&y(N.minFilter!==eo&&N.minFilter!==wo&&N.minFilter!==go&&N.minFilter!==no,"min filter requires mipmap"):(y(Jo(_t)&&Jo(tt),"texture must be a square power of 2 to support mipmapping"),y(ie.mipmask===(_t<<1)-1,"missing or incomplete mipmap data")),ie.type===At&&(xe.extensions.indexOf("oes_texture_float_linear")<0&&y(N.minFilter===Kr&&N.magFilter===Kr,"filter not supported, must enable oes_texture_float_linear"),y(!N.genMipmaps,"mipmap generation not supported with float textures"));var Ot=ie.images;for(et=0;et<16;++et)if(Ot[et]){var Rt=_t>>et,Zt=tt>>et;y(ie.mipmask&1<<et,"missing mipmap data");var Ut=Ot[et];if(y(Ut.width===Rt&&Ut.height===Zt,"invalid shape for mip images"),y(Ut.format===ie.format&&Ut.internalformat===ie.internalformat&&Ut.type===ie.type,"incompatible type for mip image"),!Ut.compressed)if(Ut.data){var Gt=Math.ceil(Kn(Ut.type,Ye)*Rt/Ut.unpackAlignment)*Ut.unpackAlignment;y(Ut.data.byteLength===Gt*Zt,"invalid data for image, buffer size is inconsistent with image format")}else Ut.element||Ut.copy}else N.genMipmaps||y((ie.mipmask&1<<et)===0,"extra mipmap data");ie.compressed&&y(!N.genMipmaps,"mipmap generation for compressed images not supported")}function bi(N,ie,xe,et){var _t=N.width,tt=N.height,Ye=N.channels;y(_t>0&&_t<=et.maxTextureSize&&tt>0&&tt<=et.maxTextureSize,"invalid texture shape"),y(_t===tt,"cube map must be square"),y(ie.wrapS===Er&&ie.wrapT===Er,"wrap mode not supported by cube map");for(var Ot=0;Ot<xe.length;++Ot){var Rt=xe[Ot];y(Rt.width===_t&&Rt.height===tt,"inconsistent cube map face shape"),ie.genMipmaps&&(y(!Rt.compressed,"can not generate mipmap for compressed textures"),y(Rt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Zt=Rt.images,Ut=0;Ut<16;++Ut){var Gt=Zt[Ut];if(Gt){var $t=_t>>Ut,Ct=tt>>Ut;y(Rt.mipmask&1<<Ut,"missing mipmap data"),y(Gt.width===$t&&Gt.height===Ct,"invalid shape for mip images"),y(Gt.format===N.format&&Gt.internalformat===N.internalformat&&Gt.type===N.type,"incompatible type for mip image"),Gt.compressed||(Gt.data?y(Gt.data.byteLength===$t*Ct*Math.max(Kn(Gt.type,Ye),Gt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Gt.element||Gt.copy)}}}}var ue=n(y,{optional:$r,raise:i,commandRaise:st,command:Vt,parameter:g,commandParameter:nr,constructor:k,type:A,commandType:Fr,isTypedArray:x,nni:w,oneOf:M,shaderError:He,linkError:Fe,callSite:ke,saveCommandRef:Le,saveDrawInfo:ze,framebufferFormat:mr,guessCommand:se,texture2D:rn,textureCube:bi}),Fi=0,Za=0;function Ai(N,ie){this.id=Fi++,this.type=N,this.data=ie}function ps(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function pn(N){if(N.length===0)return[];var ie=N.charAt(0),xe=N.charAt(N.length-1);if(N.length>1&&ie===xe&&(ie==='"'||ie==="'"))return['"'+ps(N.substr(1,N.length-2))+'"'];var et=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(N);if(et)return pn(N.substr(0,et.index)).concat(pn(et[1])).concat(pn(N.substr(et.index+et[0].length)));var _t=N.split(".");if(_t.length===1)return['"'+ps(N)+'"'];for(var tt=[],Ye=0;Ye<_t.length;++Ye)tt=tt.concat(pn(_t[Ye]));return tt}function Si(N){return"["+pn(N).join("][")+"]"}function ca(N,ie){return new Ai(N,Si(ie+""))}function Ti(N){return typeof N=="function"&&!N._reglType||N instanceof Ai}function xs(N,ie){return typeof N=="function"?new Ai(Za,N):N}var Hn={DynamicVariable:Ai,define:ca,isDynamic:Ti,unbox:xs,accessor:Si},cs={next:typeof requestAnimationFrame=="function"?function(N){return requestAnimationFrame(N)}:function(N){return setTimeout(N,16)},cancel:typeof cancelAnimationFrame=="function"?function(N){return cancelAnimationFrame(N)}:clearTimeout},ba=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ws(){var N={"":0},ie=[""];return{id:function(xe){var et=N[xe];return et||(et=N[xe]=ie.length,ie.push(xe),et)},str:function(xe){return ie[xe]}}}function qu(N,ie,xe){var et=document.createElement("canvas");n(et.style,{border:0,margin:0,padding:0,top:0,left:0}),N.appendChild(et),N===document.body&&(et.style.position="absolute",n(N.style,{margin:0,padding:0}));function _t(){var Ot=window.innerWidth,Rt=window.innerHeight;if(N!==document.body){var Zt=N.getBoundingClientRect();Ot=Zt.right-Zt.left,Rt=Zt.bottom-Zt.top}et.width=xe*Ot,et.height=xe*Rt,n(et.style,{width:Ot+"px",height:Rt+"px"})}var tt;N!==document.body&&typeof ResizeObserver=="function"?(tt=new ResizeObserver(function(){setTimeout(_t)}),tt.observe(N)):window.addEventListener("resize",_t,!1);function Ye(){tt?tt.disconnect():window.removeEventListener("resize",_t),N.removeChild(et)}return _t(),{canvas:et,onDestroy:Ye}}function Zs(N,ie){function xe(et){try{return N.getContext(et,ie)}catch{return null}}return xe("webgl")||xe("experimental-webgl")||xe("webgl-experimental")}function xp(N){return typeof N.nodeName=="string"&&typeof N.appendChild=="function"&&typeof N.getBoundingClientRect=="function"}function Xs(N){return typeof N.drawArrays=="function"||typeof N.drawElements=="function"}function Da(N){return typeof N=="string"?N.split():(ue(Array.isArray(N),"invalid extension array"),N)}function Oa(N){return typeof N=="string"?(ue(typeof document<"u","not supported outside of DOM"),document.querySelector(N)):N}function Ps(N){var ie=N||{},xe,et,_t,tt,Ye={},Ot=[],Rt=[],Zt=typeof window>"u"?1:window.devicePixelRatio,Ut=!1,Gt=function(jt){jt&&ue.raise(jt)},$t=function(){};if(typeof ie=="string"?(ue(typeof document<"u","selector queries only supported in DOM enviroments"),xe=document.querySelector(ie),ue(xe,"invalid query string for element")):typeof ie=="object"?xp(ie)?xe=ie:Xs(ie)?(tt=ie,_t=tt.canvas):(ue.constructor(ie),"gl"in ie?tt=ie.gl:"canvas"in ie?_t=Oa(ie.canvas):"container"in ie&&(et=Oa(ie.container)),"attributes"in ie&&(Ye=ie.attributes,ue.type(Ye,"object","invalid context attributes")),"extensions"in ie&&(Ot=Da(ie.extensions)),"optionalExtensions"in ie&&(Rt=Da(ie.optionalExtensions)),"onDone"in ie&&(ue.type(ie.onDone,"function","invalid or missing onDone callback"),Gt=ie.onDone),"profile"in ie&&(Ut=!!ie.profile),"pixelRatio"in ie&&(Zt=+ie.pixelRatio,ue(Zt>0,"invalid pixel ratio"))):ue.raise("invalid arguments to regl"),xe&&(xe.nodeName.toLowerCase()==="canvas"?_t=xe:et=xe),!tt){if(!_t){ue(typeof document<"u","must manually specify webgl context outside of DOM environments");var Ct=qu(et||document.body,Gt,Zt);if(!Ct)return null;_t=Ct.canvas,$t=Ct.onDestroy}Ye.premultipliedAlpha===void 0&&(Ye.premultipliedAlpha=!0),tt=Zs(_t,Ye)}return tt?{gl:tt,canvas:_t,container:et,extensions:Ot,optionalExtensions:Rt,pixelRatio:Zt,profile:Ut,onDone:Gt,onDestroy:$t}:($t(),Gt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ku(N,ie){var xe={};function et(Ye){ue.type(Ye,"string","extension name must be string");var Ot=Ye.toLowerCase(),Rt;try{Rt=xe[Ot]=N.getExtension(Ot)}catch{}return!!Rt}for(var _t=0;_t<ie.extensions.length;++_t){var tt=ie.extensions[_t];if(!et(tt))return ie.onDestroy(),ie.onDone('"'+tt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ie.optionalExtensions.forEach(et),{extensions:xe,restore:function(){Object.keys(xe).forEach(function(Ye){if(xe[Ye]&&!et(Ye))throw new Error("(regl): error restoring extension "+Ye)})}}}function jo(N,ie){for(var xe=Array(N),et=0;et<N;++et)xe[et]=ie(et);return xe}var U=5120,G=5121,W=5122,ne=5123,ye=5124,Me=5125,Oe=5126;function J(N){for(var ie=16;ie<=1<<28;ie*=16)if(N<=ie)return ie;return 0}function ge(N){var ie,xe;return ie=(N>65535)<<4,N>>>=ie,xe=(N>255)<<3,N>>>=xe,ie|=xe,xe=(N>15)<<2,N>>>=xe,ie|=xe,xe=(N>3)<<1,N>>>=xe,ie|=xe,ie|N>>1}function We(){var N=jo(8,function(){return[]});function ie(tt){var Ye=J(tt),Ot=N[ge(Ye)>>2];return Ot.length>0?Ot.pop():new ArrayBuffer(Ye)}function xe(tt){N[ge(tt.byteLength)>>2].push(tt)}function et(tt,Ye){var Ot=null;switch(tt){case U:Ot=new Int8Array(ie(Ye),0,Ye);break;case G:Ot=new Uint8Array(ie(Ye),0,Ye);break;case W:Ot=new Int16Array(ie(2*Ye),0,Ye);break;case ne:Ot=new Uint16Array(ie(2*Ye),0,Ye);break;case ye:Ot=new Int32Array(ie(4*Ye),0,Ye);break;case Me:Ot=new Uint32Array(ie(4*Ye),0,Ye);break;case Oe:Ot=new Float32Array(ie(4*Ye),0,Ye);break;default:return null}return Ot.length!==Ye?Ot.subarray(0,Ye):Ot}function _t(tt){xe(tt.buffer)}return{alloc:ie,free:xe,allocType:et,freeType:_t}}var ht=We();ht.zero=We();var Nt=3408,ct=3410,wt=3411,_r=3412,yr=3413,dt=3414,or=3415,Wt=33901,Xt=33902,ao=3379,er=3386,So=34921,en=36347,Eo=36348,No=35661,so=35660,Gn=34930,Ro=36349,tn=34076,zo=34024,uo=7936,xo=7937,Bi=7938,mu=35724,Ln=34047,En=36063,_u=34852,Xa=3553,mn=34067,Ys=34069,li=33984,_n=6408,jn=5126,cn=5121,ea=36160,Zi=36053,Jp=36064,Fa=16384,Ml=function(N,ie){var xe=1;ie.ext_texture_filter_anisotropic&&(xe=N.getParameter(Ln));var et=1,_t=1;ie.webgl_draw_buffers&&(et=N.getParameter(_u),_t=N.getParameter(En));var tt=!!ie.oes_texture_float;if(tt){var Ye=N.createTexture();N.bindTexture(Xa,Ye),N.texImage2D(Xa,0,_n,1,1,0,_n,jn,null);var Ot=N.createFramebuffer();if(N.bindFramebuffer(ea,Ot),N.framebufferTexture2D(ea,Jp,Xa,Ye,0),N.bindTexture(Xa,null),N.checkFramebufferStatus(ea)!==Zi)tt=!1;else{N.viewport(0,0,1,1),N.clearColor(1,0,0,1),N.clear(Fa);var Rt=ht.allocType(jn,4);N.readPixels(0,0,1,1,_n,jn,Rt),N.getError()?tt=!1:(N.deleteFramebuffer(Ot),N.deleteTexture(Ye),tt=Rt[0]===1),ht.freeType(Rt)}}var Zt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ut=!0;if(!Zt){var Gt=N.createTexture(),$t=ht.allocType(cn,36);N.activeTexture(li),N.bindTexture(mn,Gt),N.texImage2D(Ys,0,_n,3,3,0,_n,cn,$t),ht.freeType($t),N.bindTexture(mn,null),N.deleteTexture(Gt),Ut=!N.getError()}return{colorBits:[N.getParameter(ct),N.getParameter(wt),N.getParameter(_r),N.getParameter(yr)],depthBits:N.getParameter(dt),stencilBits:N.getParameter(or),subpixelBits:N.getParameter(Nt),extensions:Object.keys(ie).filter(function(Ct){return!!ie[Ct]}),maxAnisotropic:xe,maxDrawbuffers:et,maxColorAttachments:_t,pointSizeDims:N.getParameter(Wt),lineWidthDims:N.getParameter(Xt),maxViewportDims:N.getParameter(er),maxCombinedTextureUnits:N.getParameter(No),maxCubeMapSize:N.getParameter(tn),maxRenderbufferSize:N.getParameter(zo),maxTextureUnits:N.getParameter(Gn),maxTextureSize:N.getParameter(ao),maxAttributes:N.getParameter(So),maxVertexUniforms:N.getParameter(en),maxVertexTextureUnits:N.getParameter(so),maxVaryingVectors:N.getParameter(Eo),maxFragmentUniforms:N.getParameter(Ro),glsl:N.getParameter(mu),renderer:N.getParameter(xo),vendor:N.getParameter(uo),version:N.getParameter(Bi),readFloat:tt,npotTextureCube:Ut}};function Z(N){return!!N&&typeof N=="object"&&Array.isArray(N.shape)&&Array.isArray(N.stride)&&typeof N.offset=="number"&&N.shape.length===N.stride.length&&(Array.isArray(N.data)||r(N.data))}var oe=function(N){return Object.keys(N).map(function(ie){return N[ie]})},we={shape:wi,flatten:Yn};function rt(N,ie,xe){for(var et=0;et<ie;++et)xe[et]=N[et]}function zt(N,ie,xe,et){for(var _t=0,tt=0;tt<ie;++tt)for(var Ye=N[tt],Ot=0;Ot<xe;++Ot)et[_t++]=Ye[Ot]}function wr(N,ie,xe,et,_t,tt){for(var Ye=tt,Ot=0;Ot<ie;++Ot)for(var Rt=N[Ot],Zt=0;Zt<xe;++Zt)for(var Ut=Rt[Zt],Gt=0;Gt<et;++Gt)_t[Ye++]=Ut[Gt]}function Lo(N,ie,xe,et,_t){for(var tt=1,Ye=xe+1;Ye<ie.length;++Ye)tt*=ie[Ye];var Ot=ie[xe];if(ie.length-xe===4){var Rt=ie[xe+1],Zt=ie[xe+2],Ut=ie[xe+3];for(Ye=0;Ye<Ot;++Ye)wr(N[Ye],Rt,Zt,Ut,et,_t),_t+=tt}else for(Ye=0;Ye<Ot;++Ye)Lo(N[Ye],ie,xe+1,et,_t),_t+=tt}function Yn(N,ie,xe,et){var _t=1;if(ie.length)for(var tt=0;tt<ie.length;++tt)_t*=ie[tt];else _t=0;var Ye=et||ht.allocType(xe,_t);switch(ie.length){case 0:break;case 1:rt(N,ie[0],Ye);break;case 2:zt(N,ie[0],ie[1],Ye);break;case 3:wr(N,ie[0],ie[1],ie[2],Ye,0);break;default:Lo(N,ie,0,Ye,0)}return Ye}function wi(N){for(var ie=[],xe=N;xe.length;xe=xe[0])ie.push(xe.length);return ie}var di={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ya=5120,w0=5122,R0=5124,Pp=5121,Il=5123,ec=5125,C0=5126,Oc=5126,Ui={int8:Ya,int16:w0,int32:R0,uint8:Pp,uint16:Il,uint32:ec,float:C0,float32:Oc},gu=35048,vu=35040,bs={dynamic:gu,stream:vu,static:35044},Fs=we.flatten,$s=we.shape,tc=35044,Aa=35040,Bn=5121,Eu=5126,qs=[];qs[5120]=1,qs[5122]=2,qs[5124]=4,qs[5121]=1,qs[5123]=2,qs[5125]=4,qs[5126]=4;function Lc(N){return di[Object.prototype.toString.call(N)]|0}function M0(N,ie){for(var xe=0;xe<ie.length;++xe)N[xe]=ie[xe]}function Bc(N,ie,xe,et,_t,tt,Ye){for(var Ot=0,Rt=0;Rt<xe;++Rt)for(var Zt=0;Zt<et;++Zt)N[Ot++]=ie[_t*Rt+tt*Zt+Ye]}function Nl(N,ie,xe,et){var _t=0,tt={};function Ye(Ge){this.id=_t++,this.buffer=N.createBuffer(),this.type=Ge,this.usage=tc,this.byteLength=0,this.dimension=1,this.dtype=Bn,this.persistentData=null,xe.profile&&(this.stats={size:0})}Ye.prototype.bind=function(){N.bindBuffer(this.type,this.buffer)},Ye.prototype.destroy=function(){$t(this)};var Ot=[];function Rt(Ge,pt){var Lt=Ot.pop();return Lt||(Lt=new Ye(Ge)),Lt.bind(),Gt(Lt,pt,Aa,0,1,!1),Lt}function Zt(Ge){Ot.push(Ge)}function Ut(Ge,pt,Lt){Ge.byteLength=pt.byteLength,N.bufferData(Ge.type,pt,Lt)}function Gt(Ge,pt,Lt,tr,Ft,ar){var It;if(Ge.usage=Lt,Array.isArray(pt)){if(Ge.dtype=tr||Eu,pt.length>0){var rr;if(Array.isArray(pt[0])){It=$s(pt);for(var St=1,Qt=1;Qt<It.length;++Qt)St*=It[Qt];Ge.dimension=St,rr=Fs(pt,It,Ge.dtype),Ut(Ge,rr,Lt),ar?Ge.persistentData=rr:ht.freeType(rr)}else if(typeof pt[0]=="number"){Ge.dimension=Ft;var Or=ht.allocType(Ge.dtype,pt.length);M0(Or,pt),Ut(Ge,Or,Lt),ar?Ge.persistentData=Or:ht.freeType(Or)}else r(pt[0])?(Ge.dimension=pt[0].length,Ge.dtype=tr||Lc(pt[0])||Eu,rr=Fs(pt,[pt.length,pt[0].length],Ge.dtype),Ut(Ge,rr,Lt),ar?Ge.persistentData=rr:ht.freeType(rr)):ue.raise("invalid buffer data")}}else if(r(pt))Ge.dtype=tr||Lc(pt),Ge.dimension=Ft,Ut(Ge,pt,Lt),ar&&(Ge.persistentData=new Uint8Array(new Uint8Array(pt.buffer)));else if(Z(pt)){It=pt.shape;var oo=pt.stride,Jt=pt.offset,Dt=0,gt=0,Lr=0,Po=0;It.length===1?(Dt=It[0],gt=1,Lr=oo[0],Po=0):It.length===2?(Dt=It[0],gt=It[1],Lr=oo[0],Po=oo[1]):ue.raise("invalid shape"),Ge.dtype=tr||Lc(pt.data)||Eu,Ge.dimension=gt;var sr=ht.allocType(Ge.dtype,Dt*gt);Bc(sr,pt.data,Dt,gt,Lr,Po,Jt),Ut(Ge,sr,Lt),ar?Ge.persistentData=sr:ht.freeType(sr)}else pt instanceof ArrayBuffer?(Ge.dtype=Bn,Ge.dimension=Ft,Ut(Ge,pt,Lt),ar&&(Ge.persistentData=new Uint8Array(new Uint8Array(pt)))):ue.raise("invalid buffer data")}function $t(Ge){ie.bufferCount--,et(Ge);var pt=Ge.buffer;ue(pt,"buffer must not be deleted already"),N.deleteBuffer(pt),Ge.buffer=null,delete tt[Ge.id]}function Ct(Ge,pt,Lt,tr){ie.bufferCount++;var Ft=new Ye(pt);tt[Ft.id]=Ft;function ar(St){var Qt=tc,Or=null,oo=0,Jt=0,Dt=1;return Array.isArray(St)||r(St)||Z(St)||St instanceof ArrayBuffer?Or=St:typeof St=="number"?oo=St|0:St&&(ue.type(St,"object","buffer arguments must be an object, a number or an array"),"data"in St&&(ue(Or===null||Array.isArray(Or)||r(Or)||Z(Or),"invalid data for buffer"),Or=St.data),"usage"in St&&(ue.parameter(St.usage,bs,"invalid buffer usage"),Qt=bs[St.usage]),"type"in St&&(ue.parameter(St.type,Ui,"invalid buffer type"),Jt=Ui[St.type]),"dimension"in St&&(ue.type(St.dimension,"number","invalid dimension"),Dt=St.dimension|0),"length"in St&&(ue.nni(oo,"buffer length must be a nonnegative integer"),oo=St.length|0)),Ft.bind(),Or?Gt(Ft,Or,Qt,Jt,Dt,tr):(oo&&N.bufferData(Ft.type,oo,Qt),Ft.dtype=Jt||Bn,Ft.usage=Qt,Ft.dimension=Dt,Ft.byteLength=oo),xe.profile&&(Ft.stats.size=Ft.byteLength*qs[Ft.dtype]),ar}function It(St,Qt){ue(Qt+St.byteLength<=Ft.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+St.byteLength+" starting from offset "+Qt+" to a buffer of size "+Ft.byteLength),N.bufferSubData(Ft.type,Qt,St)}function rr(St,Qt){var Or=(Qt||0)|0,oo;if(Ft.bind(),r(St)||St instanceof ArrayBuffer)It(St,Or);else if(Array.isArray(St)){if(St.length>0)if(typeof St[0]=="number"){var Jt=ht.allocType(Ft.dtype,St.length);M0(Jt,St),It(Jt,Or),ht.freeType(Jt)}else if(Array.isArray(St[0])||r(St[0])){oo=$s(St);var Dt=Fs(St,oo,Ft.dtype);It(Dt,Or),ht.freeType(Dt)}else ue.raise("invalid buffer data")}else if(Z(St)){oo=St.shape;var gt=St.stride,Lr=0,Po=0,sr=0,fo=0;oo.length===1?(Lr=oo[0],Po=1,sr=gt[0],fo=0):oo.length===2?(Lr=oo[0],Po=oo[1],sr=gt[0],fo=gt[1]):ue.raise("invalid shape");var to=Array.isArray(St.data)?Ft.dtype:Lc(St.data),Zr=ht.allocType(to,Lr*Po);Bc(Zr,St.data,Lr,Po,sr,fo,St.offset),It(Zr,Or),ht.freeType(Zr)}else ue.raise("invalid data for buffer subdata");return ar}return Lt||ar(Ge),ar._reglType="buffer",ar._buffer=Ft,ar.subdata=rr,xe.profile&&(ar.stats=Ft.stats),ar.destroy=function(){$t(Ft)},ar}function jt(){oe(tt).forEach(function(Ge){Ge.buffer=N.createBuffer(),N.bindBuffer(Ge.type,Ge.buffer),N.bufferData(Ge.type,Ge.persistentData||Ge.byteLength,Ge.usage)})}return xe.profile&&(ie.getTotalBufferSize=function(){var Ge=0;return Object.keys(tt).forEach(function(pt){Ge+=tt[pt].stats.size}),Ge}),{create:Ct,createStream:Rt,destroyStream:Zt,clear:function(){oe(tt).forEach($t),Ot.forEach($t)},getBuffer:function(Ge){return Ge&&Ge._buffer instanceof Ye?Ge._buffer:null},restore:jt,_initBuffer:Gt}}var Dl=0,Ol=0,I0=1,N0=1,J1=4,rc=4,As={points:Dl,point:Ol,lines:I0,line:N0,triangles:J1,triangle:rc,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},D0=0,ki=1,Qu=4,xu=5120,La=5121,Pu=5122,$a=5123,Ks=5124,Ba=5125,Qs=34963,bu=35040,O0=35044;function L0(N,ie,xe,et){var _t={},tt=0,Ye={uint8:La,uint16:$a};ie.oes_element_index_uint&&(Ye.uint32=Ba);function Ot(jt){this.id=tt++,_t[this.id]=this,this.buffer=jt,this.primType=Qu,this.vertCount=0,this.type=0}Ot.prototype.bind=function(){this.buffer.bind()};var Rt=[];function Zt(jt){var Ge=Rt.pop();return Ge||(Ge=new Ot(xe.create(null,Qs,!0,!1)._buffer)),Gt(Ge,jt,bu,-1,-1,0,0),Ge}function Ut(jt){Rt.push(jt)}function Gt(jt,Ge,pt,Lt,tr,Ft,ar){jt.buffer.bind();var It;if(Ge){var rr=ar;!ar&&(!r(Ge)||Z(Ge)&&!r(Ge.data))&&(rr=ie.oes_element_index_uint?Ba:$a),xe._initBuffer(jt.buffer,Ge,pt,rr,3)}else N.bufferData(Qs,Ft,pt),jt.buffer.dtype=It||La,jt.buffer.usage=pt,jt.buffer.dimension=3,jt.buffer.byteLength=Ft;if(It=ar,!ar){switch(jt.buffer.dtype){case La:case xu:It=La;break;case $a:case Pu:It=$a;break;case Ba:case Ks:It=Ba;break;default:ue.raise("unsupported type for element array")}jt.buffer.dtype=It}jt.type=It,ue(It!==Ba||!!ie.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var St=tr;St<0&&(St=jt.buffer.byteLength,It===$a?St>>=1:It===Ba&&(St>>=2)),jt.vertCount=St;var Qt=Lt;if(Lt<0){Qt=Qu;var Or=jt.buffer.dimension;Or===1&&(Qt=D0),Or===2&&(Qt=ki),Or===3&&(Qt=Qu)}jt.primType=Qt}function $t(jt){et.elementsCount--,ue(jt.buffer!==null,"must not double destroy elements"),delete _t[jt.id],jt.buffer.destroy(),jt.buffer=null}function Ct(jt,Ge){var pt=xe.create(null,Qs,!0),Lt=new Ot(pt._buffer);et.elementsCount++;function tr(Ft){if(!Ft)pt(),Lt.primType=Qu,Lt.vertCount=0,Lt.type=La;else if(typeof Ft=="number")pt(Ft),Lt.primType=Qu,Lt.vertCount=Ft|0,Lt.type=La;else{var ar=null,It=O0,rr=-1,St=-1,Qt=0,Or=0;Array.isArray(Ft)||r(Ft)||Z(Ft)?ar=Ft:(ue.type(Ft,"object","invalid arguments for elements"),"data"in Ft&&(ar=Ft.data,ue(Array.isArray(ar)||r(ar)||Z(ar),"invalid data for element buffer")),"usage"in Ft&&(ue.parameter(Ft.usage,bs,"invalid element buffer usage"),It=bs[Ft.usage]),"primitive"in Ft&&(ue.parameter(Ft.primitive,As,"invalid element buffer primitive"),rr=As[Ft.primitive]),"count"in Ft&&(ue(typeof Ft.count=="number"&&Ft.count>=0,"invalid vertex count for elements"),St=Ft.count|0),"type"in Ft&&(ue.parameter(Ft.type,Ye,"invalid buffer type"),Or=Ye[Ft.type]),"length"in Ft?Qt=Ft.length|0:(Qt=St,Or===$a||Or===Pu?Qt*=2:(Or===Ba||Or===Ks)&&(Qt*=4))),Gt(Lt,ar,It,rr,St,Qt,Or)}return tr}return tr(jt),tr._reglType="elements",tr._elements=Lt,tr.subdata=function(Ft,ar){return pt.subdata(Ft,ar),tr},tr.destroy=function(){$t(Lt)},tr}return{create:Ct,createStream:Zt,destroyStream:Ut,getElements:function(jt){return typeof jt=="function"&&jt._elements instanceof Ot?jt._elements:null},clear:function(){oe(_t).forEach($t)}}}var on=new Float32Array(1),ed=new Uint32Array(on.buffer),Uc=5123;function Ll(N){for(var ie=ht.allocType(Uc,N.length),xe=0;xe<N.length;++xe)if(isNaN(N[xe]))ie[xe]=65535;else if(N[xe]===1/0)ie[xe]=31744;else if(N[xe]===-1/0)ie[xe]=64512;else{on[0]=N[xe];var et=ed[0],_t=et>>>31<<15,tt=(et<<1>>>24)-127,Ye=et>>13&1023;if(tt<-24)ie[xe]=_t;else if(tt<-14){var Ot=-14-tt;ie[xe]=_t+(Ye+1024>>Ot)}else tt>15?ie[xe]=_t+31744:ie[xe]=_t+(tt+15<<10)+Ye}return ie}function Un(N){return Array.isArray(N)||r(N)}var Bl=function(N){return!(N&N-1)&&!!N},B0=34467,la=3553,Js=34067,Ss=34069,Fu=6408,kc=6406,bp=6407,ls=6409,oc=6410,Au=32854,eu=32855,Ul=36194,nc=32819,dn=32820,zc=33635,td=34042,Su=6402,ic=34041,kl=35904,Vc=35906,tu=36193,Tu=33776,Ju=33777,Fp=33778,ep=33779,tp=35986,zl=35987,rp=34798,qa=35840,Vl=35841,Hl=35842,Gl=35843,wu=36196,Ts=5121,Ap=5123,ac=5125,Ru=5126,rd=10242,Hc=10243,jl=10497,Gc=33071,U0=33648,jc=10240,Wl=10241,sc=9728,Zl=9729,op=9984,Xl=9985,Cu=9986,yn=9987,Wc=33170,ws=4352,Mu=4353,Do=4354,hn=34046,Ua=3317,uc=37440,Sp=37441,pc=37443,k0=37444,Zc=33984,cc=[op,Cu,Xl,yn],Iu=[0,ls,oc,bp,Fu],yi={};yi[ls]=yi[kc]=yi[Su]=1,yi[ic]=yi[oc]=2,yi[bp]=yi[kl]=3,yi[Fu]=yi[Vc]=4;function An(N){return"[object "+N+"]"}var Tp=An("HTMLCanvasElement"),Yl=An("OffscreenCanvas"),Wn=An("CanvasRenderingContext2D"),hr=An("ImageBitmap"),da=An("HTMLImageElement"),lc=An("HTMLVideoElement"),wp=Object.keys(di).concat([Tp,Yl,Wn,hr,da,lc]),ta=[];ta[Ts]=1,ta[Ru]=4,ta[tu]=2,ta[Ap]=2,ta[ac]=4;var nn=[];nn[Au]=2,nn[eu]=2,nn[Ul]=2,nn[ic]=4,nn[Tu]=.5,nn[Ju]=.5,nn[Fp]=1,nn[ep]=1,nn[tp]=.5,nn[zl]=1,nn[rp]=1,nn[qa]=.5,nn[Vl]=.25,nn[Hl]=.5,nn[Gl]=.25,nn[wu]=.5;function Xc(N){return Array.isArray(N)&&(N.length===0||typeof N[0]=="number")}function Kt(N){if(!Array.isArray(N))return!1;var ie=N.length;return!(ie===0||!Un(N[0]))}function ru(N){return Object.prototype.toString.call(N)}function dc(N){return ru(N)===Tp}function Yc(N){return ru(N)===Yl}function Ka(N){return ru(N)===Wn}function Sa(N){return ru(N)===hr}function $c(N){return ru(N)===da}function qc(N){return ru(N)===lc}function ra(N){if(!N)return!1;var ie=ru(N);return wp.indexOf(ie)>=0?!0:Xc(N)||Kt(N)||Z(N)}function Rs(N){return di[Object.prototype.toString.call(N)]|0}function z0(N,ie){var xe=ie.length;switch(N.type){case Ts:case Ap:case ac:case Ru:var et=ht.allocType(N.type,xe);et.set(ie),N.data=et;break;case tu:N.data=Ll(ie);break;default:ue.raise("unsupported texture type, must specify a typed array")}}function Rp(N,ie){return ht.allocType(N.type===tu?Ru:N.type,ie)}function Kc(N,ie){N.type===tu?(N.data=Ll(ie),ht.freeType(ie)):N.data=ie}function $l(N,ie,xe,et,_t,tt){for(var Ye=N.width,Ot=N.height,Rt=N.channels,Zt=Ye*Ot*Rt,Ut=Rp(N,Zt),Gt=0,$t=0;$t<Ot;++$t)for(var Ct=0;Ct<Ye;++Ct)for(var jt=0;jt<Rt;++jt)Ut[Gt++]=ie[xe*Ct+et*$t+_t*jt+tt];Kc(N,Ut)}function Ta(N,ie,xe,et,_t,tt){var Ye;if(typeof nn[N]<"u"?Ye=nn[N]:Ye=yi[N]*ta[ie],tt&&(Ye*=6),_t){for(var Ot=0,Rt=xe;Rt>=1;)Ot+=Ye*Rt*Rt,Rt/=2;return Ot}else return Ye*xe*et}function ka(N,ie,xe,et,_t,tt,Ye){var Ot={"don't care":ws,"dont care":ws,nice:Do,fast:Mu},Rt={repeat:jl,clamp:Gc,mirror:U0},Zt={nearest:sc,linear:Zl},Ut=n({mipmap:yn,"nearest mipmap nearest":op,"linear mipmap nearest":Xl,"nearest mipmap linear":Cu,"linear mipmap linear":yn},Zt),Gt={none:0,browser:k0},$t={uint8:Ts,rgba4:nc,rgb565:zc,"rgb5 a1":dn},Ct={alpha:kc,luminance:ls,"luminance alpha":oc,rgb:bp,rgba:Fu,rgba4:Au,"rgb5 a1":eu,rgb565:Ul},jt={};ie.ext_srgb&&(Ct.srgb=kl,Ct.srgba=Vc),ie.oes_texture_float&&($t.float32=$t.float=Ru),ie.oes_texture_half_float&&($t.float16=$t["half float"]=tu),ie.webgl_depth_texture&&(n(Ct,{depth:Su,"depth stencil":ic}),n($t,{uint16:Ap,uint32:ac,"depth stencil":td})),ie.webgl_compressed_texture_s3tc&&n(jt,{"rgb s3tc dxt1":Tu,"rgba s3tc dxt1":Ju,"rgba s3tc dxt3":Fp,"rgba s3tc dxt5":ep}),ie.webgl_compressed_texture_atc&&n(jt,{"rgb atc":tp,"rgba atc explicit alpha":zl,"rgba atc interpolated alpha":rp}),ie.webgl_compressed_texture_pvrtc&&n(jt,{"rgb pvrtc 4bppv1":qa,"rgb pvrtc 2bppv1":Vl,"rgba pvrtc 4bppv1":Hl,"rgba pvrtc 2bppv1":Gl}),ie.webgl_compressed_texture_etc1&&(jt["rgb etc1"]=wu);var Ge=Array.prototype.slice.call(N.getParameter(B0));Object.keys(jt).forEach(function(fe){var ot=jt[fe];Ge.indexOf(ot)>=0&&(Ct[fe]=ot)});var pt=Object.keys(Ct);xe.textureFormats=pt;var Lt=[];Object.keys(Ct).forEach(function(fe){var ot=Ct[fe];Lt[ot]=fe});var tr=[];Object.keys($t).forEach(function(fe){var ot=$t[fe];tr[ot]=fe});var Ft=[];Object.keys(Zt).forEach(function(fe){var ot=Zt[fe];Ft[ot]=fe});var ar=[];Object.keys(Ut).forEach(function(fe){var ot=Ut[fe];ar[ot]=fe});var It=[];Object.keys(Rt).forEach(function(fe){var ot=Rt[fe];It[ot]=fe});var rr=pt.reduce(function(fe,ot){var Ke=Ct[ot];return Ke===ls||Ke===kc||Ke===ls||Ke===oc||Ke===Su||Ke===ic||ie.ext_srgb&&(Ke===kl||Ke===Vc)?fe[Ke]=Ke:Ke===eu||ot.indexOf("rgba")>=0?fe[Ke]=Fu:fe[Ke]=bp,fe},{});function St(){this.internalformat=Fu,this.format=Fu,this.type=Ts,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=k0,this.width=0,this.height=0,this.channels=0}function Qt(fe,ot){fe.internalformat=ot.internalformat,fe.format=ot.format,fe.type=ot.type,fe.compressed=ot.compressed,fe.premultiplyAlpha=ot.premultiplyAlpha,fe.flipY=ot.flipY,fe.unpackAlignment=ot.unpackAlignment,fe.colorSpace=ot.colorSpace,fe.width=ot.width,fe.height=ot.height,fe.channels=ot.channels}function Or(fe,ot){if(!(typeof ot!="object"||!ot)){if("premultiplyAlpha"in ot&&(ue.type(ot.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),fe.premultiplyAlpha=ot.premultiplyAlpha),"flipY"in ot&&(ue.type(ot.flipY,"boolean","invalid texture flip"),fe.flipY=ot.flipY),"alignment"in ot&&(ue.oneOf(ot.alignment,[1,2,4,8],"invalid texture unpack alignment"),fe.unpackAlignment=ot.alignment),"colorSpace"in ot&&(ue.parameter(ot.colorSpace,Gt,"invalid colorSpace"),fe.colorSpace=Gt[ot.colorSpace]),"type"in ot){var Ke=ot.type;ue(ie.oes_texture_float||!(Ke==="float"||Ke==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ue(ie.oes_texture_half_float||!(Ke==="half float"||Ke==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ue(ie.webgl_depth_texture||!(Ke==="uint16"||Ke==="uint32"||Ke==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ue.parameter(Ke,$t,"invalid texture type"),fe.type=$t[Ke]}var ur=fe.width,mo=fe.height,an=fe.channels,X=!1;"shape"in ot?(ue(Array.isArray(ot.shape)&&ot.shape.length>=2,"shape must be an array"),ur=ot.shape[0],mo=ot.shape[1],ot.shape.length===3&&(an=ot.shape[2],ue(an>0&&an<=4,"invalid number of channels"),X=!0),ue(ur>=0&&ur<=xe.maxTextureSize,"invalid width"),ue(mo>=0&&mo<=xe.maxTextureSize,"invalid height")):("radius"in ot&&(ur=mo=ot.radius,ue(ur>=0&&ur<=xe.maxTextureSize,"invalid radius")),"width"in ot&&(ur=ot.width,ue(ur>=0&&ur<=xe.maxTextureSize,"invalid width")),"height"in ot&&(mo=ot.height,ue(mo>=0&&mo<=xe.maxTextureSize,"invalid height")),"channels"in ot&&(an=ot.channels,ue(an>0&&an<=4,"invalid number of channels"),X=!0)),fe.width=ur|0,fe.height=mo|0,fe.channels=an|0;var pe=!1;if("format"in ot){var Pe=ot.format;ue(ie.webgl_depth_texture||!(Pe==="depth"||Pe==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ue.parameter(Pe,Ct,"invalid texture format");var Qe=fe.internalformat=Ct[Pe];fe.format=rr[Qe],Pe in $t&&("type"in ot||(fe.type=$t[Pe])),Pe in jt&&(fe.compressed=!0),pe=!0}!X&&pe?fe.channels=yi[fe.format]:X&&!pe?fe.channels!==Iu[fe.format]&&(fe.format=fe.internalformat=Iu[fe.channels]):pe&&X&&ue(fe.channels===yi[fe.format],"number of channels inconsistent with specified format")}}function oo(fe){N.pixelStorei(uc,fe.flipY),N.pixelStorei(Sp,fe.premultiplyAlpha),N.pixelStorei(pc,fe.colorSpace),N.pixelStorei(Ua,fe.unpackAlignment)}function Jt(){St.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Dt(fe,ot){var Ke=null;if(ra(ot)?Ke=ot:ot&&(ue.type(ot,"object","invalid pixel data type"),Or(fe,ot),"x"in ot&&(fe.xOffset=ot.x|0),"y"in ot&&(fe.yOffset=ot.y|0),ra(ot.data)&&(Ke=ot.data)),ue(!fe.compressed||Ke instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ot.copy){ue(!Ke,"can not specify copy and data field for the same texture");var ur=_t.viewportWidth,mo=_t.viewportHeight;fe.width=fe.width||ur-fe.xOffset,fe.height=fe.height||mo-fe.yOffset,fe.needsCopy=!0,ue(fe.xOffset>=0&&fe.xOffset<ur&&fe.yOffset>=0&&fe.yOffset<mo&&fe.width>0&&fe.width<=ur&&fe.height>0&&fe.height<=mo,"copy texture read out of bounds")}else if(!Ke)fe.width=fe.width||1,fe.height=fe.height||1,fe.channels=fe.channels||4;else if(r(Ke))fe.channels=fe.channels||4,fe.data=Ke,!("type"in ot)&&fe.type===Ts&&(fe.type=Rs(Ke));else if(Xc(Ke))fe.channels=fe.channels||4,z0(fe,Ke),fe.alignment=1,fe.needsFree=!0;else if(Z(Ke)){var an=Ke.data;!Array.isArray(an)&&fe.type===Ts&&(fe.type=Rs(an));var X=Ke.shape,pe=Ke.stride,Pe,Qe,qe,Te,Ne,Be;X.length===3?(qe=X[2],Be=pe[2]):(ue(X.length===2,"invalid ndarray pixel data, must be 2 or 3D"),qe=1,Be=1),Pe=X[0],Qe=X[1],Te=pe[0],Ne=pe[1],fe.alignment=1,fe.width=Pe,fe.height=Qe,fe.channels=qe,fe.format=fe.internalformat=Iu[qe],fe.needsFree=!0,$l(fe,an,Te,Ne,Be,Ke.offset)}else if(dc(Ke)||Yc(Ke)||Ka(Ke))dc(Ke)||Yc(Ke)?fe.element=Ke:fe.element=Ke.canvas,fe.width=fe.element.width,fe.height=fe.element.height,fe.channels=4;else if(Sa(Ke))fe.element=Ke,fe.width=Ke.width,fe.height=Ke.height,fe.channels=4;else if($c(Ke))fe.element=Ke,fe.width=Ke.naturalWidth,fe.height=Ke.naturalHeight,fe.channels=4;else if(qc(Ke))fe.element=Ke,fe.width=Ke.videoWidth,fe.height=Ke.videoHeight,fe.channels=4;else if(Kt(Ke)){var me=fe.width||Ke[0].length,Ce=fe.height||Ke.length,ae=fe.channels;Un(Ke[0][0])?ae=ae||Ke[0][0].length:ae=ae||1;for(var Ie=we.shape(Ke),it=1,yt=0;yt<Ie.length;++yt)it*=Ie[yt];var Tt=Rp(fe,it);we.flatten(Ke,Ie,"",Tt),Kc(fe,Tt),fe.alignment=1,fe.width=me,fe.height=Ce,fe.channels=ae,fe.format=fe.internalformat=Iu[ae],fe.needsFree=!0}fe.type===Ru?ue(xe.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):fe.type===tu&&ue(xe.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function gt(fe,ot,Ke){var ur=fe.element,mo=fe.data,an=fe.internalformat,X=fe.format,pe=fe.type,Pe=fe.width,Qe=fe.height;oo(fe),ur?N.texImage2D(ot,Ke,X,X,pe,ur):fe.compressed?N.compressedTexImage2D(ot,Ke,an,Pe,Qe,0,mo):fe.needsCopy?(et(),N.copyTexImage2D(ot,Ke,X,fe.xOffset,fe.yOffset,Pe,Qe,0)):N.texImage2D(ot,Ke,X,Pe,Qe,0,X,pe,mo||null)}function Lr(fe,ot,Ke,ur,mo){var an=fe.element,X=fe.data,pe=fe.internalformat,Pe=fe.format,Qe=fe.type,qe=fe.width,Te=fe.height;oo(fe),an?N.texSubImage2D(ot,mo,Ke,ur,Pe,Qe,an):fe.compressed?N.compressedTexSubImage2D(ot,mo,Ke,ur,pe,qe,Te,X):fe.needsCopy?(et(),N.copyTexSubImage2D(ot,mo,Ke,ur,fe.xOffset,fe.yOffset,qe,Te)):N.texSubImage2D(ot,mo,Ke,ur,qe,Te,Pe,Qe,X)}var Po=[];function sr(){return Po.pop()||new Jt}function fo(fe){fe.needsFree&&ht.freeType(fe.data),Jt.call(fe),Po.push(fe)}function to(){St.call(this),this.genMipmaps=!1,this.mipmapHint=ws,this.mipmask=0,this.images=Array(16)}function Zr(fe,ot,Ke){var ur=fe.images[0]=sr();fe.mipmask=1,ur.width=fe.width=ot,ur.height=fe.height=Ke,ur.channels=fe.channels=4}function Wo(fe,ot){var Ke=null;if(ra(ot))Ke=fe.images[0]=sr(),Qt(Ke,fe),Dt(Ke,ot),fe.mipmask=1;else if(Or(fe,ot),Array.isArray(ot.mipmap))for(var ur=ot.mipmap,mo=0;mo<ur.length;++mo)Ke=fe.images[mo]=sr(),Qt(Ke,fe),Ke.width>>=mo,Ke.height>>=mo,Dt(Ke,ur[mo]),fe.mipmask|=1<<mo;else Ke=fe.images[0]=sr(),Qt(Ke,fe),Dt(Ke,ot),fe.mipmask=1;Qt(fe,fe.images[0]),fe.compressed&&(fe.internalformat===Tu||fe.internalformat===Ju||fe.internalformat===Fp||fe.internalformat===ep)&&ue(fe.width%4===0&&fe.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ei(fe,ot){for(var Ke=fe.images,ur=0;ur<Ke.length;++ur){if(!Ke[ur])return;gt(Ke[ur],ot,ur)}}var Vi=[];function Co(){var fe=Vi.pop()||new to;St.call(fe),fe.mipmask=0;for(var ot=0;ot<16;++ot)fe.images[ot]=null;return fe}function ti(fe){for(var ot=fe.images,Ke=0;Ke<ot.length;++Ke)ot[Ke]&&fo(ot[Ke]),ot[Ke]=null;Vi.push(fe)}function gn(){this.minFilter=sc,this.magFilter=sc,this.wrapS=Gc,this.wrapT=Gc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ws}function _i(fe,ot){if("min"in ot){var Ke=ot.min;ue.parameter(Ke,Ut),fe.minFilter=Ut[Ke],cc.indexOf(fe.minFilter)>=0&&!("faces"in ot)&&(fe.genMipmaps=!0)}if("mag"in ot){var ur=ot.mag;ue.parameter(ur,Zt),fe.magFilter=Zt[ur]}var mo=fe.wrapS,an=fe.wrapT;if("wrap"in ot){var X=ot.wrap;typeof X=="string"?(ue.parameter(X,Rt),mo=an=Rt[X]):Array.isArray(X)&&(ue.parameter(X[0],Rt),ue.parameter(X[1],Rt),mo=Rt[X[0]],an=Rt[X[1]])}else{if("wrapS"in ot){var pe=ot.wrapS;ue.parameter(pe,Rt),mo=Rt[pe]}if("wrapT"in ot){var Pe=ot.wrapT;ue.parameter(Pe,Rt),an=Rt[Pe]}}if(fe.wrapS=mo,fe.wrapT=an,"anisotropic"in ot){var Qe=ot.anisotropic;ue(typeof Qe=="number"&&Qe>=1&&Qe<=xe.maxAnisotropic,"aniso samples must be between 1 and "),fe.anisotropic=ot.anisotropic}if("mipmap"in ot){var qe=!1;switch(typeof ot.mipmap){case"string":ue.parameter(ot.mipmap,Ot,"invalid mipmap hint"),fe.mipmapHint=Ot[ot.mipmap],fe.genMipmaps=!0,qe=!0;break;case"boolean":qe=fe.genMipmaps=ot.mipmap;break;case"object":ue(Array.isArray(ot.mipmap),"invalid mipmap type"),fe.genMipmaps=!1,qe=!0;break;default:ue.raise("invalid mipmap type")}qe&&!("min"in ot)&&(fe.minFilter=op)}}function gi(fe,ot){N.texParameteri(ot,Wl,fe.minFilter),N.texParameteri(ot,jc,fe.magFilter),N.texParameteri(ot,rd,fe.wrapS),N.texParameteri(ot,Hc,fe.wrapT),ie.ext_texture_filter_anisotropic&&N.texParameteri(ot,hn,fe.anisotropic),fe.genMipmaps&&(N.hint(Wc,fe.mipmapHint),N.generateMipmap(ot))}var Vn=0,Ii={},aa=xe.maxTextureUnits,vi=Array(aa).map(function(){return null});function ho(fe){St.call(this),this.mipmask=0,this.internalformat=Fu,this.id=Vn++,this.refCount=1,this.target=fe,this.texture=N.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new gn,Ye.profile&&(this.stats={size:0})}function qi(fe){N.activeTexture(Zc),N.bindTexture(fe.target,fe.texture)}function Yo(){var fe=vi[0];fe?N.bindTexture(fe.target,fe.texture):N.bindTexture(la,null)}function Vr(fe){var ot=fe.texture;ue(ot,"must not double destroy texture");var Ke=fe.unit,ur=fe.target;Ke>=0&&(N.activeTexture(Zc+Ke),N.bindTexture(ur,null),vi[Ke]=null),N.deleteTexture(ot),fe.texture=null,fe.params=null,fe.pixels=null,fe.refCount=0,delete Ii[fe.id],tt.textureCount--}n(ho.prototype,{bind:function(){var fe=this;fe.bindCount+=1;var ot=fe.unit;if(ot<0){for(var Ke=0;Ke<aa;++Ke){var ur=vi[Ke];if(ur){if(ur.bindCount>0)continue;ur.unit=-1}vi[Ke]=fe,ot=Ke;break}ot>=aa&&ue.raise("insufficient number of texture units"),Ye.profile&&tt.maxTextureUnits<ot+1&&(tt.maxTextureUnits=ot+1),fe.unit=ot,N.activeTexture(Zc+ot),N.bindTexture(fe.target,fe.texture)}return ot},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Vr(this)}});function To(fe,ot){var Ke=new ho(la);Ii[Ke.id]=Ke,tt.textureCount++;function ur(X,pe){var Pe=Ke.texInfo;gn.call(Pe);var Qe=Co();return typeof X=="number"?typeof pe=="number"?Zr(Qe,X|0,pe|0):Zr(Qe,X|0,X|0):X?(ue.type(X,"object","invalid arguments to regl.texture"),_i(Pe,X),Wo(Qe,X)):Zr(Qe,1,1),Pe.genMipmaps&&(Qe.mipmask=(Qe.width<<1)-1),Ke.mipmask=Qe.mipmask,Qt(Ke,Qe),ue.texture2D(Pe,Qe,xe),Ke.internalformat=Qe.internalformat,ur.width=Qe.width,ur.height=Qe.height,qi(Ke),ei(Qe,la),gi(Pe,la),Yo(),ti(Qe),Ye.profile&&(Ke.stats.size=Ta(Ke.internalformat,Ke.type,Qe.width,Qe.height,Pe.genMipmaps,!1)),ur.format=Lt[Ke.internalformat],ur.type=tr[Ke.type],ur.mag=Ft[Pe.magFilter],ur.min=ar[Pe.minFilter],ur.wrapS=It[Pe.wrapS],ur.wrapT=It[Pe.wrapT],ur}function mo(X,pe,Pe,Qe){ue(!!X,"must specify image data");var qe=pe|0,Te=Pe|0,Ne=Qe|0,Be=sr();return Qt(Be,Ke),Be.width=0,Be.height=0,Dt(Be,X),Be.width=Be.width||(Ke.width>>Ne)-qe,Be.height=Be.height||(Ke.height>>Ne)-Te,ue(Ke.type===Be.type&&Ke.format===Be.format&&Ke.internalformat===Be.internalformat,"incompatible format for texture.subimage"),ue(qe>=0&&Te>=0&&qe+Be.width<=Ke.width&&Te+Be.height<=Ke.height,"texture.subimage write out of bounds"),ue(Ke.mipmask&1<<Ne,"missing mipmap data"),ue(Be.data||Be.element||Be.needsCopy,"missing image data"),qi(Ke),Lr(Be,la,qe,Te,Ne),Yo(),fo(Be),ur}function an(X,pe){var Pe=X|0,Qe=pe|0||Pe;if(Pe===Ke.width&&Qe===Ke.height)return ur;ur.width=Ke.width=Pe,ur.height=Ke.height=Qe,qi(Ke);for(var qe=0;Ke.mipmask>>qe;++qe){var Te=Pe>>qe,Ne=Qe>>qe;if(!Te||!Ne)break;N.texImage2D(la,qe,Ke.format,Te,Ne,0,Ke.format,Ke.type,null)}return Yo(),Ye.profile&&(Ke.stats.size=Ta(Ke.internalformat,Ke.type,Pe,Qe,!1,!1)),ur}return ur(fe,ot),ur.subimage=mo,ur.resize=an,ur._reglType="texture2d",ur._texture=Ke,Ye.profile&&(ur.stats=Ke.stats),ur.destroy=function(){Ke.decRef()},ur}function Vo(fe,ot,Ke,ur,mo,an){var X=new ho(Js);Ii[X.id]=X,tt.cubeCount++;var pe=new Array(6);function Pe(Te,Ne,Be,me,Ce,ae){var Ie,it=X.texInfo;for(gn.call(it),Ie=0;Ie<6;++Ie)pe[Ie]=Co();if(typeof Te=="number"||!Te){var yt=Te|0||1;for(Ie=0;Ie<6;++Ie)Zr(pe[Ie],yt,yt)}else if(typeof Te=="object")if(Ne)Wo(pe[0],Te),Wo(pe[1],Ne),Wo(pe[2],Be),Wo(pe[3],me),Wo(pe[4],Ce),Wo(pe[5],ae);else if(_i(it,Te),Or(X,Te),"faces"in Te){var Tt=Te.faces;for(ue(Array.isArray(Tt)&&Tt.length===6,"cube faces must be a length 6 array"),Ie=0;Ie<6;++Ie)ue(typeof Tt[Ie]=="object"&&!!Tt[Ie],"invalid input for cube map face"),Qt(pe[Ie],X),Wo(pe[Ie],Tt[Ie])}else for(Ie=0;Ie<6;++Ie)Wo(pe[Ie],Te);else ue.raise("invalid arguments to cube map");for(Qt(X,pe[0]),xe.npotTextureCube||ue(Bl(X.width)&&Bl(X.height),"your browser does not support non power or two texture dimensions"),it.genMipmaps?X.mipmask=(pe[0].width<<1)-1:X.mipmask=pe[0].mipmask,ue.textureCube(X,it,pe,xe),X.internalformat=pe[0].internalformat,Pe.width=pe[0].width,Pe.height=pe[0].height,qi(X),Ie=0;Ie<6;++Ie)ei(pe[Ie],Ss+Ie);for(gi(it,Js),Yo(),Ye.profile&&(X.stats.size=Ta(X.internalformat,X.type,Pe.width,Pe.height,it.genMipmaps,!0)),Pe.format=Lt[X.internalformat],Pe.type=tr[X.type],Pe.mag=Ft[it.magFilter],Pe.min=ar[it.minFilter],Pe.wrapS=It[it.wrapS],Pe.wrapT=It[it.wrapT],Ie=0;Ie<6;++Ie)ti(pe[Ie]);return Pe}function Qe(Te,Ne,Be,me,Ce){ue(!!Ne,"must specify image data"),ue(typeof Te=="number"&&Te===(Te|0)&&Te>=0&&Te<6,"invalid face");var ae=Be|0,Ie=me|0,it=Ce|0,yt=sr();return Qt(yt,X),yt.width=0,yt.height=0,Dt(yt,Ne),yt.width=yt.width||(X.width>>it)-ae,yt.height=yt.height||(X.height>>it)-Ie,ue(X.type===yt.type&&X.format===yt.format&&X.internalformat===yt.internalformat,"incompatible format for texture.subimage"),ue(ae>=0&&Ie>=0&&ae+yt.width<=X.width&&Ie+yt.height<=X.height,"texture.subimage write out of bounds"),ue(X.mipmask&1<<it,"missing mipmap data"),ue(yt.data||yt.element||yt.needsCopy,"missing image data"),qi(X),Lr(yt,Ss+Te,ae,Ie,it),Yo(),fo(yt),Pe}function qe(Te){var Ne=Te|0;if(Ne!==X.width){Pe.width=X.width=Ne,Pe.height=X.height=Ne,qi(X);for(var Be=0;Be<6;++Be)for(var me=0;X.mipmask>>me;++me)N.texImage2D(Ss+Be,me,X.format,Ne>>me,Ne>>me,0,X.format,X.type,null);return Yo(),Ye.profile&&(X.stats.size=Ta(X.internalformat,X.type,Pe.width,Pe.height,!1,!0)),Pe}}return Pe(fe,ot,Ke,ur,mo,an),Pe.subimage=Qe,Pe.resize=qe,Pe._reglType="textureCube",Pe._texture=X,Ye.profile&&(Pe.stats=X.stats),Pe.destroy=function(){X.decRef()},Pe}function ri(){for(var fe=0;fe<aa;++fe)N.activeTexture(Zc+fe),N.bindTexture(la,null),vi[fe]=null;oe(Ii).forEach(Vr),tt.cubeCount=0,tt.textureCount=0}Ye.profile&&(tt.getTotalTextureSize=function(){var fe=0;return Object.keys(Ii).forEach(function(ot){fe+=Ii[ot].stats.size}),fe});function uu(){for(var fe=0;fe<aa;++fe){var ot=vi[fe];ot&&(ot.bindCount=0,ot.unit=-1,vi[fe]=null)}oe(Ii).forEach(function(Ke){Ke.texture=N.createTexture(),N.bindTexture(Ke.target,Ke.texture);for(var ur=0;ur<32;++ur)if(Ke.mipmask&1<<ur)if(Ke.target===la)N.texImage2D(la,ur,Ke.internalformat,Ke.width>>ur,Ke.height>>ur,0,Ke.internalformat,Ke.type,null);else for(var mo=0;mo<6;++mo)N.texImage2D(Ss+mo,ur,Ke.internalformat,Ke.width>>ur,Ke.height>>ur,0,Ke.internalformat,Ke.type,null);gi(Ke.texInfo,Ke.target)})}return{create2D:To,createCube:Vo,clear:ri,getTexture:function(fe){return null},restore:uu}}var co=36161,za=32854,Va=32855,Ri=36194,Nu=33189,ou=36168,Qa=34041,Xi=35907,Cp=34836,Rr=34842,gr=34843,wa=[];wa[za]=2,wa[Va]=2,wa[Ri]=2,wa[Nu]=2,wa[ou]=1,wa[Qa]=4,wa[Xi]=4,wa[Cp]=16,wa[Rr]=8,wa[gr]=6;function Yi(N,ie,xe){return wa[N]*ie*xe}var ds=function(N,ie,xe,et,_t){var tt={rgba4:za,rgb565:Ri,"rgb5 a1":Va,depth:Nu,stencil:ou,"depth stencil":Qa};ie.ext_srgb&&(tt.srgba=Xi),ie.ext_color_buffer_half_float&&(tt.rgba16f=Rr,tt.rgb16f=gr),ie.webgl_color_buffer_float&&(tt.rgba32f=Cp);var Ye=[];Object.keys(tt).forEach(function(Ct){var jt=tt[Ct];Ye[jt]=Ct});var Ot=0,Rt={};function Zt(Ct){this.id=Ot++,this.refCount=1,this.renderbuffer=Ct,this.format=za,this.width=0,this.height=0,_t.profile&&(this.stats={size:0})}Zt.prototype.decRef=function(){--this.refCount<=0&&Ut(this)};function Ut(Ct){var jt=Ct.renderbuffer;ue(jt,"must not double destroy renderbuffer"),N.bindRenderbuffer(co,null),N.deleteRenderbuffer(jt),Ct.renderbuffer=null,Ct.refCount=0,delete Rt[Ct.id],et.renderbufferCount--}function Gt(Ct,jt){var Ge=new Zt(N.createRenderbuffer());Rt[Ge.id]=Ge,et.renderbufferCount++;function pt(tr,Ft){var ar=0,It=0,rr=za;if(typeof tr=="object"&&tr){var St=tr;if("shape"in St){var Qt=St.shape;ue(Array.isArray(Qt)&&Qt.length>=2,"invalid renderbuffer shape"),ar=Qt[0]|0,It=Qt[1]|0}else"radius"in St&&(ar=It=St.radius|0),"width"in St&&(ar=St.width|0),"height"in St&&(It=St.height|0);"format"in St&&(ue.parameter(St.format,tt,"invalid renderbuffer format"),rr=tt[St.format])}else typeof tr=="number"?(ar=tr|0,typeof Ft=="number"?It=Ft|0:It=ar):tr?ue.raise("invalid arguments to renderbuffer constructor"):ar=It=1;if(ue(ar>0&&It>0&&ar<=xe.maxRenderbufferSize&&It<=xe.maxRenderbufferSize,"invalid renderbuffer size"),!(ar===Ge.width&&It===Ge.height&&rr===Ge.format))return pt.width=Ge.width=ar,pt.height=Ge.height=It,Ge.format=rr,N.bindRenderbuffer(co,Ge.renderbuffer),N.renderbufferStorage(co,rr,ar,It),ue(N.getError()===0,"invalid render buffer format"),_t.profile&&(Ge.stats.size=Yi(Ge.format,Ge.width,Ge.height)),pt.format=Ye[Ge.format],pt}function Lt(tr,Ft){var ar=tr|0,It=Ft|0||ar;return ar===Ge.width&&It===Ge.height||(ue(ar>0&&It>0&&ar<=xe.maxRenderbufferSize&&It<=xe.maxRenderbufferSize,"invalid renderbuffer size"),pt.width=Ge.width=ar,pt.height=Ge.height=It,N.bindRenderbuffer(co,Ge.renderbuffer),N.renderbufferStorage(co,Ge.format,ar,It),ue(N.getError()===0,"invalid render buffer format"),_t.profile&&(Ge.stats.size=Yi(Ge.format,Ge.width,Ge.height))),pt}return pt(Ct,jt),pt.resize=Lt,pt._reglType="renderbuffer",pt._renderbuffer=Ge,_t.profile&&(pt.stats=Ge.stats),pt.destroy=function(){Ge.decRef()},pt}_t.profile&&(et.getTotalRenderbufferSize=function(){var Ct=0;return Object.keys(Rt).forEach(function(jt){Ct+=Rt[jt].stats.size}),Ct});function $t(){oe(Rt).forEach(function(Ct){Ct.renderbuffer=N.createRenderbuffer(),N.bindRenderbuffer(co,Ct.renderbuffer),N.renderbufferStorage(co,Ct.format,Ct.width,Ct.height)}),N.bindRenderbuffer(co,null)}return{create:Gt,clear:function(){oe(Rt).forEach(Ut)},restore:$t}},Sn=36160,Ja=36161,nu=3553,np=34069,Xo=36064,hi=36096,ql=36128,Du=33306,Qc=36053,iu=36054,Ra=36055,Mp=36057,Cs=36061,Jc=36193,Ip=5121,yc=5126,el=6407,ip=6408,ap=6402,Kl=[el,ip],Ms=[];Ms[ip]=4,Ms[el]=3;var ys=[];ys[Ip]=1,ys[yc]=4,ys[Jc]=2;var tl=32854,Ou=32855,es=36194,Ql=33189,hc=36168,rl=34041,ol=35907,c=34836,d=34842,l=34843,f=[tl,Ou,es,ol,d,l,c],E={};E[Qc]="complete",E[iu]="incomplete attachment",E[Mp]="incomplete dimensions",E[Ra]="incomplete, missing attachment",E[Cs]="unsupported";function F(N,ie,xe,et,_t,tt){var Ye={cur:null,next:null,dirty:!1,setFBO:null},Ot=["rgba"],Rt=["rgba4","rgb565","rgb5 a1"];ie.ext_srgb&&Rt.push("srgba"),ie.ext_color_buffer_half_float&&Rt.push("rgba16f","rgb16f"),ie.webgl_color_buffer_float&&Rt.push("rgba32f");var Zt=["uint8"];ie.oes_texture_half_float&&Zt.push("half float","float16"),ie.oes_texture_float&&Zt.push("float","float32");function Ut(Jt,Dt,gt){this.target=Jt,this.texture=Dt,this.renderbuffer=gt;var Lr=0,Po=0;Dt?(Lr=Dt.width,Po=Dt.height):gt&&(Lr=gt.width,Po=gt.height),this.width=Lr,this.height=Po}function Gt(Jt){Jt&&(Jt.texture&&Jt.texture._texture.decRef(),Jt.renderbuffer&&Jt.renderbuffer._renderbuffer.decRef())}function $t(Jt,Dt,gt){if(Jt)if(Jt.texture){var Lr=Jt.texture._texture,Po=Math.max(1,Lr.width),sr=Math.max(1,Lr.height);ue(Po===Dt&&sr===gt,"inconsistent width/height for supplied texture"),Lr.refCount+=1}else{var fo=Jt.renderbuffer._renderbuffer;ue(fo.width===Dt&&fo.height===gt,"inconsistent width/height for renderbuffer"),fo.refCount+=1}}function Ct(Jt,Dt){Dt&&(Dt.texture?N.framebufferTexture2D(Sn,Jt,Dt.target,Dt.texture._texture.texture,0):N.framebufferRenderbuffer(Sn,Jt,Ja,Dt.renderbuffer._renderbuffer.renderbuffer))}function jt(Jt){var Dt=nu,gt=null,Lr=null,Po=Jt;typeof Jt=="object"&&(Po=Jt.data,"target"in Jt&&(Dt=Jt.target|0)),ue.type(Po,"function","invalid attachment data");var sr=Po._reglType;return sr==="texture2d"?(gt=Po,ue(Dt===nu)):sr==="textureCube"?(gt=Po,ue(Dt>=np&&Dt<np+6,"invalid cube map target")):sr==="renderbuffer"?(Lr=Po,Dt=Ja):ue.raise("invalid regl object for attachment"),new Ut(Dt,gt,Lr)}function Ge(Jt,Dt,gt,Lr,Po){if(gt){var sr=et.create2D({width:Jt,height:Dt,format:Lr,type:Po});return sr._texture.refCount=0,new Ut(nu,sr,null)}else{var fo=_t.create({width:Jt,height:Dt,format:Lr});return fo._renderbuffer.refCount=0,new Ut(Ja,null,fo)}}function pt(Jt){return Jt&&(Jt.texture||Jt.renderbuffer)}function Lt(Jt,Dt,gt){Jt&&(Jt.texture?Jt.texture.resize(Dt,gt):Jt.renderbuffer&&Jt.renderbuffer.resize(Dt,gt),Jt.width=Dt,Jt.height=gt)}var tr=0,Ft={};function ar(){this.id=tr++,Ft[this.id]=this,this.framebuffer=N.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function It(Jt){Jt.colorAttachments.forEach(Gt),Gt(Jt.depthAttachment),Gt(Jt.stencilAttachment),Gt(Jt.depthStencilAttachment)}function rr(Jt){var Dt=Jt.framebuffer;ue(Dt,"must not double destroy framebuffer"),N.deleteFramebuffer(Dt),Jt.framebuffer=null,tt.framebufferCount--,delete Ft[Jt.id]}function St(Jt){var Dt;N.bindFramebuffer(Sn,Jt.framebuffer);var gt=Jt.colorAttachments;for(Dt=0;Dt<gt.length;++Dt)Ct(Xo+Dt,gt[Dt]);for(Dt=gt.length;Dt<xe.maxColorAttachments;++Dt)N.framebufferTexture2D(Sn,Xo+Dt,nu,null,0);N.framebufferTexture2D(Sn,Du,nu,null,0),N.framebufferTexture2D(Sn,hi,nu,null,0),N.framebufferTexture2D(Sn,ql,nu,null,0),Ct(hi,Jt.depthAttachment),Ct(ql,Jt.stencilAttachment),Ct(Du,Jt.depthStencilAttachment);var Lr=N.checkFramebufferStatus(Sn);!N.isContextLost()&&Lr!==Qc&&ue.raise("framebuffer configuration not supported, status = "+E[Lr]),N.bindFramebuffer(Sn,Ye.next?Ye.next.framebuffer:null),Ye.cur=Ye.next,N.getError()}function Qt(Jt,Dt){var gt=new ar;tt.framebufferCount++;function Lr(sr,fo){var to;ue(Ye.next!==gt,"can not update framebuffer which is currently in use");var Zr=0,Wo=0,ei=!0,Vi=!0,Co=null,ti=!0,gn="rgba",_i="uint8",gi=1,Vn=null,Ii=null,aa=null,vi=!1;if(typeof sr=="number")Zr=sr|0,Wo=fo|0||Zr;else if(!sr)Zr=Wo=1;else{ue.type(sr,"object","invalid arguments for framebuffer");var ho=sr;if("shape"in ho){var qi=ho.shape;ue(Array.isArray(qi)&&qi.length>=2,"invalid shape for framebuffer"),Zr=qi[0],Wo=qi[1]}else"radius"in ho&&(Zr=Wo=ho.radius),"width"in ho&&(Zr=ho.width),"height"in ho&&(Wo=ho.height);("color"in ho||"colors"in ho)&&(Co=ho.color||ho.colors,Array.isArray(Co)&&ue(Co.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),Co||("colorCount"in ho&&(gi=ho.colorCount|0,ue(gi>0,"invalid color buffer count")),"colorTexture"in ho&&(ti=!!ho.colorTexture,gn="rgba4"),"colorType"in ho&&(_i=ho.colorType,ti?(ue(ie.oes_texture_float||!(_i==="float"||_i==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ue(ie.oes_texture_half_float||!(_i==="half float"||_i==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):_i==="half float"||_i==="float16"?(ue(ie.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),gn="rgba16f"):(_i==="float"||_i==="float32")&&(ue(ie.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),gn="rgba32f"),ue.oneOf(_i,Zt,"invalid color type")),"colorFormat"in ho&&(gn=ho.colorFormat,Ot.indexOf(gn)>=0?ti=!0:Rt.indexOf(gn)>=0?ti=!1:ti?ue.oneOf(ho.colorFormat,Ot,"invalid color format for texture"):ue.oneOf(ho.colorFormat,Rt,"invalid color format for renderbuffer"))),("depthTexture"in ho||"depthStencilTexture"in ho)&&(vi=!!(ho.depthTexture||ho.depthStencilTexture),ue(!vi||ie.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ho&&(typeof ho.depth=="boolean"?ei=ho.depth:(Vn=ho.depth,Vi=!1)),"stencil"in ho&&(typeof ho.stencil=="boolean"?Vi=ho.stencil:(Ii=ho.stencil,ei=!1)),"depthStencil"in ho&&(typeof ho.depthStencil=="boolean"?ei=Vi=ho.depthStencil:(aa=ho.depthStencil,ei=!1,Vi=!1))}var Yo=null,Vr=null,To=null,Vo=null;if(Array.isArray(Co))Yo=Co.map(jt);else if(Co)Yo=[jt(Co)];else for(Yo=new Array(gi),to=0;to<gi;++to)Yo[to]=Ge(Zr,Wo,ti,gn,_i);ue(ie.webgl_draw_buffers||Yo.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ue(Yo.length<=xe.maxColorAttachments,"too many color attachments, not supported"),Zr=Zr||Yo[0].width,Wo=Wo||Yo[0].height,Vn?Vr=jt(Vn):ei&&!Vi&&(Vr=Ge(Zr,Wo,vi,"depth","uint32")),Ii?To=jt(Ii):Vi&&!ei&&(To=Ge(Zr,Wo,!1,"stencil","uint8")),aa?Vo=jt(aa):!Vn&&!Ii&&Vi&&ei&&(Vo=Ge(Zr,Wo,vi,"depth stencil","depth stencil")),ue(!!Vn+!!Ii+!!aa<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ri=null;for(to=0;to<Yo.length;++to)if($t(Yo[to],Zr,Wo),ue(!Yo[to]||Yo[to].texture&&Kl.indexOf(Yo[to].texture._texture.format)>=0||Yo[to].renderbuffer&&f.indexOf(Yo[to].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+to+" is invalid"),Yo[to]&&Yo[to].texture){var uu=Ms[Yo[to].texture._texture.format]*ys[Yo[to].texture._texture.type];ri===null?ri=uu:ue(ri===uu,"all color attachments much have the same number of bits per pixel.")}return $t(Vr,Zr,Wo),ue(!Vr||Vr.texture&&Vr.texture._texture.format===ap||Vr.renderbuffer&&Vr.renderbuffer._renderbuffer.format===Ql,"invalid depth attachment for framebuffer object"),$t(To,Zr,Wo),ue(!To||To.renderbuffer&&To.renderbuffer._renderbuffer.format===hc,"invalid stencil attachment for framebuffer object"),$t(Vo,Zr,Wo),ue(!Vo||Vo.texture&&Vo.texture._texture.format===rl||Vo.renderbuffer&&Vo.renderbuffer._renderbuffer.format===rl,"invalid depth-stencil attachment for framebuffer object"),It(gt),gt.width=Zr,gt.height=Wo,gt.colorAttachments=Yo,gt.depthAttachment=Vr,gt.stencilAttachment=To,gt.depthStencilAttachment=Vo,Lr.color=Yo.map(pt),Lr.depth=pt(Vr),Lr.stencil=pt(To),Lr.depthStencil=pt(Vo),Lr.width=gt.width,Lr.height=gt.height,St(gt),Lr}function Po(sr,fo){ue(Ye.next!==gt,"can not resize a framebuffer which is currently in use");var to=Math.max(sr|0,1),Zr=Math.max(fo|0||to,1);if(to===gt.width&&Zr===gt.height)return Lr;for(var Wo=gt.colorAttachments,ei=0;ei<Wo.length;++ei)Lt(Wo[ei],to,Zr);return Lt(gt.depthAttachment,to,Zr),Lt(gt.stencilAttachment,to,Zr),Lt(gt.depthStencilAttachment,to,Zr),gt.width=Lr.width=to,gt.height=Lr.height=Zr,St(gt),Lr}return Lr(Jt,Dt),n(Lr,{resize:Po,_reglType:"framebuffer",_framebuffer:gt,destroy:function(){rr(gt),It(gt)},use:function(sr){Ye.setFBO({framebuffer:Lr},sr)}})}function Or(Jt){var Dt=Array(6);function gt(Po){var sr;ue(Dt.indexOf(Ye.next)<0,"can not update framebuffer which is currently in use");var fo={color:null},to=0,Zr=null,Wo="rgba",ei="uint8",Vi=1;if(typeof Po=="number")to=Po|0;else if(!Po)to=1;else{ue.type(Po,"object","invalid arguments for framebuffer");var Co=Po;if("shape"in Co){var ti=Co.shape;ue(Array.isArray(ti)&&ti.length>=2,"invalid shape for framebuffer"),ue(ti[0]===ti[1],"cube framebuffer must be square"),to=ti[0]}else"radius"in Co&&(to=Co.radius|0),"width"in Co?(to=Co.width|0,"height"in Co&&ue(Co.height===to,"must be square")):"height"in Co&&(to=Co.height|0);("color"in Co||"colors"in Co)&&(Zr=Co.color||Co.colors,Array.isArray(Zr)&&ue(Zr.length===1||ie.webgl_draw_buffers,"multiple render targets not supported")),Zr||("colorCount"in Co&&(Vi=Co.colorCount|0,ue(Vi>0,"invalid color buffer count")),"colorType"in Co&&(ue.oneOf(Co.colorType,Zt,"invalid color type"),ei=Co.colorType),"colorFormat"in Co&&(Wo=Co.colorFormat,ue.oneOf(Co.colorFormat,Ot,"invalid color format for texture"))),"depth"in Co&&(fo.depth=Co.depth),"stencil"in Co&&(fo.stencil=Co.stencil),"depthStencil"in Co&&(fo.depthStencil=Co.depthStencil)}var gn;if(Zr)if(Array.isArray(Zr))for(gn=[],sr=0;sr<Zr.length;++sr)gn[sr]=Zr[sr];else gn=[Zr];else{gn=Array(Vi);var _i={radius:to,format:Wo,type:ei};for(sr=0;sr<Vi;++sr)gn[sr]=et.createCube(_i)}for(fo.color=Array(gn.length),sr=0;sr<gn.length;++sr){var gi=gn[sr];ue(typeof gi=="function"&&gi._reglType==="textureCube","invalid cube map"),to=to||gi.width,ue(gi.width===to&&gi.height===to,"invalid cube map shape"),fo.color[sr]={target:np,data:gn[sr]}}for(sr=0;sr<6;++sr){for(var Vn=0;Vn<gn.length;++Vn)fo.color[Vn].target=np+sr;sr>0&&(fo.depth=Dt[0].depth,fo.stencil=Dt[0].stencil,fo.depthStencil=Dt[0].depthStencil),Dt[sr]?Dt[sr](fo):Dt[sr]=Qt(fo)}return n(gt,{width:to,height:to,color:gn})}function Lr(Po){var sr,fo=Po|0;if(ue(fo>0&&fo<=xe.maxCubeMapSize,"invalid radius for cube fbo"),fo===gt.width)return gt;var to=gt.color;for(sr=0;sr<to.length;++sr)to[sr].resize(fo);for(sr=0;sr<6;++sr)Dt[sr].resize(fo);return gt.width=gt.height=fo,gt}return gt(Jt),n(gt,{faces:Dt,resize:Lr,_reglType:"framebufferCube",destroy:function(){Dt.forEach(function(Po){Po.destroy()})}})}function oo(){Ye.cur=null,Ye.next=null,Ye.dirty=!0,oe(Ft).forEach(function(Jt){Jt.framebuffer=N.createFramebuffer(),St(Jt)})}return n(Ye,{getFramebuffer:function(Jt){if(typeof Jt=="function"&&Jt._reglType==="framebuffer"){var Dt=Jt._framebuffer;if(Dt instanceof ar)return Dt}return null},create:Qt,createCube:Or,clear:function(){oe(Ft).forEach(rr)},restore:oo})}var S=5126,R=34962;function D(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=S,this.offset=0,this.stride=0,this.divisor=0}function z(N,ie,xe,et,_t){for(var tt=xe.maxAttributes,Ye=new Array(tt),Ot=0;Ot<tt;++Ot)Ye[Ot]=new D;var Rt=0,Zt={},Ut={Record:D,scope:{},state:Ye,currentVAO:null,targetVAO:null,restore:$t()?Ft:function(){},createVAO:ar,getVAO:jt,destroyBuffer:Gt,setVAO:$t()?Ge:pt,clear:$t()?Lt:function(){}};function Gt(It){for(var rr=0;rr<Ye.length;++rr){var St=Ye[rr];St.buffer===It&&(N.disableVertexAttribArray(rr),St.buffer=null)}}function $t(){return ie.oes_vertex_array_object}function Ct(){return ie.angle_instanced_arrays}function jt(It){return typeof It=="function"&&It._vao?It._vao:null}function Ge(It){if(It!==Ut.currentVAO){var rr=$t();It?rr.bindVertexArrayOES(It.vao):rr.bindVertexArrayOES(null),Ut.currentVAO=It}}function pt(It){if(It!==Ut.currentVAO){if(It)It.bindAttrs();else for(var rr=Ct(),St=0;St<Ye.length;++St){var Qt=Ye[St];Qt.buffer?(N.enableVertexAttribArray(St),N.vertexAttribPointer(St,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offfset),rr&&rr.vertexAttribDivisorANGLE(St,Qt.divisor)):(N.disableVertexAttribArray(St),N.vertexAttrib4f(St,Qt.x,Qt.y,Qt.z,Qt.w))}Ut.currentVAO=It}}function Lt(){oe(Zt).forEach(function(It){It.destroy()})}function tr(){this.id=++Rt,this.attributes=[];var It=$t();It?this.vao=It.createVertexArrayOES():this.vao=null,Zt[this.id]=this,this.buffers=[]}tr.prototype.bindAttrs=function(){for(var It=Ct(),rr=this.attributes,St=0;St<rr.length;++St){var Qt=rr[St];Qt.buffer?(N.enableVertexAttribArray(St),N.bindBuffer(R,Qt.buffer.buffer),N.vertexAttribPointer(St,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offset),It&&It.vertexAttribDivisorANGLE(St,Qt.divisor)):(N.disableVertexAttribArray(St),N.vertexAttrib4f(St,Qt.x,Qt.y,Qt.z,Qt.w))}for(var Or=rr.length;Or<tt;++Or)N.disableVertexAttribArray(Or)},tr.prototype.refresh=function(){var It=$t();It&&(It.bindVertexArrayOES(this.vao),this.bindAttrs(),Ut.currentVAO=this)},tr.prototype.destroy=function(){if(this.vao){var It=$t();this===Ut.currentVAO&&(Ut.currentVAO=null,It.bindVertexArrayOES(null)),It.deleteVertexArrayOES(this.vao),this.vao=null}Zt[this.id]&&(delete Zt[this.id],et.vaoCount-=1)};function Ft(){var It=$t();It&&oe(Zt).forEach(function(rr){rr.refresh()})}function ar(It){var rr=new tr;et.vaoCount+=1;function St(Qt){ue(Array.isArray(Qt),"arguments to vertex array constructor must be an array"),ue(Qt.length<tt,"too many attributes"),ue(Qt.length>0,"must specify at least one attribute");for(var Or=0;Or<rr.buffers.length;++Or)rr.buffers[Or].destroy();rr.buffers.length=0;var oo=rr.attributes;oo.length=Qt.length;for(var Jt=0;Jt<Qt.length;++Jt){var Dt=Qt[Jt],gt=oo[Jt]=new D;if(Array.isArray(Dt)||r(Dt)||Z(Dt)){var Lr=_t.create(Dt,R,!1,!0);gt.buffer=_t.getBuffer(Lr),gt.size=gt.buffer.dimension|0,gt.normalized=!1,gt.type=gt.buffer.dtype,gt.offset=0,gt.stride=0,gt.divisor=0,gt.state=1,rr.buffers.push(Lr)}else _t.getBuffer(Dt)?(gt.buffer=_t.getBuffer(Dt),gt.size=gt.buffer.dimension|0,gt.normalized=!1,gt.type=gt.buffer.dtype,gt.offset=0,gt.stride=0,gt.divisor=0,gt.state=1):_t.getBuffer(Dt.buffer)?(gt.buffer=_t.getBuffer(Dt.buffer),gt.size=(+Dt.size||gt.buffer.dimension)|0,gt.normalized=!!Dt.normalized||!1,"type"in Dt?(ue.parameter(Dt.type,Ui,"invalid buffer type"),gt.type=Ui[Dt.type]):gt.type=gt.buffer.dtype,gt.offset=(Dt.offset||0)|0,gt.stride=(Dt.stride||0)|0,gt.divisor=(Dt.divisor||0)|0,gt.state=1,ue(gt.size>=1&&gt.size<=4,"size must be between 1 and 4"),ue(gt.offset>=0,"invalid offset"),ue(gt.stride>=0&&gt.stride<=255,"stride must be between 0 and 255"),ue(gt.divisor>=0,"divisor must be positive"),ue(!gt.divisor||!!ie.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Dt?(ue(Jt>0,"first attribute must not be a constant"),gt.x=+Dt.x||0,gt.y=+Dt.y||0,gt.z=+Dt.z||0,gt.w=+Dt.w||0,gt.state=2):ue(!1,"invalid attribute spec for location "+Jt)}return rr.refresh(),St}return St.destroy=function(){rr.destroy()},St._vao=rr,St._reglType="vao",St(It)}return Ut}var $=35632,ee=35633,re=35718,_e=35721;function de(N,ie,xe,et){var _t={},tt={};function Ye(Ge,pt,Lt,tr){this.name=Ge,this.id=pt,this.location=Lt,this.info=tr}function Ot(Ge,pt){for(var Lt=0;Lt<Ge.length;++Lt)if(Ge[Lt].id===pt.id){Ge[Lt].location=pt.location;return}Ge.push(pt)}function Rt(Ge,pt,Lt){var tr=Ge===$?_t:tt,Ft=tr[pt];if(!Ft){var ar=ie.str(pt);Ft=N.createShader(Ge),N.shaderSource(Ft,ar),N.compileShader(Ft),ue.shaderError(N,Ft,ar,Ge,Lt),tr[pt]=Ft}return Ft}var Zt={},Ut=[],Gt=0;function $t(Ge,pt){this.id=Gt++,this.fragId=Ge,this.vertId=pt,this.program=null,this.uniforms=[],this.attributes=[],et.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(Ge,pt,Lt){var tr,Ft,ar=Rt($,Ge.fragId),It=Rt(ee,Ge.vertId),rr=Ge.program=N.createProgram();if(N.attachShader(rr,ar),N.attachShader(rr,It),Lt)for(tr=0;tr<Lt.length;++tr){var St=Lt[tr];N.bindAttribLocation(rr,St[0],St[1])}N.linkProgram(rr),ue.linkError(N,rr,ie.str(Ge.fragId),ie.str(Ge.vertId),pt);var Qt=N.getProgramParameter(rr,re);et.profile&&(Ge.stats.uniformsCount=Qt);var Or=Ge.uniforms;for(tr=0;tr<Qt;++tr)if(Ft=N.getActiveUniform(rr,tr),Ft)if(Ft.size>1)for(var oo=0;oo<Ft.size;++oo){var Jt=Ft.name.replace("[0]","["+oo+"]");Ot(Or,new Ye(Jt,ie.id(Jt),N.getUniformLocation(rr,Jt),Ft))}else Ot(Or,new Ye(Ft.name,ie.id(Ft.name),N.getUniformLocation(rr,Ft.name),Ft));var Dt=N.getProgramParameter(rr,_e);et.profile&&(Ge.stats.attributesCount=Dt);var gt=Ge.attributes;for(tr=0;tr<Dt;++tr)Ft=N.getActiveAttrib(rr,tr),Ft&&Ot(gt,new Ye(Ft.name,ie.id(Ft.name),N.getAttribLocation(rr,Ft.name),Ft))}et.profile&&(xe.getMaxUniformsCount=function(){var Ge=0;return Ut.forEach(function(pt){pt.stats.uniformsCount>Ge&&(Ge=pt.stats.uniformsCount)}),Ge},xe.getMaxAttributesCount=function(){var Ge=0;return Ut.forEach(function(pt){pt.stats.attributesCount>Ge&&(Ge=pt.stats.attributesCount)}),Ge});function jt(){_t={},tt={};for(var Ge=0;Ge<Ut.length;++Ge)Ct(Ut[Ge],null,Ut[Ge].attributes.map(function(pt){return[pt.location,pt.name]}))}return{clear:function(){var Ge=N.deleteShader.bind(N);oe(_t).forEach(Ge),_t={},oe(tt).forEach(Ge),tt={},Ut.forEach(function(pt){N.deleteProgram(pt.program)}),Ut.length=0,Zt={},xe.shaderCount=0},program:function(Ge,pt,Lt,tr){ue.command(Ge>=0,"missing vertex shader",Lt),ue.command(pt>=0,"missing fragment shader",Lt);var Ft=Zt[pt];Ft||(Ft=Zt[pt]={});var ar=Ft[Ge];if(ar&&!tr)return ar;var It=new $t(pt,Ge);return xe.shaderCount++,Ct(It,Lt,tr),ar||(Ft[Ge]=It),Ut.push(It),It},restore:jt,shader:Rt,frag:-1,vert:-1}}var Se=6408,ce=5121,Ae=3333,De=5126;function Ze(N,ie,xe,et,_t,tt,Ye){function Ot(Ut){var Gt;ie.next===null?(ue(_t.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Gt=ce):(ue(ie.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Gt=ie.next.colorAttachments[0].texture._texture.type,tt.oes_texture_float?(ue(Gt===ce||Gt===De,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Gt===De&&ue(Ye.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ue(Gt===ce,"Reading from a framebuffer is only allowed for the type 'uint8'"));var $t=0,Ct=0,jt=et.framebufferWidth,Ge=et.framebufferHeight,pt=null;r(Ut)?pt=Ut:Ut&&(ue.type(Ut,"object","invalid arguments to regl.read()"),$t=Ut.x|0,Ct=Ut.y|0,ue($t>=0&&$t<et.framebufferWidth,"invalid x offset for regl.read"),ue(Ct>=0&&Ct<et.framebufferHeight,"invalid y offset for regl.read"),jt=(Ut.width||et.framebufferWidth-$t)|0,Ge=(Ut.height||et.framebufferHeight-Ct)|0,pt=Ut.data||null),pt&&(Gt===ce?ue(pt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Gt===De&&ue(pt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ue(jt>0&&jt+$t<=et.framebufferWidth,"invalid width for read pixels"),ue(Ge>0&&Ge+Ct<=et.framebufferHeight,"invalid height for read pixels"),xe();var Lt=jt*Ge*4;return pt||(Gt===ce?pt=new Uint8Array(Lt):Gt===De&&(pt=pt||new Float32Array(Lt))),ue.isTypedArray(pt,"data buffer for regl.read() must be a typedarray"),ue(pt.byteLength>=Lt,"data buffer for regl.read() too small"),N.pixelStorei(Ae,4),N.readPixels($t,Ct,jt,Ge,Se,Gt,pt),pt}function Rt(Ut){var Gt;return ie.setFBO({framebuffer:Ut.framebuffer},function(){Gt=Ot(Ut)}),Gt}function Zt(Ut){return!Ut||!("framebuffer"in Ut)?Ot(Ut):Rt(Ut)}return Zt}function at(N){return Array.prototype.slice.call(N)}function Je(N){return at(N).join("")}function lt(){var N=0,ie=[],xe=[];function et(Gt){for(var $t=0;$t<xe.length;++$t)if(xe[$t]===Gt)return ie[$t];var Ct="g"+N++;return ie.push(Ct),xe.push(Gt),Ct}function _t(){var Gt=[];function $t(){Gt.push.apply(Gt,at(arguments))}var Ct=[];function jt(){var Ge="v"+N++;return Ct.push(Ge),arguments.length>0&&(Gt.push(Ge,"="),Gt.push.apply(Gt,at(arguments)),Gt.push(";")),Ge}return n($t,{def:jt,toString:function(){return Je([Ct.length>0?"var "+Ct.join(",")+";":"",Je(Gt)])}})}function tt(){var Gt=_t(),$t=_t(),Ct=Gt.toString,jt=$t.toString;function Ge(pt,Lt){$t(pt,Lt,"=",Gt.def(pt,Lt),";")}return n(function(){Gt.apply(Gt,at(arguments))},{def:Gt.def,entry:Gt,exit:$t,save:Ge,set:function(pt,Lt,tr){Ge(pt,Lt),Gt(pt,Lt,"=",tr,";")},toString:function(){return Ct()+jt()}})}function Ye(){var Gt=Je(arguments),$t=tt(),Ct=tt(),jt=$t.toString,Ge=Ct.toString;return n($t,{then:function(){return $t.apply($t,at(arguments)),this},else:function(){return Ct.apply(Ct,at(arguments)),this},toString:function(){var pt=Ge();return pt&&(pt="else{"+pt+"}"),Je(["if(",Gt,"){",jt(),"}",pt])}})}var Ot=_t(),Rt={};function Zt(Gt,$t){var Ct=[];function jt(){var Ft="a"+Ct.length;return Ct.push(Ft),Ft}$t=$t||0;for(var Ge=0;Ge<$t;++Ge)jt();var pt=tt(),Lt=pt.toString,tr=Rt[Gt]=n(pt,{arg:jt,toString:function(){return Je(["function(",Ct.join(),"){",Lt(),"}"])}});return tr}function Ut(){var Gt=['"use strict";',Ot,"return {"];Object.keys(Rt).forEach(function(jt){Gt.push('"',jt,'":',Rt[jt].toString(),",")}),Gt.push("}");var $t=Je(Gt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ct=Function.apply(null,ie.concat($t));return Ct.apply(null,xe)}return{global:Ot,link:et,block:_t,proc:Zt,scope:tt,cond:Ye,compile:Ut}}var Pt="xyzw".split(""),Ht=5121,Bt=1,ir=2,Cr=0,Dr=1,Nr=2,Bo=3,lr=4,qr="dither",lo="blend.enable",Xr="blend.color",jr="blend.equation",po="blend.func",Wr="depth.enable",zr="depth.func",Qn="depth.range",Rn="depth.mask",Ci="colorMask",fi="cull.enable",Tn="cull.face",Cn="frontFace",oa="lineWidth",$i="polygonOffset.enable",Is="polygonOffset.offset",na="sample.alpha",ts="sample.enable",Ca="sample.coverage",Np="stencil.enable",sp="stencil.mask",Ns="stencil.func",Lu="stencil.opFront",au="stencil.opBack",hs="scissor.enable",Bu="scissor.box",zi="viewport",kn="profile",ya="framebuffer",rs="vert",fs="frag",Io="elements",Mi="primitive",Jn="count",Ds="offset",nl="instances",Uu="vao",Jl="Width",up="Height",pp=ya+Jl,ms=ya+up,il=zi+Jl,od=zi+up,Dp="drawingBuffer",ha=Dp+Jl,Gy=Dp+up,jy=[po,jr,Ns,Lu,au,Ca,zi,Bu,Is],al=34962,tm=34963,rm=35632,om=35633,V0=3553,nm=34067,H0=2884,Wy=3042,Op=3024,e0=2960,im=2929,am=3089,sm=32823,um=32926,pm=32928,nd=5126,G0=35664,sl=35665,j0=35666,Lp=5124,W0=35667,zn=35668,fc=35669,Z0=35670,mc=35671,_c=35672,Bp=35673,ul=35674,pl=35675,cp=35676,gc=35678,vc=35680,Zy=4,lp=1028,Ec=1029,X0=2304,id=2305,ad=32775,sd=32776,su=519,Up=7680,Xy=0,Yy=1,$y=32774,qy=513,xc=36160,cm=36064,ku={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ud=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Pc={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},kp={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ky={frag:rm,vert:om},zp={cw:X0,ccw:id};function Y0(N){return Array.isArray(N)||r(N)||Z(N)}function $0(N){return N.sort(function(ie,xe){return ie===zi?-1:xe===zi?1:ie<xe?-1:1})}function fa(N,ie,xe,et){this.thisDep=N,this.contextDep=ie,this.propDep=xe,this.append=et}function ia(N){return N&&!(N.thisDep||N.contextDep||N.propDep)}function mi(N){return new fa(!1,!1,!1,N)}function os(N,ie){var xe=N.type;if(xe===Cr){var et=N.data.length;return new fa(!0,et>=1,et>=2,ie)}else if(xe===lr){var _t=N.data;return new fa(_t.thisDep,_t.contextDep,_t.propDep,ie)}else return new fa(xe===Bo,xe===Nr,xe===Dr,ie)}var Qy=new fa(!1,!1,!1,function(){});function t0(N,ie,xe,et,_t,tt,Ye,Ot,Rt,Zt,Ut,Gt,$t,Ct,jt){var Ge=Zt.Record,pt={add:32774,subtract:32778,"reverse subtract":32779};xe.ext_blend_minmax&&(pt.min=ad,pt.max=sd);var Lt=xe.angle_instanced_arrays,tr=xe.webgl_draw_buffers,Ft={dirty:!0,profile:jt.profile},ar={},It=[],rr={},St={};function Qt(X){return X.replace(".","_")}function Or(X,pe,Pe){var Qe=Qt(X);It.push(X),ar[Qe]=Ft[Qe]=!!Pe,rr[Qe]=pe}function oo(X,pe,Pe){var Qe=Qt(X);It.push(X),Array.isArray(Pe)?(Ft[Qe]=Pe.slice(),ar[Qe]=Pe.slice()):Ft[Qe]=ar[Qe]=Pe,St[Qe]=pe}Or(qr,Op),Or(lo,Wy),oo(Xr,"blendColor",[0,0,0,0]),oo(jr,"blendEquationSeparate",[$y,$y]),oo(po,"blendFuncSeparate",[Yy,Xy,Yy,Xy]),Or(Wr,im,!0),oo(zr,"depthFunc",qy),oo(Qn,"depthRange",[0,1]),oo(Rn,"depthMask",!0),oo(Ci,Ci,[!0,!0,!0,!0]),Or(fi,H0),oo(Tn,"cullFace",Ec),oo(Cn,Cn,id),oo(oa,oa,1),Or($i,sm),oo(Is,"polygonOffset",[0,0]),Or(na,um),Or(ts,pm),oo(Ca,"sampleCoverage",[1,!1]),Or(Np,e0),oo(sp,"stencilMask",-1),oo(Ns,"stencilFunc",[su,0,-1]),oo(Lu,"stencilOpSeparate",[lp,Up,Up,Up]),oo(au,"stencilOpSeparate",[Ec,Up,Up,Up]),Or(hs,am),oo(Bu,"scissor",[0,0,N.drawingBufferWidth,N.drawingBufferHeight]),oo(zi,zi,[0,0,N.drawingBufferWidth,N.drawingBufferHeight]);var Jt={gl:N,context:$t,strings:ie,next:ar,current:Ft,draw:Gt,elements:tt,buffer:_t,shader:Ut,attributes:Zt.state,vao:Zt,uniforms:Rt,framebuffer:Ot,extensions:xe,timer:Ct,isBufferArgs:Y0},Dt={primTypes:As,compareFuncs:Pc,blendFuncs:ku,blendEquations:pt,stencilOps:kp,glTypes:Ui,orientationType:zp};ue.optional(function(){Jt.isArrayLike=Un}),tr&&(Dt.backBuffer=[Ec],Dt.drawBuffer=jo(et.maxDrawbuffers,function(X){return X===0?[0]:jo(X,function(pe){return cm+pe})}));var gt=0;function Lr(){var X=lt(),pe=X.link,Pe=X.global;X.id=gt++,X.batchId="0";var Qe=pe(Jt),qe=X.shared={props:"a0"};Object.keys(Jt).forEach(function(Ce){qe[Ce]=Pe.def(Qe,".",Ce)}),ue.optional(function(){X.CHECK=pe(ue),X.commandStr=ue.guessCommand(),X.command=pe(X.commandStr),X.assert=function(Ce,ae,Ie){Ce("if(!(",ae,"))",this.CHECK,".commandRaise(",pe(Ie),",",this.command,");")},Dt.invalidBlendCombinations=ud});var Te=X.next={},Ne=X.current={};Object.keys(St).forEach(function(Ce){Array.isArray(Ft[Ce])&&(Te[Ce]=Pe.def(qe.next,".",Ce),Ne[Ce]=Pe.def(qe.current,".",Ce))});var Be=X.constants={};Object.keys(Dt).forEach(function(Ce){Be[Ce]=Pe.def(JSON.stringify(Dt[Ce]))}),X.invoke=function(Ce,ae){switch(ae.type){case Cr:var Ie=["this",qe.context,qe.props,X.batchId];return Ce.def(pe(ae.data),".call(",Ie.slice(0,Math.max(ae.data.length+1,4)),")");case Dr:return Ce.def(qe.props,ae.data);case Nr:return Ce.def(qe.context,ae.data);case Bo:return Ce.def("this",ae.data);case lr:return ae.data.append(X,Ce),ae.data.ref}},X.attribCache={};var me={};return X.scopeAttrib=function(Ce){var ae=ie.id(Ce);if(ae in me)return me[ae];var Ie=Zt.scope[ae];Ie||(Ie=Zt.scope[ae]=new Ge);var it=me[ae]=pe(Ie);return it},X}function Po(X){var pe=X.static,Pe=X.dynamic,Qe;if(kn in pe){var qe=!!pe[kn];Qe=mi(function(Ne,Be){return qe}),Qe.enable=qe}else if(kn in Pe){var Te=Pe[kn];Qe=os(Te,function(Ne,Be){return Ne.invoke(Be,Te)})}return Qe}function sr(X,pe){var Pe=X.static,Qe=X.dynamic;if(ya in Pe){var qe=Pe[ya];return qe?(qe=Ot.getFramebuffer(qe),ue.command(qe,"invalid framebuffer object"),mi(function(Ne,Be){var me=Ne.link(qe),Ce=Ne.shared;Be.set(Ce.framebuffer,".next",me);var ae=Ce.context;return Be.set(ae,"."+pp,me+".width"),Be.set(ae,"."+ms,me+".height"),me})):mi(function(Ne,Be){var me=Ne.shared;Be.set(me.framebuffer,".next","null");var Ce=me.context;return Be.set(Ce,"."+pp,Ce+"."+ha),Be.set(Ce,"."+ms,Ce+"."+Gy),"null"})}else if(ya in Qe){var Te=Qe[ya];return os(Te,function(Ne,Be){var me=Ne.invoke(Be,Te),Ce=Ne.shared,ae=Ce.framebuffer,Ie=Be.def(ae,".getFramebuffer(",me,")");ue.optional(function(){Ne.assert(Be,"!"+me+"||"+Ie,"invalid framebuffer object")}),Be.set(ae,".next",Ie);var it=Ce.context;return Be.set(it,"."+pp,Ie+"?"+Ie+".width:"+it+"."+ha),Be.set(it,"."+ms,Ie+"?"+Ie+".height:"+it+"."+Gy),Ie})}else return null}function fo(X,pe,Pe){var Qe=X.static,qe=X.dynamic;function Te(me){if(me in Qe){var Ce=Qe[me];ue.commandType(Ce,"object","invalid "+me,Pe.commandStr);var ae=!0,Ie=Ce.x|0,it=Ce.y|0,yt,Tt;return"width"in Ce?(yt=Ce.width|0,ue.command(yt>=0,"invalid "+me,Pe.commandStr)):ae=!1,"height"in Ce?(Tt=Ce.height|0,ue.command(Tt>=0,"invalid "+me,Pe.commandStr)):ae=!1,new fa(!ae&&pe&&pe.thisDep,!ae&&pe&&pe.contextDep,!ae&&pe&&pe.propDep,function(Ar,fr){var vr=Ar.shared.context,Hr=yt;"width"in Ce||(Hr=fr.def(vr,".",pp,"-",Ie));var Jr=Tt;return"height"in Ce||(Jr=fr.def(vr,".",ms,"-",it)),[Ie,it,Hr,Jr]})}else if(me in qe){var xt=qe[me],Mt=os(xt,function(Ar,fr){var vr=Ar.invoke(fr,xt);ue.optional(function(){Ar.assert(fr,vr+"&&typeof "+vr+'==="object"',"invalid "+me)});var Hr=Ar.shared.context,Jr=fr.def(vr,".x|0"),$o=fr.def(vr,".y|0"),Ei=fr.def('"width" in ',vr,"?",vr,".width|0:","(",Hr,".",pp,"-",Jr,")"),pu=fr.def('"height" in ',vr,"?",vr,".height|0:","(",Hr,".",ms,"-",$o,")");return ue.optional(function(){Ar.assert(fr,Ei+">=0&&"+pu+">=0","invalid "+me)}),[Jr,$o,Ei,pu]});return pe&&(Mt.thisDep=Mt.thisDep||pe.thisDep,Mt.contextDep=Mt.contextDep||pe.contextDep,Mt.propDep=Mt.propDep||pe.propDep),Mt}else return pe?new fa(pe.thisDep,pe.contextDep,pe.propDep,function(Ar,fr){var vr=Ar.shared.context;return[0,0,fr.def(vr,".",pp),fr.def(vr,".",ms)]}):null}var Ne=Te(zi);if(Ne){var Be=Ne;Ne=new fa(Ne.thisDep,Ne.contextDep,Ne.propDep,function(me,Ce){var ae=Be.append(me,Ce),Ie=me.shared.context;return Ce.set(Ie,"."+il,ae[2]),Ce.set(Ie,"."+od,ae[3]),ae})}return{viewport:Ne,scissor_box:Te(Bu)}}function to(X,pe){var Pe=X.static,Qe=typeof Pe[fs]=="string"&&typeof Pe[rs]=="string";if(Qe){if(Object.keys(pe.dynamic).length>0)return null;var qe=pe.static,Te=Object.keys(qe);if(Te.length>0&&typeof qe[Te[0]]=="number"){for(var Ne=[],Be=0;Be<Te.length;++Be)ue(typeof qe[Te[Be]]=="number","must specify all vertex attribute locations when using vaos"),Ne.push([qe[Te[Be]]|0,Te[Be]]);return Ne}}return null}function Zr(X,pe,Pe){var Qe=X.static,qe=X.dynamic;function Te(ae){if(ae in Qe){var Ie=ie.id(Qe[ae]);ue.optional(function(){Ut.shader(Ky[ae],Ie,ue.guessCommand())});var it=mi(function(){return Ie});return it.id=Ie,it}else if(ae in qe){var yt=qe[ae];return os(yt,function(Tt,xt){var Mt=Tt.invoke(xt,yt),Ar=xt.def(Tt.shared.strings,".id(",Mt,")");return ue.optional(function(){xt(Tt.shared.shader,".shader(",Ky[ae],",",Ar,",",Tt.command,");")}),Ar})}return null}var Ne=Te(fs),Be=Te(rs),me=null,Ce;return ia(Ne)&&ia(Be)?(me=Ut.program(Be.id,Ne.id,null,Pe),Ce=mi(function(ae,Ie){return ae.link(me)})):Ce=new fa(Ne&&Ne.thisDep||Be&&Be.thisDep,Ne&&Ne.contextDep||Be&&Be.contextDep,Ne&&Ne.propDep||Be&&Be.propDep,function(ae,Ie){var it=ae.shared.shader,yt;Ne?yt=Ne.append(ae,Ie):yt=Ie.def(it,".",fs);var Tt;Be?Tt=Be.append(ae,Ie):Tt=Ie.def(it,".",rs);var xt=it+".program("+Tt+","+yt;return ue.optional(function(){xt+=","+ae.command}),Ie.def(xt+")")}),{frag:Ne,vert:Be,progVar:Ce,program:me}}function Wo(X,pe){var Pe=X.static,Qe=X.dynamic;function qe(){if(Io in Pe){var ae=Pe[Io];Y0(ae)?ae=tt.getElements(tt.create(ae,!0)):ae&&(ae=tt.getElements(ae),ue.command(ae,"invalid elements",pe.commandStr));var Ie=mi(function(yt,Tt){if(ae){var xt=yt.link(ae);return yt.ELEMENTS=xt,xt}return yt.ELEMENTS=null,null});return Ie.value=ae,Ie}else if(Io in Qe){var it=Qe[Io];return os(it,function(yt,Tt){var xt=yt.shared,Mt=xt.isBufferArgs,Ar=xt.elements,fr=yt.invoke(Tt,it),vr=Tt.def("null"),Hr=Tt.def(Mt,"(",fr,")"),Jr=yt.cond(Hr).then(vr,"=",Ar,".createStream(",fr,");").else(vr,"=",Ar,".getElements(",fr,");");return ue.optional(function(){yt.assert(Jr.else,"!"+fr+"||"+vr,"invalid elements")}),Tt.entry(Jr),Tt.exit(yt.cond(Hr).then(Ar,".destroyStream(",vr,");")),yt.ELEMENTS=vr,vr})}return null}var Te=qe();function Ne(){if(Mi in Pe){var ae=Pe[Mi];return ue.commandParameter(ae,As,"invalid primitve",pe.commandStr),mi(function(it,yt){return As[ae]})}else if(Mi in Qe){var Ie=Qe[Mi];return os(Ie,function(it,yt){var Tt=it.constants.primTypes,xt=it.invoke(yt,Ie);return ue.optional(function(){it.assert(yt,xt+" in "+Tt,"invalid primitive, must be one of "+Object.keys(As))}),yt.def(Tt,"[",xt,"]")})}else if(Te)return ia(Te)?Te.value?mi(function(it,yt){return yt.def(it.ELEMENTS,".primType")}):mi(function(){return Zy}):new fa(Te.thisDep,Te.contextDep,Te.propDep,function(it,yt){var Tt=it.ELEMENTS;return yt.def(Tt,"?",Tt,".primType:",Zy)});return null}function Be(ae,Ie){if(ae in Pe){var it=Pe[ae]|0;return ue.command(!Ie||it>=0,"invalid "+ae,pe.commandStr),mi(function(Tt,xt){return Ie&&(Tt.OFFSET=it),it})}else if(ae in Qe){var yt=Qe[ae];return os(yt,function(Tt,xt){var Mt=Tt.invoke(xt,yt);return Ie&&(Tt.OFFSET=Mt,ue.optional(function(){Tt.assert(xt,Mt+">=0","invalid "+ae)})),Mt})}else if(Ie&&Te)return mi(function(Tt,xt){return Tt.OFFSET="0",0});return null}var me=Be(Ds,!0);function Ce(){if(Jn in Pe){var ae=Pe[Jn]|0;return ue.command(typeof ae=="number"&&ae>=0,"invalid vertex count",pe.commandStr),mi(function(){return ae})}else if(Jn in Qe){var Ie=Qe[Jn];return os(Ie,function(Tt,xt){var Mt=Tt.invoke(xt,Ie);return ue.optional(function(){Tt.assert(xt,"typeof "+Mt+'==="number"&&'+Mt+">=0&&"+Mt+"===("+Mt+"|0)","invalid vertex count")}),Mt})}else if(Te)if(ia(Te)){if(Te)return me?new fa(me.thisDep,me.contextDep,me.propDep,function(Tt,xt){var Mt=xt.def(Tt.ELEMENTS,".vertCount-",Tt.OFFSET);return ue.optional(function(){Tt.assert(xt,Mt+">=0","invalid vertex offset/element buffer too small")}),Mt}):mi(function(Tt,xt){return xt.def(Tt.ELEMENTS,".vertCount")});var it=mi(function(){return-1});return ue.optional(function(){it.MISSING=!0}),it}else{var yt=new fa(Te.thisDep||me.thisDep,Te.contextDep||me.contextDep,Te.propDep||me.propDep,function(Tt,xt){var Mt=Tt.ELEMENTS;return Tt.OFFSET?xt.def(Mt,"?",Mt,".vertCount-",Tt.OFFSET,":-1"):xt.def(Mt,"?",Mt,".vertCount:-1")});return ue.optional(function(){yt.DYNAMIC=!0}),yt}return null}return{elements:Te,primitive:Ne(),count:Ce(),instances:Be(nl,!1),offset:me}}function ei(X,pe){var Pe=X.static,Qe=X.dynamic,qe={};return It.forEach(function(Te){var Ne=Qt(Te);function Be(me,Ce){if(Te in Pe){var ae=me(Pe[Te]);qe[Ne]=mi(function(){return ae})}else if(Te in Qe){var Ie=Qe[Te];qe[Ne]=os(Ie,function(it,yt){return Ce(it,yt,it.invoke(yt,Ie))})}}switch(Te){case fi:case lo:case qr:case Np:case Wr:case hs:case $i:case na:case ts:case Rn:return Be(function(me){return ue.commandType(me,"boolean",Te,pe.commandStr),me},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,"typeof "+ae+'==="boolean"',"invalid flag "+Te,me.commandStr)}),ae});case zr:return Be(function(me){return ue.commandParameter(me,Pc,"invalid "+Te,pe.commandStr),Pc[me]},function(me,Ce,ae){var Ie=me.constants.compareFuncs;return ue.optional(function(){me.assert(Ce,ae+" in "+Ie,"invalid "+Te+", must be one of "+Object.keys(Pc))}),Ce.def(Ie,"[",ae,"]")});case Qn:return Be(function(me){return ue.command(Un(me)&&me.length===2&&typeof me[0]=="number"&&typeof me[1]=="number"&&me[0]<=me[1],"depth range is 2d array",pe.commandStr),me},function(me,Ce,ae){ue.optional(function(){me.assert(Ce,me.shared.isArrayLike+"("+ae+")&&"+ae+".length===2&&typeof "+ae+'[0]==="number"&&typeof '+ae+'[1]==="number"&&'+ae+"[0]<="+ae+"[1]","depth range must be a 2d array")});var Ie=Ce.def("+",ae,"[0]"),it=Ce.def("+",ae,"[1]");return[Ie,it]});case po:return Be(function(me){ue.commandType(me,"object","blend.func",pe.commandStr);var Ce="srcRGB"in me?me.srcRGB:me.src,ae="srcAlpha"in me?me.srcAlpha:me.src,Ie="dstRGB"in me?me.dstRGB:me.dst,it="dstAlpha"in me?me.dstAlpha:me.dst;return ue.commandParameter(Ce,ku,Ne+".srcRGB",pe.commandStr),ue.commandParameter(ae,ku,Ne+".srcAlpha",pe.commandStr),ue.commandParameter(Ie,ku,Ne+".dstRGB",pe.commandStr),ue.commandParameter(it,ku,Ne+".dstAlpha",pe.commandStr),ue.command(ud.indexOf(Ce+", "+Ie)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ce+", "+Ie+")",pe.commandStr),[ku[Ce],ku[Ie],ku[ae],ku[it]]},function(me,Ce,ae){var Ie=me.constants.blendFuncs;ue.optional(function(){me.assert(Ce,ae+"&&typeof "+ae+'==="object"',"invalid blend func, must be an object")});function it(vr,Hr){var Jr=Ce.def('"',vr,Hr,'" in ',ae,"?",ae,".",vr,Hr,":",ae,".",vr);return ue.optional(function(){me.assert(Ce,Jr+" in "+Ie,"invalid "+Te+"."+vr+Hr+", must be one of "+Object.keys(ku))}),Jr}var yt=it("src","RGB"),Tt=it("dst","RGB");ue.optional(function(){var vr=me.constants.invalidBlendCombinations;me.assert(Ce,vr+".indexOf("+yt+'+", "+'+Tt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var xt=Ce.def(Ie,"[",yt,"]"),Mt=Ce.def(Ie,"[",it("src","Alpha"),"]"),Ar=Ce.def(Ie,"[",Tt,"]"),fr=Ce.def(Ie,"[",it("dst","Alpha"),"]");return[xt,Ar,Mt,fr]});case jr:return Be(function(me){if(typeof me=="string")return ue.commandParameter(me,pt,"invalid "+Te,pe.commandStr),[pt[me],pt[me]];if(typeof me=="object")return ue.commandParameter(me.rgb,pt,Te+".rgb",pe.commandStr),ue.commandParameter(me.alpha,pt,Te+".alpha",pe.commandStr),[pt[me.rgb],pt[me.alpha]];ue.commandRaise("invalid blend.equation",pe.commandStr)},function(me,Ce,ae){var Ie=me.constants.blendEquations,it=Ce.def(),yt=Ce.def(),Tt=me.cond("typeof ",ae,'==="string"');return ue.optional(function(){function xt(Mt,Ar,fr){me.assert(Mt,fr+" in "+Ie,"invalid "+Ar+", must be one of "+Object.keys(pt))}xt(Tt.then,Te,ae),me.assert(Tt.else,ae+"&&typeof "+ae+'==="object"',"invalid "+Te),xt(Tt.else,Te+".rgb",ae+".rgb"),xt(Tt.else,Te+".alpha",ae+".alpha")}),Tt.then(it,"=",yt,"=",Ie,"[",ae,"];"),Tt.else(it,"=",Ie,"[",ae,".rgb];",yt,"=",Ie,"[",ae,".alpha];"),Ce(Tt),[it,yt]});case Xr:return Be(function(me){return ue.command(Un(me)&&me.length===4,"blend.color must be a 4d array",pe.commandStr),jo(4,function(Ce){return+me[Ce]})},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,me.shared.isArrayLike+"("+ae+")&&"+ae+".length===4","blend.color must be a 4d array")}),jo(4,function(Ie){return Ce.def("+",ae,"[",Ie,"]")})});case sp:return Be(function(me){return ue.commandType(me,"number",Ne,pe.commandStr),me|0},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,"typeof "+ae+'==="number"',"invalid stencil.mask")}),Ce.def(ae,"|0")});case Ns:return Be(function(me){ue.commandType(me,"object",Ne,pe.commandStr);var Ce=me.cmp||"keep",ae=me.ref||0,Ie="mask"in me?me.mask:-1;return ue.commandParameter(Ce,Pc,Te+".cmp",pe.commandStr),ue.commandType(ae,"number",Te+".ref",pe.commandStr),ue.commandType(Ie,"number",Te+".mask",pe.commandStr),[Pc[Ce],ae,Ie]},function(me,Ce,ae){var Ie=me.constants.compareFuncs;ue.optional(function(){function xt(){me.assert(Ce,Array.prototype.join.call(arguments,""),"invalid stencil.func")}xt(ae+"&&typeof ",ae,'==="object"'),xt('!("cmp" in ',ae,")||(",ae,".cmp in ",Ie,")")});var it=Ce.def('"cmp" in ',ae,"?",Ie,"[",ae,".cmp]",":",Up),yt=Ce.def(ae,".ref|0"),Tt=Ce.def('"mask" in ',ae,"?",ae,".mask|0:-1");return[it,yt,Tt]});case Lu:case au:return Be(function(me){ue.commandType(me,"object",Ne,pe.commandStr);var Ce=me.fail||"keep",ae=me.zfail||"keep",Ie=me.zpass||"keep";return ue.commandParameter(Ce,kp,Te+".fail",pe.commandStr),ue.commandParameter(ae,kp,Te+".zfail",pe.commandStr),ue.commandParameter(Ie,kp,Te+".zpass",pe.commandStr),[Te===au?Ec:lp,kp[Ce],kp[ae],kp[Ie]]},function(me,Ce,ae){var Ie=me.constants.stencilOps;ue.optional(function(){me.assert(Ce,ae+"&&typeof "+ae+'==="object"',"invalid "+Te)});function it(yt){return ue.optional(function(){me.assert(Ce,'!("'+yt+'" in '+ae+")||("+ae+"."+yt+" in "+Ie+")","invalid "+Te+"."+yt+", must be one of "+Object.keys(kp))}),Ce.def('"',yt,'" in ',ae,"?",Ie,"[",ae,".",yt,"]:",Up)}return[Te===au?Ec:lp,it("fail"),it("zfail"),it("zpass")]});case Is:return Be(function(me){ue.commandType(me,"object",Ne,pe.commandStr);var Ce=me.factor|0,ae=me.units|0;return ue.commandType(Ce,"number",Ne+".factor",pe.commandStr),ue.commandType(ae,"number",Ne+".units",pe.commandStr),[Ce,ae]},function(me,Ce,ae){ue.optional(function(){me.assert(Ce,ae+"&&typeof "+ae+'==="object"',"invalid "+Te)});var Ie=Ce.def(ae,".factor|0"),it=Ce.def(ae,".units|0");return[Ie,it]});case Tn:return Be(function(me){var Ce=0;return me==="front"?Ce=lp:me==="back"&&(Ce=Ec),ue.command(!!Ce,Ne,pe.commandStr),Ce},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,ae+'==="front"||'+ae+'==="back"',"invalid cull.face")}),Ce.def(ae,'==="front"?',lp,":",Ec)});case oa:return Be(function(me){return ue.command(typeof me=="number"&&me>=et.lineWidthDims[0]&&me<=et.lineWidthDims[1],"invalid line width, must be a positive number between "+et.lineWidthDims[0]+" and "+et.lineWidthDims[1],pe.commandStr),me},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,"typeof "+ae+'==="number"&&'+ae+">="+et.lineWidthDims[0]+"&&"+ae+"<="+et.lineWidthDims[1],"invalid line width")}),ae});case Cn:return Be(function(me){return ue.commandParameter(me,zp,Ne,pe.commandStr),zp[me]},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,ae+'==="cw"||'+ae+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ce.def(ae+'==="cw"?'+X0+":"+id)});case Ci:return Be(function(me){return ue.command(Un(me)&&me.length===4,"color.mask must be length 4 array",pe.commandStr),me.map(function(Ce){return!!Ce})},function(me,Ce,ae){return ue.optional(function(){me.assert(Ce,me.shared.isArrayLike+"("+ae+")&&"+ae+".length===4","invalid color.mask")}),jo(4,function(Ie){return"!!"+ae+"["+Ie+"]"})});case Ca:return Be(function(me){ue.command(typeof me=="object"&&me,Ne,pe.commandStr);var Ce="value"in me?me.value:1,ae=!!me.invert;return ue.command(typeof Ce=="number"&&Ce>=0&&Ce<=1,"sample.coverage.value must be a number between 0 and 1",pe.commandStr),[Ce,ae]},function(me,Ce,ae){ue.optional(function(){me.assert(Ce,ae+"&&typeof "+ae+'==="object"',"invalid sample.coverage")});var Ie=Ce.def('"value" in ',ae,"?+",ae,".value:1"),it=Ce.def("!!",ae,".invert");return[Ie,it]})}}),qe}function Vi(X,pe){var Pe=X.static,Qe=X.dynamic,qe={};return Object.keys(Pe).forEach(function(Te){var Ne=Pe[Te],Be;if(typeof Ne=="number"||typeof Ne=="boolean")Be=mi(function(){return Ne});else if(typeof Ne=="function"){var me=Ne._reglType;me==="texture2d"||me==="textureCube"?Be=mi(function(Ce){return Ce.link(Ne)}):me==="framebuffer"||me==="framebufferCube"?(ue.command(Ne.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Te+'"',pe.commandStr),Be=mi(function(Ce){return Ce.link(Ne.color[0])})):ue.commandRaise('invalid data for uniform "'+Te+'"',pe.commandStr)}else Un(Ne)?Be=mi(function(Ce){var ae=Ce.global.def("[",jo(Ne.length,function(Ie){return ue.command(typeof Ne[Ie]=="number"||typeof Ne[Ie]=="boolean","invalid uniform "+Te,Ce.commandStr),Ne[Ie]}),"]");return ae}):ue.commandRaise('invalid or missing data for uniform "'+Te+'"',pe.commandStr);Be.value=Ne,qe[Te]=Be}),Object.keys(Qe).forEach(function(Te){var Ne=Qe[Te];qe[Te]=os(Ne,function(Be,me){return Be.invoke(me,Ne)})}),qe}function Co(X,pe){var Pe=X.static,Qe=X.dynamic,qe={};return Object.keys(Pe).forEach(function(Te){var Ne=Pe[Te],Be=ie.id(Te),me=new Ge;if(Y0(Ne))me.state=Bt,me.buffer=_t.getBuffer(_t.create(Ne,al,!1,!0)),me.type=0;else{var Ce=_t.getBuffer(Ne);if(Ce)me.state=Bt,me.buffer=Ce,me.type=0;else if(ue.command(typeof Ne=="object"&&Ne,"invalid data for attribute "+Te,pe.commandStr),"constant"in Ne){var ae=Ne.constant;me.buffer="null",me.state=ir,typeof ae=="number"?me.x=ae:(ue.command(Un(ae)&&ae.length>0&&ae.length<=4,"invalid constant for attribute "+Te,pe.commandStr),Pt.forEach(function(Ar,fr){fr<ae.length&&(me[Ar]=ae[fr])}))}else{Y0(Ne.buffer)?Ce=_t.getBuffer(_t.create(Ne.buffer,al,!1,!0)):Ce=_t.getBuffer(Ne.buffer),ue.command(!!Ce,'missing buffer for attribute "'+Te+'"',pe.commandStr);var Ie=Ne.offset|0;ue.command(Ie>=0,'invalid offset for attribute "'+Te+'"',pe.commandStr);var it=Ne.stride|0;ue.command(it>=0&&it<256,'invalid stride for attribute "'+Te+'", must be integer betweeen [0, 255]',pe.commandStr);var yt=Ne.size|0;ue.command(!("size"in Ne)||yt>0&&yt<=4,'invalid size for attribute "'+Te+'", must be 1,2,3,4',pe.commandStr);var Tt=!!Ne.normalized,xt=0;"type"in Ne&&(ue.commandParameter(Ne.type,Ui,"invalid type for attribute "+Te,pe.commandStr),xt=Ui[Ne.type]);var Mt=Ne.divisor|0;"divisor"in Ne&&(ue.command(Mt===0||Lt,'cannot specify divisor for attribute "'+Te+'", instancing not supported',pe.commandStr),ue.command(Mt>=0,'invalid divisor for attribute "'+Te+'"',pe.commandStr)),ue.optional(function(){var Ar=pe.commandStr,fr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ne).forEach(function(vr){ue.command(fr.indexOf(vr)>=0,'unknown parameter "'+vr+'" for attribute pointer "'+Te+'" (valid parameters are '+fr+")",Ar)})}),me.buffer=Ce,me.state=Bt,me.size=yt,me.normalized=Tt,me.type=xt||Ce.dtype,me.offset=Ie,me.stride=it,me.divisor=Mt}}qe[Te]=mi(function(Ar,fr){var vr=Ar.attribCache;if(Be in vr)return vr[Be];var Hr={isStream:!1};return Object.keys(me).forEach(function(Jr){Hr[Jr]=me[Jr]}),me.buffer&&(Hr.buffer=Ar.link(me.buffer),Hr.type=Hr.type||Hr.buffer+".dtype"),vr[Be]=Hr,Hr})}),Object.keys(Qe).forEach(function(Te){var Ne=Qe[Te];function Be(me,Ce){var ae=me.invoke(Ce,Ne),Ie=me.shared,it=me.constants,yt=Ie.isBufferArgs,Tt=Ie.buffer;ue.optional(function(){me.assert(Ce,ae+"&&(typeof "+ae+'==="object"||typeof '+ae+'==="function")&&('+yt+"("+ae+")||"+Tt+".getBuffer("+ae+")||"+Tt+".getBuffer("+ae+".buffer)||"+yt+"("+ae+'.buffer)||("constant" in '+ae+"&&(typeof "+ae+'.constant==="number"||'+Ie.isArrayLike+"("+ae+".constant))))",'invalid dynamic attribute "'+Te+'"')});var xt={isStream:Ce.def(!1)},Mt=new Ge;Mt.state=Bt,Object.keys(Mt).forEach(function(Hr){xt[Hr]=Ce.def(""+Mt[Hr])});var Ar=xt.buffer,fr=xt.type;Ce("if(",yt,"(",ae,")){",xt.isStream,"=true;",Ar,"=",Tt,".createStream(",al,",",ae,");",fr,"=",Ar,".dtype;","}else{",Ar,"=",Tt,".getBuffer(",ae,");","if(",Ar,"){",fr,"=",Ar,".dtype;",'}else if("constant" in ',ae,"){",xt.state,"=",ir,";","if(typeof "+ae+'.constant === "number"){',xt[Pt[0]],"=",ae,".constant;",Pt.slice(1).map(function(Hr){return xt[Hr]}).join("="),"=0;","}else{",Pt.map(function(Hr,Jr){return xt[Hr]+"="+ae+".constant.length>"+Jr+"?"+ae+".constant["+Jr+"]:0;"}).join(""),"}}else{","if(",yt,"(",ae,".buffer)){",Ar,"=",Tt,".createStream(",al,",",ae,".buffer);","}else{",Ar,"=",Tt,".getBuffer(",ae,".buffer);","}",fr,'="type" in ',ae,"?",it.glTypes,"[",ae,".type]:",Ar,".dtype;",xt.normalized,"=!!",ae,".normalized;");function vr(Hr){Ce(xt[Hr],"=",ae,".",Hr,"|0;")}return vr("size"),vr("offset"),vr("stride"),vr("divisor"),Ce("}}"),Ce.exit("if(",xt.isStream,"){",Tt,".destroyStream(",Ar,");","}"),xt}qe[Te]=os(Ne,Be)}),qe}function ti(X,pe){var Pe=X.static,Qe=X.dynamic;if(Uu in Pe){var qe=Pe[Uu];return qe!==null&&Zt.getVAO(qe)===null&&(qe=Zt.createVAO(qe)),mi(function(Ne){return Ne.link(Zt.getVAO(qe))})}else if(Uu in Qe){var Te=Qe[Uu];return os(Te,function(Ne,Be){var me=Ne.invoke(Be,Te);return Be.def(Ne.shared.vao+".getVAO("+me+")")})}return null}function gn(X){var pe=X.static,Pe=X.dynamic,Qe={};return Object.keys(pe).forEach(function(qe){var Te=pe[qe];Qe[qe]=mi(function(Ne,Be){return typeof Te=="number"||typeof Te=="boolean"?""+Te:Ne.link(Te)})}),Object.keys(Pe).forEach(function(qe){var Te=Pe[qe];Qe[qe]=os(Te,function(Ne,Be){return Ne.invoke(Be,Te)})}),Qe}function _i(X,pe,Pe,Qe,qe){var Te=X.static,Ne=X.dynamic;ue.optional(function(){var vr=[ya,rs,fs,Io,Mi,Ds,Jn,nl,kn,Uu].concat(It);function Hr(Jr){Object.keys(Jr).forEach(function($o){ue.command(vr.indexOf($o)>=0,'unknown parameter "'+$o+'"',qe.commandStr)})}Hr(Te),Hr(Ne)});var Be=to(X,pe),me=sr(X),Ce=fo(X,me,qe),ae=Wo(X,qe),Ie=ei(X,qe),it=Zr(X,qe,Be);function yt(vr){var Hr=Ce[vr];Hr&&(Ie[vr]=Hr)}yt(zi),yt(Qt(Bu));var Tt=Object.keys(Ie).length>0,xt={framebuffer:me,draw:ae,shader:it,state:Ie,dirty:Tt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(xt.profile=Po(X),xt.uniforms=Vi(Pe,qe),xt.drawVAO=xt.scopeVAO=ti(X),!xt.drawVAO&&it.program&&!Be&&xe.angle_instanced_arrays){var Mt=!0,Ar=it.program.attributes.map(function(vr){var Hr=pe.static[vr];return Mt=Mt&&!!Hr,Hr});if(Mt&&Ar.length>0){var fr=Zt.getVAO(Zt.createVAO(Ar));xt.drawVAO=new fa(null,null,null,function(vr,Hr){return vr.link(fr)}),xt.useVAO=!0}}return Be?xt.useVAO=!0:xt.attributes=Co(pe,qe),xt.context=gn(Qe),xt}function gi(X,pe,Pe){var Qe=X.shared,qe=Qe.context,Te=X.scope();Object.keys(Pe).forEach(function(Ne){pe.save(qe,"."+Ne);var Be=Pe[Ne];Te(qe,".",Ne,"=",Be.append(X,pe),";")}),pe(Te)}function Vn(X,pe,Pe,Qe){var qe=X.shared,Te=qe.gl,Ne=qe.framebuffer,Be;tr&&(Be=pe.def(qe.extensions,".webgl_draw_buffers"));var me=X.constants,Ce=me.drawBuffer,ae=me.backBuffer,Ie;Pe?Ie=Pe.append(X,pe):Ie=pe.def(Ne,".next"),Qe||pe("if(",Ie,"!==",Ne,".cur){"),pe("if(",Ie,"){",Te,".bindFramebuffer(",xc,",",Ie,".framebuffer);"),tr&&pe(Be,".drawBuffersWEBGL(",Ce,"[",Ie,".colorAttachments.length]);"),pe("}else{",Te,".bindFramebuffer(",xc,",null);"),tr&&pe(Be,".drawBuffersWEBGL(",ae,");"),pe("}",Ne,".cur=",Ie,";"),Qe||pe("}")}function Ii(X,pe,Pe){var Qe=X.shared,qe=Qe.gl,Te=X.current,Ne=X.next,Be=Qe.current,me=Qe.next,Ce=X.cond(Be,".dirty");It.forEach(function(ae){var Ie=Qt(ae);if(!(Ie in Pe.state)){var it,yt;if(Ie in Ne){it=Ne[Ie],yt=Te[Ie];var Tt=jo(Ft[Ie].length,function(Mt){return Ce.def(it,"[",Mt,"]")});Ce(X.cond(Tt.map(function(Mt,Ar){return Mt+"!=="+yt+"["+Ar+"]"}).join("||")).then(qe,".",St[Ie],"(",Tt,");",Tt.map(function(Mt,Ar){return yt+"["+Ar+"]="+Mt}).join(";"),";"))}else{it=Ce.def(me,".",Ie);var xt=X.cond(it,"!==",Be,".",Ie);Ce(xt),Ie in rr?xt(X.cond(it).then(qe,".enable(",rr[Ie],");").else(qe,".disable(",rr[Ie],");"),Be,".",Ie,"=",it,";"):xt(qe,".",St[Ie],"(",it,");",Be,".",Ie,"=",it,";")}}}),Object.keys(Pe.state).length===0&&Ce(Be,".dirty=false;"),pe(Ce)}function aa(X,pe,Pe,Qe){var qe=X.shared,Te=X.current,Ne=qe.current,Be=qe.gl;$0(Object.keys(Pe)).forEach(function(me){var Ce=Pe[me];if(!(Qe&&!Qe(Ce))){var ae=Ce.append(X,pe);if(rr[me]){var Ie=rr[me];ia(Ce)?ae?pe(Be,".enable(",Ie,");"):pe(Be,".disable(",Ie,");"):pe(X.cond(ae).then(Be,".enable(",Ie,");").else(Be,".disable(",Ie,");")),pe(Ne,".",me,"=",ae,";")}else if(Un(ae)){var it=Te[me];pe(Be,".",St[me],"(",ae,");",ae.map(function(yt,Tt){return it+"["+Tt+"]="+yt}).join(";"),";")}else pe(Be,".",St[me],"(",ae,");",Ne,".",me,"=",ae,";")}})}function vi(X,pe){Lt&&(X.instancing=pe.def(X.shared.extensions,".angle_instanced_arrays"))}function ho(X,pe,Pe,Qe,qe){var Te=X.shared,Ne=X.stats,Be=Te.current,me=Te.timer,Ce=Pe.profile;function ae(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Ie,it;function yt(vr){Ie=pe.def(),vr(Ie,"=",ae(),";"),typeof qe=="string"?vr(Ne,".count+=",qe,";"):vr(Ne,".count++;"),Ct&&(Qe?(it=pe.def(),vr(it,"=",me,".getNumPendingQueries();")):vr(me,".beginQuery(",Ne,");"))}function Tt(vr){vr(Ne,".cpuTime+=",ae(),"-",Ie,";"),Ct&&(Qe?vr(me,".pushScopeStats(",it,",",me,".getNumPendingQueries(),",Ne,");"):vr(me,".endQuery();"))}function xt(vr){var Hr=pe.def(Be,".profile");pe(Be,".profile=",vr,";"),pe.exit(Be,".profile=",Hr,";")}var Mt;if(Ce){if(ia(Ce)){Ce.enable?(yt(pe),Tt(pe.exit),xt("true")):xt("false");return}Mt=Ce.append(X,pe),xt(Mt)}else Mt=pe.def(Be,".profile");var Ar=X.block();yt(Ar),pe("if(",Mt,"){",Ar,"}");var fr=X.block();Tt(fr),pe.exit("if(",Mt,"){",fr,"}")}function qi(X,pe,Pe,Qe,qe){var Te=X.shared;function Ne(me){switch(me){case G0:case W0:case mc:return 2;case sl:case zn:case _c:return 3;case j0:case fc:case Bp:return 4;default:return 1}}function Be(me,Ce,ae){var Ie=Te.gl,it=pe.def(me,".location"),yt=pe.def(Te.attributes,"[",it,"]"),Tt=ae.state,xt=ae.buffer,Mt=[ae.x,ae.y,ae.z,ae.w],Ar=["buffer","normalized","offset","stride"];function fr(){pe("if(!",yt,".buffer){",Ie,".enableVertexAttribArray(",it,");}");var Hr=ae.type,Jr;if(ae.size?Jr=pe.def(ae.size,"||",Ce):Jr=Ce,pe("if(",yt,".type!==",Hr,"||",yt,".size!==",Jr,"||",Ar.map(function(Ei){return yt+"."+Ei+"!=="+ae[Ei]}).join("||"),"){",Ie,".bindBuffer(",al,",",xt,".buffer);",Ie,".vertexAttribPointer(",[it,Jr,Hr,ae.normalized,ae.stride,ae.offset],");",yt,".type=",Hr,";",yt,".size=",Jr,";",Ar.map(function(Ei){return yt+"."+Ei+"="+ae[Ei]+";"}).join(""),"}"),Lt){var $o=ae.divisor;pe("if(",yt,".divisor!==",$o,"){",X.instancing,".vertexAttribDivisorANGLE(",[it,$o],");",yt,".divisor=",$o,";}")}}function vr(){pe("if(",yt,".buffer){",Ie,".disableVertexAttribArray(",it,");",yt,".buffer=null;","}if(",Pt.map(function(Hr,Jr){return yt+"."+Hr+"!=="+Mt[Jr]}).join("||"),"){",Ie,".vertexAttrib4f(",it,",",Mt,");",Pt.map(function(Hr,Jr){return yt+"."+Hr+"="+Mt[Jr]+";"}).join(""),"}")}Tt===Bt?fr():Tt===ir?vr():(pe("if(",Tt,"===",Bt,"){"),fr(),pe("}else{"),vr(),pe("}"))}Qe.forEach(function(me){var Ce=me.name,ae=Pe.attributes[Ce],Ie;if(ae){if(!qe(ae))return;Ie=ae.append(X,pe)}else{if(!qe(Qy))return;var it=X.scopeAttrib(Ce);ue.optional(function(){X.assert(pe,it+".state","missing attribute "+Ce)}),Ie={},Object.keys(new Ge).forEach(function(yt){Ie[yt]=pe.def(it,".",yt)})}Be(X.link(me),Ne(me.info.type),Ie)})}function Yo(X,pe,Pe,Qe,qe){for(var Te=X.shared,Ne=Te.gl,Be,me=0;me<Qe.length;++me){var Ce=Qe[me],ae=Ce.name,Ie=Ce.info.type,it=Pe.uniforms[ae],yt=X.link(Ce),Tt=yt+".location",xt;if(it){if(!qe(it))continue;if(ia(it)){var Mt=it.value;if(ue.command(Mt!==null&&typeof Mt<"u",'missing uniform "'+ae+'"',X.commandStr),Ie===gc||Ie===vc){ue.command(typeof Mt=="function"&&(Ie===gc&&(Mt._reglType==="texture2d"||Mt._reglType==="framebuffer")||Ie===vc&&(Mt._reglType==="textureCube"||Mt._reglType==="framebufferCube")),"invalid texture for uniform "+ae,X.commandStr);var Ar=X.link(Mt._texture||Mt.color[0]._texture);pe(Ne,".uniform1i(",Tt,",",Ar+".bind());"),pe.exit(Ar,".unbind();")}else if(Ie===ul||Ie===pl||Ie===cp){ue.optional(function(){ue.command(Un(Mt),"invalid matrix for uniform "+ae,X.commandStr),ue.command(Ie===ul&&Mt.length===4||Ie===pl&&Mt.length===9||Ie===cp&&Mt.length===16,"invalid length for matrix uniform "+ae,X.commandStr)});var fr=X.global.def("new Float32Array(["+Array.prototype.slice.call(Mt)+"])"),vr=2;Ie===pl?vr=3:Ie===cp&&(vr=4),pe(Ne,".uniformMatrix",vr,"fv(",Tt,",false,",fr,");")}else{switch(Ie){case nd:ue.commandType(Mt,"number","uniform "+ae,X.commandStr),Be="1f";break;case G0:ue.command(Un(Mt)&&Mt.length===2,"uniform "+ae,X.commandStr),Be="2f";break;case sl:ue.command(Un(Mt)&&Mt.length===3,"uniform "+ae,X.commandStr),Be="3f";break;case j0:ue.command(Un(Mt)&&Mt.length===4,"uniform "+ae,X.commandStr),Be="4f";break;case Z0:ue.commandType(Mt,"boolean","uniform "+ae,X.commandStr),Be="1i";break;case Lp:ue.commandType(Mt,"number","uniform "+ae,X.commandStr),Be="1i";break;case mc:ue.command(Un(Mt)&&Mt.length===2,"uniform "+ae,X.commandStr),Be="2i";break;case W0:ue.command(Un(Mt)&&Mt.length===2,"uniform "+ae,X.commandStr),Be="2i";break;case _c:ue.command(Un(Mt)&&Mt.length===3,"uniform "+ae,X.commandStr),Be="3i";break;case zn:ue.command(Un(Mt)&&Mt.length===3,"uniform "+ae,X.commandStr),Be="3i";break;case Bp:ue.command(Un(Mt)&&Mt.length===4,"uniform "+ae,X.commandStr),Be="4i";break;case fc:ue.command(Un(Mt)&&Mt.length===4,"uniform "+ae,X.commandStr),Be="4i";break}pe(Ne,".uniform",Be,"(",Tt,",",Un(Mt)?Array.prototype.slice.call(Mt):Mt,");")}continue}else xt=it.append(X,pe)}else{if(!qe(Qy))continue;xt=pe.def(Te.uniforms,"[",ie.id(ae),"]")}Ie===gc?pe("if(",xt,"&&",xt,'._reglType==="framebuffer"){',xt,"=",xt,".color[0];","}"):Ie===vc&&pe("if(",xt,"&&",xt,'._reglType==="framebufferCube"){',xt,"=",xt,".color[0];","}"),ue.optional(function(){function pu(dp,dd){X.assert(pe,dp,'bad data or missing for uniform "'+ae+'".  '+dd)}function ld(dp){pu("typeof "+xt+'==="'+dp+'"',"invalid type, expected "+dp)}function Os(dp,dd){pu(Te.isArrayLike+"("+xt+")&&"+xt+".length==="+dp,"invalid vector, should have length "+dp,X.commandStr)}function ah(dp){pu("typeof "+xt+'==="function"&&'+xt+'._reglType==="texture'+(dp===V0?"2d":"Cube")+'"',"invalid texture type",X.commandStr)}switch(Ie){case Lp:ld("number");break;case W0:Os(2);break;case zn:Os(3);break;case fc:Os(4);break;case nd:ld("number");break;case G0:Os(2);break;case sl:Os(3);break;case j0:Os(4);break;case Z0:ld("boolean");break;case mc:Os(2);break;case _c:Os(3);break;case Bp:Os(4);break;case ul:Os(4);break;case pl:Os(9);break;case cp:Os(16);break;case gc:ah(V0);break;case vc:ah(nm);break}});var Hr=1;switch(Ie){case gc:case vc:var Jr=pe.def(xt,"._texture");pe(Ne,".uniform1i(",Tt,",",Jr,".bind());"),pe.exit(Jr,".unbind();");continue;case Lp:case Z0:Be="1i";break;case W0:case mc:Be="2i",Hr=2;break;case zn:case _c:Be="3i",Hr=3;break;case fc:case Bp:Be="4i",Hr=4;break;case nd:Be="1f";break;case G0:Be="2f",Hr=2;break;case sl:Be="3f",Hr=3;break;case j0:Be="4f",Hr=4;break;case ul:Be="Matrix2fv";break;case pl:Be="Matrix3fv";break;case cp:Be="Matrix4fv";break}if(pe(Ne,".uniform",Be,"(",Tt,","),Be.charAt(0)==="M"){var $o=Math.pow(Ie-ul+2,2),Ei=X.global.def("new Float32Array(",$o,")");pe("false,(Array.isArray(",xt,")||",xt," instanceof Float32Array)?",xt,":(",jo($o,function(pu){return Ei+"["+pu+"]="+xt+"["+pu+"]"}),",",Ei,")")}else Hr>1?pe(jo(Hr,function(pu){return xt+"["+pu+"]"})):pe(xt);pe(");")}}function Vr(X,pe,Pe,Qe){var qe=X.shared,Te=qe.gl,Ne=qe.draw,Be=Qe.draw;function me(){var Jr=Be.elements,$o,Ei=pe;return Jr?((Jr.contextDep&&Qe.contextDynamic||Jr.propDep)&&(Ei=Pe),$o=Jr.append(X,Ei)):$o=Ei.def(Ne,".",Io),$o&&Ei("if("+$o+")"+Te+".bindBuffer("+tm+","+$o+".buffer.buffer);"),$o}function Ce(){var Jr=Be.count,$o,Ei=pe;return Jr?((Jr.contextDep&&Qe.contextDynamic||Jr.propDep)&&(Ei=Pe),$o=Jr.append(X,Ei),ue.optional(function(){Jr.MISSING&&X.assert(pe,"false","missing vertex count"),Jr.DYNAMIC&&X.assert(Ei,$o+">=0","missing vertex count")})):($o=Ei.def(Ne,".",Jn),ue.optional(function(){X.assert(Ei,$o+">=0","missing vertex count")})),$o}var ae=me();function Ie(Jr){var $o=Be[Jr];return $o?$o.contextDep&&Qe.contextDynamic||$o.propDep?$o.append(X,Pe):$o.append(X,pe):pe.def(Ne,".",Jr)}var it=Ie(Mi),yt=Ie(Ds),Tt=Ce();if(typeof Tt=="number"){if(Tt===0)return}else Pe("if(",Tt,"){"),Pe.exit("}");var xt,Mt;Lt&&(xt=Ie(nl),Mt=X.instancing);var Ar=ae+".type",fr=Be.elements&&ia(Be.elements);function vr(){function Jr(){Pe(Mt,".drawElementsInstancedANGLE(",[it,Tt,Ar,yt+"<<(("+Ar+"-"+Ht+")>>1)",xt],");")}function $o(){Pe(Mt,".drawArraysInstancedANGLE(",[it,yt,Tt,xt],");")}ae?fr?Jr():(Pe("if(",ae,"){"),Jr(),Pe("}else{"),$o(),Pe("}")):$o()}function Hr(){function Jr(){Pe(Te+".drawElements("+[it,Tt,Ar,yt+"<<(("+Ar+"-"+Ht+")>>1)"]+");")}function $o(){Pe(Te+".drawArrays("+[it,yt,Tt]+");")}ae?fr?Jr():(Pe("if(",ae,"){"),Jr(),Pe("}else{"),$o(),Pe("}")):$o()}Lt&&(typeof xt!="number"||xt>=0)?typeof xt=="string"?(Pe("if(",xt,">0){"),vr(),Pe("}else if(",xt,"<0){"),Hr(),Pe("}")):vr():Hr()}function To(X,pe,Pe,Qe,qe){var Te=Lr(),Ne=Te.proc("body",qe);return ue.optional(function(){Te.commandStr=pe.commandStr,Te.command=Te.link(pe.commandStr)}),Lt&&(Te.instancing=Ne.def(Te.shared.extensions,".angle_instanced_arrays")),X(Te,Ne,Pe,Qe),Te.compile().body}function Vo(X,pe,Pe,Qe){vi(X,pe),Pe.useVAO?Pe.drawVAO?pe(X.shared.vao,".setVAO(",Pe.drawVAO.append(X,pe),");"):pe(X.shared.vao,".setVAO(",X.shared.vao,".targetVAO);"):(pe(X.shared.vao,".setVAO(null);"),qi(X,pe,Pe,Qe.attributes,function(){return!0})),Yo(X,pe,Pe,Qe.uniforms,function(){return!0}),Vr(X,pe,pe,Pe)}function ri(X,pe){var Pe=X.proc("draw",1);vi(X,Pe),gi(X,Pe,pe.context),Vn(X,Pe,pe.framebuffer),Ii(X,Pe,pe),aa(X,Pe,pe.state),ho(X,Pe,pe,!1,!0);var Qe=pe.shader.progVar.append(X,Pe);if(Pe(X.shared.gl,".useProgram(",Qe,".program);"),pe.shader.program)Vo(X,Pe,pe,pe.shader.program);else{Pe(X.shared.vao,".setVAO(null);");var qe=X.global.def("{}"),Te=Pe.def(Qe,".id"),Ne=Pe.def(qe,"[",Te,"]");Pe(X.cond(Ne).then(Ne,".call(this,a0);").else(Ne,"=",qe,"[",Te,"]=",X.link(function(Be){return To(Vo,X,pe,Be,1)}),"(",Qe,");",Ne,".call(this,a0);"))}Object.keys(pe.state).length>0&&Pe(X.shared.current,".dirty=true;")}function uu(X,pe,Pe,Qe){X.batchId="a1",vi(X,pe);function qe(){return!0}qi(X,pe,Pe,Qe.attributes,qe),Yo(X,pe,Pe,Qe.uniforms,qe),Vr(X,pe,pe,Pe)}function fe(X,pe,Pe,Qe){vi(X,pe);var qe=Pe.contextDep,Te=pe.def(),Ne="a0",Be="a1",me=pe.def();X.shared.props=me,X.batchId=Te;var Ce=X.scope(),ae=X.scope();pe(Ce.entry,"for(",Te,"=0;",Te,"<",Be,";++",Te,"){",me,"=",Ne,"[",Te,"];",ae,"}",Ce.exit);function Ie(Ar){return Ar.contextDep&&qe||Ar.propDep}function it(Ar){return!Ie(Ar)}if(Pe.needsContext&&gi(X,ae,Pe.context),Pe.needsFramebuffer&&Vn(X,ae,Pe.framebuffer),aa(X,ae,Pe.state,Ie),Pe.profile&&Ie(Pe.profile)&&ho(X,ae,Pe,!1,!0),Qe)Pe.useVAO?Pe.drawVAO?Ie(Pe.drawVAO)?ae(X.shared.vao,".setVAO(",Pe.drawVAO.append(X,ae),");"):Ce(X.shared.vao,".setVAO(",Pe.drawVAO.append(X,Ce),");"):Ce(X.shared.vao,".setVAO(",X.shared.vao,".targetVAO);"):(Ce(X.shared.vao,".setVAO(null);"),qi(X,Ce,Pe,Qe.attributes,it),qi(X,ae,Pe,Qe.attributes,Ie)),Yo(X,Ce,Pe,Qe.uniforms,it),Yo(X,ae,Pe,Qe.uniforms,Ie),Vr(X,Ce,ae,Pe);else{var yt=X.global.def("{}"),Tt=Pe.shader.progVar.append(X,ae),xt=ae.def(Tt,".id"),Mt=ae.def(yt,"[",xt,"]");ae(X.shared.gl,".useProgram(",Tt,".program);","if(!",Mt,"){",Mt,"=",yt,"[",xt,"]=",X.link(function(Ar){return To(uu,X,Pe,Ar,2)}),"(",Tt,");}",Mt,".call(this,a0[",Te,"],",Te,");")}}function ot(X,pe){var Pe=X.proc("batch",2);X.batchId="0",vi(X,Pe);var Qe=!1,qe=!0;Object.keys(pe.context).forEach(function(yt){Qe=Qe||pe.context[yt].propDep}),Qe||(gi(X,Pe,pe.context),qe=!1);var Te=pe.framebuffer,Ne=!1;Te?(Te.propDep?Qe=Ne=!0:Te.contextDep&&Qe&&(Ne=!0),Ne||Vn(X,Pe,Te)):Vn(X,Pe,null),pe.state.viewport&&pe.state.viewport.propDep&&(Qe=!0);function Be(yt){return yt.contextDep&&Qe||yt.propDep}Ii(X,Pe,pe),aa(X,Pe,pe.state,function(yt){return!Be(yt)}),(!pe.profile||!Be(pe.profile))&&ho(X,Pe,pe,!1,"a1"),pe.contextDep=Qe,pe.needsContext=qe,pe.needsFramebuffer=Ne;var me=pe.shader.progVar;if(me.contextDep&&Qe||me.propDep)fe(X,Pe,pe,null);else{var Ce=me.append(X,Pe);if(Pe(X.shared.gl,".useProgram(",Ce,".program);"),pe.shader.program)fe(X,Pe,pe,pe.shader.program);else{Pe(X.shared.vao,".setVAO(null);");var ae=X.global.def("{}"),Ie=Pe.def(Ce,".id"),it=Pe.def(ae,"[",Ie,"]");Pe(X.cond(it).then(it,".call(this,a0,a1);").else(it,"=",ae,"[",Ie,"]=",X.link(function(yt){return To(fe,X,pe,yt,2)}),"(",Ce,");",it,".call(this,a0,a1);"))}}Object.keys(pe.state).length>0&&Pe(X.shared.current,".dirty=true;")}function Ke(X,pe){var Pe=X.proc("scope",3);X.batchId="a2";var Qe=X.shared,qe=Qe.current;gi(X,Pe,pe.context),pe.framebuffer&&pe.framebuffer.append(X,Pe),$0(Object.keys(pe.state)).forEach(function(Ne){var Be=pe.state[Ne],me=Be.append(X,Pe);Un(me)?me.forEach(function(Ce,ae){Pe.set(X.next[Ne],"["+ae+"]",Ce)}):Pe.set(Qe.next,"."+Ne,me)}),ho(X,Pe,pe,!0,!0),[Io,Ds,Jn,nl,Mi].forEach(function(Ne){var Be=pe.draw[Ne];Be&&Pe.set(Qe.draw,"."+Ne,""+Be.append(X,Pe))}),Object.keys(pe.uniforms).forEach(function(Ne){Pe.set(Qe.uniforms,"["+ie.id(Ne)+"]",pe.uniforms[Ne].append(X,Pe))}),Object.keys(pe.attributes).forEach(function(Ne){var Be=pe.attributes[Ne].append(X,Pe),me=X.scopeAttrib(Ne);Object.keys(new Ge).forEach(function(Ce){Pe.set(me,"."+Ce,Be[Ce])})}),pe.scopeVAO&&Pe.set(Qe.vao,".targetVAO",pe.scopeVAO.append(X,Pe));function Te(Ne){var Be=pe.shader[Ne];Be&&Pe.set(Qe.shader,"."+Ne,Be.append(X,Pe))}Te(rs),Te(fs),Object.keys(pe.state).length>0&&(Pe(qe,".dirty=true;"),Pe.exit(qe,".dirty=true;")),Pe("a1(",X.shared.context,",a0,",X.batchId,");")}function ur(X){if(!(typeof X!="object"||Un(X))){for(var pe=Object.keys(X),Pe=0;Pe<pe.length;++Pe)if(Hn.isDynamic(X[pe[Pe]]))return!0;return!1}}function mo(X,pe,Pe){var Qe=pe.static[Pe];if(!Qe||!ur(Qe))return;var qe=X.global,Te=Object.keys(Qe),Ne=!1,Be=!1,me=!1,Ce=X.global.def("{}");Te.forEach(function(Ie){var it=Qe[Ie];if(Hn.isDynamic(it)){typeof it=="function"&&(it=Qe[Ie]=Hn.unbox(it));var yt=os(it,null);Ne=Ne||yt.thisDep,me=me||yt.propDep,Be=Be||yt.contextDep}else{switch(qe(Ce,".",Ie,"="),typeof it){case"number":qe(it);break;case"string":qe('"',it,'"');break;case"object":Array.isArray(it)&&qe("[",it.join(),"]");break;default:qe(X.link(it));break}qe(";")}});function ae(Ie,it){Te.forEach(function(yt){var Tt=Qe[yt];if(Hn.isDynamic(Tt)){var xt=Ie.invoke(it,Tt);it(Ce,".",yt,"=",xt,";")}})}pe.dynamic[Pe]=new Hn.DynamicVariable(lr,{thisDep:Ne,contextDep:Be,propDep:me,ref:Ce,append:ae}),delete pe.static[Pe]}function an(X,pe,Pe,Qe,qe){var Te=Lr();Te.stats=Te.link(qe),Object.keys(pe.static).forEach(function(Be){mo(Te,pe,Be)}),jy.forEach(function(Be){mo(Te,X,Be)});var Ne=_i(X,pe,Pe,Qe,Te);return ri(Te,Ne),Ke(Te,Ne),ot(Te,Ne),Te.compile()}return{next:ar,current:Ft,procs:function(){var X=Lr(),pe=X.proc("poll"),Pe=X.proc("refresh"),Qe=X.block();pe(Qe),Pe(Qe);var qe=X.shared,Te=qe.gl,Ne=qe.next,Be=qe.current;Qe(Be,".dirty=false;"),Vn(X,pe),Vn(X,Pe,null,!0);var me;Lt&&(me=X.link(Lt)),xe.oes_vertex_array_object&&Pe(X.link(xe.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ce=0;Ce<et.maxAttributes;++Ce){var ae=Pe.def(qe.attributes,"[",Ce,"]"),Ie=X.cond(ae,".buffer");Ie.then(Te,".enableVertexAttribArray(",Ce,");",Te,".bindBuffer(",al,",",ae,".buffer.buffer);",Te,".vertexAttribPointer(",Ce,",",ae,".size,",ae,".type,",ae,".normalized,",ae,".stride,",ae,".offset);").else(Te,".disableVertexAttribArray(",Ce,");",Te,".vertexAttrib4f(",Ce,",",ae,".x,",ae,".y,",ae,".z,",ae,".w);",ae,".buffer=null;"),Pe(Ie),Lt&&Pe(me,".vertexAttribDivisorANGLE(",Ce,",",ae,".divisor);")}return Pe(X.shared.vao,".currentVAO=null;",X.shared.vao,".setVAO(",X.shared.vao,".targetVAO);"),Object.keys(rr).forEach(function(it){var yt=rr[it],Tt=Qe.def(Ne,".",it),xt=X.block();xt("if(",Tt,"){",Te,".enable(",yt,")}else{",Te,".disable(",yt,")}",Be,".",it,"=",Tt,";"),Pe(xt),pe("if(",Tt,"!==",Be,".",it,"){",xt,"}")}),Object.keys(St).forEach(function(it){var yt=St[it],Tt=Ft[it],xt,Mt,Ar=X.block();if(Ar(Te,".",yt,"("),Un(Tt)){var fr=Tt.length;xt=X.global.def(Ne,".",it),Mt=X.global.def(Be,".",it),Ar(jo(fr,function(vr){return xt+"["+vr+"]"}),");",jo(fr,function(vr){return Mt+"["+vr+"]="+xt+"["+vr+"];"}).join("")),pe("if(",jo(fr,function(vr){return xt+"["+vr+"]!=="+Mt+"["+vr+"]"}).join("||"),"){",Ar,"}")}else xt=Qe.def(Ne,".",it),Mt=Qe.def(Be,".",it),Ar(xt,");",Be,".",it,"=",xt,";"),pe("if(",xt,"!==",Mt,"){",Ar,"}");Pe(Ar)}),X.compile()}(),compile:an}}function Jy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var lm=34918,dm=34919,eh=35007,ym=function(N,ie){if(!ie.ext_disjoint_timer_query)return null;var xe=[];function et(){return xe.pop()||ie.ext_disjoint_timer_query.createQueryEXT()}function _t(Lt){xe.push(Lt)}var tt=[];function Ye(Lt){var tr=et();ie.ext_disjoint_timer_query.beginQueryEXT(eh,tr),tt.push(tr),Ct(tt.length-1,tt.length,Lt)}function Ot(){ie.ext_disjoint_timer_query.endQueryEXT(eh)}function Rt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Zt=[];function Ut(){return Zt.pop()||new Rt}function Gt(Lt){Zt.push(Lt)}var $t=[];function Ct(Lt,tr,Ft){var ar=Ut();ar.startQueryIndex=Lt,ar.endQueryIndex=tr,ar.sum=0,ar.stats=Ft,$t.push(ar)}var jt=[],Ge=[];function pt(){var Lt,tr,Ft=tt.length;if(Ft!==0){Ge.length=Math.max(Ge.length,Ft+1),jt.length=Math.max(jt.length,Ft+1),jt[0]=0,Ge[0]=0;var ar=0;for(Lt=0,tr=0;tr<tt.length;++tr){var It=tt[tr];ie.ext_disjoint_timer_query.getQueryObjectEXT(It,dm)?(ar+=ie.ext_disjoint_timer_query.getQueryObjectEXT(It,lm),_t(It)):tt[Lt++]=It,jt[tr+1]=ar,Ge[tr+1]=Lt}for(tt.length=Lt,Lt=0,tr=0;tr<$t.length;++tr){var rr=$t[tr],St=rr.startQueryIndex,Qt=rr.endQueryIndex;rr.sum+=jt[Qt]-jt[St];var Or=Ge[St],oo=Ge[Qt];oo===Or?(rr.stats.gpuTime+=rr.sum/1e6,Gt(rr)):(rr.startQueryIndex=Or,rr.endQueryIndex=oo,$t[Lt++]=rr)}$t.length=Lt}}return{beginQuery:Ye,endQuery:Ot,pushScopeStats:Ct,update:pt,getNumPendingQueries:function(){return tt.length},clear:function(){xe.push.apply(xe,tt);for(var Lt=0;Lt<xe.length;Lt++)ie.ext_disjoint_timer_query.deleteQueryEXT(xe[Lt]);tt.length=0,xe.length=0},restore:function(){tt.length=0,xe.length=0}}},th=16384,ma=256,hm=1024,rh=34962,pd="webglcontextlost",oh="webglcontextrestored",cd=1,fm=2,mm=3;function nh(N,ie){for(var xe=0;xe<N.length;++xe)if(N[xe]===ie)return xe;return-1}function ih(N){var ie=Ps(N);if(!ie)return null;var xe=ie.gl,et=xe.getContextAttributes(),_t=xe.isContextLost(),tt=Ku(xe,ie);if(!tt)return null;var Ye=Ws(),Ot=Jy(),Rt=tt.extensions,Zt=ym(xe,Rt),Ut=ba(),Gt=xe.drawingBufferWidth,$t=xe.drawingBufferHeight,Ct={tick:0,time:0,viewportWidth:Gt,viewportHeight:$t,framebufferWidth:Gt,framebufferHeight:$t,drawingBufferWidth:Gt,drawingBufferHeight:$t,pixelRatio:ie.pixelRatio},jt={},Ge={elements:null,primitive:4,count:-1,offset:0,instances:-1},pt=Ml(xe,Rt),Lt=Nl(xe,Ot,ie,Ft),tr=z(xe,Rt,pt,Ot,Lt);function Ft(Vr){return tr.destroyBuffer(Vr)}var ar=L0(xe,Rt,Lt,Ot),It=de(xe,Ye,Ot,ie),rr=ka(xe,Rt,pt,function(){Or.procs.poll()},Ct,Ot,ie),St=ds(xe,Rt,pt,Ot,ie),Qt=F(xe,Rt,pt,rr,St,Ot),Or=t0(xe,Ye,Rt,pt,Lt,ar,rr,Qt,jt,tr,It,Ge,Ct,Zt,ie),oo=Ze(xe,Qt,Or.procs.poll,Ct,et,Rt,pt),Jt=Or.next,Dt=xe.canvas,gt=[],Lr=[],Po=[],sr=[ie.onDestroy],fo=null;function to(){if(gt.length===0){Zt&&Zt.update(),fo=null;return}fo=cs.next(to),aa();for(var Vr=gt.length-1;Vr>=0;--Vr){var To=gt[Vr];To&&To(Ct,null,0)}xe.flush(),Zt&&Zt.update()}function Zr(){!fo&&gt.length>0&&(fo=cs.next(to))}function Wo(){fo&&(cs.cancel(to),fo=null)}function ei(Vr){Vr.preventDefault(),_t=!0,Wo(),Lr.forEach(function(To){To()})}function Vi(Vr){xe.getError(),_t=!1,tt.restore(),It.restore(),Lt.restore(),rr.restore(),St.restore(),Qt.restore(),tr.restore(),Zt&&Zt.restore(),Or.procs.refresh(),Zr(),Po.forEach(function(To){To()})}Dt&&(Dt.addEventListener(pd,ei,!1),Dt.addEventListener(oh,Vi,!1));function Co(){gt.length=0,Wo(),Dt&&(Dt.removeEventListener(pd,ei),Dt.removeEventListener(oh,Vi)),It.clear(),Qt.clear(),St.clear(),rr.clear(),ar.clear(),Lt.clear(),tr.clear(),Zt&&Zt.clear(),sr.forEach(function(Vr){Vr()})}function ti(Vr){ue(!!Vr,"invalid args to regl({...})"),ue.type(Vr,"object","invalid args to regl({...})");function To(qe){var Te=n({},qe);delete Te.uniforms,delete Te.attributes,delete Te.context,delete Te.vao,"stencil"in Te&&Te.stencil.op&&(Te.stencil.opBack=Te.stencil.opFront=Te.stencil.op,delete Te.stencil.op);function Ne(Be){if(Be in Te){var me=Te[Be];delete Te[Be],Object.keys(me).forEach(function(Ce){Te[Be+"."+Ce]=me[Ce]})}}return Ne("blend"),Ne("depth"),Ne("cull"),Ne("stencil"),Ne("polygonOffset"),Ne("scissor"),Ne("sample"),"vao"in qe&&(Te.vao=qe.vao),Te}function Vo(qe){var Te={},Ne={};return Object.keys(qe).forEach(function(Be){var me=qe[Be];Hn.isDynamic(me)?Ne[Be]=Hn.unbox(me,Be):Te[Be]=me}),{dynamic:Ne,static:Te}}var ri=Vo(Vr.context||{}),uu=Vo(Vr.uniforms||{}),fe=Vo(Vr.attributes||{}),ot=Vo(To(Vr)),Ke={gpuTime:0,cpuTime:0,count:0},ur=Or.compile(ot,fe,uu,ri,Ke),mo=ur.draw,an=ur.batch,X=ur.scope,pe=[];function Pe(qe){for(;pe.length<qe;)pe.push(null);return pe}function Qe(qe,Te){var Ne;if(_t&&ue.raise("context lost"),typeof qe=="function")return X.call(this,null,qe,0);if(typeof Te=="function")if(typeof qe=="number")for(Ne=0;Ne<qe;++Ne)X.call(this,null,Te,Ne);else if(Array.isArray(qe))for(Ne=0;Ne<qe.length;++Ne)X.call(this,qe[Ne],Te,Ne);else return X.call(this,qe,Te,0);else if(typeof qe=="number"){if(qe>0)return an.call(this,Pe(qe|0),qe|0)}else if(Array.isArray(qe)){if(qe.length)return an.call(this,qe,qe.length)}else return mo.call(this,qe)}return n(Qe,{stats:Ke})}var gn=Qt.setFBO=ti({framebuffer:Hn.define.call(null,cd,"framebuffer")});function _i(Vr,To){var Vo=0;Or.procs.poll();var ri=To.color;ri&&(xe.clearColor(+ri[0]||0,+ri[1]||0,+ri[2]||0,+ri[3]||0),Vo|=th),"depth"in To&&(xe.clearDepth(+To.depth),Vo|=ma),"stencil"in To&&(xe.clearStencil(To.stencil|0),Vo|=hm),ue(!!Vo,"called regl.clear with no buffer specified"),xe.clear(Vo)}function gi(Vr){if(ue(typeof Vr=="object"&&Vr,"regl.clear() takes an object as input"),"framebuffer"in Vr)if(Vr.framebuffer&&Vr.framebuffer_reglType==="framebufferCube")for(var To=0;To<6;++To)gn(n({framebuffer:Vr.framebuffer.faces[To]},Vr),_i);else gn(Vr,_i);else _i(null,Vr)}function Vn(Vr){ue.type(Vr,"function","regl.frame() callback must be a function"),gt.push(Vr);function To(){var Vo=nh(gt,Vr);ue(Vo>=0,"cannot cancel a frame twice");function ri(){var uu=nh(gt,ri);gt[uu]=gt[gt.length-1],gt.length-=1,gt.length<=0&&Wo()}gt[Vo]=ri}return Zr(),{cancel:To}}function Ii(){var Vr=Jt.viewport,To=Jt.scissor_box;Vr[0]=Vr[1]=To[0]=To[1]=0,Ct.viewportWidth=Ct.framebufferWidth=Ct.drawingBufferWidth=Vr[2]=To[2]=xe.drawingBufferWidth,Ct.viewportHeight=Ct.framebufferHeight=Ct.drawingBufferHeight=Vr[3]=To[3]=xe.drawingBufferHeight}function aa(){Ct.tick+=1,Ct.time=ho(),Ii(),Or.procs.poll()}function vi(){Ii(),Or.procs.refresh(),Zt&&Zt.update()}function ho(){return(ba()-Ut)/1e3}vi();function qi(Vr,To){ue.type(To,"function","listener callback must be a function");var Vo;switch(Vr){case"frame":return Vn(To);case"lost":Vo=Lr;break;case"restore":Vo=Po;break;case"destroy":Vo=sr;break;default:ue.raise("invalid event, must be one of frame,lost,restore,destroy")}return Vo.push(To),{cancel:function(){for(var ri=0;ri<Vo.length;++ri)if(Vo[ri]===To){Vo[ri]=Vo[Vo.length-1],Vo.pop();return}}}}var Yo=n(ti,{clear:gi,prop:Hn.define.bind(null,cd),context:Hn.define.bind(null,fm),this:Hn.define.bind(null,mm),draw:ti({}),buffer:function(Vr){return Lt.create(Vr,rh,!1,!1)},elements:function(Vr){return ar.create(Vr,!1)},texture:rr.create2D,cube:rr.createCube,renderbuffer:St.create,framebuffer:Qt.create,framebufferCube:Qt.createCube,vao:tr.createVAO,attributes:et,frame:Vn,on:qi,limits:pt,hasExtension:function(Vr){return pt.extensions.indexOf(Vr.toLowerCase())>=0},read:oo,destroy:Co,_gl:xe,_refresh:vi,poll:function(){aa(),Zt&&Zt.update()},now:ho,stats:Ot});return ie.onDone(null,Yo),Yo}return ih})})(U9);var UB=U9.exports;const kB=vp(UB);var zB=class{constructor(e,t){const{buffer:r,offset:n,stride:s,normalized:u,size:i,divisor:y}=t;this.buffer=r,this.attribute={buffer:r.get(),offset:n||0,stride:s||0,normalized:u||!1,divisor:y||0},i&&(this.attribute.size=i)}get(){return this.attribute}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},VB={[L.POINTS]:"points",[L.LINES]:"lines",[L.LINE_LOOP]:"line loop",[L.LINE_STRIP]:"line strip",[L.TRIANGLES]:"triangles",[L.TRIANGLE_FAN]:"triangle fan",[L.TRIANGLE_STRIP]:"triangle strip"},k9={[L.STATIC_DRAW]:"static",[L.DYNAMIC_DRAW]:"dynamic",[L.STREAM_DRAW]:"stream"},q6={[L.BYTE]:"int8",[L.INT]:"int32",[L.UNSIGNED_BYTE]:"uint8",[L.UNSIGNED_SHORT]:"uint16",[L.UNSIGNED_INT]:"uint32",[L.FLOAT]:"float"},HB={[L.ALPHA]:"alpha",[L.LUMINANCE]:"luminance",[L.LUMINANCE_ALPHA]:"luminance alpha",[L.RGB]:"rgb",[L.RGBA]:"rgba",[L.RGBA4]:"rgba4",[L.RGB5_A1]:"rgb5 a1",[L.RGB565]:"rgb565",[L.DEPTH_COMPONENT]:"depth",[L.DEPTH_STENCIL]:"depth stencil"},GB={[L.DONT_CARE]:"dont care",[L.NICEST]:"nice",[L.FASTEST]:"fast"},Ng={[L.NEAREST]:"nearest",[L.LINEAR]:"linear",[L.LINEAR_MIPMAP_LINEAR]:"mipmap",[L.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[L.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[L.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},Dg={[L.REPEAT]:"repeat",[L.CLAMP_TO_EDGE]:"clamp",[L.MIRRORED_REPEAT]:"mirror"},jB={[L.NONE]:"none",[L.BROWSER_DEFAULT_WEBGL]:"browser"},WB={[L.NEVER]:"never",[L.ALWAYS]:"always",[L.LESS]:"less",[L.LEQUAL]:"lequal",[L.GREATER]:"greater",[L.GEQUAL]:"gequal",[L.EQUAL]:"equal",[L.NOTEQUAL]:"notequal"},Og={[L.FUNC_ADD]:"add",[L.MIN_EXT]:"min",[L.MAX_EXT]:"max",[L.FUNC_SUBTRACT]:"subtract",[L.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},Wh={[L.ZERO]:"zero",[L.ONE]:"one",[L.SRC_COLOR]:"src color",[L.ONE_MINUS_SRC_COLOR]:"one minus src color",[L.SRC_ALPHA]:"src alpha",[L.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[L.DST_COLOR]:"dst color",[L.ONE_MINUS_DST_COLOR]:"one minus dst color",[L.DST_ALPHA]:"dst alpha",[L.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[L.CONSTANT_COLOR]:"constant color",[L.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[L.CONSTANT_ALPHA]:"constant alpha",[L.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[L.SRC_ALPHA_SATURATE]:"src alpha saturate"},ZB={[L.NEVER]:"never",[L.ALWAYS]:"always",[L.LESS]:"less",[L.LEQUAL]:"lequal",[L.GREATER]:"greater",[L.GEQUAL]:"gequal",[L.EQUAL]:"equal",[L.NOTEQUAL]:"notequal"},x1={[L.ZERO]:"zero",[L.KEEP]:"keep",[L.REPLACE]:"replace",[L.INVERT]:"invert",[L.INCR]:"increment",[L.DECR]:"decrement",[L.INCR_WRAP]:"increment wrap",[L.DECR_WRAP]:"decrement wrap"},XB={[L.FRONT]:"front",[L.BACK]:"back"},YB=class{constructor(e,t){this.isDestroyed=!1;const{data:r,usage:n,type:s}=t;this.buffer=e.buffer({data:r,usage:k9[n||L.STATIC_DRAW],type:q6[s||L.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){this.buffer.subdata(e,t)}},$B=class{constructor(e,t){const{data:r,usage:n,type:s,count:u}=t;this.elements=e.elements({data:r,usage:k9[n||L.STATIC_DRAW],type:q6[s||L.UNSIGNED_BYTE],count:u})}get(){return this.elements}subData({data:e}){this.elements.subdata(e)}destroy(){}},qB=class{constructor(e,t){const{width:r,height:n,color:s,colors:u}=t,i={width:r,height:n};Array.isArray(u)&&(i.colors=u.map(y=>y.get())),s&&typeof s!="boolean"&&(i.color=s.get()),this.framebuffer=e.framebuffer(i)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:e,height:t}){this.framebuffer.resize(e,t)}},KB=Object.defineProperty,QB=Object.defineProperties,JB=Object.getOwnPropertyDescriptors,Lg=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,Bg=(e,t,r)=>t in e?KB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$d=(e,t)=>{for(var r in t||(t={}))eU.call(t,r)&&Bg(e,r,t[r]);if(Lg)for(var r of Lg(t))tU.call(t,r)&&Bg(e,r,t[r]);return e},rU=(e,t)=>QB(e,JB(t)),{isPlainObject:oU,isTypedArray:nU}=Wi,iU=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;const{vs:r,fs:n,attributes:s,uniforms:u,primitive:i,count:y,elements:m,depth:g,cull:x,instances:b}=t,A={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:qp.LOWER_LEFT,clipSpaceNearZ:Z1.NEGATIVE_ONE,supportMRT:!1},w={};this.options=t,u&&(this.uniforms=this.extractUniforms(u),Object.keys(u).forEach(q=>{w[q]=e.prop(q)}));const M={};Object.keys(s).forEach(q=>{M[q]=s[q].get()});const V=L_(q1(A,"frag",n,null,!1)),k=L_(q1(A,"vert",r,null,!1)),Q={attributes:M,frag:V,uniforms:w,vert:k,colorMask:e.prop("colorMask"),lineWidth:1,blend:{enable:e.prop("blend.enable"),func:e.prop("blend.func"),equation:e.prop("blend.equation"),color:e.prop("blend.color")},stencil:{enable:e.prop("stencil.enable"),mask:e.prop("stencil.mask"),func:e.prop("stencil.func"),opFront:e.prop("stencil.opFront"),opBack:e.prop("stencil.opBack")},primitive:VB[i===void 0?L.TRIANGLES:i]};b&&(Q.instances=b),y?Q.count=y:m&&(Q.elements=m.get()),this.initDepthDrawParams({depth:g},Q),this.initCullDrawParams({cull:x},Q),this.drawCommand=e(Q),this.drawParams=Q}updateAttributesAndElements(e,t){const r={};Object.keys(e).forEach(n=>{r[n]=e[n].get()}),this.drawParams.attributes=r,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(e){const t={};Object.keys(e).forEach(r=>{t[r]=e[r].get()}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams)}addUniforms(e){this.uniforms=$d($d({},this.uniforms),this.extractUniforms(e))}draw(e,t){if(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)return;const r=$d($d({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(r).forEach(s=>{const u=typeof r[s];u==="boolean"||u==="number"||Array.isArray(r[s])||r[s].BYTES_PER_ELEMENT?n[s]=r[s]:n[s]=r[s].get()}),n.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),n.stencil=this.getStencilDrawParams(e),n.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(n)}destroy(){var e,t;(t=(e=this.drawParams)==null?void 0:e.elements)==null||t.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(r=>{r==null||r.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:WB[e.func||L.LESS],range:e.range||[0,1]})}getBlendDrawParams({blend:e}){const{enable:t,func:r,equation:n,color:s=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:Wh[r&&r.srcRGB||L.SRC_ALPHA],srcAlpha:Wh[r&&r.srcAlpha||L.SRC_ALPHA],dstRGB:Wh[r&&r.dstRGB||L.ONE_MINUS_SRC_ALPHA],dstAlpha:Wh[r&&r.dstAlpha||L.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Og[n&&n.rgb||L.FUNC_ADD],alpha:Og[n&&n.alpha||L.FUNC_ADD]},color:s}}getStencilDrawParams({stencil:e}){const{enable:t,mask:r=-1,func:n={cmp:L.ALWAYS,ref:0,mask:-1},opFront:s={fail:L.KEEP,zfail:L.KEEP,zpass:L.KEEP},opBack:u={fail:L.KEEP,zfail:L.KEEP,zpass:L.KEEP}}=e||{};return{enable:!!t,mask:r,func:rU($d({},n),{cmp:ZB[n.cmp]}),opFront:{fail:x1[s.fail],zfail:x1[s.zfail],zpass:x1[s.zpass]},opBack:{fail:x1[u.fail],zfail:x1[u.zfail],zpass:x1[u.zpass]}}}getColorMaskDrawParams({stencil:e},t){return e!=null&&e.enable&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0]}initCullDrawParams({cull:e},t){if(e){const{enable:r,face:n=L.BACK}=e;t.cull={enable:!!r,face:XB[n]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"")}),t}extractUniformsRecursively(e,t,r,n){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||nU(t)||t===""||"resize"in t){r[`${n&&n+"."}${e}`]=t;return}oU(t)&&Object.keys(t).forEach(s=>{this.extractUniformsRecursively(s,t[s],r,`${n&&n+"."}${e}`)}),Array.isArray(t)&&t.forEach((s,u)=>{Object.keys(s).forEach(i=>{this.extractUniformsRecursively(i,s[i],r,`${n&&n+"."}${e}[${u}]`)})})}},aU=class{constructor(e,t){this.isDestroy=!1;const{data:r,type:n=L.UNSIGNED_BYTE,width:s,height:u,flipY:i=!1,format:y=L.RGBA,mipmap:m=!1,wrapS:g=L.CLAMP_TO_EDGE,wrapT:x=L.CLAMP_TO_EDGE,aniso:b=0,alignment:A=1,premultiplyAlpha:w=!1,mag:M=L.NEAREST,min:V=L.NEAREST,colorSpace:k=L.BROWSER_DEFAULT_WEBGL,x:Q=0,y:q=0,copy:K=!1}=t;this.width=s,this.height=u;const te={width:s,height:u,type:q6[n],format:HB[y],wrapS:Dg[g],wrapT:Dg[x],mag:Ng[M],min:Ng[V],alignment:A,flipY:i,colorSpace:jB[k],premultiplyAlpha:w,aniso:b,x:Q,y:q,copy:K};r&&(te.data=r),typeof m=="number"?te.mipmap=GB[m]:typeof m=="boolean"&&(te.mipmap=m),this.texture=e.texture(te)}get(){return this.texture}update(e={}){this.texture(e)}bind(){this.texture._texture.bind()}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||(e=this.texture)==null||e.destroy(),this.isDestroy=!0}},d2=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),sU=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=e=>new iU(this.gl,e),this.createAttribute=e=>new zB(this.gl,e),this.createBuffer=e=>new YB(this.gl,e),this.createElements=e=>new $B(this.gl,e),this.createTexture2D=e=>new aU(this.gl,e),this.createFramebuffer=e=>new qB(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t)},this.useFramebufferAsync=(e,t)=>d2(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t)}),this.clear=e=>{var t;const{color:r,depth:n,stencil:s,framebuffer:u=null}=e,i={color:r,depth:n,stencil:s};i.framebuffer=u===null?u:u.get(),(t=this.gl)==null||t.clear(i)},this.viewport=({x:e,y:t,width:r,height:n})=>{this.gl._gl.viewport(e,t,r,n),this.width=r,this.height=n,this.gl._refresh()},this.readPixels=e=>{const{framebuffer:t,x:r,y:n,width:s,height:u}=e,i={x:r,y:n,width:s,height:u};return t&&(i.framebuffer=t.get()),this.gl.read(i)},this.readPixelsAsync=e=>d2(this,null,function*(){return this.readPixels(e)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e,t,r;this.canvas=null,(r=(t=(e=this.gl)==null?void 0:e._gl)==null?void 0:t.getExtension("WEBGL_lose_context"))==null||r.loseContext(),this.gl.destroy(),this.gl=null}}init(e,t,r){return d2(this,null,function*(){this.canvas=e,r?this.gl=r:this.gl=yield new Promise((n,s)=>{kB({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(u,i)=>{(u||!i)&&s(u),n(i)}})}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){const e=this.getGLContext();e.disable(e.CULL_FACE)}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},y2=["selectstart","selecting","selectend"],uU=class extends fu.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=r=>{this.box.style.display="block",this.startEvent=this.endEvent=r,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=r=>{this.endEvent=r,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=r=>{this.endEvent=r,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=e,this.options=t}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;const{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){const t=yu("div",void 0,this.container);t.classList.add("l7-select-box"),e&&t.classList.add(e),t.style.display="none",this.box=t}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}syncBoxBound(){const{x:e,y:t}=this.startEvent,{x:r,y:n}=this.endEvent,s=Math.min(e,r),u=Math.min(t,n),i=Math.abs(e-r),y=Math.abs(t-n);this.box.style.top=`${u}px`,this.box.style.left=`${s}px`,this.box.style.width=`${i}px`,this.box.style.height=`${y}px`}getLngLatBox(){const{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:r,lat:n}}=this.endEvent;return UE([[e,t],[r,n]])}},pU=Object.defineProperty,cU=Object.defineProperties,lU=Object.getOwnPropertyDescriptors,Ug=Object.getOwnPropertySymbols,dU=Object.prototype.hasOwnProperty,yU=Object.prototype.propertyIsEnumerable,kg=(e,t,r)=>t in e?pU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hU=(e,t)=>{for(var r in t||(t={}))dU.call(t,r)&&kg(e,r,t[r]);if(Ug)for(var r of Ug(t))yU.call(t,r)&&kg(e,r,t[r]);return e},fU=(e,t)=>cU(e,lU(t)),qd=(e,t,r)=>new Promise((n,s)=>{var u=m=>{try{y(r.next(m))}catch(g){s(g)}},i=m=>{try{y(r.throw(m))}catch(g){s(g)}},y=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,i);y((r=r.apply(e,t)).next())}),mU=class{constructor(e){const{id:t,map:r,canvas:n,renderer:s="regl"}=e,u=lS();this.container=u,r.setContainer(u,t,n),s==="regl"?u.rendererService=new sU:u.rendererService=new BB,this.sceneService=u.sceneService,this.mapService=u.mapService,this.iconService=u.iconService,this.fontService=u.fontService,this.controlService=u.controlService,this.layerService=u.layerService,this.debugService=u.debugService,this.debugService.setEnable(e.debug),this.markerService=u.markerService,this.interactionService=u.interactionService,this.popupService=u.popupService,this.boxSelect=new uU(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(e){return qd(this,null,function*(){return this.sceneService.exportPng(e)})}exportMap(e){return qd(this,null,function*(){return this.sceneService.exportPng(e)})}registerRenderService(e){this.sceneService.loaded?new e(this).init():this.on("loaded",()=>{new e(this).init()})}setBgColor(e){this.mapService.setBgColor(e)}addLayer(e){this.loaded?this.preAddLayer(e):this.once("loaded",()=>{this.preAddLayer(e)})}preAddLayer(e){const t=dy(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);const r=this.initMask(e);this.addMask(r,e.id)}else e.on("inited",()=>{this.initTileLayer(e);const r=this.initMask(e);this.addMask(r,e.id)})}initMask(e){const{mask:t,maskfence:r,maskColor:n="#000",maskOpacity:s=0}=e.getLayerConfig();return!t||!r?void 0:new c9().source(r).shape("fill").style({color:n,opacity:s})}addMask(e,t){if(!e)return;const r=this.getLayer(t);if(r){const n=dy(this.container);e.setContainer(n),r.addMaskLayer(e),this.sceneService.addMask(e)}else console.warn("parent layer not find!")}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(e){return this.layerService.getLayer(e)}getLayerByName(e){return this.layerService.getLayerByName(e)}removeLayer(e,t){return qd(this,null,function*(){yield this.layerService.remove(e,t)})}removeAllLayer(){return qd(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(e){this.layerService.setEnableRender(e)}addIconFont(e,t){this.fontService.addIconFont(e,t)}addIconFonts(e){e.forEach(([t,r])=>{this.fontService.addIconFont(t,r)})}addFontFace(e,t){this.fontService.once("fontloaded",r=>{this.emit("fontloaded",r)}),this.fontService.addFontFace(e,t)}addImage(e,t){return qd(this,null,function*(){yield this.iconService.addImage(e,t)})}hasImage(e){return this.iconService.hasImage(e)}removeImage(e){this.iconService.removeImage(e)}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t)}addControl(e){this.controlService.addControl(e,this.container)}removeControl(e){this.controlService.removeControl(e)}getControlByName(e){return this.controlService.getControlByName(e)}addMarker(e){this.markerService.addMarker(e)}addMarkerLayer(e){this.markerService.addMarkerLayer(e)}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn("removeAllMakers 已废弃，请使用 removeAllMarkers"),this.markerService.removeAllMarkers()}addPopup(e){this.popupService.addPopup(e)}removePopup(e){this.popupService.removePopup(e)}on(e,t){var r;y2.includes(e)?(r=this.boxSelect)==null||r.on(e,t):Ch.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t)}once(e,t){var r;y2.includes(e)?(r=this.boxSelect)==null||r.once(e,t):Ch.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t)}emit(e,t){Ch.indexOf(e)===-1?this.mapService.on(e,t):this.sceneService.emit(e,t)}off(e,t){var r;y2.includes(e)?(r=this.boxSelect)==null||r.off(e,t):Ch.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t)}getZoom(){return this.mapService.getZoom()}getCenter(e){return this.mapService.getCenter(e)}setCenter(e,t){return this.mapService.setCenter(e,t)}getPitch(){return this.mapService.getPitch()}setPitch(e){return this.mapService.setPitch(e)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(e){this.mapService.setRotation(e)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(e){this.mapService.panTo(e)}panBy(e,t){this.mapService.panBy(e,t)}getContainer(){return this.mapService.getContainer()}setZoom(e){this.mapService.setZoom(e)}fitBounds(e,t){const{fitBoundsOptions:r,animate:n}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||fU(hU({},r),{animate:n}))}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t)}setMapStyle(e){this.mapService.setMapStyle(e)}setMapStatus(e){this.mapService.setMapStatus(e)}pixelToLngLat(e){return this.mapService.pixelToLngLat(e)}lngLatToPixel(e){return this.mapService.lngLatToPixel(e)}containerToLngLat(e){return this.mapService.containerToLngLat(e)}lngLatToContainer(e){return this.mapService.lngLatToContainer(e)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(e,t){Xh.REGISTERED_PROTOCOLS[e]=t}static removeProtocol(e){delete Xh.REGISTERED_PROTOCOLS[e]}getProtocol(e){return Xh.REGISTERED_PROTOCOLS[e]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(e){this.controlService.init({container:EE(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){const{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new iw({position:t}))}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new DD(e))}};const _U={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-170.92701563138777,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-166.43543921079018,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-166.43543921079018,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-49.73343622702246]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-49.73343622702246]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-53.89470068992965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-53.89470068992965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-55.19723063288941]}}]},gU=_U,vU={type:"FeatureCollection",features:[{type:"Feature",id:161792,geometry:{type:"Point",coordinates:[103.893473101,36.51870146]},properties:{ADM0_NAME:"China",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:83005,cum_clin:null,cum_susp:null,cum_death:3340,EPIWeek:15,EPIYear:2020,Comment:null,ID:161792,GUID:"af40da08-eeb3-40e9-bd59-41c06c17191f",CENTER_LON:103.8934731,CENTER_LAT:36.51870146,ADM0_VIZ_NAME:"China",Short_Name_ZH:"中国",Short_Name_FR:"Chine",Short_Name_ES:"China",Short_Name_RU:"Китай",Short_Name_AR:"الصين"}},{type:"Feature",id:161793,geometry:{type:"Point",coordinates:[127.829343915,36.367702276]},properties:{ADM0_NAME:"Republic of Korea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10284,cum_clin:null,cum_susp:null,cum_death:186,EPIWeek:15,EPIYear:2020,Comment:null,ID:161793,GUID:"8d331366-4bc7-4313-8e11-dea0054e7ad4",CENTER_LON:127.82934392,CENTER_LAT:36.36770228,ADM0_VIZ_NAME:"Republic of Korea",Short_Name_ZH:"大韩民国",Short_Name_FR:"République de Corée",Short_Name_ES:"República de Corea",Short_Name_RU:"Республика Корея",Short_Name_AR:"جمهورية كوريا"}},{type:"Feature",id:161794,geometry:{type:"Point",coordinates:[134.490975946,-25.733260232]},properties:{ADM0_NAME:"Australia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5795,cum_clin:null,cum_susp:null,cum_death:39,EPIWeek:15,EPIYear:2020,Comment:null,ID:161794,GUID:"bb79d7c7-29b4-45f2-93e6-2df1acc709ad",CENTER_LON:134.49097595,CENTER_LAT:-25.73326023,ADM0_VIZ_NAME:"Australia",Short_Name_ZH:"澳大利亚",Short_Name_FR:"Australie",Short_Name_ES:"Australia",Short_Name_RU:"Австралия",Short_Name_AR:"أستراليا"}},{type:"Feature",id:161795,geometry:{type:"Point",coordinates:[113.252212273,2.36614385200005]},properties:{ADM0_NAME:"Malaysia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3662,cum_clin:null,cum_susp:null,cum_death:61,EPIWeek:15,EPIYear:2020,Comment:null,ID:161795,GUID:"305e146d-efa9-43e5-a000-688bef88a933",CENTER_LON:109.7115743,CENTER_LAT:3.79382045,ADM0_VIZ_NAME:"Malaysia",Short_Name_ZH:"马来西亚",Short_Name_FR:"Malaisie",Short_Name_ES:"Malasia",Short_Name_RU:"Малайзия",Short_Name_AR:"ماليزيا"}},{type:"Feature",id:161796,geometry:{type:"Point",coordinates:[138.756881,36.466956]},properties:{ADM0_NAME:"Japan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3654,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161796,GUID:"9cba65ba-ddfd-418e-8501-21b13e24e90e",CENTER_LON:137.97387026,CENTER_LAT:37.53982621,ADM0_VIZ_NAME:"Japan",Short_Name_ZH:"日本",Short_Name_FR:"Japon",Short_Name_ES:"Japón",Short_Name_RU:"Япония",Short_Name_AR:"اليابان"}},{type:"Feature",id:161797,geometry:{type:"Point",coordinates:[122.873607427,11.747402026]},properties:{ADM0_NAME:"Philippines",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3246,cum_clin:null,cum_susp:null,cum_death:152,EPIWeek:15,EPIYear:2020,Comment:null,ID:161797,GUID:"73f7c9bf-ebf4-48dd-b4a8-ce2005c7b2fd",CENTER_LON:122.87360743,CENTER_LAT:11.74740203,ADM0_VIZ_NAME:"Philippines",Short_Name_ZH:"菲律宾",Short_Name_FR:"Philippines",Short_Name_ES:"Filipinas",Short_Name_RU:"Филиппины",Short_Name_AR:"الفلبين"}},{type:"Feature",id:161798,geometry:{type:"Point",coordinates:[103.807653591,1.35118038100006]},properties:{ADM0_NAME:"Singapore",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1309,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161798,GUID:"f701475b-b12e-4647-8747-5f066797615a",CENTER_LON:103.80765359,CENTER_LAT:1.35118038,ADM0_VIZ_NAME:"Singapore",Short_Name_ZH:"新加坡",Short_Name_FR:"Singapour",Short_Name_ES:"Singapur",Short_Name_RU:"Сингапур",Short_Name_AR:"سنغافورة"}},{type:"Feature",id:161799,geometry:{type:"Point",coordinates:[171.603971284,-41.837106886]},properties:{ADM0_NAME:"New Zealand",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:911,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161799,GUID:"4b1c43e1-ae35-4d9a-9cc7-86b92722c762",CENTER_LON:171.60397128,CENTER_LAT:-41.83710689,ADM0_VIZ_NAME:"New Zealand",Short_Name_ZH:"新西兰",Short_Name_FR:"Nouvelle-Zélande",Short_Name_ES:"Nueva Zelandia",Short_Name_RU:"Новая Зеландия",Short_Name_AR:"نيوزيلندا"}},{type:"Feature",id:161800,geometry:{type:"Point",coordinates:[108.371477,15.8749560000001]},properties:{ADM0_NAME:"Viet Nam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:241,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161800,GUID:"7306ccbf-f0ee-4f1b-8c7e-516065fe2ae1",CENTER_LON:106.30403531,CENTER_LAT:16.65160342,ADM0_VIZ_NAME:"Viet Nam",Short_Name_ZH:"越南",Short_Name_FR:"Viet Nam",Short_Name_ES:"Viet Nam",Short_Name_RU:"Вьетнам",Short_Name_AR:"فييت نام"}},{type:"Feature",id:161801,geometry:{type:"Point",coordinates:[114.761320882,4.52147838100007]},properties:{ADM0_NAME:"Brunei Darussalam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:135,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161801,GUID:"688a16e9-73e3-4495-8eec-a9ef51d28b4a",CENTER_LON:114.76132088,CENTER_LAT:4.52147838,ADM0_VIZ_NAME:"Brunei Darussalam",Short_Name_ZH:"文莱达鲁萨兰国",Short_Name_FR:"Brunéi Darussalam",Short_Name_ES:"Brunei Darussalam",Short_Name_RU:"Бруней-Даруссалам ",Short_Name_AR:"بروني دار السلام"}},{type:"Feature",id:161802,geometry:{type:"Point",coordinates:[104.92123962,12.714029941]},properties:{ADM0_NAME:"Cambodia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:114,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161802,GUID:"752bbf3c-e667-405f-a381-64dc3d7250e9",CENTER_LON:104.92123962,CENTER_LAT:12.71402994,ADM0_VIZ_NAME:"Cambodia",Short_Name_ZH:"柬埔寨",Short_Name_FR:"Cambodge",Short_Name_ES:"Camboya",Short_Name_RU:"Камбоджа",Short_Name_AR:"كمبوديا"}},{type:"Feature",id:161803,geometry:{type:"Point",coordinates:[144.775856782,13.4440310690001]},properties:{ADM0_NAME:"Guam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:112,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161803,GUID:"07a13d36-90ef-4597-8599-bce2894a8a50",CENTER_LON:144.77585678,CENTER_LAT:13.44403107,ADM0_VIZ_NAME:"Guam",Short_Name_ZH:`关岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161804,geometry:{type:"Point",coordinates:[-149.567999999,-17.5319999979999]},properties:{ADM0_NAME:"French Polynesia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:41,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161804,GUID:"5b4d9703-49bb-40f3-8f1a-426055d3630e",CENTER_LON:-149.568,CENTER_LAT:-17.532,ADM0_VIZ_NAME:"French Polynesia",Short_Name_ZH:`法属波利尼西亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161805,geometry:{type:"Point",coordinates:[165.671849774,-21.2946141899999]},properties:{ADM0_NAME:"New Caledonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161805,GUID:"0c2acf2b-a803-4fdb-af96-dd5eba270bd3",CENTER_LON:165.67184977,CENTER_LAT:-21.29461419,ADM0_VIZ_NAME:"New Caledonia",Short_Name_ZH:`新喀里多尼亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161806,geometry:{type:"Point",coordinates:[103.083031076,46.8352087220001]},properties:{ADM0_NAME:"Mongolia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:15,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161806,GUID:"62c58dff-1d74-40b7-8bb4-fb2d4ea17224",CENTER_LON:103.08303108,CENTER_LAT:46.83520872,ADM0_VIZ_NAME:"Mongolia",Short_Name_ZH:"蒙古",Short_Name_FR:"Mongolie",Short_Name_ES:"Mongolia",Short_Name_RU:"Монголия",Short_Name_AR:"منغوليا"}},{type:"Feature",id:161807,geometry:{type:"Point",coordinates:[178.182000002,-17.8549999969999]},properties:{ADM0_NAME:"Fiji",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161807,GUID:"10a110c7-9bca-41a2-8665-e967984c4f31",CENTER_LON:178.182,CENTER_LAT:-17.855,ADM0_VIZ_NAME:"Fiji",Short_Name_ZH:"斐济",Short_Name_FR:"Fidji",Short_Name_ES:"Fiji",Short_Name_RU:"Фиджи ",Short_Name_AR:"فيجي"}},{type:"Feature",id:161808,geometry:{type:"Point",coordinates:[103.763405594,18.5024505710001]},properties:{ADM0_NAME:"Lao People's Democratic Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161808,GUID:"ab453840-eb7a-431c-b52f-e79d58df4850",CENTER_LON:103.76340559,CENTER_LAT:18.50245057,ADM0_VIZ_NAME:"Lao People's Democratic Republic",Short_Name_ZH:"老挝人民民主共和国",Short_Name_FR:"République démocratique populaire lao",Short_Name_ES:"República Democrática Popular Lao",Short_Name_RU:"Лаосская Народно-Демократическая Республика",Short_Name_AR:"جمهورية لاوس الديمقراطية الشعبية"}},{type:"Feature",id:161809,geometry:{type:"Point",coordinates:[145.587832112,16.255704635]},properties:{ADM0_NAME:"Northern Mariana Islands (Commonwealth of the)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161809,GUID:"b6207b55-8d8b-4599-9ea6-714cad3be598",CENTER_LON:145.58783211,CENTER_LAT:16.25570464,ADM0_VIZ_NAME:"Northern Mariana Islands (Commonwealth of the)",Short_Name_ZH:`北马里亚纳群岛自由邦\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161810,geometry:{type:"Point",coordinates:[145.253687589,-6.47589334999998]},properties:{ADM0_NAME:"Papua New Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161810,GUID:"d4e68089-5dc0-41e2-baf9-f9ba4bf31fa1",CENTER_LON:145.25368759,CENTER_LAT:-6.47589335,ADM0_VIZ_NAME:"Papua New Guinea",Short_Name_ZH:"巴布亚新几内亚",Short_Name_FR:"Papouasie-Nouvelle-Guinée",Short_Name_ES:"Papua Nueva Guinea",Short_Name_RU:"Папуа-Новая Гвинея",Short_Name_AR:"بابوا غينيا الجديدة"}},{type:"Feature",id:161811,geometry:{type:"Point",coordinates:[-3.64931117899994,40.2274959580001]},properties:{ADM0_NAME:"Spain",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:130759,cum_clin:null,cum_susp:null,cum_death:12418,EPIWeek:15,EPIYear:2020,Comment:null,ID:161811,GUID:"a2915e2f-0d93-4ee6-8e41-1fa268228580",CENTER_LON:-3.64931118,CENTER_LAT:40.22749596,ADM0_VIZ_NAME:"Spain",Short_Name_ZH:"西班牙",Short_Name_FR:"Espagne",Short_Name_ES:"España",Short_Name_RU:"Испания",Short_Name_AR:"إسبانيا"}},{type:"Feature",id:161812,geometry:{type:"Point",coordinates:[12.071655591,42.7911916680001]},properties:{ADM0_NAME:"Italy",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:128948,cum_clin:null,cum_susp:null,cum_death:15889,EPIWeek:15,EPIYear:2020,Comment:null,ID:161812,GUID:"e595e984-0e40-4363-aa46-5e7decf832f6",CENTER_LON:12.07165559,CENTER_LAT:42.79119167,ADM0_VIZ_NAME:"Italy",Short_Name_ZH:"意大利",Short_Name_FR:"Italie",Short_Name_ES:"Italia",Short_Name_RU:"Италия",Short_Name_AR:"إيطاليا"}},{type:"Feature",id:161813,geometry:{type:"Point",coordinates:[10.392329666,51.110153956]},properties:{ADM0_NAME:"Germany",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:95391,cum_clin:null,cum_susp:null,cum_death:1434,EPIWeek:15,EPIYear:2020,Comment:null,ID:161813,GUID:"a46bc45e-bcab-46d8-a50b-5008714077c0",CENTER_LON:10.39232967,CENTER_LAT:51.11015396,ADM0_VIZ_NAME:"Germany",Short_Name_ZH:"德国",Short_Name_FR:"Allemagne",Short_Name_ES:"Alemania",Short_Name_RU:"Германия",Short_Name_AR:"ألمانيا"}},{type:"Feature",id:161814,geometry:{type:"Point",coordinates:[2.55042645600003,46.5648740250001]},properties:{ADM0_NAME:"France",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:69607,cum_clin:null,cum_susp:null,cum_death:8064,EPIWeek:15,EPIYear:2020,Comment:null,ID:161814,GUID:"4c308a42-4e33-4d8f-a408-0746862545c7",CENTER_LON:2.55042646,CENTER_LAT:46.56487403,ADM0_VIZ_NAME:"France",Short_Name_ZH:"法国",Short_Name_FR:"France",Short_Name_ES:"Francia",Short_Name_RU:"Франция",Short_Name_AR:"فرنسا"}},{type:"Feature",id:161815,geometry:{type:"Point",coordinates:[-2.90049476399997,54.160179204]},properties:{ADM0_NAME:"The United Kingdom",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:47810,cum_clin:null,cum_susp:null,cum_death:4934,EPIWeek:15,EPIYear:2020,Comment:null,ID:161815,GUID:"50626e89-e145-4d23-8cc4-911240017430",CENTER_LON:-2.90049476,CENTER_LAT:54.1601792,ADM0_VIZ_NAME:"The United Kingdom",Short_Name_ZH:"大不列颠及北爱尔兰联合王国",Short_Name_FR:"Royaume-Uni de Grande-Bretagne et d'Irlande du Nord",Short_Name_ES:"Reino Unido de Gran Bretaña e Irlanda del Norte",Short_Name_RU:"Соединенное Королевство Великобритании и Северной Ирландии",Short_Name_AR:"المملكة المتحدة لبريطانيا العظمى وآيرلندا الشمالية "}},{type:"Feature",id:161816,geometry:{type:"Point",coordinates:[35.1792181100001,39.0606185600001]},properties:{ADM0_NAME:"Turkey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:27069,cum_clin:null,cum_susp:null,cum_death:574,EPIWeek:15,EPIYear:2020,Comment:null,ID:161816,GUID:"a135ad5a-5f50-44c3-bcca-18554926127a",CENTER_LON:35.17921811,CENTER_LAT:39.06061856,ADM0_VIZ_NAME:"Turkey",Short_Name_ZH:"土耳其",Short_Name_FR:"Turquie",Short_Name_ES:"Turquía",Short_Name_RU:"Турция",Short_Name_AR:"تركيا"}},{type:"Feature",id:161817,geometry:{type:"Point",coordinates:[8.23458738300008,46.8025828]},properties:{ADM0_NAME:"Switzerland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21065,cum_clin:null,cum_susp:null,cum_death:715,EPIWeek:15,EPIYear:2020,Comment:null,ID:161817,GUID:"3af18dcb-7d8a-4b6e-bc45-84611b8b6ecc",CENTER_LON:8.23458738,CENTER_LAT:46.8025828,ADM0_VIZ_NAME:"Switzerland",Short_Name_ZH:"瑞士",Short_Name_FR:"Suisse",Short_Name_ES:"Suiza",Short_Name_RU:"Швейцария",Short_Name_AR:"سويسرا"}},{type:"Feature",id:161818,geometry:{type:"Point",coordinates:[4.66434840900007,50.6429517600001]},properties:{ADM0_NAME:"Belgium",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19691,cum_clin:null,cum_susp:null,cum_death:1447,EPIWeek:15,EPIYear:2020,Comment:null,ID:161818,GUID:"effea6fa-d758-4860-ad26-41cdc15c23fb",CENTER_LON:4.66434841,CENTER_LAT:50.64295176,ADM0_VIZ_NAME:"Belgium",Short_Name_ZH:"比利时",Short_Name_FR:"Belgique",Short_Name_ES:"Bélgica",Short_Name_RU:"Бельгия",Short_Name_AR:"بلجيكا"}},{type:"Feature",id:161819,geometry:{type:"Point",coordinates:[5.60099775900005,52.253576303]},properties:{ADM0_NAME:"Netherlands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:17851,cum_clin:null,cum_susp:null,cum_death:1766,EPIWeek:15,EPIYear:2020,Comment:null,ID:161819,GUID:"f4139dd7-53a2-45a3-8e8c-c82b9323a391",CENTER_LON:5.60099776,CENTER_LAT:52.2535763,ADM0_VIZ_NAME:"Netherlands",Short_Name_ZH:"荷兰",Short_Name_FR:"Pays-Bas",Short_Name_ES:"Países Bajos",Short_Name_RU:"Нидерланды",Short_Name_AR:"هولندا"}},{type:"Feature",id:161820,geometry:{type:"Point",coordinates:[14.1399883120001,47.59295768]},properties:{ADM0_NAME:"Austria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11983,cum_clin:null,cum_susp:null,cum_death:204,EPIWeek:15,EPIYear:2020,Comment:null,ID:161820,GUID:"8608cb86-e05d-483d-8eda-8d1b03069602",CENTER_LON:14.13998831,CENTER_LAT:47.59295768,ADM0_VIZ_NAME:"Austria",Short_Name_ZH:"奥地利",Short_Name_FR:"Autriche",Short_Name_ES:"Austria",Short_Name_RU:"Австрия",Short_Name_AR:"النمسا"}},{type:"Feature",id:161821,geometry:{type:"Point",coordinates:[-8.46736074199993,39.6026951090001]},properties:{ADM0_NAME:"Portugal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11278,cum_clin:null,cum_susp:null,cum_death:295,EPIWeek:15,EPIYear:2020,Comment:null,ID:161821,GUID:"48a4e6f7-f991-43b0-a27c-22d79e1a36bd",CENTER_LON:-8.46736074,CENTER_LAT:39.60269511,ADM0_VIZ_NAME:"Portugal",Short_Name_ZH:"葡萄牙",Short_Name_FR:"Portugal",Short_Name_ES:"Portugal",Short_Name_RU:"Португалия",Short_Name_AR:"البرتغال"}},{type:"Feature",id:161822,geometry:{type:"Point",coordinates:[34.9659827130001,31.3580565250001]},properties:{ADM0_NAME:"Israel",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8018,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161822,GUID:"81d5bb84-8e84-4830-9fa3-f29e9b09fda8",CENTER_LON:34.96598271,CENTER_LAT:31.35805652,ADM0_VIZ_NAME:"Israel",Short_Name_ZH:"以色列",Short_Name_FR:"Israël",Short_Name_ES:"Israel",Short_Name_RU:"Израиль",Short_Name_AR:"إسرائيل"}},{type:"Feature",id:161823,geometry:{type:"Point",coordinates:[16.741155258,62.7877422610001]},properties:{ADM0_NAME:"Sweden",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6830,cum_clin:null,cum_susp:null,cum_death:401,EPIWeek:15,EPIYear:2020,Comment:null,ID:161823,GUID:"35ec511a-2e1c-4483-a917-1f67a1342382",CENTER_LON:16.74115526,CENTER_LAT:62.78774226,ADM0_VIZ_NAME:"Sweden",Short_Name_ZH:"瑞典",Short_Name_FR:"Suède",Short_Name_ES:"Suecia",Short_Name_RU:"Швеция",Short_Name_AR:"السويد"}},{type:"Feature",id:161824,geometry:{type:"Point",coordinates:[14.0750891050001,64.447848874]},properties:{ADM0_NAME:"Norway",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5640,cum_clin:null,cum_susp:null,cum_death:58,EPIWeek:15,EPIYear:2020,Comment:null,ID:161824,GUID:"82efba96-e610-4592-a329-95d7c3a57b4f",CENTER_LON:14.07508911,CENTER_LAT:64.44784887,ADM0_VIZ_NAME:"Norway",Short_Name_ZH:"挪威",Short_Name_FR:"Norvège",Short_Name_ES:"Noruega",Short_Name_RU:"Норвегия",Short_Name_AR:"النرويج"}},{type:"Feature",id:161825,geometry:{type:"Point",coordinates:[96.689442146,61.9882456010001]},properties:{ADM0_NAME:"Russian Federation",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5389,cum_clin:null,cum_susp:null,cum_death:45,EPIWeek:15,EPIYear:2020,Comment:null,ID:161825,GUID:"58afb040-3a74-491b-809d-00b145c55577",CENTER_LON:96.68944215,CENTER_LAT:61.9882456,ADM0_VIZ_NAME:"Russian Federation",Short_Name_ZH:"俄罗斯联邦",Short_Name_FR:"Fédération de Russie",Short_Name_ES:"Federación de Rusia",Short_Name_RU:"Российская Федерация",Short_Name_AR:"الاتحاد الروسي"}},{type:"Feature",id:161826,geometry:{type:"Point",coordinates:[-8.15157629999993,53.1770868180001]},properties:{ADM0_NAME:"Ireland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5111,cum_clin:null,cum_susp:null,cum_death:158,EPIWeek:15,EPIYear:2020,Comment:null,ID:161826,GUID:"f5d664d0-c086-4d71-8874-044e3d094c5d",CENTER_LON:-8.1515763,CENTER_LAT:53.17708682,ADM0_VIZ_NAME:"Ireland",Short_Name_ZH:"爱尔兰",Short_Name_FR:"Irlande",Short_Name_ES:"Irlanda",Short_Name_RU:"Ирландия",Short_Name_AR:"آيرلندا"}},{type:"Feature",id:161827,geometry:{type:"Point",coordinates:[15.338339951,49.743036139]},properties:{ADM0_NAME:"Czechia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4587,cum_clin:null,cum_susp:null,cum_death:67,EPIWeek:15,EPIYear:2020,Comment:null,ID:161827,GUID:"8cf681ef-d988-4d5d-86c7-5483977059e7",CENTER_LON:15.33833995,CENTER_LAT:49.74303614,ADM0_VIZ_NAME:"Czechia",Short_Name_ZH:"捷克",Short_Name_FR:"Tchéquie",Short_Name_ES:"Chequia",Short_Name_RU:"Чехия",Short_Name_AR:"تشيكيا"}},{type:"Feature",id:161828,geometry:{type:"Point",coordinates:[10.0508208200001,55.962332802]},properties:{ADM0_NAME:"Denmark",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4369,cum_clin:null,cum_susp:null,cum_death:179,EPIWeek:15,EPIYear:2020,Comment:null,ID:161828,GUID:"39dcd44b-aa79-48a8-9840-3179a28a35a9",CENTER_LON:10.05082082,CENTER_LAT:55.9623328,ADM0_VIZ_NAME:"Denmark",Short_Name_ZH:"丹麦",Short_Name_FR:"Danemark",Short_Name_ES:"Dinamarca",Short_Name_RU:"Дания",Short_Name_AR:"الدانمرك"}},{type:"Feature",id:161829,geometry:{type:"Point",coordinates:[19.4009201690001,52.1247240530001]},properties:{ADM0_NAME:"Poland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4102,cum_clin:null,cum_susp:null,cum_death:94,EPIWeek:15,EPIYear:2020,Comment:null,ID:161829,GUID:"1c04cb3c-08f6-47a3-bb42-dd9da35e226c",CENTER_LON:19.40092017,CENTER_LAT:52.12472405,ADM0_VIZ_NAME:"Poland",Short_Name_ZH:"波兰",Short_Name_FR:"Pologne",Short_Name_ES:"Polonia",Short_Name_RU:"Польша",Short_Name_AR:"بولندا"}},{type:"Feature",id:161830,geometry:{type:"Point",coordinates:[24.96990758,45.843605584]},properties:{ADM0_NAME:"Romania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3864,cum_clin:null,cum_susp:null,cum_death:148,EPIWeek:15,EPIYear:2020,Comment:null,ID:161830,GUID:"26eaed41-b340-4f38-90e3-9392e04420c6",CENTER_LON:24.96990758,CENTER_LAT:45.84360558,ADM0_VIZ_NAME:"Romania",Short_Name_ZH:"罗马尼亚",Short_Name_FR:"Roumanie",Short_Name_ES:"Rumania",Short_Name_RU:"Румыния",Short_Name_AR:"رومانيا"}},{type:"Feature",id:161831,geometry:{type:"Point",coordinates:[6.08754415700002,49.7709639620001]},properties:{ADM0_NAME:"Luxembourg",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2804,cum_clin:null,cum_susp:null,cum_death:36,EPIWeek:15,EPIYear:2020,Comment:null,ID:161831,GUID:"05241edc-00fd-47ec-ba71-800dbf3f853d",CENTER_LON:6.08754416,CENTER_LAT:49.77096396,ADM0_VIZ_NAME:"Luxembourg",Short_Name_ZH:"卢森堡",Short_Name_FR:"Luxembourg",Short_Name_ES:"Luxemburgo",Short_Name_RU:"Люксембург",Short_Name_AR:"لكسمبرغ"}},{type:"Feature",id:161832,geometry:{type:"Point",coordinates:[26.258842304,64.4943312920001]},properties:{ADM0_NAME:"Finland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1927,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161832,GUID:"e3fd3d41-feaa-443f-a135-08a80552525c",CENTER_LON:26.2588423,CENTER_LAT:64.49433129,ADM0_VIZ_NAME:"Finland",Short_Name_ZH:"芬兰",Short_Name_FR:"Finlande",Short_Name_ES:"Finlandia",Short_Name_RU:"Финляндия",Short_Name_AR:"فنلندا"}},{type:"Feature",id:161833,geometry:{type:"Point",coordinates:[20.8113308580001,44.0338722170001]},properties:{ADM0_NAME:"Serbia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1908,cum_clin:null,cum_susp:null,cum_death:51,EPIWeek:15,EPIYear:2020,Comment:"145",ID:161833,GUID:"c2a1295d-39bf-42fa-89ed-cadee2ea50c0",CENTER_LON:20.81133086,CENTER_LAT:44.03387222,ADM0_VIZ_NAME:"Serbia",Short_Name_ZH:"塞尔维亚",Short_Name_FR:"Serbie",Short_Name_ES:"Serbia",Short_Name_RU:"Сербия",Short_Name_AR:"صربيا"}},{type:"Feature",id:161834,geometry:{type:"Point",coordinates:[22.9879848,39.0445287420001]},properties:{ADM0_NAME:"Greece",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1735,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161834,GUID:"89efdcec-75e3-4185-83a8-d2cb7f6beff6",CENTER_LON:22.9879848,CENTER_LAT:39.04452874,ADM0_VIZ_NAME:"Greece",Short_Name_ZH:"希腊",Short_Name_FR:"Grèce",Short_Name_ES:"Grecia",Short_Name_RU:"Греция",Short_Name_AR:"اليونان"}},{type:"Feature",id:161835,geometry:{type:"Point",coordinates:[-18.6057025969999,64.9976499840001]},properties:{ADM0_NAME:"Iceland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1486,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161835,GUID:"66510a15-4a49-4fb4-9400-6e6fd0d1d259",CENTER_LON:-18.6057026,CENTER_LAT:64.99764998,ADM0_VIZ_NAME:"Iceland",Short_Name_ZH:"冰岛",Short_Name_FR:"Islande",Short_Name_ES:"Islandia",Short_Name_RU:"Исландия",Short_Name_AR:"آيسلندا"}},{type:"Feature",id:161836,geometry:{type:"Point",coordinates:[31.3878455180001,49.0160942850001]},properties:{ADM0_NAME:"Ukraine",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1319,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161836,GUID:"95185552-2b03-429c-8efb-c5779d556529",CENTER_LON:31.38784552,CENTER_LAT:49.01609429,ADM0_VIZ_NAME:"Ukraine",Short_Name_ZH:"乌克兰",Short_Name_FR:"Ukraine",Short_Name_ES:"Ucrania",Short_Name_RU:"Украина",Short_Name_AR:"أوكرانيا"}},{type:"Feature",id:161837,geometry:{type:"Point",coordinates:[16.409342489,45.043636959]},properties:{ADM0_NAME:"Croatia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1182,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161837,GUID:"0632bd7c-fa87-4b49-847e-747eb322c506",CENTER_LON:16.40934249,CENTER_LAT:45.04363696,ADM0_VIZ_NAME:"Croatia",Short_Name_ZH:"克罗地亚",Short_Name_FR:"Croatie",Short_Name_ES:"Croacia",Short_Name_RU:"Хорватия",Short_Name_AR:"كرواتيا"}},{type:"Feature",id:161838,geometry:{type:"Point",coordinates:[25.525770902,58.674007869]},properties:{ADM0_NAME:"Estonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1097,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161838,GUID:"465ebc0d-dc95-4d49-8c01-58d7e2a9629f",CENTER_LON:25.5257709,CENTER_LAT:58.67400787,ADM0_VIZ_NAME:"Estonia",Short_Name_ZH:"爱沙尼亚",Short_Name_FR:"Estonie",Short_Name_ES:"Estonia",Short_Name_RU:"Эстония",Short_Name_AR:"إستونيا"}},{type:"Feature",id:161839,geometry:{type:"Point",coordinates:[14.8270744380001,46.123550256]},properties:{ADM0_NAME:"Slovenia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:997,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161839,GUID:"a1f8bec8-8628-4e46-9c7e-238a386177b5",CENTER_LON:14.82707444,CENTER_LAT:46.12355026,ADM0_VIZ_NAME:"Slovenia",Short_Name_ZH:"斯洛文尼亚",Short_Name_FR:"Slovénie",Short_Name_ES:"Eslovenia",Short_Name_RU:"Словения",Short_Name_AR:"سلوفينيا"}},{type:"Feature",id:161840,geometry:{type:"Point",coordinates:[28.4743431700001,47.1933256130001]},properties:{ADM0_NAME:"Republic of Moldova",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:864,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161840,GUID:"2e685fb5-826d-4cda-8f11-ab4e215115c8",CENTER_LON:28.47434317,CENTER_LAT:47.19332561,ADM0_VIZ_NAME:"Republic of Moldova",Short_Name_ZH:"摩尔多瓦共和国",Short_Name_FR:"République de Moldova",Short_Name_ES:"la República de Moldova",Short_Name_RU:"Республика Молдова",Short_Name_AR:" جمهورية مولدوفا"}},{type:"Feature",id:161841,geometry:{type:"Point",coordinates:[23.8968307550001,55.3358501330001]},properties:{ADM0_NAME:"Lithuania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:811,cum_clin:null,cum_susp:null,cum_death:13,EPIWeek:15,EPIYear:2020,Comment:null,ID:161841,GUID:"9dedcb14-a08f-4f9c-9248-f3e734fe9026",CENTER_LON:23.89683075,CENTER_LAT:55.33585013,ADM0_VIZ_NAME:"Lithuania",Short_Name_ZH:"立陶宛",Short_Name_FR:"Lituanie",Short_Name_ES:"Lituania",Short_Name_RU:"Литва",Short_Name_AR:"ليتوانيا"}},{type:"Feature",id:161842,geometry:{type:"Point",coordinates:[44.947934237,40.2864168850001]},properties:{ADM0_NAME:"Armenia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:746,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161842,GUID:"eacf41cc-aa5e-48c9-a3db-386fce22497f",CENTER_LON:44.94793424,CENTER_LAT:40.28641688,ADM0_VIZ_NAME:"Armenia",Short_Name_ZH:"亚美尼亚",Short_Name_FR:"Arménie",Short_Name_ES:"Armenia",Short_Name_RU:"Армения",Short_Name_AR:"أرمينيا"}},{type:"Feature",id:161843,geometry:{type:"Point",coordinates:[19.413428132,47.166479059]},properties:{ADM0_NAME:"Hungary",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:744,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161843,GUID:"dd6f8b0d-73f4-4afc-889e-185c363755bd",CENTER_LON:19.41342813,CENTER_LAT:47.16647906,ADM0_VIZ_NAME:"Hungary",Short_Name_ZH:"匈牙利",Short_Name_FR:"Hongrie",Short_Name_ES:"Hungría",Short_Name_RU:"Венгрия",Short_Name_AR:"هنغاريا"}},{type:"Feature",id:161844,geometry:{type:"Point",coordinates:[17.788588722,44.166459531]},properties:{ADM0_NAME:"Bosnia and Herzegovina",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:662,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161844,GUID:"e72216b1-90ca-4ef3-8ca5-334dc566e491",CENTER_LON:17.78861095,CENTER_LAT:44.16643966,ADM0_VIZ_NAME:"Bosnia and Herzegovina",Short_Name_ZH:"波斯尼亚和黑塞哥维那",Short_Name_FR:"Bosnie-Herzégovine",Short_Name_ES:"Bosnia y Herzegovina",Short_Name_RU:"Босния и Герцеговина",Short_Name_AR:"البوسنة والهرسك"}},{type:"Feature",id:161845,geometry:{type:"Point",coordinates:[67.3013001780001,48.160042703]},properties:{ADM0_NAME:"Kazakhstan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:604,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161845,GUID:"4977dd2e-53da-4f6e-8b28-b232665dce70",CENTER_LON:67.30130018,CENTER_LAT:48.1600427,ADM0_VIZ_NAME:"Kazakhstan",Short_Name_ZH:"哈萨克斯坦",Short_Name_FR:"Kazakhstan",Short_Name_ES:"Kazajstán",Short_Name_RU:"Казахстан",Short_Name_AR:"كازاخستان"}},{type:"Feature",id:161846,geometry:{type:"Point",coordinates:[47.5323268120001,40.292219501]},properties:{ADM0_NAME:"Azerbaijan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:584,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161846,GUID:"7c545b04-b947-4d2a-94f1-af4010981973",CENTER_LON:47.53232681,CENTER_LAT:40.2922195,ADM0_VIZ_NAME:"Azerbaijan",Short_Name_ZH:"阿塞拜疆",Short_Name_FR:"Azerbaïdjan",Short_Name_ES:"Azerbaiyán",Short_Name_RU:"Азербайджан",Short_Name_AR:"أذربيجان"}},{type:"Feature",id:161847,geometry:{type:"Point",coordinates:[28.046964476,53.5402195120001]},properties:{ADM0_NAME:"Belarus",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:562,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161847,GUID:"b0db3eb1-014d-4f19-ad8a-0d42e84400bc",CENTER_LON:28.04696448,CENTER_LAT:53.54021951,ADM0_VIZ_NAME:"Belarus",Short_Name_ZH:"白俄罗斯",Short_Name_FR:"Bélarus",Short_Name_ES:"Belarús",Short_Name_RU:"Беларусь",Short_Name_AR:"بيلاروس"}},{type:"Feature",id:161848,geometry:{type:"Point",coordinates:[21.699148501,41.5992207530001]},properties:{ADM0_NAME:"North Macedonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161848,GUID:"3e3320e9-1f0d-44fb-9ca7-59fcb032f585",CENTER_LON:21.6991485,CENTER_LAT:41.59922075,ADM0_VIZ_NAME:"North Macedonia",Short_Name_ZH:"北马其顿",Short_Name_FR:"Macédoine du Nord",Short_Name_ES:"Macedonia del Norte",Short_Name_RU:"Северная Македония",Short_Name_AR:"مقدونيا الشمالية"}},{type:"Feature",id:161849,geometry:{type:"Point",coordinates:[24.9291533160001,56.857669393]},properties:{ADM0_NAME:"Latvia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:533,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161849,GUID:"0c31644b-8d04-4f24-aca0-d49b0523a771",CENTER_LON:24.92915332,CENTER_LAT:56.85766939,ADM0_VIZ_NAME:"Latvia",Short_Name_ZH:"拉脱维亚",Short_Name_FR:"Lettonie",Short_Name_ES:"Letonia",Short_Name_RU:"Латвия",Short_Name_AR:"لاتفيا"}},{type:"Feature",id:161850,geometry:{type:"Point",coordinates:[25.234757556,42.7603214050001]},properties:{ADM0_NAME:"Bulgaria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:531,cum_clin:null,cum_susp:null,cum_death:20,EPIWeek:15,EPIYear:2020,Comment:null,ID:161850,GUID:"9ec1719f-edd7-42af-8988-ed246a25ff6e",CENTER_LON:25.23475756,CENTER_LAT:42.76032141,ADM0_VIZ_NAME:"Bulgaria",Short_Name_ZH:"保加利亚",Short_Name_FR:"Bulgarie",Short_Name_ES:"Bulgaria",Short_Name_RU:"Болгария",Short_Name_AR:"بلغاريا"}},{type:"Feature",id:161851,geometry:{type:"Point",coordinates:[1.57568832800007,42.548582966]},properties:{ADM0_NAME:"Andorra",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:523,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161851,GUID:"066f0f3c-d111-4a65-afdd-5f86e5ac8ddc",CENTER_LON:1.57568833,CENTER_LAT:42.54858297,ADM0_VIZ_NAME:"Andorra",Short_Name_ZH:"安道尔",Short_Name_FR:"Andorre",Short_Name_ES:"Andorra",Short_Name_RU:"Андорра",Short_Name_AR:"أندورا"}},{type:"Feature",id:161852,geometry:{type:"Point",coordinates:[19.4914502780001,48.7073588010001]},properties:{ADM0_NAME:"Slovakia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:485,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161852,GUID:"7ec96ad8-a352-4125-af49-b14e8cb9876b",CENTER_LON:19.49145028,CENTER_LAT:48.7073588,ADM0_VIZ_NAME:"Slovakia",Short_Name_ZH:"斯洛伐克",Short_Name_FR:"Slovaquie",Short_Name_ES:"Eslovaquia",Short_Name_RU:"Словакия",Short_Name_AR:"سلوفاكيا"}},{type:"Feature",id:161853,geometry:{type:"Point",coordinates:[33.2186370790001,35.042991746]},properties:{ADM0_NAME:"Cyprus",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:446,cum_clin:null,cum_susp:null,cum_death:14,EPIWeek:15,EPIYear:2020,Comment:null,ID:161853,GUID:"21711ed5-ad84-4f8f-af93-6e4d12e558bf",CENTER_LON:33.21863708,CENTER_LAT:35.04299175,ADM0_VIZ_NAME:"Cyprus",Short_Name_ZH:"塞浦路斯",Short_Name_FR:"Chypre",Short_Name_ES:"Chipre",Short_Name_RU:"Кипр",Short_Name_AR:"قبرص"}},{type:"Feature",id:161854,geometry:{type:"Point",coordinates:[63.169505783,41.750416607]},properties:{ADM0_NAME:"Uzbekistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:390,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161854,GUID:"6041dd4d-0f77-4e28-8d46-cc9afc8dbf9a",CENTER_LON:63.16950578,CENTER_LAT:41.75041661,ADM0_VIZ_NAME:"Uzbekistan",Short_Name_ZH:"乌兹别克斯坦",Short_Name_FR:"Ouzbékistan",Short_Name_ES:"Uzbekistán",Short_Name_RU:"Узбекистан",Short_Name_AR:"أوزبكستان"}},{type:"Feature",id:161855,geometry:{type:"Point",coordinates:[20.0691781670001,41.145958029]},properties:{ADM0_NAME:"Albania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:377,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161855,GUID:"c7192fcc-f547-44ed-a758-3d8e48420cef",CENTER_LON:20.06917817,CENTER_LAT:41.14595803,ADM0_VIZ_NAME:"Albania",Short_Name_ZH:"阿尔巴尼亚",Short_Name_FR:"Albanie",Short_Name_ES:"Albania",Short_Name_RU:"Албания",Short_Name_AR:"ألبانيا"}},{type:"Feature",id:161856,geometry:{type:"Point",coordinates:[12.4603576160001,43.9419147360001]},properties:{ADM0_NAME:"San Marino",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:266,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161856,GUID:"1e7562c6-655a-4a6d-879f-7f80ff842b20",CENTER_LON:12.46035762,CENTER_LAT:43.94191474,ADM0_VIZ_NAME:"San Marino",Short_Name_ZH:"圣马力诺",Short_Name_FR:"Saint-Marin",Short_Name_ES:"San Marino",Short_Name_RU:"Сан-Марино",Short_Name_AR:"سان مارينو"}},{type:"Feature",id:161857,geometry:{type:"Point",coordinates:[14.404573585,35.9203665150001]},properties:{ADM0_NAME:"Malta",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:234,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161857,GUID:"fbafb313-9be5-49cc-9633-26c40e77d9d9",CENTER_LON:14.40457358,CENTER_LAT:35.92036651,ADM0_VIZ_NAME:"Malta",Short_Name_ZH:"马耳他",Short_Name_FR:"Malte",Short_Name_ES:"Malta",Short_Name_RU:"Мальта",Short_Name_AR:"مالطة"}},{type:"Feature",id:161858,geometry:{type:"Point",coordinates:[74.555492998,41.464907168]},properties:{ADM0_NAME:"Kyrgyzstan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:216,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161858,GUID:"874ef90d-615d-4ad3-8893-17d62ecda937",CENTER_LON:74.555493,CENTER_LAT:41.46490717,ADM0_VIZ_NAME:"Kyrgyzstan",Short_Name_ZH:"吉尔吉斯斯坦",Short_Name_FR:"Kirghizistan",Short_Name_ES:"Kirguistán",Short_Name_RU:"Кыргызстан",Short_Name_AR:"قيرغيزستان"}},{type:"Feature",id:161859,geometry:{type:"Point",coordinates:[19.264632787,42.796243544]},properties:{ADM0_NAME:"Montenegro",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:203,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161859,GUID:"09650ef3-8793-4a1f-b8a2-b6c1da8c2bef",CENTER_LON:19.26458919,CENTER_LAT:42.79659203,ADM0_VIZ_NAME:"Montenegro",Short_Name_ZH:"黑山",Short_Name_FR:"Monténégro",Short_Name_ES:"Montenegro",Short_Name_RU:"Черногория",Short_Name_AR:"الجبل الأسود"}},{type:"Feature",id:161860,geometry:{type:"Point",coordinates:[43.517571151,42.1763258280001]},properties:{ADM0_NAME:"Georgia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:188,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161860,GUID:"e75c6929-6252-4e54-af0f-83798afe3123",CENTER_LON:43.51757115,CENTER_LAT:42.17632583,ADM0_VIZ_NAME:"Georgia",Short_Name_ZH:"格鲁吉亚",Short_Name_FR:"Géorgie",Short_Name_ES:"Georgia",Short_Name_RU:"Грузия",Short_Name_AR:"جورجيا"}},{type:"Feature",id:161861,geometry:{type:"Point",coordinates:[-6.86363601799997,62.050314004]},properties:{ADM0_NAME:"Faroe Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:181,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161861,GUID:"53f56a27-5297-4c05-a47b-b2033e95db63",CENTER_LON:-6.86363602,CENTER_LAT:62.050314,ADM0_VIZ_NAME:"Faroe Islands",Short_Name_ZH:`法罗群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161862,geometry:{type:"Point",coordinates:[-2.12891773399997,49.2194981580001]},properties:{ADM0_NAME:"Jersey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:155,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161862,GUID:"82a7eebf-4858-4ad8-b68f-1b7bd7b719bc",CENTER_LON:-2.12891773,CENTER_LAT:49.21949816,ADM0_VIZ_NAME:"Jersey",Short_Name_ZH:`泽西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161863,geometry:{type:"Point",coordinates:[-2.57582282299995,49.459046304]},properties:{ADM0_NAME:"Guernsey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:154,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161863,GUID:"2cb7929d-d72e-4129-83c9-c293fc73d996",CENTER_LON:-2.57582282,CENTER_LAT:49.4590463,ADM0_VIZ_NAME:"Guernsey",Short_Name_ZH:`根西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161864,geometry:{type:"Point",coordinates:[20.9369550000001,42.568695]},properties:{ADM0_NAME:"Kosovo[1]",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:"1908",ID:161864,GUID:"71d5bb45-bba6-4305-a423-19927e9f4c53",CENTER_LON:20.936955,CENTER_LAT:42.568695,ADM0_VIZ_NAME:"Kosovo[1]",Short_Name_ZH:"科索沃[1]",Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161865,geometry:{type:"Point",coordinates:[-4.52652992499998,54.2288332950001]},properties:{ADM0_NAME:"Isle of Man",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:127,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161865,GUID:"45b3fcba-3667-474b-8081-b17737d8cb5f",CENTER_LON:-4.52652992,CENTER_LAT:54.2288333,ADM0_VIZ_NAME:"Isle of Man",Short_Name_ZH:`马恩岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161866,geometry:{type:"Point",coordinates:[-5.34488893099996,36.1381932030001]},properties:{ADM0_NAME:"Gibraltar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161866,GUID:"6e156108-e9e8-4087-b89c-37e5851bd8d0",CENTER_LON:-5.34488893,CENTER_LAT:36.1381932,ADM0_VIZ_NAME:"Gibraltar",Short_Name_ZH:`直布罗陀\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161867,geometry:{type:"Point",coordinates:[9.55526492600006,47.1525954850001]},properties:{ADM0_NAME:"Liechtenstein",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:78,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161867,GUID:"8b38ed63-f4bf-4683-96b5-e8c2eb7bd7e7",CENTER_LON:9.55526493,CENTER_LAT:47.15259548,ADM0_VIZ_NAME:"Liechtenstein",Short_Name_ZH:`列支敦士登\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161868,geometry:{type:"Point",coordinates:[7.41201715200003,43.7503461470001]},properties:{ADM0_NAME:"Monaco",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161868,GUID:"ac716d7e-26d7-46d8-a1a2-4222f42042f3",CENTER_LON:7.41201715,CENTER_LAT:43.75034615,ADM0_VIZ_NAME:"Monaco",Short_Name_ZH:"摩纳哥",Short_Name_FR:"Monaco",Short_Name_ES:"Mónaco",Short_Name_RU:"Монако",Short_Name_AR:"موناكو"}},{type:"Feature",id:161869,geometry:{type:"Point",coordinates:[-41.39096667,74.7189535310001]},properties:{ADM0_NAME:"Greenland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161869,GUID:"e7d73b5c-27bf-451c-be96-73de13560e8c",CENTER_LON:-41.39096667,CENTER_LAT:74.71895353,ADM0_VIZ_NAME:"Greenland",Short_Name_ZH:`格陵兰岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161870,geometry:{type:"Point",coordinates:[12.4857111430001,41.893241947]},properties:{ADM0_NAME:"Holy See",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161870,GUID:"38144504-0224-4815-a545-5c8d34bb44d8",CENTER_LON:12.48571114,CENTER_LAT:41.89324195,ADM0_VIZ_NAME:"Holy See",Short_Name_ZH:`梵蒂冈\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161871,geometry:{type:"Point",coordinates:[79.6188182980001,22.881320567]},properties:{ADM0_NAME:"India",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4067,cum_clin:null,cum_susp:null,cum_death:109,EPIWeek:15,EPIYear:2020,Comment:null,ID:161871,GUID:"e75886d8-11ce-4563-bd85-86bcb9312cee",CENTER_LON:79.6188183,CENTER_LAT:22.88132057,ADM0_VIZ_NAME:"India",Short_Name_ZH:"印度",Short_Name_FR:"Inde",Short_Name_ES:"India",Short_Name_RU:"Индия",Short_Name_AR:"الهند"}},{type:"Feature",id:161872,geometry:{type:"Point",coordinates:[113.355162997,-.950074241999971]},properties:{ADM0_NAME:"Indonesia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2491,cum_clin:null,cum_susp:null,cum_death:209,EPIWeek:15,EPIYear:2020,Comment:null,ID:161872,GUID:"9350b806-04ca-4c8f-926e-7c5f644a13c7",CENTER_LON:117.31101692,CENTER_LAT:-2.22903453,ADM0_VIZ_NAME:"Indonesia",Short_Name_ZH:"印度尼西亚",Short_Name_FR:"Indonésie",Short_Name_ES:"Indonesia",Short_Name_RU:"Индонезия",Short_Name_AR:"إندونيسيا"}},{type:"Feature",id:161873,geometry:{type:"Point",coordinates:[101.014907816,15.1198987560001]},properties:{ADM0_NAME:"Thailand",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2220,cum_clin:null,cum_susp:null,cum_death:26,EPIWeek:15,EPIYear:2020,Comment:null,ID:161873,GUID:"3d1f17d7-1553-476a-a8d8-62dcd54d4779",CENTER_LON:101.01490782,CENTER_LAT:15.11989876,ADM0_VIZ_NAME:"Thailand",Short_Name_ZH:"泰国",Short_Name_FR:"Thaïlande",Short_Name_ES:"Tailandia",Short_Name_RU:"Таиланд",Short_Name_AR:"تايلند"}},{type:"Feature",id:161874,geometry:{type:"Point",coordinates:[80.7042626200001,7.61236242700005]},properties:{ADM0_NAME:"Sri Lanka",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:176,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161874,GUID:"12d0a30e-4c87-4a62-b124-c751e10cacac",CENTER_LON:80.70426262,CENTER_LAT:7.61236243,ADM0_VIZ_NAME:"Sri Lanka",Short_Name_ZH:"斯里兰卡",Short_Name_FR:"Sri Lanka",Short_Name_ES:"Sri Lanka",Short_Name_RU:"Шри-Ланка",Short_Name_AR:"سري لانكا"}},{type:"Feature",id:161875,geometry:{type:"Point",coordinates:[90.2709257590001,23.833007201]},properties:{ADM0_NAME:"Bangladesh",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:123,cum_clin:null,cum_susp:null,cum_death:12,EPIWeek:15,EPIYear:2020,Comment:null,ID:161875,GUID:"c4d7552f-faa1-4bf4-a22e-c9b5d9ee14c2",CENTER_LON:90.27092576,CENTER_LAT:23.8330072,ADM0_VIZ_NAME:"Bangladesh",Short_Name_ZH:"孟加拉国",Short_Name_FR:"Bangladesh",Short_Name_ES:"Bangladesh",Short_Name_RU:"Бангладеш",Short_Name_AR:"بنغلاديش"}},{type:"Feature",id:161876,geometry:{type:"Point",coordinates:[96.508682057,21.1400953610001]},properties:{ADM0_NAME:"Myanmar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161876,GUID:"a8c48537-a6ee-4d80-83f8-b3dda8858d94",CENTER_LON:96.50868206,CENTER_LAT:21.14009536,ADM0_VIZ_NAME:"Myanmar",Short_Name_ZH:"缅甸",Short_Name_FR:"Myanmar",Short_Name_ES:"Myanmar",Short_Name_RU:"Мьянма",Short_Name_AR:"ميانمار"}},{type:"Feature",id:161877,geometry:{type:"Point",coordinates:[73.2517847770001,3.37481931800005]},properties:{ADM0_NAME:"Maldives",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161877,GUID:"65914a49-5435-4cda-b916-f9ee5e14147b",CENTER_LON:73.25178478,CENTER_LAT:3.37481932,ADM0_VIZ_NAME:"Maldives",Short_Name_ZH:"马尔代夫",Short_Name_FR:"Maldives",Short_Name_ES:"Maldivas",Short_Name_RU:"Мальдивские Острова",Short_Name_AR:"ملديف"}},{type:"Feature",id:161878,geometry:{type:"Point",coordinates:[83.9385170750001,28.253007847]},properties:{ADM0_NAME:"Nepal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161878,GUID:"da7d5887-ee15-421c-8ad9-b785996b0536",CENTER_LON:83.93851707,CENTER_LAT:28.25300785,ADM0_VIZ_NAME:"Nepal",Short_Name_ZH:"尼泊尔",Short_Name_FR:"Népal",Short_Name_ES:"Nepal",Short_Name_RU:"Непал",Short_Name_AR:"نيبال"}},{type:"Feature",id:161879,geometry:{type:"Point",coordinates:[90.4294327480001,27.415460823]},properties:{ADM0_NAME:"Bhutan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161879,GUID:"0d97d3e1-4ba2-431a-8404-f13231d663bd",CENTER_LON:90.42943275,CENTER_LAT:27.41546082,ADM0_VIZ_NAME:"Bhutan",Short_Name_ZH:"不丹",Short_Name_FR:"Bhoutan",Short_Name_ES:"Bhután",Short_Name_RU:"Бутан",Short_Name_AR:"بوتان"}},{type:"Feature",id:161880,geometry:{type:"Point",coordinates:[125.860996098,-8.82052123499994]},properties:{ADM0_NAME:"Timor-Leste",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161880,GUID:"57acee0b-5cc0-45d5-b65c-1d928ac08d16",CENTER_LON:125.8609961,CENTER_LAT:-8.82052123,ADM0_VIZ_NAME:"Timor-Leste",Short_Name_ZH:"东帝汶",Short_Name_FR:"Timor-Leste",Short_Name_ES:"Timor-Leste",Short_Name_RU:"Тимор-Лешти",Short_Name_AR:"تيمور- ليشتي"}},{type:"Feature",id:161881,geometry:{type:"Point",coordinates:[54.301413763,32.564799586]},properties:{ADM0_NAME:"Iran (Islamic Republic of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:60500,cum_clin:null,cum_susp:null,cum_death:3739,EPIWeek:15,EPIYear:2020,Comment:null,ID:161881,GUID:"2eea3a5c-8a36-4a18-a7ab-1b927a092a60",CENTER_LON:54.30141376,CENTER_LAT:32.56479959,ADM0_VIZ_NAME:"Iran (Islamic Republic of)",Short_Name_ZH:"伊朗（伊斯兰共和国）",Short_Name_FR:"Iran (République islamique d')",Short_Name_ES:"Irán (República Islámica del)",Short_Name_RU:"Иран (Исламская Республика)",Short_Name_AR:"إيران (جمهورية - الإسلامية)"}},{type:"Feature",id:161882,geometry:{type:"Point",coordinates:[69.3858188080001,29.966788981]},properties:{ADM0_NAME:"Pakistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3424,cum_clin:null,cum_susp:null,cum_death:50,EPIWeek:15,EPIYear:2020,Comment:null,ID:161882,GUID:"30ee6f01-1785-4ecb-b194-ba3becf5fd33",CENTER_LON:69.38581881,CENTER_LAT:29.96678898,ADM0_VIZ_NAME:"Pakistan",Short_Name_ZH:"巴基斯坦",Short_Name_FR:"Pakistan",Short_Name_ES:"Pakistán",Short_Name_RU:"Пакистан",Short_Name_AR:"باكستان"}},{type:"Feature",id:161883,geometry:{type:"Point",coordinates:[44.5704496550001,24.0808819160001]},properties:{ADM0_NAME:"Saudi Arabia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2523,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161883,GUID:"fa5a7f77-0dca-4f91-9571-3b8a44607f74",CENTER_LON:44.57044965,CENTER_LAT:24.08088192,ADM0_VIZ_NAME:"Saudi Arabia",Short_Name_ZH:"沙特阿拉伯",Short_Name_FR:"Arabie saoudite",Short_Name_ES:"Arabia Saudita",Short_Name_RU:"Саудовская Аравия",Short_Name_AR:"المملكة العربية السعودية"}},{type:"Feature",id:161884,geometry:{type:"Point",coordinates:[54.3321987830001,23.912672544]},properties:{ADM0_NAME:"United Arab Emirates",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2076,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161884,GUID:"549ed949-4c36-4ab0-b37c-ec9f84ee8e14",CENTER_LON:54.33219878,CENTER_LAT:23.91267254,ADM0_VIZ_NAME:"United Arab Emirates",Short_Name_ZH:"阿拉伯联合酋长国",Short_Name_FR:"Émirats arabes unis",Short_Name_ES:"Emiratos Árabes Unidos",Short_Name_RU:"Объединенные Арабские Эмираты",Short_Name_AR:"الإمارات العربية المتحدة"}},{type:"Feature",id:161885,geometry:{type:"Point",coordinates:[51.1912008290001,25.3158099720001]},properties:{ADM0_NAME:"Qatar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1604,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161885,GUID:"d5c3fdc5-6328-4dc7-a12c-27f168944d11",CENTER_LON:51.19120083,CENTER_LAT:25.31580997,ADM0_VIZ_NAME:"Qatar",Short_Name_ZH:"卡塔尔",Short_Name_FR:"Qatar",Short_Name_ES:"Qatar",Short_Name_RU:"Катар",Short_Name_AR:"قطر"}},{type:"Feature",id:161886,geometry:{type:"Point",coordinates:[29.7821070850001,26.5565645950001]},properties:{ADM0_NAME:"Egypt",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1173,cum_clin:null,cum_susp:null,cum_death:78,EPIWeek:15,EPIYear:2020,Comment:null,ID:161886,GUID:"598e205c-5683-49e0-b61e-4b279e6c2082",CENTER_LON:29.78210708,CENTER_LAT:26.5565646,ADM0_VIZ_NAME:"Egypt",Short_Name_ZH:"埃及",Short_Name_FR:"Égypte",Short_Name_ES:"Egipto",Short_Name_RU:"Египет",Short_Name_AR:"مصر"}},{type:"Feature",id:161887,geometry:{type:"Point",coordinates:[-6.31780294899994,31.8835569710001]},properties:{ADM0_NAME:"Morocco",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1113,cum_clin:null,cum_susp:null,cum_death:71,EPIWeek:15,EPIYear:2020,Comment:null,ID:161887,GUID:"8b881b86-2b79-4d8d-992d-01d939e1cdb9",CENTER_LON:-6.31780295,CENTER_LAT:31.88355697,ADM0_VIZ_NAME:"Morocco",Short_Name_ZH:"摩洛哥",Short_Name_FR:"Maroc",Short_Name_ES:"Marruecos",Short_Name_RU:"Марокко",Short_Name_AR:"المغرب"}},{type:"Feature",id:161888,geometry:{type:"Point",coordinates:[43.7722455160001,33.048006538]},properties:{ADM0_NAME:"Iraq",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1031,cum_clin:null,cum_susp:null,cum_death:64,EPIWeek:15,EPIYear:2020,Comment:null,ID:161888,GUID:"1ffa0200-4cdb-47df-ba42-2e687224b89d",CENTER_LON:43.77224552,CENTER_LAT:33.04800654,ADM0_VIZ_NAME:"Iraq",Short_Name_ZH:"伊拉克",Short_Name_FR:"Iraq",Short_Name_ES:"Iraq",Short_Name_RU:"Ирак",Short_Name_AR:"العراق"}},{type:"Feature",id:161889,geometry:{type:"Point",coordinates:[50.5624891480001,26.0194739230001]},properties:{ADM0_NAME:"Bahrain",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:723,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161889,GUID:"9c36e72c-28fe-463f-8d8a-43ec9be45bc6",CENTER_LON:50.56248915,CENTER_LAT:26.01947392,ADM0_VIZ_NAME:"Bahrain",Short_Name_ZH:"巴林",Short_Name_FR:"Bahreïn",Short_Name_ES:"Bahrein",Short_Name_RU:"Бахрейн",Short_Name_AR:"البحرين"}},{type:"Feature",id:161890,geometry:{type:"Point",coordinates:[47.5935512790001,29.342509057]},properties:{ADM0_NAME:"Kuwait",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:665,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161890,GUID:"3b548ca2-357e-4c78-b4b8-9ed0205e0d29",CENTER_LON:47.59355128,CENTER_LAT:29.34250906,ADM0_VIZ_NAME:"Kuwait",Short_Name_ZH:"科威特",Short_Name_FR:"Koweït",Short_Name_ES:"Kuwait",Short_Name_RU:"Кувейт",Short_Name_AR:"الكويت"}},{type:"Feature",id:161891,geometry:{type:"Point",coordinates:[9.56156142200007,34.1112491690001]},properties:{ADM0_NAME:"Tunisia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:574,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161891,GUID:"9e2fe46a-7ed9-4eda-9a6d-91dfb3d70d34",CENTER_LON:9.56156142,CENTER_LAT:34.11124917,ADM0_VIZ_NAME:"Tunisia",Short_Name_ZH:"突尼斯",Short_Name_FR:"Tunisie",Short_Name_ES:"Túnez",Short_Name_RU:"Тунис",Short_Name_AR:"تونس"}},{type:"Feature",id:161892,geometry:{type:"Point",coordinates:[35.8880612290001,33.920393044]},properties:{ADM0_NAME:"Lebanon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:541,cum_clin:null,cum_susp:null,cum_death:19,EPIWeek:15,EPIYear:2020,Comment:null,ID:161892,GUID:"3611afe5-e2e8-4576-aa04-e9516c701991",CENTER_LON:35.88806123,CENTER_LAT:33.92039304,ADM0_VIZ_NAME:"Lebanon",Short_Name_ZH:"黎巴嫩",Short_Name_FR:"Liban",Short_Name_ES:"Líbano",Short_Name_RU:"Ливан",Short_Name_AR:"لبنان"}},{type:"Feature",id:161893,geometry:{type:"Point",coordinates:[36.786941142,31.253381786]},properties:{ADM0_NAME:"Jordan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161893,GUID:"79882e66-3900-4c94-b9e1-fa2de8a2a6f0",CENTER_LON:36.78694114,CENTER_LAT:31.25338179,ADM0_VIZ_NAME:"Jordan",Short_Name_ZH:"约旦",Short_Name_FR:"Jordanie",Short_Name_ES:"Jordania",Short_Name_RU:"Иордания",Short_Name_AR:"الأردن"}},{type:"Feature",id:161894,geometry:{type:"Point",coordinates:[66.0265297700001,33.8389011570001]},properties:{ADM0_NAME:"Afghanistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:337,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161894,GUID:"bf4e1516-20f9-4d0b-afee-15fb1fbbbbbe",CENTER_LON:66.02652977,CENTER_LAT:33.83890116,ADM0_VIZ_NAME:"Afghanistan",Short_Name_ZH:"阿富汗",Short_Name_FR:"Afghanistan",Short_Name_ES:"Afganistán",Short_Name_RU:"Афганистан",Short_Name_AR:"أفغانستان"}},{type:"Feature",id:161895,geometry:{type:"Point",coordinates:[56.1098174690001,20.6020836820001]},properties:{ADM0_NAME:"Oman",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:331,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161895,GUID:"5585e0a1-3071-45dd-9b00-1d4c91cb2c36",CENTER_LON:56.10981747,CENTER_LAT:20.60208368,ADM0_VIZ_NAME:"Oman",Short_Name_ZH:"阿曼",Short_Name_FR:"Oman",Short_Name_ES:"Omán",Short_Name_RU:"Оман",Short_Name_AR:"عمان"}},{type:"Feature",id:161896,geometry:{type:"Point",coordinates:[35.2037687770001,31.9139511390001]},properties:{ADM0_NAME:"occupied Palestinian territory",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:253,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161896,GUID:"34239be2-e939-4309-b18d-36cc81ef3230",CENTER_LON:35.20376878,CENTER_LAT:31.91395114,ADM0_VIZ_NAME:"occupied Palestinian territory",Short_Name_ZH:`巴勒斯坦被占领土\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161897,geometry:{type:"Point",coordinates:[42.5779402960001,11.7498128010001]},properties:{ADM0_NAME:"Djibouti",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:90,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161897,GUID:"01f29008-138c-45c3-a1e0-68200f08e1e9",CENTER_LON:42.5779403,CENTER_LAT:11.7498128,ADM0_VIZ_NAME:"Djibouti",Short_Name_ZH:"吉布提",Short_Name_FR:"Djibouti",Short_Name_ES:"Djibouti",Short_Name_RU:"Джибути",Short_Name_AR:"جيبوتي"}},{type:"Feature",id:161898,geometry:{type:"Point",coordinates:[38.5058474360001,35.0130727170001]},properties:{ADM0_NAME:"Syrian Arab Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161898,GUID:"cc57a348-8512-41f0-a924-29bce5e06948",CENTER_LON:38.50584744,CENTER_LAT:35.01307272,ADM0_VIZ_NAME:"Syrian Arab Republic",Short_Name_ZH:"阿拉伯叙利亚共和国",Short_Name_FR:"République arabe syrienne",Short_Name_ES:"República Árabe Siria",Short_Name_RU:"Сирийская Арабская Республика",Short_Name_AR:"الجمهورية العربية السورية"}},{type:"Feature",id:161899,geometry:{type:"Point",coordinates:[18.0231862690001,27.0440452400001]},properties:{ADM0_NAME:"Libya",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161899,GUID:"767c2628-8079-4eba-8899-55f29cfafb83",CENTER_LON:18.02318627,CENTER_LAT:27.04404524,ADM0_VIZ_NAME:"Libya",Short_Name_ZH:"利比亚",Short_Name_FR:"Libye",Short_Name_ES:"Libia",Short_Name_RU:"Ливия",Short_Name_AR:"ليبيا"}},{type:"Feature",id:161900,geometry:{type:"Point",coordinates:[30.004381349,16.048838211]},properties:{ADM0_NAME:"Sudan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161900,GUID:"3050873e-f010-4c4f-82d1-541e3c4fd887",CENTER_LON:30.00438135,CENTER_LAT:16.04883821,ADM0_VIZ_NAME:"Sudan",Short_Name_ZH:"苏丹",Short_Name_FR:"Soudan",Short_Name_ES:"Sudán",Short_Name_RU:"Судан",Short_Name_AR:"السودان"}},{type:"Feature",id:161901,geometry:{type:"Point",coordinates:[47.9564849590001,5.73058895600008]},properties:{ADM0_NAME:"Somalia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161901,GUID:"b5ff48b9-7282-445c-8cd2-befce4e0bda7",CENTER_LON:45.86255927,CENTER_LAT:6.0637135,ADM0_VIZ_NAME:"Somalia",Short_Name_ZH:"索马里",Short_Name_FR:"Somalie",Short_Name_ES:"Somalia",Short_Name_RU:"Сомали",Short_Name_AR:"الصومال"}},{type:"Feature",id:161903,geometry:{type:"Point",coordinates:[-101.433248,39.8897640000001]},properties:{ADM0_NAME:"United States of America",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:307318,cum_clin:null,cum_susp:null,cum_death:8358,EPIWeek:15,EPIYear:2020,Comment:null,ID:161903,GUID:"686f0da6-9025-4eb1-8f95-b164936ce382",CENTER_LON:-112.49356447,CENTER_LAT:45.6954816,ADM0_VIZ_NAME:"United States of America",Short_Name_ZH:"美利坚合众国",Short_Name_FR:"États-Unis d'Amérique",Short_Name_ES:"Estados Unidos de América",Short_Name_RU:"Соединенные Штаты Америки",Short_Name_AR:"الولايات المتحدة الأمريكية "}},{type:"Feature",id:161904,geometry:{type:"Point",coordinates:[-101.433248,57.393067]},properties:{ADM0_NAME:"Canada",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13904,cum_clin:null,cum_susp:null,cum_death:231,EPIWeek:15,EPIYear:2020,Comment:null,ID:161904,GUID:"3c3c3405-35c5-4143-a7ab-738cf519268d",CENTER_LON:-98.26094698,CENTER_LAT:61.3930667,ADM0_VIZ_NAME:"Canada",Short_Name_ZH:"加拿大",Short_Name_FR:"Canada",Short_Name_ES:"Canadá",Short_Name_RU:"Канада",Short_Name_AR:"كندا"}},{type:"Feature",id:161905,geometry:{type:"Point",coordinates:[-53.088754363,-10.772282796]},properties:{ADM0_NAME:"Brazil",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10278,cum_clin:null,cum_susp:null,cum_death:432,EPIWeek:15,EPIYear:2020,Comment:null,ID:161905,GUID:"dbe63621-0172-44aa-a620-596915232432",CENTER_LON:-53.08875436,CENTER_LAT:-10.7722828,ADM0_VIZ_NAME:"Brazil",Short_Name_ZH:"巴西",Short_Name_FR:"Brésil",Short_Name_ES:"Brasil",Short_Name_RU:"Бразилия",Short_Name_AR:"البرازيل"}},{type:"Feature",id:161906,geometry:{type:"Point",coordinates:[-71.380093845,-37.868119222]},properties:{ADM0_NAME:"Chile",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4471,cum_clin:null,cum_susp:null,cum_death:34,EPIWeek:15,EPIYear:2020,Comment:null,ID:161906,GUID:"b359383b-d629-4086-b6b3-2bb5380272dc",CENTER_LON:-71.38009385,CENTER_LAT:-37.86811922,ADM0_VIZ_NAME:"Chile",Short_Name_ZH:"智利",Short_Name_FR:"Chili",Short_Name_ES:"Chile",Short_Name_RU:"Чили",Short_Name_AR:"شيلي"}},{type:"Feature",id:161907,geometry:{type:"Point",coordinates:[-78.780961767,-1.42528336599997]},properties:{ADM0_NAME:"Ecuador",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3465,cum_clin:null,cum_susp:null,cum_death:172,EPIWeek:15,EPIYear:2020,Comment:null,ID:161907,GUID:"41c1d495-2f62-42c7-a9be-16e90c179973",CENTER_LON:-78.78096177,CENTER_LAT:-1.42528337,ADM0_VIZ_NAME:"Ecuador",Short_Name_ZH:"厄瓜多尔",Short_Name_FR:"Équateur",Short_Name_ES:"Ecuador",Short_Name_RU:"Эквадор",Short_Name_AR:"إكوادور"}},{type:"Feature",id:161908,geometry:{type:"Point",coordinates:[-102.534990927,23.950928413]},properties:{ADM0_NAME:"Mexico",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1890,cum_clin:null,cum_susp:null,cum_death:79,EPIWeek:15,EPIYear:2020,Comment:null,ID:161908,GUID:"6c394d8d-8acc-4369-a7ee-c367dc533fdf",CENTER_LON:-102.53499093,CENTER_LAT:23.95092841,ADM0_VIZ_NAME:"Mexico",Short_Name_ZH:"墨西哥",Short_Name_FR:"Mexique",Short_Name_ES:"México",Short_Name_RU:"Мексика",Short_Name_AR:"المكسيك"}},{type:"Feature",id:161909,geometry:{type:"Point",coordinates:[-80.1090688369999,8.50544318000004]},properties:{ADM0_NAME:"Panama",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1801,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161909,GUID:"91321513-fa2a-4cf9-a076-9b4e7d336306",CENTER_LON:-80.10906884,CENTER_LAT:8.50544318,ADM0_VIZ_NAME:"Panama",Short_Name_ZH:"巴拿马",Short_Name_FR:"Panama",Short_Name_ES:"Panamá",Short_Name_RU:"Панама",Short_Name_AR:"بنما"}},{type:"Feature",id:161910,geometry:{type:"Point",coordinates:[-74.375406681,-9.16377132599996]},properties:{ADM0_NAME:"Peru",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1746,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161910,GUID:"aec1089a-a796-4ccb-bba0-bffde1eda7ee",CENTER_LON:-74.37540668,CENTER_LAT:-9.16377133,ADM0_VIZ_NAME:"Peru",Short_Name_ZH:"秘鲁",Short_Name_FR:"Pérou",Short_Name_ES:"Perú",Short_Name_RU:"Перу",Short_Name_AR:"بيرو"}},{type:"Feature",id:161911,geometry:{type:"Point",coordinates:[-70.485434472,18.8930938570001]},properties:{ADM0_NAME:"Dominican Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1488,cum_clin:null,cum_susp:null,cum_death:68,EPIWeek:15,EPIYear:2020,Comment:null,ID:161911,GUID:"29bca7cc-63a9-4125-aba4-d9d7ffaec4f8",CENTER_LON:-70.48543447,CENTER_LAT:18.89309386,ADM0_VIZ_NAME:"Dominican Republic",Short_Name_ZH:"多米尼加 ",Short_Name_FR:"République dominicaine",Short_Name_ES:"República Dominicana",Short_Name_RU:"Доминиканская Республика",Short_Name_AR:"الجمهورية الدومينيكية"}},{type:"Feature",id:161912,geometry:{type:"Point",coordinates:[-65.167484744,-35.376672529]},properties:{ADM0_NAME:"Argentina",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1451,cum_clin:null,cum_susp:null,cum_death:44,EPIWeek:15,EPIYear:2020,Comment:null,ID:161912,GUID:"61ea4a3a-5a12-410e-8af0-0d59d828a9dd",CENTER_LON:-65.16748474,CENTER_LAT:-35.37667253,ADM0_VIZ_NAME:"Argentina",Short_Name_ZH:"阿根廷 ",Short_Name_FR:"Argentine",Short_Name_ES:"Argentina",Short_Name_RU:"Аргентина",Short_Name_AR:"الأرجنتين"}},{type:"Feature",id:161913,geometry:{type:"Point",coordinates:[-73.075763345,3.90037400800003]},properties:{ADM0_NAME:"Colombia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1406,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161913,GUID:"140398f0-b719-4865-aa11-f3dd7a3e137b",CENTER_LON:-73.07576335,CENTER_LAT:3.90037401,ADM0_VIZ_NAME:"Colombia",Short_Name_ZH:"哥伦比亚",Short_Name_FR:"Colombie",Short_Name_ES:"Colombia",Short_Name_RU:"Колумбия",Short_Name_AR:"كولومبيا"}},{type:"Feature",id:161914,geometry:{type:"Point",coordinates:[-66.466127479,18.220930739]},properties:{ADM0_NAME:"Puerto Rico",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:452,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161914,GUID:"d6d8a819-df69-4d1d-9773-210daee6fa94",CENTER_LON:-66.46612748,CENTER_LAT:18.22093074,ADM0_VIZ_NAME:"Puerto Rico",Short_Name_ZH:`波多黎各\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161915,geometry:{type:"Point",coordinates:[-84.189038674,9.97052135000007]},properties:{ADM0_NAME:"Costa Rica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:435,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161915,GUID:"6a30141b-1259-45ef-9303-9b3087a67606",CENTER_LON:-84.18903867,CENTER_LAT:9.97052135,ADM0_VIZ_NAME:"Costa Rica",Short_Name_ZH:"哥斯达黎加",Short_Name_FR:"Costa Rica",Short_Name_ES:"Costa Rica",Short_Name_RU:"Коста-Рика",Short_Name_AR:"كوستاريكا"}},{type:"Feature",id:161916,geometry:{type:"Point",coordinates:[-56.012173616,-32.7995699159999]},properties:{ADM0_NAME:"Uruguay",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:400,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161916,GUID:"6c459166-4e08-4ab6-8ada-b4509dbc38d8",CENTER_LON:-56.01217362,CENTER_LAT:-32.79956992,ADM0_VIZ_NAME:"Uruguay",Short_Name_ZH:"乌拉圭",Short_Name_FR:"Uruguay",Short_Name_ES:"Uruguay",Short_Name_RU:"Уругвай",Short_Name_AR:"أوروغواي"}},{type:"Feature",id:161917,geometry:{type:"Point",coordinates:[-79.0381997969999,21.621420958]},properties:{ADM0_NAME:"Cuba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:320,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161917,GUID:"57e6170d-3eb1-4cfe-9335-a61c5f2ff534",CENTER_LON:-79.0381998,CENTER_LAT:21.62142096,ADM0_VIZ_NAME:"Cuba",Short_Name_ZH:"古巴",Short_Name_FR:"Cuba",Short_Name_ES:"Cuba",Short_Name_RU:"Куба",Short_Name_AR:"كوبا"}},{type:"Feature",id:161918,geometry:{type:"Point",coordinates:[-86.619658987,14.819348125]},properties:{ADM0_NAME:"Honduras",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:268,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161918,GUID:"8d033cd7-4b1e-4c4c-87f0-879f94799ca2",CENTER_LON:-86.61965899,CENTER_LAT:14.81934813,ADM0_VIZ_NAME:"Honduras",Short_Name_ZH:"洪都拉斯",Short_Name_FR:"Honduras",Short_Name_ES:"Honduras",Short_Name_RU:"Гондурас",Short_Name_AR:"هندوراس"}},{type:"Feature",id:161919,geometry:{type:"Point",coordinates:[-64.6705484729999,-16.7151098919999]},properties:{ADM0_NAME:"Bolivia (Plurinational State of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:157,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161919,GUID:"500e72b0-dbef-4fea-b333-bcd8fd377eb9",CENTER_LON:-64.67054847,CENTER_LAT:-16.71510989,ADM0_VIZ_NAME:"Bolivia (Plurinational State of)",Short_Name_ZH:"玻利维亚（多民族国）",Short_Name_FR:"Bolivie (État plurinational de)",Short_Name_ES:"Bolivia (Estado Plurinacional de)  ",Short_Name_RU:"Боливия (Многонациональное Государство)",Short_Name_AR:"بوليفيا (دولة - المتعددة القوميات)"}},{type:"Feature",id:161920,geometry:{type:"Point",coordinates:[-61.021473822,14.6527741950001]},properties:{ADM0_NAME:"Martinique",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161920,GUID:"91fe4643-e623-462d-a9ae-d704c5ea52c1",CENTER_LON:-61.02147382,CENTER_LAT:14.65277419,ADM0_VIZ_NAME:"Martinique",Short_Name_ZH:`马提尼克岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161921,geometry:{type:"Point",coordinates:[-66.1662151469999,7.12493711500002]},properties:{ADM0_NAME:"Venezuela (Bolivarian Republic of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:144,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161921,GUID:"64a39a4b-9812-43f6-861e-d1f31045aced",CENTER_LON:-66.16621515,CENTER_LAT:7.12493711,ADM0_VIZ_NAME:"Venezuela (Bolivarian Republic of)",Short_Name_ZH:"委内瑞拉(玻利瓦尔共和国)",Short_Name_FR:"Venezuela (République bolivarienne du)",Short_Name_ES:"Venezuela (República Bolivariana de)",Short_Name_RU:"Венесуэла (Боливарианская Республика)",Short_Name_AR:"فنزويلا"}},{type:"Feature",id:161922,geometry:{type:"Point",coordinates:[-61.530392424,16.2012635740001]},properties:{ADM0_NAME:"Guadeloupe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:134,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161922,GUID:"899b5328-c489-48c0-b77d-536f26908563",CENTER_LON:-61.53039242,CENTER_LAT:16.20126357,ADM0_VIZ_NAME:"Guadeloupe",Short_Name_ZH:`瓜德罗普岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161923,geometry:{type:"Point",coordinates:[-58.390951781,-23.236128874]},properties:{ADM0_NAME:"Paraguay",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:104,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161923,GUID:"7e78b4f3-d231-444c-a8ab-c82373666a3f",CENTER_LON:-58.39095178,CENTER_LAT:-23.23612887,ADM0_VIZ_NAME:"Paraguay",Short_Name_ZH:"巴拉圭",Short_Name_FR:"Paraguay",Short_Name_ES:"Paraguay",Short_Name_RU:"Парагвай",Short_Name_AR:"باراغواي"}},{type:"Feature",id:161924,geometry:{type:"Point",coordinates:[-61.2526372249999,10.4683642860001]},properties:{ADM0_NAME:"Trinidad and Tobago",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161924,GUID:"f78fa74a-5f4e-4e3d-870e-aad4ac4fcc6c",CENTER_LON:-61.25263722,CENTER_LAT:10.46836429,ADM0_VIZ_NAME:"Trinidad and Tobago",Short_Name_ZH:"特立尼达和多巴哥",Short_Name_FR:"Trinité-et-Tobago",Short_Name_ES:"Trinidad y Tabago",Short_Name_RU:"Тринидад и Тобаго ",Short_Name_AR:"ترينيداد وتوباغو"}},{type:"Feature",id:161925,geometry:{type:"Point",coordinates:[-53.2412669619999,3.92438820100006]},properties:{ADM0_NAME:"French Guiana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:66,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161925,GUID:"31ab5f81-ad33-43ce-8491-1fa569d46c57",CENTER_LON:-53.24126696,CENTER_LAT:3.9243882,ADM0_VIZ_NAME:"French Guiana",Short_Name_ZH:`法属圭亚那\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161926,geometry:{type:"Point",coordinates:[-69.977133134,12.5166873650001]},properties:{ADM0_NAME:"Aruba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:64,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161926,GUID:"a5ca2f77-2705-4a8f-baee-ce6df1770224",CENTER_LON:-69.97713313,CENTER_LAT:12.51668736,ADM0_VIZ_NAME:"Aruba",Short_Name_ZH:`阿鲁巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161927,geometry:{type:"Point",coordinates:[-88.8656067429999,13.736145316]},properties:{ADM0_NAME:"El Salvador",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:62,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161927,GUID:"fa42353f-8656-4bc4-8ef4-19ba8a07848c",CENTER_LON:-88.86560674,CENTER_LAT:13.73614532,ADM0_VIZ_NAME:"El Salvador",Short_Name_ZH:"萨尔瓦多",Short_Name_FR:"El Salvador",Short_Name_ES:"El Salvador",Short_Name_RU:"Сальвадор",Short_Name_AR:"السلفادور"}},{type:"Feature",id:161928,geometry:{type:"Point",coordinates:[-90.356949304,15.7023025980001]},properties:{ADM0_NAME:"Guatemala",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:61,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161928,GUID:"7c9c0379-abf3-47b2-be97-0f40ded5f732",CENTER_LON:-90.3569493,CENTER_LAT:15.7023026,ADM0_VIZ_NAME:"Guatemala",Short_Name_ZH:"危地马拉",Short_Name_FR:"Guatemala",Short_Name_ES:"Guatemala",Short_Name_RU:"Гватемала",Short_Name_AR:"غواتيمالا"}},{type:"Feature",id:161929,geometry:{type:"Point",coordinates:[-77.3197508119999,18.151330639]},properties:{ADM0_NAME:"Jamaica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:55,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161929,GUID:"203d9c03-8c32-4506-8ae0-abfc176c586f",CENTER_LON:-77.31975081,CENTER_LAT:18.15133064,ADM0_VIZ_NAME:"Jamaica",Short_Name_ZH:"牙买加",Short_Name_FR:"Jamaïque",Short_Name_ES:"Jamaica",Short_Name_RU:"Ямайка",Short_Name_AR:"جامايكا"}},{type:"Feature",id:161930,geometry:{type:"Point",coordinates:[-59.5621269649999,13.1787990180001]},properties:{ADM0_NAME:"Barbados",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:51,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161930,GUID:"7c810b1f-298c-4f95-a84d-ce460e6e593d",CENTER_LON:-59.56212696,CENTER_LAT:13.17879902,ADM0_VIZ_NAME:"Barbados",Short_Name_ZH:"巴巴多斯",Short_Name_FR:"Barbade",Short_Name_ES:"Barbados",Short_Name_RU:"Барбадос",Short_Name_AR:"بربادوس"}},{type:"Feature",id:161931,geometry:{type:"Point",coordinates:[-64.7869272139999,17.967889896]},properties:{ADM0_NAME:"United States Virgin Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:42,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161931,GUID:"446c32b0-82a6-46a6-896d-731014da7e78",CENTER_LON:-64.78692721,CENTER_LAT:17.9678899,ADM0_VIZ_NAME:"United States Virgin Islands",Short_Name_ZH:`美属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161932,geometry:{type:"Point",coordinates:[-64.7563772199999,32.3134949820001]},properties:{ADM0_NAME:"Bermuda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161932,GUID:"52405a96-0ce0-44d8-9634-3d0585d5e7fa",CENTER_LON:-64.75637722,CENTER_LAT:32.31349498,ADM0_VIZ_NAME:"Bermuda",Short_Name_ZH:`百慕大\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161933,geometry:{type:"Point",coordinates:[-80.82909683,19.4315249970001]},properties:{ADM0_NAME:"Cayman Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:35,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161933,GUID:"5e1bff1e-8435-4bf8-ae33-bea5d4269c84",CENTER_LON:-80.82909683,CENTER_LAT:19.431525,ADM0_VIZ_NAME:"Cayman Islands",Short_Name_ZH:`开曼群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161934,geometry:{type:"Point",coordinates:[-63.064572292,18.0876049020001]},properties:{ADM0_NAME:"Saint Martin",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161934,GUID:"17c12ab2-0c7d-412b-b525-3f740cbc3e6c",CENTER_LON:-63.06457229,CENTER_LAT:18.0876049,ADM0_VIZ_NAME:"Saint Martin",Short_Name_ZH:`圣马丁岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161935,geometry:{type:"Point",coordinates:[-76.5004385,24.166682904]},properties:{ADM0_NAME:"Bahamas",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:28,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161935,GUID:"33b1cbcb-fe87-4a85-95cb-6da429e96a44",CENTER_LON:-76.5004385,CENTER_LAT:24.1666829,ADM0_VIZ_NAME:"Bahamas",Short_Name_ZH:"巴哈马",Short_Name_FR:"Bahamas",Short_Name_ES:"Bahamas",Short_Name_RU:"Багамские Острова",Short_Name_AR:"جزر البهاما"}},{type:"Feature",id:161936,geometry:{type:"Point",coordinates:[-58.9741634929999,4.79237827200006]},properties:{ADM0_NAME:"Guyana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:24,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161936,GUID:"b663554a-3aa6-47a6-ba74-453b3ef0dcd1",CENTER_LON:-58.97416349,CENTER_LAT:4.79237827,ADM0_VIZ_NAME:"Guyana",Short_Name_ZH:"圭亚那",Short_Name_FR:"Guyana",Short_Name_ES:"Guyana",Short_Name_RU:"Гайана",Short_Name_AR:"غيانا"}},{type:"Feature",id:161937,geometry:{type:"Point",coordinates:[-63.061943376,18.046835238]},properties:{ADM0_NAME:"Sint Maarten",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:23,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161937,GUID:"7974e7a0-7846-4685-946a-da7f5315015d",CENTER_LON:-63.06194338,CENTER_LAT:18.04683524,ADM0_VIZ_NAME:"Sint Maarten",Short_Name_ZH:`圣马丁\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161938,geometry:{type:"Point",coordinates:[-72.683580138,18.9390013620001]},properties:{ADM0_NAME:"Haiti",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161938,GUID:"45438a36-15d1-416a-b380-1606669af4c7",CENTER_LON:-72.68358014,CENTER_LAT:18.93900136,ADM0_VIZ_NAME:"Haiti",Short_Name_ZH:"海地",Short_Name_FR:"Haïti",Short_Name_ES:"Haití",Short_Name_RU:"Гаити",Short_Name_AR:"هايتي"}},{type:"Feature",id:161939,geometry:{type:"Point",coordinates:[-60.968690838,13.8981151830001]},properties:{ADM0_NAME:"Saint Lucia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161939,GUID:"4f023367-6b34-4f1f-9570-0a3fb3983ca5",CENTER_LON:-60.96869084,CENTER_LAT:13.89811518,ADM0_VIZ_NAME:"Saint Lucia",Short_Name_ZH:"圣卢西亚",Short_Name_FR:"Sainte-Lucie",Short_Name_ES:"Santa Lucía",Short_Name_RU:"Сент-Люсия",Short_Name_AR:"سانت لوسيا"}},{type:"Feature",id:161940,geometry:{type:"Point",coordinates:[-61.650039087,12.162515732]},properties:{ADM0_NAME:"Grenada",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161940,GUID:"4b754e02-4287-4b40-9237-7e13fb010e05",CENTER_LON:-61.65003909,CENTER_LAT:12.16251573,ADM0_VIZ_NAME:"Grenada",Short_Name_ZH:"格林纳达",Short_Name_FR:"Grenade",Short_Name_ES:"Granada",Short_Name_RU:"Гренада",Short_Name_AR:"غرينادا"}},{type:"Feature",id:161941,geometry:{type:"Point",coordinates:[-68.967490546,12.187797523]},properties:{ADM0_NAME:"Curaçao",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161941,GUID:"9ebcf8c2-5724-465e-93ee-b30f90cc72d2",CENTER_LON:-68.96749055,CENTER_LAT:12.18779752,ADM0_VIZ_NAME:"Curaçao",Short_Name_ZH:`库拉索岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161942,geometry:{type:"Point",coordinates:[-61.355493849,15.4366125190001]},properties:{ADM0_NAME:"Dominica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161942,GUID:"1c6dac95-666f-4994-abdc-7d788e9d27cd",CENTER_LON:-61.35549385,CENTER_LAT:15.43661252,ADM0_VIZ_NAME:"Dominica",Short_Name_ZH:"多米尼克",Short_Name_FR:"Dominique",Short_Name_ES:"Dominica",Short_Name_RU:"Доминика",Short_Name_AR:"دومينيكا"}},{type:"Feature",id:161943,geometry:{type:"Point",coordinates:[-55.9115812429999,4.12671321000005]},properties:{ADM0_NAME:"Suriname",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161943,GUID:"33662fcb-6959-4784-a877-29e3781477c2",CENTER_LON:-55.91158124,CENTER_LAT:4.12671321,ADM0_VIZ_NAME:"Suriname",Short_Name_ZH:"苏里南",Short_Name_FR:"Suriname",Short_Name_ES:"Suriname",Short_Name_RU:"Суринам",Short_Name_AR:"سورينام"}},{type:"Feature",id:161944,geometry:{type:"Point",coordinates:[-62.696173968,17.2658565570001]},properties:{ADM0_NAME:"Saint Kitts and Nevis",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161944,GUID:"f6334680-79c9-450c-bddb-95facb6af2b9",CENTER_LON:-62.69617397,CENTER_LAT:17.26585656,ADM0_VIZ_NAME:"Saint Kitts and Nevis",Short_Name_ZH:"圣基茨和尼维斯",Short_Name_FR:"Saint-Kitts-et-Nevis",Short_Name_ES:"Saint Kitts y Nevis",Short_Name_RU:"Сент-Китс и Невис",Short_Name_AR:"سانت كيتس ونيفس"}},{type:"Feature",id:161945,geometry:{type:"Point",coordinates:[-61.791127591,17.280137]},properties:{ADM0_NAME:"Antigua and Barbuda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161945,GUID:"2debcae0-be57-4212-8b92-8a0be7da51a4",CENTER_LON:-61.79112759,CENTER_LAT:17.280137,ADM0_VIZ_NAME:"Antigua and Barbuda",Short_Name_ZH:"安提瓜和巴布达",Short_Name_FR:"Antigua-et-Barbuda",Short_Name_ES:"Antigua y Barbuda",Short_Name_RU:"Антигуа и Барбуда",Short_Name_AR:"أنتيغوا وبربودا"}},{type:"Feature",id:161946,geometry:{type:"Point",coordinates:[-62.186921449,16.7357596900001]},properties:{ADM0_NAME:"Montserrat",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161946,GUID:"9a351f16-f468-4e6a-925e-03db8fbd4ba7",CENTER_LON:-62.18692145,CENTER_LAT:16.73575969,ADM0_VIZ_NAME:"Montserrat",Short_Name_ZH:`蒙特塞拉特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161947,geometry:null,properties:{ADM0_NAME:"Saint Bathélemy",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161947,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161948,geometry:{type:"Point",coordinates:[-88.682785445,17.218528292]},properties:{ADM0_NAME:"Belize",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161948,GUID:"a4d24382-fdc3-4d00-9100-b548a6242d22",CENTER_LON:-88.68278545,CENTER_LAT:17.21852829,ADM0_VIZ_NAME:"Belize",Short_Name_ZH:"伯利兹",Short_Name_FR:"Belize",Short_Name_ES:"Belice",Short_Name_RU:"Белиз",Short_Name_AR:"بليز"}},{type:"Feature",id:161949,geometry:{type:"Point",coordinates:[-85.033750249,12.8400697610001]},properties:{ADM0_NAME:"Nicaragua",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161949,GUID:"85203b89-a328-4d85-b6e4-c9596a5c5a6f",CENTER_LON:-85.03375025,CENTER_LAT:12.84006976,ADM0_VIZ_NAME:"Nicaragua",Short_Name_ZH:"尼加拉瓜",Short_Name_FR:"Nicaragua",Short_Name_ES:"Nicaragua",Short_Name_RU:"Никарагуа",Short_Name_AR:"نيكاراغوا"}},{type:"Feature",id:161950,geometry:{type:"Point",coordinates:[-71.882079172,21.8086929190001]},properties:{ADM0_NAME:"Turks and Caicos Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161950,GUID:"370668bf-3302-4cb1-928d-261a3fdd09ee",CENTER_LON:-71.88207917,CENTER_LAT:21.80869292,ADM0_VIZ_NAME:"Turks and Caicos Islands",Short_Name_ZH:`特克斯和凯科斯群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161951,geometry:{type:"Point",coordinates:[-63.057956094,18.2242329370001]},properties:{ADM0_NAME:"Anguilla",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161951,GUID:"a4e72e84-00bb-4ad5-890e-a9e6734a28ee",CENTER_LON:-63.05795609,CENTER_LAT:18.22423294,ADM0_VIZ_NAME:"Anguilla",Short_Name_ZH:`安圭拉\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161952,geometry:{type:"Point",coordinates:[-64.481892015,18.5099570350001]},properties:{ADM0_NAME:"British Virgin Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161952,GUID:"81eb8a93-1c6f-46a7-8927-543258b1b974",CENTER_LON:-64.48189201,CENTER_LAT:18.50995704,ADM0_VIZ_NAME:"British Virgin Islands",Short_Name_ZH:`英属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161953,geometry:{type:"Point",coordinates:[-61.2075300889999,13.2020546800001]},properties:{ADM0_NAME:"Saint Vincent and the Grenadines",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161953,GUID:"e0de017e-24ec-454f-aee3-57443de5b7d2",CENTER_LON:-61.20753009,CENTER_LAT:13.20205468,ADM0_VIZ_NAME:"Saint Vincent and the Grenadines",Short_Name_ZH:"圣文森特和格林纳丁斯",Short_Name_FR:"Saint-Vincent-et-les Grenadines",Short_Name_ES:"San Vicente y las Granadinas",Short_Name_RU:"Сент-Винсент и Гренадины",Short_Name_AR:"سانت فنسنت وجزر غرينادين"}},{type:"Feature",id:161954,geometry:{type:"Point",coordinates:[-67.6837091749999,12.801902598]},properties:{ADM0_NAME:"Bonaire, Sint Eustatius and Saba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161954,GUID:"03d049e6-6b6d-40e8-8be7-c2d0bf288b51",CENTER_LON:-67.68370917,CENTER_LAT:12.8019026,ADM0_VIZ_NAME:"Bonaire, Sint Eustatius and Saba",Short_Name_ZH:`博内尔、圣尤斯特歇斯和萨巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161955,geometry:{type:"Point",coordinates:[-59.3723460369999,-51.739824397]},properties:{ADM0_NAME:"Falkland Islands (Malvinas)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161955,GUID:"769ffe65-df8d-4c93-aae9-abb20ae84439",CENTER_LON:-59.37234604,CENTER_LAT:-51.7398244,ADM0_VIZ_NAME:"Falkland Islands (Malvinas)",Short_Name_ZH:`福克兰群岛（马尔维纳斯群岛）\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161956,geometry:{type:"Point",coordinates:[25.0887119870001,-28.993213517]},properties:{ADM0_NAME:"South Africa",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1655,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161956,GUID:"36a8fa2c-5b69-47e3-bac8-dc657e44de43",CENTER_LON:25.08871199,CENTER_LAT:-28.99321352,ADM0_VIZ_NAME:"South Africa",Short_Name_ZH:"南非",Short_Name_FR:"Afrique du Sud",Short_Name_ES:"Sudáfrica",Short_Name_RU:"Южная Африка",Short_Name_AR:"جنوب أفريقيا"}},{type:"Feature",id:161957,geometry:{type:"Point",coordinates:[2.63236594700004,28.1633574140001]},properties:{ADM0_NAME:"Algeria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1251,cum_clin:null,cum_susp:null,cum_death:130,EPIWeek:15,EPIYear:2020,Comment:null,ID:161957,GUID:"74e60ac9-fe75-4273-9483-536bb1dd9f64",CENTER_LON:2.63236595,CENTER_LAT:28.16335741,ADM0_VIZ_NAME:"Algeria",Short_Name_ZH:"阿尔及利亚",Short_Name_FR:"Algérie",Short_Name_ES:"Argelia",Short_Name_RU:"Алжир",Short_Name_AR:"الجزائر"}},{type:"Feature",id:161958,geometry:{type:"Point",coordinates:[12.7432535040001,5.68580436000002]},properties:{ADM0_NAME:"Cameroon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:9,EPIWeek:15,EPIYear:2020,Comment:null,ID:161958,GUID:"5cdb6bf4-89ce-457e-9c53-fb9142d71ba0",CENTER_LON:12.7432535,CENTER_LAT:5.68580436,ADM0_VIZ_NAME:"Cameroon",Short_Name_ZH:"喀麦隆",Short_Name_FR:"Cameroun",Short_Name_ES:"Camerún",Short_Name_RU:"Камерун",Short_Name_AR:"الكاميرون"}},{type:"Feature",id:161959,geometry:{type:"Point",coordinates:[-1.73983521099996,12.277937148]},properties:{ADM0_NAME:"Burkina Faso",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161959,GUID:"9612ac85-d7cd-4b88-b2b9-c7b6db8ab6de",CENTER_LON:-1.73983521,CENTER_LAT:12.27793715,ADM0_VIZ_NAME:"Burkina Faso",Short_Name_ZH:"布基纳法索",Short_Name_FR:"Burkina Faso",Short_Name_ES:"Burkina Faso",Short_Name_RU:"Буркина-Фасо",Short_Name_AR:"بوركينا فاسو"}},{type:"Feature",id:161960,geometry:{type:"Point",coordinates:[55.538212738,-21.1216294619999]},properties:{ADM0_NAME:"Réunion",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:344,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161960,GUID:"be01a35a-ea31-4453-bb23-5a01330a658f",CENTER_LON:55.53821274,CENTER_LAT:-21.12162946,ADM0_VIZ_NAME:"Réunion",Short_Name_ZH:`留尼汪岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161961,geometry:null,properties:{ADM0_NAME:"Côte d'Ivoire",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:261,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161961,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161962,geometry:{type:"Point",coordinates:[8.10527725500003,9.59360399500002]},properties:{ADM0_NAME:"Nigeria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:232,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161962,GUID:"3eba1f03-98d4-4335-804e-6c3f9e7d5da1",CENTER_LON:8.10527726,CENTER_LAT:9.59360399,ADM0_VIZ_NAME:"Nigeria",Short_Name_ZH:"尼日利亚",Short_Name_FR:"Nigéria",Short_Name_ES:"Nigeria",Short_Name_RU:"Нигерия",Short_Name_AR:"نيجيريا"}},{type:"Feature",id:161963,geometry:{type:"Point",coordinates:[57.868475995,-20.1700677979999]},properties:{ADM0_NAME:"Mauritius",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:227,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161963,GUID:"2094fffc-8af7-4e5e-8bcd-176608114177",CENTER_LON:57.868476,CENTER_LAT:-20.1700678,ADM0_VIZ_NAME:"Mauritius",Short_Name_ZH:"毛里求斯",Short_Name_FR:"Maurice",Short_Name_ES:"Mauricio",Short_Name_RU:"Маврикий",Short_Name_AR:"موريشيوس"}},{type:"Feature",id:161964,geometry:{type:"Point",coordinates:[-14.4681770789999,14.3669795380001]},properties:{ADM0_NAME:"Senegal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:226,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161964,GUID:"08acdf4e-cc04-46d9-b4c1-75f6ef39b685",CENTER_LON:-14.46817708,CENTER_LAT:14.36697954,ADM0_VIZ_NAME:"Senegal",Short_Name_ZH:"塞内加尔",Short_Name_FR:"Sénégal",Short_Name_ES:"Senegal",Short_Name_RU:"Сенегал",Short_Name_AR:"السنغال"}},{type:"Feature",id:161965,geometry:{type:"Point",coordinates:[-1.20704618899993,7.95964382200003]},properties:{ADM0_NAME:"Ghana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:214,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161965,GUID:"f582ca2f-9b52-4cea-ac99-2ae687930d8e",CENTER_LON:-1.20704619,CENTER_LAT:7.95964382,ADM0_VIZ_NAME:"Ghana",Short_Name_ZH:"加纳",Short_Name_FR:"Ghana",Short_Name_ES:"Ghana",Short_Name_RU:"Гана",Short_Name_AR:"غانا"}},{type:"Feature",id:161966,geometry:{type:"Point",coordinates:[9.39765753500006,17.4263228230001]},properties:{ADM0_NAME:"Niger",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:184,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161966,GUID:"bb6da46b-2209-45c4-b51a-fb815b957eee",CENTER_LON:9.39765754,CENTER_LAT:17.42632282,ADM0_VIZ_NAME:"Niger",Short_Name_ZH:"尼日尔",Short_Name_FR:"Niger",Short_Name_ES:"Níger",Short_Name_RU:"Нигер",Short_Name_AR:"النيجر"}},{type:"Feature",id:161967,geometry:{type:"Point",coordinates:[23.6544653930001,-2.87619975299998]},properties:{ADM0_NAME:"Democratic Republic of the Congo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:161,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161967,GUID:"39cf5edd-97d7-4d13-a724-a5d098782320",CENTER_LON:23.65431545,CENTER_LAT:-2.87622576,ADM0_VIZ_NAME:"Democratic Republic of the Congo",Short_Name_ZH:"刚果民主共和国",Short_Name_FR:"République démocratique du Congo",Short_Name_ES:"República Democrática del Congo",Short_Name_RU:"Демократическая Республика Конго",Short_Name_AR:"جمهورية الكونغو الديمقراطية "}},{type:"Feature",id:161968,geometry:{type:"Point",coordinates:[45.139261742,-12.8183500609999]},properties:{ADM0_NAME:"Mayotte",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:147,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161968,GUID:"54c780ec-3aa8-442e-987f-6589116a3f57",CENTER_LON:45.13926174,CENTER_LAT:-12.81835006,ADM0_VIZ_NAME:"Mayotte",Short_Name_ZH:`马约特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161969,geometry:{type:"Point",coordinates:[37.857864416,.529780176000031]},properties:{ADM0_NAME:"Kenya",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:142,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161969,GUID:"2198ecc4-8b3b-4003-9ea9-874348df3de0",CENTER_LON:37.85786442,CENTER_LAT:.52978018,ADM0_VIZ_NAME:"Kenya",Short_Name_ZH:"肯尼亚",Short_Name_FR:"Kenya",Short_Name_ES:"Kenya",Short_Name_RU:"Кения",Short_Name_AR:"كينيا"}},{type:"Feature",id:161970,geometry:{type:"Point",coordinates:[-10.9418254249999,10.438540941]},properties:{ADM0_NAME:"Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:111,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161970,GUID:"3740a605-5160-4f27-bd0d-d8f08466011a",CENTER_LON:-10.94182542,CENTER_LAT:10.43854094,ADM0_VIZ_NAME:"Guinea",Short_Name_ZH:"几内亚",Short_Name_FR:"Guinée",Short_Name_ES:"Guinea",Short_Name_RU:"Гвинея",Short_Name_AR:"غينيا"}},{type:"Feature",id:161971,geometry:{type:"Point",coordinates:[29.917205531,-1.99796797799996]},properties:{ADM0_NAME:"Rwanda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:102,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161971,GUID:"895ea23f-dbcd-467f-bf1e-54aa4d3f2c45",CENTER_LON:29.91720553,CENTER_LAT:-1.99796798,ADM0_VIZ_NAME:"Rwanda",Short_Name_ZH:"卢旺达",Short_Name_FR:"Rwanda",Short_Name_ES:"Rwanda",Short_Name_RU:"Руанда",Short_Name_AR:"رواندا"}},{type:"Feature",id:161972,geometry:{type:"Point",coordinates:[46.7059924820001,-19.373521329]},properties:{ADM0_NAME:"Madagascar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:77,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161972,GUID:"820b442d-b7ed-4c39-ab5a-51b0babbeecf",CENTER_LON:46.70599248,CENTER_LAT:-19.37352133,ADM0_VIZ_NAME:"Madagascar",Short_Name_ZH:"马达加斯加",Short_Name_FR:"Madagascar",Short_Name_ES:"Madagascar",Short_Name_RU:"Мадагаскар",Short_Name_AR:"مدغشقر"}},{type:"Feature",id:161973,geometry:{type:"Point",coordinates:[32.386266425,1.28002949000006]},properties:{ADM0_NAME:"Uganda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:48,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161973,GUID:"1be45e1a-dfcd-4b79-870d-92166cf43e82",CENTER_LON:32.38622999,CENTER_LAT:1.28008463,ADM0_VIZ_NAME:"Uganda",Short_Name_ZH:"乌干达",Short_Name_FR:"Ouganda",Short_Name_ES:"Uganda",Short_Name_RU:"Уганда",Short_Name_AR:"أوغندا"}},{type:"Feature",id:161974,geometry:{type:"Point",coordinates:[15.224282988,-.839998298999944]},properties:{ADM0_NAME:"Congo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:45,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161974,GUID:"a32af07d-abed-484a-b1e9-4b7b0785c3dc",CENTER_LON:15.22427459,CENTER_LAT:-.84006603,ADM0_VIZ_NAME:"Congo",Short_Name_ZH:"刚果",Short_Name_FR:"Congo",Short_Name_ES:"Congo (el)",Short_Name_RU:"Конго",Short_Name_AR:"الكونغو"}},{type:"Feature",id:161975,geometry:{type:"Point",coordinates:[.97584596400003,8.53491037400005]},properties:{ADM0_NAME:"Togo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:44,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161975,GUID:"19b27a13-b30b-4a0a-b085-084cddf5db4b",CENTER_LON:.97584596,CENTER_LAT:8.53491037,ADM0_VIZ_NAME:"Togo",Short_Name_ZH:"多哥",Short_Name_FR:"Togo",Short_Name_ES:"Togo (el)",Short_Name_RU:"Того",Short_Name_AR:"توغو"}},{type:"Feature",id:161976,geometry:{type:"Point",coordinates:[39.6160189350001,8.62613927100006]},properties:{ADM0_NAME:"Ethiopia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:43,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161976,GUID:"e9f231cb-35e1-467b-8b7c-067df2b9b8f5",CENTER_LON:39.61601894,CENTER_LAT:8.62613927,ADM0_VIZ_NAME:"Ethiopia",Short_Name_ZH:"埃塞俄比亚",Short_Name_FR:"Éthiopie",Short_Name_ES:"Etiopía",Short_Name_RU:"Эфиопия",Short_Name_AR:"إثيوبيا"}},{type:"Feature",id:161977,geometry:{type:"Point",coordinates:[-3.52433671799997,17.350369329]},properties:{ADM0_NAME:"Mali",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161977,GUID:"77642364-9b1b-46c8-aaf4-d9ffd8f62712",CENTER_LON:-3.52433672,CENTER_LAT:17.35036933,ADM0_VIZ_NAME:"Mali",Short_Name_ZH:"马里",Short_Name_FR:"Mali",Short_Name_ES:"Malí",Short_Name_RU:"Мали",Short_Name_AR:"مالي"}},{type:"Feature",id:161978,geometry:{type:"Point",coordinates:[27.7978489400001,-13.453075312]},properties:{ADM0_NAME:"Zambia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161978,GUID:"125935a9-188d-4b78-86a8-ffbf546077e0",CENTER_LON:27.79788004,CENTER_LAT:-13.45307543,ADM0_VIZ_NAME:"Zambia",Short_Name_ZH:"赞比亚",Short_Name_FR:"Zambie",Short_Name_ES:"Zambia",Short_Name_RU:"Замбия",Short_Name_AR:"زامبيا"}},{type:"Feature",id:161979,geometry:{type:"Point",coordinates:[38.852925552,15.3588410250001]},properties:{ADM0_NAME:"Eritrea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161979,GUID:"7b9e18fe-ff3c-44de-9b50-b91a8311dddf",CENTER_LON:38.85292555,CENTER_LAT:15.35884102,ADM0_VIZ_NAME:"Eritrea",Short_Name_ZH:"厄立特里亚",Short_Name_FR:"Érythrée",Short_Name_ES:"Eritrea",Short_Name_RU:"Эритрея",Short_Name_AR:"إريتريا"}},{type:"Feature",id:161980,geometry:{type:"Point",coordinates:[2.34326270500003,9.64764996800005]},properties:{ADM0_NAME:"Benin",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161980,GUID:"27d0edf7-b070-4943-bb9b-dcee5a4d216e",CENTER_LON:2.34326271,CENTER_LAT:9.64764997,ADM0_VIZ_NAME:"Benin",Short_Name_ZH:"贝宁",Short_Name_FR:"Bénin",Short_Name_ES:"Benin",Short_Name_RU:"Бенин",Short_Name_AR:"بنن"}},{type:"Feature",id:161981,geometry:{type:"Point",coordinates:[34.8234035560001,-6.27020075299993]},properties:{ADM0_NAME:"United Republic of Tanzania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161981,GUID:"a09fda23-b91a-49e4-ba7d-02cb8540b936",CENTER_LON:34.82340201,CENTER_LAT:-6.27019905,ADM0_VIZ_NAME:"United Republic of Tanzania",Short_Name_ZH:"坦桑尼亚联合共和国",Short_Name_FR:"République-Unie de Tanzanie",Short_Name_ES:"República Unida de Tanzanía",Short_Name_RU:"Объединенная Республика Танзания",Short_Name_AR:"جمهورية تنزانيا المتحدة"}},{type:"Feature",id:161982,geometry:{type:"Point",coordinates:[11.797157624,-.590677967999966]},properties:{ADM0_NAME:"Gabon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161982,GUID:"cbf1734a-37f7-4691-bb44-0123114cb49e",CENTER_LON:11.79715762,CENTER_LAT:-.59067797,ADM0_VIZ_NAME:"Gabon",Short_Name_ZH:"加蓬",Short_Name_FR:"Gabon",Short_Name_ES:"Gabón",Short_Name_RU:"Габон",Short_Name_AR:"غابون"}},{type:"Feature",id:161983,geometry:{type:"Point",coordinates:[-14.987484013,12.016198296]},properties:{ADM0_NAME:"Guinea-Bissau",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161983,GUID:"0334af86-91ef-485e-805f-a204ef2764ab",CENTER_LON:-14.98748401,CENTER_LAT:12.0161983,ADM0_VIZ_NAME:"Guinea-Bissau",Short_Name_ZH:"几内亚比绍",Short_Name_FR:"Guinée-Bissau",Short_Name_ES:"Guinea-Bissau",Short_Name_RU:"Гвинея-Бисау",Short_Name_AR:"غينيا - بيساو"}},{type:"Feature",id:161984,geometry:{type:"Point",coordinates:[10.3384962750001,1.71016859900004]},properties:{ADM0_NAME:"Equatorial Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161984,GUID:"af7e3138-b823-4063-8a50-4408c8527cc9",CENTER_LON:10.33849628,CENTER_LAT:1.7101686,ADM0_VIZ_NAME:"Equatorial Guinea",Short_Name_ZH:"赤道几内亚",Short_Name_FR:"Guinée équatoriale",Short_Name_ES:"Guinea Ecuatorial",Short_Name_RU:"Экваториальная Гвинея",Short_Name_AR:"غينيا الاستوائية"}},{type:"Feature",id:161985,geometry:{type:"Point",coordinates:[17.218450277,-22.133293291]},properties:{ADM0_NAME:"Namibia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161985,GUID:"60026c01-d644-439e-beda-ec2c280304a7",CENTER_LON:17.21845028,CENTER_LAT:-22.13329329,ADM0_VIZ_NAME:"Namibia",Short_Name_ZH:"纳米比亚",Short_Name_FR:"Namibie",Short_Name_ES:"Namibia",Short_Name_RU:"Намибия",Short_Name_AR:"ناميبيا"}},{type:"Feature",id:161986,geometry:{type:"Point",coordinates:[17.543777778,-12.2957307139999]},properties:{ADM0_NAME:"Angola",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161986,GUID:"2a5aaf40-e526-4778-a1e2-204d26254d21",CENTER_LON:17.54379621,CENTER_LAT:-12.29575318,ADM0_VIZ_NAME:"Angola",Short_Name_ZH:"安哥拉",Short_Name_FR:"Angola",Short_Name_ES:"Angola",Short_Name_RU:"Ангола",Short_Name_AR:"أنغولا"}},{type:"Feature",id:161987,geometry:{type:"Point",coordinates:[-9.30784656399993,6.44811846300007]},properties:{ADM0_NAME:"Liberia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161987,GUID:"78dbdf5d-226b-4be4-b853-5a58d9da21a6",CENTER_LON:-9.30784656,CENTER_LAT:6.44811846,ADM0_VIZ_NAME:"Liberia",Short_Name_ZH:"利比里亚",Short_Name_FR:"Libéria",Short_Name_ES:"Liberia",Short_Name_RU:"Либерия",Short_Name_AR:"ليبريا"}},{type:"Feature",id:161988,geometry:{type:"Point",coordinates:[35.552260533,-17.260193924]},properties:{ADM0_NAME:"Mozambique",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161988,GUID:"b09a5bf6-36d9-4abd-9d4a-793639ac9457",CENTER_LON:35.55226053,CENTER_LAT:-17.26019392,ADM0_VIZ_NAME:"Mozambique",Short_Name_ZH:"莫桑比克",Short_Name_FR:"Mozambique",Short_Name_ES:"Mozambique",Short_Name_RU:"Мозамбик",Short_Name_AR:"موزامبيق"}},{type:"Feature",id:161989,geometry:{type:"Point",coordinates:[52.2300590070001,-6.39906405099993]},properties:{ADM0_NAME:"Seychelles",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161989,GUID:"17e46d71-5bc2-479c-8d3a-0d966592ac32",CENTER_LON:52.23005901,CENTER_LAT:-6.39906405,ADM0_VIZ_NAME:"Seychelles",Short_Name_ZH:"塞舌尔",Short_Name_FR:"Seychelles",Short_Name_ES:"Seychelles",Short_Name_RU:"Сейшельские Острова",Short_Name_AR:"سيشيل"}},{type:"Feature",id:161990,geometry:{type:"Point",coordinates:[20.482782022,6.57145244100008]},properties:{ADM0_NAME:"Central African Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161990,GUID:"5a37f024-c6e9-444e-832a-57db29915f70",CENTER_LON:20.48278081,CENTER_LAT:6.57145342,ADM0_VIZ_NAME:"Central African Republic",Short_Name_ZH:"中非共和国",Short_Name_FR:"République centrafricaine",Short_Name_ES:"República Centroafricana",Short_Name_RU:"Центральноафриканская Республика",Short_Name_AR:"جمهورية أفريقيا الوسطى"}},{type:"Feature",id:161991,geometry:{type:"Point",coordinates:[18.6646033860001,15.361145703]},properties:{ADM0_NAME:"Chad",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161991,GUID:"aef0e5a2-d0cb-4074-82c0-39f932bd297a",CENTER_LON:18.66460339,CENTER_LAT:15.3611457,ADM0_VIZ_NAME:"Chad",Short_Name_ZH:"乍得",Short_Name_FR:"Tchad",Short_Name_ES:"Chad (el)",Short_Name_RU:"Чад",Short_Name_AR:"تشاد"}},{type:"Feature",id:161992,geometry:{type:"Point",coordinates:[31.497188798,-26.562116744]},properties:{ADM0_NAME:"Eswatini",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161992,GUID:"393f6615-8c13-42ca-9bdd-1594735cbdcf",CENTER_LON:31.4971888,CENTER_LAT:-26.56211674,ADM0_VIZ_NAME:"Eswatini",Short_Name_ZH:"斯威士兰",Short_Name_FR:"Eswatini",Short_Name_ES:"Eswatini",Short_Name_RU:"Эсватини",Short_Name_AR:"إسواتيني"}},{type:"Feature",id:161993,geometry:{type:"Point",coordinates:[29.871759825,-19.0000057739999]},properties:{ADM0_NAME:"Zimbabwe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161993,GUID:"a125fc97-acbd-43f1-add2-1e5d11d2570a",CENTER_LON:29.87175983,CENTER_LAT:-19.00000577,ADM0_VIZ_NAME:"Zimbabwe",Short_Name_ZH:"津巴布韦",Short_Name_FR:"Zimbabwe",Short_Name_ES:"Zimbabwe",Short_Name_RU:"Зимбабве",Short_Name_AR:"زمبابوي"}},{type:"Feature",id:161994,geometry:{type:"Point",coordinates:[-10.3322604099999,20.259903606]},properties:{ADM0_NAME:"Mauritania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161994,GUID:"c2aa3415-b740-47f3-8abc-c5ccbb14d5b0",CENTER_LON:-10.33226041,CENTER_LAT:20.25990361,ADM0_VIZ_NAME:"Mauritania",Short_Name_ZH:"毛里塔尼亚",Short_Name_FR:"Mauritanie",Short_Name_ES:"Mauritania",Short_Name_RU:"Мавритания",Short_Name_AR:"موريتانيا"}},{type:"Feature",id:161995,geometry:{type:"Point",coordinates:[-11.792102896,8.56034092400006]},properties:{ADM0_NAME:"Sierra Leone",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161995,GUID:"e1cd65ea-4261-4a92-a8af-1709465c2cd3",CENTER_LON:-11.7921029,CENTER_LAT:8.56034092,ADM0_VIZ_NAME:"Sierra Leone",Short_Name_ZH:"塞拉利昂",Short_Name_FR:"Sierra Leone",Short_Name_ES:"Sierra Leona",Short_Name_RU:"Сьерра-Леоне",Short_Name_AR:"سيراليون"}},{type:"Feature",id:161996,geometry:{type:"Point",coordinates:[-23.544999999,14.9280000000001]},properties:{ADM0_NAME:"Cabo Verde",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161996,GUID:"b6d5830a-0a76-4c5e-9b69-9bbc651c6fee",CENTER_LON:-23.545,CENTER_LAT:14.928,ADM0_VIZ_NAME:"Cabo Verde",Short_Name_ZH:"佛得角",Short_Name_FR:"Cabo Verde",Short_Name_ES:"Cabo Verde",Short_Name_RU:"Кабо-Верде",Short_Name_AR:"كابو فيردي"}},{type:"Feature",id:161997,geometry:{type:"Point",coordinates:[23.815077504,-22.182042021]},properties:{ADM0_NAME:"Botswana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161997,GUID:"689dde45-4727-4b7b-9e35-5ddcc5ef2791",CENTER_LON:23.8150775,CENTER_LAT:-22.18204202,ADM0_VIZ_NAME:"Botswana",Short_Name_ZH:"博茨瓦纳",Short_Name_FR:"Botswana",Short_Name_ES:"Botswana",Short_Name_RU:"Ботсвана",Short_Name_AR:"بوتسوانا"}},{type:"Feature",id:161998,geometry:{type:"Point",coordinates:[-15.385619595,13.452944399]},properties:{ADM0_NAME:"Gambia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161998,GUID:"71d4622e-3ccd-4650-9e66-ee0421f0f2b3",CENTER_LON:-15.3856196,CENTER_LAT:13.4529444,ADM0_VIZ_NAME:"Gambia",Short_Name_ZH:"冈比亚",Short_Name_FR:"Gambie",Short_Name_ES:"Gambia",Short_Name_RU:"Гамбия",Short_Name_AR:"غامبيا"}},{type:"Feature",id:161999,geometry:{type:"Point",coordinates:[34.3069850380001,-13.21510424]},properties:{ADM0_NAME:"Malawi",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161999,GUID:"895071fb-8240-4b2d-bfac-a51f8243d620",CENTER_LON:34.30698504,CENTER_LAT:-13.21510424,ADM0_VIZ_NAME:"Malawi",Short_Name_ZH:"马拉维",Short_Name_FR:"Malawi",Short_Name_ES:"Malawi",Short_Name_RU:"Малави",Short_Name_AR:"ملاوي"}},{type:"Feature",id:162e3,geometry:{type:"Point",coordinates:[6.71649314900003,.436446692000061]},properties:{ADM0_NAME:"Sao Tome and Principe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162e3,GUID:"8d36d705-3e3e-412e-a13b-1ee158a07c36",CENTER_LON:6.73729084,CENTER_LAT:.45825363,ADM0_VIZ_NAME:"Sao Tome and Principe",Short_Name_ZH:"圣多美和普林西比",Short_Name_FR:"Sao Tomé-et-Principe",Short_Name_ES:"Santo Tomé y Príncipe",Short_Name_RU:"Сан-Томе и Принсипи",Short_Name_AR:"سان تومي وبرينسيبي"}},{type:"Feature",id:162001,geometry:{type:"Point",coordinates:[29.8868213920001,-3.35629711799993]},properties:{ADM0_NAME:"Burundi",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162001,GUID:"bf20d4f1-d25b-4be3-b8f5-7a2a94a20ecf",CENTER_LON:29.88682139,CENTER_LAT:-3.35629712,ADM0_VIZ_NAME:"Burundi",Short_Name_ZH:"布隆迪",Short_Name_FR:"Burundi",Short_Name_ES:"Burundi",Short_Name_RU:"Бурунди",Short_Name_AR:"بوروندي"}},{type:"Feature",id:162002,geometry:{type:"Point",coordinates:[30.340676547,7.27961187200003]},properties:{ADM0_NAME:"South Sudan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162002,GUID:"322068a7-b312-4393-b5d1-fe2dc7a5c78a",CENTER_LON:30.34067655,CENTER_LAT:7.27961187,ADM0_VIZ_NAME:"South Sudan",Short_Name_ZH:"南苏丹",Short_Name_FR:"Soudan du Sud",Short_Name_ES:" Sudán del Sur ",Short_Name_RU:"Южный Судан",Short_Name_AR:"جنوب السودان"}},{type:"Feature",id:162006,geometry:null,properties:{ADM0_NAME:"International conveyance (Diamond Princess)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:712,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:162006,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:"International conveyance (Diamond Princess)",Short_Name_ZH:"国际交通工具（“钻石公主号”邮轮）)",Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}}]},EU=vU,xU={id:"map"},PU=wv({__name:"custom-map",setup(e){let t,r,n,s;return Rv(()=>{t=new mU({id:"map",map:new pO({style:{position:"relative",width:"100%",height:"452px",version:8,sources:{},layers:[]},center:[110.19382669582967,50.258134],pitch:0,zoom:1})});const u=gU,i=EU;r=new VM({}),r.source(u,{transforms:[{type:"hexagon",size:8e5,field:"capacity",method:"sum"}]}).shape("hexagon").color("#ddd").style({coverage:.7,opacity:.8}),t.addLayer(r),n=new My({autoFit:!0}),n.source(i).shape("circle").size("cum_conf",[0,17]).scale("cum_conf",{type:"quantile"}).color("cum_conf",["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]).active({color:"#0c2c84"}).style({opacity:.8}),s=new My({autoFit:!0}),s.source(i).shape("Short_Name_ZH","text").filter("cum_conf",y=>y>2e3).size(12).active(!0).color("#fff").style({opacity:1,strokeOpacity:1,strokeWidth:0}),t.addLayer(n),t.addLayer(s)}),Cv(()=>{var u,i,y,m;(u=r.destroy)==null||u.call(r),(i=s==null?void 0:s.destroy)==null||i.call(s),(y=n==null?void 0:n.destroy)==null||y.call(n),(m=t.destroy)==null||m.call(t)}),(u,i)=>(Mv(),Iv("div",xU))}}),BU=Nv(PU,[["__scopeId","data-v-685c3f1f"]]);export{BU as default};
