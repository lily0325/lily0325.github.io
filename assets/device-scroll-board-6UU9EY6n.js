import"./device-scroll-board.vue_vue_type_style_index_0_scoped_3c214bce_lang-CKvf8xwI.js";/* empty css             */import{_ as E}from"./index-BwT0Twmy.js";import{b as W,d as S,u as O,i as Q,a as X}from"./index-CB3lryTy.js";import{d as m,a2 as n,a3 as l,a7 as i,c as p,S as D,ao as Y,u as s,au as Z,av as z,ai as _,ah as k,af as I,ag as F,ab as x,ac as B,ad as ee,f as $,r as te,k as L,aa as se,F as M,ae as T,a5 as ae,a6 as re}from"./vue-CUuKurUo.js";import{m as ne}from"./machineData-C3g-LpeF.js";/*! Element Plus Icons Vue v2.3.1 */var oe=m({name:"Check",__name:"check",setup(a){return(t,o)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),le=oe,ce=m({name:"CircleCheck",__name:"circle-check",setup(a){return(t,o)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),i("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),ie=ce,ue=m({name:"CircleClose",__name:"circle-close",setup(a){return(t,o)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),i("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),pe=ue,de=m({name:"Close",__name:"close",setup(a){return(t,o)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),fe=de,_e=m({name:"WarningFilled",__name:"warning-filled",setup(a){return(t,o)=>(n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),ve=_e;const V=(a,t)=>(a.install=o=>{for(const r of[a,...Object.values({})])o.component(r.name,r)},a);var R=(a,t)=>{const o=a.__vccOpts||a;for(const[r,u]of t)o[r]=u;return o};const he=W({size:{type:S([Number,String])},color:{type:String}}),me=m({name:"ElIcon",inheritAttrs:!1}),ge=m({...me,props:he,setup(a){const t=a,o=O("icon"),r=p(()=>{const{size:u,color:f}=t;return!u&&!f?{}:{fontSize:Q(u)?void 0:X(u),"--color":f}});return(u,f)=>(n(),l("i",Y({class:s(o).b(),style:s(r)},u.$attrs),[D(u.$slots,"default")],16))}});var ye=R(ge,[["__file","icon.vue"]]);const ke=V(ye),we=W({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:S(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:S([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:S(Function),default:a=>`${a}%`}}),be=["aria-valuenow"],$e={viewBox:"0 0 100 100"},Ce=["d","stroke","stroke-linecap","stroke-width"],Se=["d","stroke","opacity","stroke-linecap","stroke-width"],xe={key:0},Be=m({name:"ElProgress"}),De=m({...Be,props:we,setup(a){const t=a,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=O("progress"),u=p(()=>{const e={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},d=P(t.percentage);return d.includes("gradient")?e.background=d:e.backgroundColor=d,e}),f=p(()=>(t.strokeWidth/t.width*100).toFixed(1)),v=p(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(f.value)/2}`,10):0),g=p(()=>{const e=v.value,d=t.type==="dashboard";return`
          M 50 50
          m 0 ${d?"":"-"}${e}
          a ${e} ${e} 0 1 1 0 ${d?"-":""}${e*2}
          a ${e} ${e} 0 1 1 0 ${d?"":"-"}${e*2}
          `}),y=p(()=>2*Math.PI*v.value),c=p(()=>t.type==="dashboard"?.75:1),C=p(()=>`${-1*y.value*(1-c.value)/2}px`),j=p(()=>({strokeDasharray:`${y.value*c.value}px, ${y.value}px`,strokeDashoffset:C.value})),q=p(()=>({strokeDasharray:`${y.value*c.value*(t.percentage/100)}px, ${y.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),G=p(()=>{let e;return t.color?e=P(t.percentage):e=o[t.status]||o.default,e}),H=p(()=>t.status==="warning"?ve:t.type==="line"?t.status==="success"?ie:pe:t.status==="success"?le:fe),J=p(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),N=p(()=>t.format(t.percentage));function K(e){const d=100/e.length;return e.map((h,b)=>z(h)?{color:h,percentage:(b+1)*d}:h).sort((h,b)=>h.percentage-b.percentage)}const P=e=>{var d;const{color:w}=t;if(Z(w))return w(e);if(z(w))return w;{const h=K(w);for(const b of h)if(b.percentage>e)return b.color;return(d=h[h.length-1])==null?void 0:d.color}};return(e,d)=>(n(),l("div",{class:_([s(r).b(),s(r).m(e.type),s(r).is(e.status),{[s(r).m("without-text")]:!e.showText,[s(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(n(),l("div",{key:0,class:_(s(r).b("bar"))},[i("div",{class:_(s(r).be("bar","outer")),style:k({height:`${e.strokeWidth}px`})},[i("div",{class:_([s(r).be("bar","inner"),{[s(r).bem("bar","inner","indeterminate")]:e.indeterminate},{[s(r).bem("bar","inner","striped")]:e.striped},{[s(r).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:k(s(u))},[(e.showText||e.$slots.default)&&e.textInside?(n(),l("div",{key:0,class:_(s(r).be("bar","innerText"))},[D(e.$slots,"default",{percentage:e.percentage},()=>[i("span",null,I(s(N)),1)])],2)):F("v-if",!0)],6)],6)],2)):(n(),l("div",{key:1,class:_(s(r).b("circle")),style:k({height:`${e.width}px`,width:`${e.width}px`})},[(n(),l("svg",$e,[i("path",{class:_(s(r).be("circle","track")),d:s(g),stroke:`var(${s(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":s(f),fill:"none",style:k(s(j))},null,14,Ce),i("path",{class:_(s(r).be("circle","path")),d:s(g),stroke:s(G),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":s(f),style:k(s(q))},null,14,Se)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(n(),l("div",{key:2,class:_(s(r).e("text")),style:k({fontSize:`${s(J)}px`})},[D(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(n(),x(s(ke),{key:1},{default:B(()=>[(n(),x(ee(s(H))))]),_:1})):(n(),l("span",xe,I(s(N)),1))])],6)):F("v-if",!0)],10,be))}});var Ie=R(De,[["__file","progress.vue"]]);const Le=V(Ie),Ne={__name:"bi-device",props:{name:{type:String},percent:{type:Number},state:{type:String,default:"离线"}},setup(a){const t={加工:"working",介入:"intervene",离线:"offline",停止:"stop",空跑:"idle"},o=$({working:{class:["working"],style:{}},intervene:{class:["intervene"],style:{}},offline:{class:["offline"],style:{}},stop:{class:["stop"],style:{}},idle:{class:["idle"],style:{}}});return te({value:90}),(r,u)=>{const f=Le;return n(),l("div",{class:_(["bi-device-item",o.value[t[a.state]].class]),style:k(o.value[t[a.state]].style)},[L(f,{class:"progress-square","text-inside":!0,"stroke-width":20,percentage:a.percent},{default:B(()=>[i("span",null,I(a.name),1)]),_:1},8,["percentage"])],6)}}},A=E(Ne,[["__scopeId","data-v-fb57b552"]]),U=a=>(ae("data-v-3c214bce"),a=a(),re(),a),Pe={class:"bi-device-scroll-board"},ze=U(()=>i("div",{"color-green":"","font-600":"",bg:"~ dark/0"}," NR ",-1)),Fe=U(()=>i("div",{"color-green":"","font-600":"",bg:"~ dark/0"}," ND ",-1)),Me={__name:"device-scroll-board",setup(a){const t=$(ne);$(!1);function o(v){console.log(v)}let r=$([]),u=$([]),f=$([]);for(let v=0;v<t.value.length;v++){let g=t.value[v];g.type==="NR"?r.value.push(g):u.value.push(g),f.value.push(g)}return(v,g)=>{const y=se("dv-decoration7");return n(),l("div",Pe,[L(y,{style:{width:"100%",height:"50px"}},{default:B(()=>[ze]),_:1}),(n(!0),l(M,null,T(s(r),c=>(n(),x(A,{class:"bi-device",key:`device-${c.name}`,name:c.name,state:c.status,percent:c.percent,onClick:C=>o(c)},null,8,["name","state","percent","onClick"]))),128)),L(y,{style:{width:"100%",height:"50px"}},{default:B(()=>[Fe]),_:1}),(n(!0),l(M,null,T(s(u),c=>(n(),x(A,{class:"bi-device",key:`device-${c.name}`,name:c.name,state:c.status,percent:c.percent,onClick:C=>o(c)},null,8,["name","state","percent","onClick"]))),128))])}}},Re=E(Me,[["__scopeId","data-v-3c214bce"]]);export{Re as D};
